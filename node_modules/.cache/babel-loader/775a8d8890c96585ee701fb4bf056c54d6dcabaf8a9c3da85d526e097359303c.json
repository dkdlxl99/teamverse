{"ast":null,"code":"// src/api/websocket.js\nimport { Client } from \"@stomp/stompjs\";\nconst accessToken = localStorage.getItem(\"accessToken\");\nexport const stompClient = new Client({\n  brokerURL: \"ws://localhost:8082/ws\",\n  connectHeaders: {\n    Authorization: `Bearer ${accessToken}`\n  },\n  debug: str => {\n    console.log(\"📌 STOMP Debug:\", str);\n  },\n  reconnectDelay: 5000,\n  // 5초마다 재연결 시도\n  heartbeatIncoming: 4000,\n  heartbeatOutgoing: 4000\n});\nstompClient.onConnect = () => {\n  console.log(\"✅ STOMP Connected\");\n  stompClient.subscribe(\"/topic/messages\", message => {\n    console.log(\"📩 Received message:\", message.body);\n  });\n};\nstompClient.activate();","map":{"version":3,"names":["Client","accessToken","localStorage","getItem","stompClient","brokerURL","connectHeaders","Authorization","debug","str","console","log","reconnectDelay","heartbeatIncoming","heartbeatOutgoing","onConnect","subscribe","message","body","activate"],"sources":["/Users/woo/Documents/git_local/react/0213/src/api/websocket.js"],"sourcesContent":["// src/api/websocket.js\nimport { Client } from \"@stomp/stompjs\";\n\nconst accessToken = localStorage.getItem(\"accessToken\");\n\nexport const stompClient = new Client({\n    brokerURL: \"ws://localhost:8082/ws\",\n    connectHeaders: {\n        Authorization: `Bearer ${accessToken}`\n    },\n    debug: (str) => {\n        console.log(\"📌 STOMP Debug:\", str);\n    },\n    reconnectDelay: 5000, // 5초마다 재연결 시도\n    heartbeatIncoming: 4000,\n    heartbeatOutgoing: 4000\n});\n\nstompClient.onConnect = () => {\n    console.log(\"✅ STOMP Connected\");\n    stompClient.subscribe(\"/topic/messages\", (message) => {\n        console.log(\"📩 Received message:\", message.body);\n    });\n};\n\nstompClient.activate();\n"],"mappings":"AAAA;AACA,SAASA,MAAM,QAAQ,gBAAgB;AAEvC,MAAMC,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;AAEvD,OAAO,MAAMC,WAAW,GAAG,IAAIJ,MAAM,CAAC;EAClCK,SAAS,EAAE,wBAAwB;EACnCC,cAAc,EAAE;IACZC,aAAa,EAAE,UAAUN,WAAW;EACxC,CAAC;EACDO,KAAK,EAAGC,GAAG,IAAK;IACZC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,GAAG,CAAC;EACvC,CAAC;EACDG,cAAc,EAAE,IAAI;EAAE;EACtBC,iBAAiB,EAAE,IAAI;EACvBC,iBAAiB,EAAE;AACvB,CAAC,CAAC;AAEFV,WAAW,CAACW,SAAS,GAAG,MAAM;EAC1BL,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;EAChCP,WAAW,CAACY,SAAS,CAAC,iBAAiB,EAAGC,OAAO,IAAK;IAClDP,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEM,OAAO,CAACC,IAAI,CAAC;EACrD,CAAC,CAAC;AACN,CAAC;AAEDd,WAAW,CAACe,QAAQ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}