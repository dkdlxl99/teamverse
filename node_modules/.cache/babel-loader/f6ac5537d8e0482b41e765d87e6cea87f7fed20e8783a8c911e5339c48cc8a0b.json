{"ast":null,"code":"import axios from \"axios\";\nexport const handleLoginSuccess = (accessToken, refreshToken, userEmail, rememberMe) => {\n  console.log(\"‚úÖ Login Success - rememberMe:\", rememberMe);\n  console.log(\"‚úÖ accessToken:\", accessToken);\n  console.log(\"‚úÖ refreshToken:\", refreshToken);\n  console.log(\"‚úÖ userEmail:\", userEmail); // ‚úÖ Ï∂îÍ∞Ä\n\n  if (rememberMe) {\n    localStorage.setItem(\"accessToken\", accessToken);\n    localStorage.setItem(\"refreshToken\", refreshToken);\n    localStorage.setItem(\"email\", userEmail); // ‚úÖ Ïù¥Î©îÏùº Ï†ÄÏû•\n  } else {\n    sessionStorage.setItem(\"accessToken\", accessToken);\n    sessionStorage.setItem(\"refreshToken\", refreshToken); // ‚úÖ rememberMeÍ∞Ä falseÏó¨ÎèÑ refreshToken Ï†ÄÏû•\n    sessionStorage.setItem(\"email\", userEmail); // ‚úÖ ÏÑ∏ÏÖòÏóêÎèÑ Ïù¥Î©îÏùº Ï†ÄÏû•\n  }\n  console.log(\"üîç localStorage refreshToken:\", localStorage.getItem(\"refreshToken\"));\n  console.log(\"üîç sessionStorage refreshToken:\", sessionStorage.getItem(\"refreshToken\"));\n};\n\n// Î°úÍ∑∏ÏïÑÏõÉ Ï≤òÎ¶¨\nexport const handleLogout = () => {\n  localStorage.removeItem(\"accessToken\");\n  localStorage.removeItem(\"refreshToken\");\n  sessionStorage.removeItem(\"accessToken\");\n  sessionStorage.removeItem(\"refreshToken\");\n  window.location.href = \"/login\";\n};\n\n// ÌòÑÏû¨ Ï†ÄÏû•Îêú accessToken Í∞ÄÏ†∏Ïò§Í∏∞ (localStorage Ïö∞ÏÑ†, ÏóÜÏúºÎ©¥ sessionStorage ÌôïÏù∏)\nexport const getAccessToken = () => {\n  return localStorage.getItem(\"accessToken\") || sessionStorage.getItem(\"accessToken\");\n};\n// ÌòÑÏû¨ Ï†ÄÏû•Îêú refreshToken Í∞ÄÏ†∏Ïò§Í∏∞ (ÏÑ∏ÏÖò/Î°úÏª¨ Ï≤¥ÌÅ¨)\nexport const getRefreshToken = () => {\n  return localStorage.getItem(\"refreshToken\") || sessionStorage.getItem(\"refreshToken\");\n};\n// ‚úÖ refreshTokenÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ ÏÉàÎ°úÏö¥ accessToken ÏöîÏ≤≠\nexport const refreshAccessToken = async () => {\n  const refreshToken = getRefreshToken();\n  if (!refreshToken) return null;\n  try {\n    const response = await axios.post(\"http://localhost:8082/api/auth/refresh\", {\n      refreshToken\n    });\n    const newAccessToken = response.data.accessToken;\n    if (newAccessToken) {\n      localStorage.setItem(\"accessToken\", newAccessToken);\n      sessionStorage.setItem(\"accessToken\", newAccessToken); // ‚úÖ sessionStorageÏóêÎèÑ Ï†ÄÏû•\n      console.log(\"‚úÖ ÏÉà accessToken Î∞úÍ∏â:\", newAccessToken);\n      return newAccessToken;\n    }\n  } catch (error) {\n    console.error(\"üö® refreshToken ÎßåÎ£å! Îã§Ïãú Î°úÍ∑∏Ïù∏ ÌïÑÏöî:\", error);\n    return null;\n  }\n};","map":{"version":3,"names":["axios","handleLoginSuccess","accessToken","refreshToken","userEmail","rememberMe","console","log","localStorage","setItem","sessionStorage","getItem","handleLogout","removeItem","window","location","href","getAccessToken","getRefreshToken","refreshAccessToken","response","post","newAccessToken","data","error"],"sources":["/Users/woo/Documents/git_local/react/0213/src/utils/authUtils.js"],"sourcesContent":["import axios from \"axios\";\n\n\nexport const handleLoginSuccess = (accessToken, refreshToken, userEmail, rememberMe) => {\n  console.log(\"‚úÖ Login Success - rememberMe:\", rememberMe);\n    console.log(\"‚úÖ accessToken:\", accessToken);\n    console.log(\"‚úÖ refreshToken:\", refreshToken);\n    console.log(\"‚úÖ userEmail:\", userEmail); // ‚úÖ Ï∂îÍ∞Ä\n\n    if (rememberMe) {\n        localStorage.setItem(\"accessToken\", accessToken);\n        localStorage.setItem(\"refreshToken\", refreshToken);\n        localStorage.setItem(\"email\", userEmail); // ‚úÖ Ïù¥Î©îÏùº Ï†ÄÏû•\n\n        \n    } else {\n        sessionStorage.setItem(\"accessToken\", accessToken);\n        sessionStorage.setItem(\"refreshToken\", refreshToken); // ‚úÖ rememberMeÍ∞Ä falseÏó¨ÎèÑ refreshToken Ï†ÄÏû•\n        sessionStorage.setItem(\"email\", userEmail); // ‚úÖ ÏÑ∏ÏÖòÏóêÎèÑ Ïù¥Î©îÏùº Ï†ÄÏû•\n\n    }\n\n    console.log(\"üîç localStorage refreshToken:\", localStorage.getItem(\"refreshToken\"));\n    console.log(\"üîç sessionStorage refreshToken:\", sessionStorage.getItem(\"refreshToken\"));\n};\n\n// Î°úÍ∑∏ÏïÑÏõÉ Ï≤òÎ¶¨\nexport const handleLogout = () => {\n    localStorage.removeItem(\"accessToken\");\n    localStorage.removeItem(\"refreshToken\");\n    sessionStorage.removeItem(\"accessToken\");\n    sessionStorage.removeItem(\"refreshToken\");\n    window.location.href = \"/login\";\n};\n\n// ÌòÑÏû¨ Ï†ÄÏû•Îêú accessToken Í∞ÄÏ†∏Ïò§Í∏∞ (localStorage Ïö∞ÏÑ†, ÏóÜÏúºÎ©¥ sessionStorage ÌôïÏù∏)\nexport const getAccessToken = () => {\n    return localStorage.getItem(\"accessToken\") || sessionStorage.getItem(\"accessToken\");\n};\n// ÌòÑÏû¨ Ï†ÄÏû•Îêú refreshToken Í∞ÄÏ†∏Ïò§Í∏∞ (ÏÑ∏ÏÖò/Î°úÏª¨ Ï≤¥ÌÅ¨)\nexport const getRefreshToken = () => {\n    return localStorage.getItem(\"refreshToken\") || sessionStorage.getItem(\"refreshToken\");\n};\n// ‚úÖ refreshTokenÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ ÏÉàÎ°úÏö¥ accessToken ÏöîÏ≤≠\nexport const refreshAccessToken = async () => {\n    const refreshToken = getRefreshToken();\n    if (!refreshToken) return null;\n  \n    try {\n      const response = await axios.post(\"http://localhost:8082/api/auth/refresh\", {\n        refreshToken,\n      });\n  \n      const newAccessToken = response.data.accessToken;\n      if (newAccessToken) {\n        localStorage.setItem(\"accessToken\", newAccessToken);\n        sessionStorage.setItem(\"accessToken\", newAccessToken); // ‚úÖ sessionStorageÏóêÎèÑ Ï†ÄÏû•\n        console.log(\"‚úÖ ÏÉà accessToken Î∞úÍ∏â:\", newAccessToken);\n        return newAccessToken;\n      }\n    } catch (error) {\n      console.error(\"üö® refreshToken ÎßåÎ£å! Îã§Ïãú Î°úÍ∑∏Ïù∏ ÌïÑÏöî:\", error);\n      return null;\n    }\n  };"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,OAAO,MAAMC,kBAAkB,GAAGA,CAACC,WAAW,EAAEC,YAAY,EAAEC,SAAS,EAAEC,UAAU,KAAK;EACtFC,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEF,UAAU,CAAC;EACtDC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEL,WAAW,CAAC;EAC1CI,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEJ,YAAY,CAAC;EAC5CG,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEH,SAAS,CAAC,CAAC,CAAC;;EAExC,IAAIC,UAAU,EAAE;IACZG,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEP,WAAW,CAAC;IAChDM,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEN,YAAY,CAAC;IAClDK,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,SAAS,CAAC,CAAC,CAAC;EAG9C,CAAC,MAAM;IACHM,cAAc,CAACD,OAAO,CAAC,aAAa,EAAEP,WAAW,CAAC;IAClDQ,cAAc,CAACD,OAAO,CAAC,cAAc,EAAEN,YAAY,CAAC,CAAC,CAAC;IACtDO,cAAc,CAACD,OAAO,CAAC,OAAO,EAAEL,SAAS,CAAC,CAAC,CAAC;EAEhD;EAEAE,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEC,YAAY,CAACG,OAAO,CAAC,cAAc,CAAC,CAAC;EAClFL,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAEG,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC;AAC1F,CAAC;;AAED;AACA,OAAO,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAC9BJ,YAAY,CAACK,UAAU,CAAC,aAAa,CAAC;EACtCL,YAAY,CAACK,UAAU,CAAC,cAAc,CAAC;EACvCH,cAAc,CAACG,UAAU,CAAC,aAAa,CAAC;EACxCH,cAAc,CAACG,UAAU,CAAC,cAAc,CAAC;EACzCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;AACnC,CAAC;;AAED;AACA,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAChC,OAAOT,YAAY,CAACG,OAAO,CAAC,aAAa,CAAC,IAAID,cAAc,CAACC,OAAO,CAAC,aAAa,CAAC;AACvF,CAAC;AACD;AACA,OAAO,MAAMO,eAAe,GAAGA,CAAA,KAAM;EACjC,OAAOV,YAAY,CAACG,OAAO,CAAC,cAAc,CAAC,IAAID,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC;AACzF,CAAC;AACD;AACA,OAAO,MAAMQ,kBAAkB,GAAG,MAAAA,CAAA,KAAY;EAC1C,MAAMhB,YAAY,GAAGe,eAAe,CAAC,CAAC;EACtC,IAAI,CAACf,YAAY,EAAE,OAAO,IAAI;EAE9B,IAAI;IACF,MAAMiB,QAAQ,GAAG,MAAMpB,KAAK,CAACqB,IAAI,CAAC,wCAAwC,EAAE;MAC1ElB;IACF,CAAC,CAAC;IAEF,MAAMmB,cAAc,GAAGF,QAAQ,CAACG,IAAI,CAACrB,WAAW;IAChD,IAAIoB,cAAc,EAAE;MAClBd,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEa,cAAc,CAAC;MACnDZ,cAAc,CAACD,OAAO,CAAC,aAAa,EAAEa,cAAc,CAAC,CAAC,CAAC;MACvDhB,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEe,cAAc,CAAC;MAClD,OAAOA,cAAc;IACvB;EACF,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdlB,OAAO,CAACkB,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACtD,OAAO,IAAI;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}