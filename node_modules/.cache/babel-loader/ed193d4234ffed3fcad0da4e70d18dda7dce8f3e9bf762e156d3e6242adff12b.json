{"ast":null,"code":"import { Client } from \"@stomp/stompjs\";\nlet stompClient = null;\nexport const getStompClient = () => {\n  if (!stompClient) {\n    stompClient = new Client({\n      brokerURL: \"ws://localhost:8082/ws\",\n      // ✅ WebSocket 서버 주소\n      connectHeaders: {\n        Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`\n      },\n      debug: msg => console.log(\"📌 STOMP Debug:\", msg),\n      reconnectDelay: 5000,\n      // ✅ 5초 후 자동 재연결\n      heartbeatIncoming: 4000,\n      heartbeatOutgoing: 4000\n    });\n    stompClient.onConnect = () => console.log(\"✅ WebSocket 연결 성공!\");\n    stompClient.onStompError = frame => console.error(\"🚨 STOMP 오류 발생:\", frame.headers[\"message\"]);\n    stompClient.onWebSocketError = error => console.error(\"🚨 WebSocket 연결 오류:\", error);\n  }\n  return stompClient;\n};","map":{"version":3,"names":["Client","stompClient","getStompClient","brokerURL","connectHeaders","Authorization","localStorage","getItem","debug","msg","console","log","reconnectDelay","heartbeatIncoming","heartbeatOutgoing","onConnect","onStompError","frame","error","headers","onWebSocketError"],"sources":["/Users/woo/Documents/git_local/react/0213/src/api/websocket.js"],"sourcesContent":["import { Client } from \"@stomp/stompjs\";\n\nlet stompClient = null;\n\nexport const getStompClient = () => {\n    if (!stompClient) {\n        stompClient = new Client({\n            brokerURL: \"ws://localhost:8082/ws\",  // ✅ WebSocket 서버 주소\n            connectHeaders: {\n                Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`\n            },\n            debug: (msg) => console.log(\"📌 STOMP Debug:\", msg),\n            reconnectDelay: 5000, // ✅ 5초 후 자동 재연결\n            heartbeatIncoming: 4000,\n            heartbeatOutgoing: 4000,\n        });\n\n        stompClient.onConnect = () => console.log(\"✅ WebSocket 연결 성공!\");\n        stompClient.onStompError = (frame) => console.error(\"🚨 STOMP 오류 발생:\", frame.headers[\"message\"]);\n        stompClient.onWebSocketError = (error) => console.error(\"🚨 WebSocket 연결 오류:\", error);\n    }\n    return stompClient;\n};\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,gBAAgB;AAEvC,IAAIC,WAAW,GAAG,IAAI;AAEtB,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAChC,IAAI,CAACD,WAAW,EAAE;IACdA,WAAW,GAAG,IAAID,MAAM,CAAC;MACrBG,SAAS,EAAE,wBAAwB;MAAG;MACtCC,cAAc,EAAE;QACZC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;MAChE,CAAC;MACDC,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,GAAG,CAAC;MACnDG,cAAc,EAAE,IAAI;MAAE;MACtBC,iBAAiB,EAAE,IAAI;MACvBC,iBAAiB,EAAE;IACvB,CAAC,CAAC;IAEFb,WAAW,CAACc,SAAS,GAAG,MAAML,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;IAC/DV,WAAW,CAACe,YAAY,GAAIC,KAAK,IAAKP,OAAO,CAACQ,KAAK,CAAC,iBAAiB,EAAED,KAAK,CAACE,OAAO,CAAC,SAAS,CAAC,CAAC;IAChGlB,WAAW,CAACmB,gBAAgB,GAAIF,KAAK,IAAKR,OAAO,CAACQ,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;EACzF;EACA,OAAOjB,WAAW;AACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}