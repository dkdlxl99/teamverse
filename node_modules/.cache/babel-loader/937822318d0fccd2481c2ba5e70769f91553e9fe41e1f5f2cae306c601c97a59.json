{"ast":null,"code":"// // Î°úÍ∑∏Ïù∏ ÏÑ±Í≥µ Ïãú ÌÜ†ÌÅ∞ Ï†ÄÏû•\n// export const handleLoginSuccess = (accessToken, refreshToken) => {\n//     localStorage.setItem(\"accessToken\", accessToken);\n//     localStorage.setItem(\"refreshToken\", refreshToken);\n\n// };\n\n// // Î°úÍ∑∏ÏïÑÏõÉ Ï≤òÎ¶¨\n// export const handleLogout = () => {\n//     localStorage.removeItem(\"accessToken\");\n//     localStorage.removeItem(\"refreshToken\");\n//     window.location.href = \"/login\";\n// };\n\n// Î°úÍ∑∏Ïù∏ ÏÑ±Í≥µ Ïãú ÌÜ†ÌÅ∞ Ï†ÄÏû•\n\nimport axios from \"axios\";\nexport const handleLoginSuccess = (accessToken, refreshToken, rememberMe) => {\n  console.log(\"‚úÖ Login Success - rememberMe:\", rememberMe);\n  console.log(\"‚úÖ accessToken:\", accessToken);\n  console.log(\"‚úÖ refreshToken:\", refreshToken);\n  if (rememberMe) {\n    localStorage.setItem(\"accessToken\", accessToken);\n    localStorage.setItem(\"refreshToken\", refreshToken);\n  } else {\n    sessionStorage.setItem(\"accessToken\", accessToken);\n    sessionStorage.setItem(\"refreshToken\", refreshToken); // ‚úÖ rememberMeÍ∞Ä falseÏó¨ÎèÑ refreshToken Ï†ÄÏû•\n  }\n  console.log(\"üîç localStorage refreshToken:\", localStorage.getItem(\"refreshToken\"));\n  console.log(\"üîç sessionStorage refreshToken:\", sessionStorage.getItem(\"refreshToken\"));\n};\n\n// Î°úÍ∑∏ÏïÑÏõÉ Ï≤òÎ¶¨\nexport const handleLogout = () => {\n  localStorage.removeItem(\"accessToken\");\n  localStorage.removeItem(\"refreshToken\");\n  sessionStorage.removeItem(\"accessToken\");\n  sessionStorage.removeItem(\"refreshToken\");\n  window.location.href = \"/login\";\n};\n\n// ÌòÑÏû¨ Ï†ÄÏû•Îêú accessToken Í∞ÄÏ†∏Ïò§Í∏∞ (localStorage Ïö∞ÏÑ†, ÏóÜÏúºÎ©¥ sessionStorage ÌôïÏù∏)\nexport const getAccessToken = () => {\n  return localStorage.getItem(\"accessToken\") || sessionStorage.getItem(\"accessToken\");\n};\n// ÌòÑÏû¨ Ï†ÄÏû•Îêú refreshToken Í∞ÄÏ†∏Ïò§Í∏∞ (ÏÑ∏ÏÖò/Î°úÏª¨ Ï≤¥ÌÅ¨)\nexport const getRefreshToken = () => {\n  return localStorage.getItem(\"refreshToken\") || sessionStorage.getItem(\"refreshToken\");\n};\n// ‚úÖ refreshTokenÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ ÏÉàÎ°úÏö¥ accessToken ÏöîÏ≤≠\nexport const refreshAccessToken = async () => {\n  const refreshToken = getRefreshToken();\n  if (!refreshToken) return null;\n  try {\n    const response = await axios.post(\"http://localhost:8082/api/auth/refresh\", {\n      refreshToken\n    });\n    const newAccessToken = response.data.accessToken;\n    if (newAccessToken) {\n      localStorage.setItem(\"accessToken\", newAccessToken);\n      sessionStorage.setItem(\"accessToken\", newAccessToken); // ‚úÖ sessionStorageÏóêÎèÑ Ï†ÄÏû•\n      console.log(\"‚úÖ ÏÉà accessToken Î∞úÍ∏â:\", newAccessToken);\n      return newAccessToken;\n    }\n  } catch (error) {\n    console.error(\"üö® refreshToken ÎßåÎ£å! Îã§Ïãú Î°úÍ∑∏Ïù∏ ÌïÑÏöî:\", error);\n    return null;\n  }\n};","map":{"version":3,"names":["axios","handleLoginSuccess","accessToken","refreshToken","rememberMe","console","log","localStorage","setItem","sessionStorage","getItem","handleLogout","removeItem","window","location","href","getAccessToken","getRefreshToken","refreshAccessToken","response","post","newAccessToken","data","error"],"sources":["C:/project2/teamverse-2-boot,react - ÏûëÏóÖ/src/utils/authUtils.js"],"sourcesContent":["// // Î°úÍ∑∏Ïù∏ ÏÑ±Í≥µ Ïãú ÌÜ†ÌÅ∞ Ï†ÄÏû•\r\n// export const handleLoginSuccess = (accessToken, refreshToken) => {\r\n//     localStorage.setItem(\"accessToken\", accessToken);\r\n//     localStorage.setItem(\"refreshToken\", refreshToken);\r\n\r\n// };\r\n\r\n// // Î°úÍ∑∏ÏïÑÏõÉ Ï≤òÎ¶¨\r\n// export const handleLogout = () => {\r\n//     localStorage.removeItem(\"accessToken\");\r\n//     localStorage.removeItem(\"refreshToken\");\r\n//     window.location.href = \"/login\";\r\n// };\r\n\r\n// Î°úÍ∑∏Ïù∏ ÏÑ±Í≥µ Ïãú ÌÜ†ÌÅ∞ Ï†ÄÏû•\r\n\r\nimport axios from \"axios\";\r\n\r\n\r\nexport const handleLoginSuccess = (accessToken, refreshToken, rememberMe) => {\r\n    console.log(\"‚úÖ Login Success - rememberMe:\", rememberMe);\r\n    console.log(\"‚úÖ accessToken:\", accessToken);\r\n    console.log(\"‚úÖ refreshToken:\", refreshToken);\r\n    if (rememberMe) {\r\n        localStorage.setItem(\"accessToken\", accessToken);\r\n        localStorage.setItem(\"refreshToken\", refreshToken);\r\n    } else {\r\n        sessionStorage.setItem(\"accessToken\", accessToken);\r\n        sessionStorage.setItem(\"refreshToken\", refreshToken); // ‚úÖ rememberMeÍ∞Ä falseÏó¨ÎèÑ refreshToken Ï†ÄÏû•\r\n    }\r\n\r\n    console.log(\"üîç localStorage refreshToken:\", localStorage.getItem(\"refreshToken\"));\r\n    console.log(\"üîç sessionStorage refreshToken:\", sessionStorage.getItem(\"refreshToken\"));\r\n};\r\n\r\n// Î°úÍ∑∏ÏïÑÏõÉ Ï≤òÎ¶¨\r\nexport const handleLogout = () => {\r\n    localStorage.removeItem(\"accessToken\");\r\n    localStorage.removeItem(\"refreshToken\");\r\n    sessionStorage.removeItem(\"accessToken\");\r\n    sessionStorage.removeItem(\"refreshToken\");\r\n    window.location.href = \"/login\";\r\n};\r\n\r\n// ÌòÑÏû¨ Ï†ÄÏû•Îêú accessToken Í∞ÄÏ†∏Ïò§Í∏∞ (localStorage Ïö∞ÏÑ†, ÏóÜÏúºÎ©¥ sessionStorage ÌôïÏù∏)\r\nexport const getAccessToken = () => {\r\n    return localStorage.getItem(\"accessToken\") || sessionStorage.getItem(\"accessToken\");\r\n};\r\n// ÌòÑÏû¨ Ï†ÄÏû•Îêú refreshToken Í∞ÄÏ†∏Ïò§Í∏∞ (ÏÑ∏ÏÖò/Î°úÏª¨ Ï≤¥ÌÅ¨)\r\nexport const getRefreshToken = () => {\r\n    return localStorage.getItem(\"refreshToken\") || sessionStorage.getItem(\"refreshToken\");\r\n};\r\n// ‚úÖ refreshTokenÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ ÏÉàÎ°úÏö¥ accessToken ÏöîÏ≤≠\r\nexport const refreshAccessToken = async () => {\r\n    const refreshToken = getRefreshToken();\r\n    if (!refreshToken) return null;\r\n  \r\n    try {\r\n      const response = await axios.post(\"http://localhost:8082/api/auth/refresh\", {\r\n        refreshToken,\r\n      });\r\n  \r\n      const newAccessToken = response.data.accessToken;\r\n      if (newAccessToken) {\r\n        localStorage.setItem(\"accessToken\", newAccessToken);\r\n        sessionStorage.setItem(\"accessToken\", newAccessToken); // ‚úÖ sessionStorageÏóêÎèÑ Ï†ÄÏû•\r\n        console.log(\"‚úÖ ÏÉà accessToken Î∞úÍ∏â:\", newAccessToken);\r\n        return newAccessToken;\r\n      }\r\n    } catch (error) {\r\n      console.error(\"üö® refreshToken ÎßåÎ£å! Îã§Ïãú Î°úÍ∑∏Ïù∏ ÌïÑÏöî:\", error);\r\n      return null;\r\n    }\r\n  };"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAGzB,OAAO,MAAMC,kBAAkB,GAAGA,CAACC,WAAW,EAAEC,YAAY,EAAEC,UAAU,KAAK;EACzEC,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEF,UAAU,CAAC;EACxDC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEJ,WAAW,CAAC;EAC1CG,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEH,YAAY,CAAC;EAC5C,IAAIC,UAAU,EAAE;IACZG,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEN,WAAW,CAAC;IAChDK,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEL,YAAY,CAAC;EACtD,CAAC,MAAM;IACHM,cAAc,CAACD,OAAO,CAAC,aAAa,EAAEN,WAAW,CAAC;IAClDO,cAAc,CAACD,OAAO,CAAC,cAAc,EAAEL,YAAY,CAAC,CAAC,CAAC;EAC1D;EAEAE,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEC,YAAY,CAACG,OAAO,CAAC,cAAc,CAAC,CAAC;EAClFL,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAEG,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC;AAC1F,CAAC;;AAED;AACA,OAAO,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAC9BJ,YAAY,CAACK,UAAU,CAAC,aAAa,CAAC;EACtCL,YAAY,CAACK,UAAU,CAAC,cAAc,CAAC;EACvCH,cAAc,CAACG,UAAU,CAAC,aAAa,CAAC;EACxCH,cAAc,CAACG,UAAU,CAAC,cAAc,CAAC;EACzCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;AACnC,CAAC;;AAED;AACA,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAChC,OAAOT,YAAY,CAACG,OAAO,CAAC,aAAa,CAAC,IAAID,cAAc,CAACC,OAAO,CAAC,aAAa,CAAC;AACvF,CAAC;AACD;AACA,OAAO,MAAMO,eAAe,GAAGA,CAAA,KAAM;EACjC,OAAOV,YAAY,CAACG,OAAO,CAAC,cAAc,CAAC,IAAID,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC;AACzF,CAAC;AACD;AACA,OAAO,MAAMQ,kBAAkB,GAAG,MAAAA,CAAA,KAAY;EAC1C,MAAMf,YAAY,GAAGc,eAAe,CAAC,CAAC;EACtC,IAAI,CAACd,YAAY,EAAE,OAAO,IAAI;EAE9B,IAAI;IACF,MAAMgB,QAAQ,GAAG,MAAMnB,KAAK,CAACoB,IAAI,CAAC,wCAAwC,EAAE;MAC1EjB;IACF,CAAC,CAAC;IAEF,MAAMkB,cAAc,GAAGF,QAAQ,CAACG,IAAI,CAACpB,WAAW;IAChD,IAAImB,cAAc,EAAE;MAClBd,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEa,cAAc,CAAC;MACnDZ,cAAc,CAACD,OAAO,CAAC,aAAa,EAAEa,cAAc,CAAC,CAAC,CAAC;MACvDhB,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEe,cAAc,CAAC;MAClD,OAAOA,cAAc;IACvB;EACF,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdlB,OAAO,CAACkB,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACtD,OAAO,IAAI;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}