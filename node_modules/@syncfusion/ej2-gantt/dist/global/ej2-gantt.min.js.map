{"version":3,"file":"ej2-gantt.min.js","sources":["../../src/gantt/base/utils.js","../../src/gantt/base/date-processor.js","../../src/gantt/base/task-processor.js","../../src/gantt/base/css-constants.js","../../src/gantt/actions/chart-scroll.js","../../src/gantt/renderer/virtual-content-render.js","../../src/gantt/base/gantt-chart.js","../../src/gantt/renderer/timeline.js","../../src/gantt/models/column.js","../../src/gantt/base/tree-grid.js","../../src/gantt/models/day-working-time.js","../../src/gantt/models/add-dialog-field-settings.js","../../src/gantt/models/edit-dialog-field-settings.js","../../src/gantt/models/edit-settings.js","../../src/gantt/models/event-marker.js","../../src/gantt/models/filter-settings.js","../../src/gantt/models/search-settings.js","../../src/gantt/models/holiday.js","../../src/gantt/models/label-settings.js","../../src/gantt/models/selection-settings.js","../../src/gantt/models/splitter-settings.js","../../src/gantt/models/task-fields.js","../../src/gantt/models/timeline-settings.js","../../src/gantt/models/tooltip-settings.js","../../src/gantt/models/sort-settings.js","../../src/gantt/models/resource-fields.js","../../src/gantt/models/loading-indicator.js","../../src/gantt/models/week-working-time.js","../../src/gantt/renderer/chart-rows.js","../../src/gantt/actions/dependency.js","../../src/gantt/renderer/connector-line.js","../../src/gantt/base/splitter.js","../../src/gantt/renderer/tooltip.js","../../src/gantt/actions/keyboard.js","../../src/gantt/base/gantt.js","../../src/gantt/base/interface.js","../../src/gantt/actions/cell-edit.js","../../src/gantt/renderer/edit-tooltip.js","../../src/gantt/actions/taskbar-edit.js","../../src/gantt/actions/dialog-edit.js","../../src/gantt/actions/connector-line-edit.js","../../src/gantt/actions/edit.js","../../src/gantt/actions/column-reorder.js","../../src/gantt/actions/column-resize.js","../../src/gantt/actions/filter.js","../../src/gantt/actions/sort.js","../../src/gantt/actions/selection.js","../../src/gantt/actions/toolbar.js","../../src/gantt/base/constant.js","../../src/gantt/renderer/nonworking-day.js","../../src/gantt/renderer/event-marker.js","../../src/gantt/actions/day-markers.js","../../src/gantt/actions/critical-path.js","../../src/gantt/actions/undo-redo.js","../../src/gantt/actions/context-menu.js","../../src/gantt/actions/excel-export.js","../../src/gantt/actions/column-menu.js","../../src/gantt/actions/rowdragdrop.js","../../src/gantt/export/pdf-base/pdf-style/gantt-theme.js","../../src/gantt/export/pdf-base/dictionary.js","../../src/gantt/export/pdf-base/pdf-borders.js","../../src/gantt/export/pdf-base/pdf-style/style.js","../../src/gantt/export/pdf-base/treegrid-layouter.js","../../src/gantt/export/pdf-treegrid.js","../../src/gantt/export/pdf-base/pdf-grid-table.js","../../src/gantt/export/export-helper.js","../../src/gantt/export/pdf-taskbar.js","../../src/gantt/export/pdf-timeline.js","../../src/gantt/export/pdf-connector-line.js","../../src/gantt/export/pdf-event-marker.js","../../src/gantt/export/pdf-gantt.js","../../src/gantt/actions/pdf-export.js","../../src/gantt/actions/virtual-scroll.js","../../src/global.js"],"sourcesContent":["/**\n * Common methods used in Gantt\n */\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nimport { DataManager, UrlAdaptor, WebApiAdaptor, ODataAdaptor } from '@syncfusion/ej2-data';\nimport { WebMethodAdaptor, CacheAdaptor, RemoteSaveAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\n/**\n * @param {Element} elem .\n * @param {string} selector .\n * @param {boolean} isID .\n * @returns {Element} .\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/**\n * @param {ITaskData} ganttProp .\n * @returns {boolean} .\n * @hidden\n */\nexport function isScheduledTask(ganttProp) {\n    if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n        isNullOrUndefined(ganttProp.duration)) {\n        return null;\n    }\n    else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n        isNullOrUndefined(ganttProp.duration)) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\n/**\n * @param {Gantt} parent .\n * @returns {boolean} .\n * @hidden\n */\nexport function isCountRequired(parent) {\n    if (parent.dataSource && !(parent.dataSource instanceof DataManager) &&\n        'result' in parent.dataSource) {\n        return true;\n    }\n    return false;\n}\n/**\n * @param {object} obj .\n * @returns {object} .\n * @hidden\n */\nexport function getSwapKey(obj) {\n    var temp = {};\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var key = _a[_i];\n        temp[obj[key]] = key;\n    }\n    return temp;\n}\n/**\n * @param {object} dataSource .\n * @returns {boolean} .\n * @hidden\n */\nexport function isRemoteData(dataSource) {\n    if (dataSource instanceof DataManager) {\n        var adaptor = dataSource.adaptor;\n        return (adaptor instanceof ODataAdaptor || (adaptor instanceof ODataV4Adaptor) ||\n            (adaptor instanceof WebApiAdaptor) || (adaptor instanceof WebMethodAdaptor) ||\n            (adaptor instanceof CacheAdaptor) || (adaptor instanceof RemoteSaveAdaptor) ||\n            adaptor instanceof UrlAdaptor);\n    }\n    return false;\n}\n/**\n * @param {IGanttData[]} records .\n * @param {boolean} isNotExtend .\n * @param {ITaskAddedEventArgs} eventArgs .\n * @param {Gantt} parent .\n * @returns {object[]} .\n * @hidden\n */\nexport function getTaskData(records, isNotExtend, eventArgs, parent) {\n    if (eventArgs) {\n        var result = void 0;\n        for (var i = 0; i < records.length; i++) {\n            var data = isNotExtend ?\n                (records[parseInt(i.toString(), 10)].taskData) : extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result = (data);\n        }\n        return result;\n    }\n    else {\n        var result = [];\n        for (var i = 0; i < records.length; i++) {\n            if (!isNullOrUndefined(parent) && parent.timezone) {\n                updateDates(records[i], parent);\n            }\n            var data = isNotExtend ? (records[parseInt(i.toString(), 10)].taskData) :\n                extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result.push(data);\n        }\n        return result;\n    }\n}\n/**\n * @param {IGanttData} record .\n * @param {Gantt} parent .\n * @returns {null} .\n * @hidden\n */\nexport function updateDates(record, parent) {\n    // let startDate: Date = (record as IGanttData).taskData[parent.taskFields.startDate];\n    if (record && !isNullOrUndefined(record.ganttProperties)) {\n        record.taskData[parent.taskFields.startDate] = parent.dateValidationModule.remove(record.ganttProperties.startDate, parent.timezone);\n        if (parent.taskFields.endDate !== null) {\n            record.taskData[parent.taskFields.endDate] = parent.dateValidationModule.remove(record.ganttProperties.endDate, parent.timezone);\n        }\n        if (parent.taskFields.baselineEndDate || parent.taskFields.baselineStartDate) {\n            record.taskData[parent.taskFields.baselineStartDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineStartDate, parent.timezone);\n            record.taskData[parent.taskFields.baselineEndDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineEndDate, parent.timezone);\n        }\n    }\n    return null;\n}\n/**\n * @param {string} str .\n * @param {string[]} args .\n * @returns {string} .\n * @hidden\n */\nexport function formatString(str, args) {\n    var regx;\n    for (var i = 0; i < args.length; i++) {\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        regx = new RegExp('\\\\{' + (i) + '\\\\}', 'gm');\n        str = str.replace(regx, args[i].toString());\n    }\n    return str;\n}\n/**\n * @param {any} value .\n * @param {string} key1 .\n * @param {any} collection .\n * @param {string} key2\n * @returns {number} .\n * @hidden\n */\n/* eslint-disable-next-line */\nexport function getIndex(value, key1, collection, key2) {\n    var index = -1;\n    for (var i = 0; i < collection.length; i++) {\n        if (getValue(key1, collection[i]) === getValue(key1, value) && isNullOrUndefined(key2)\n            || (!isNullOrUndefined(key2) && getValue(key1, collection[i]) === getValue(key1, value)\n                && getValue(key2, collection[i]) === getValue(key2, value))) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pixelToPoint(value) {\n    return (value * 76) / 92;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pointToPixel(value) {\n    return (value * 92) / 76;\n}\nvar uid = 0;\n/**\n * @returns {number} .\n * @hidden\n */\nexport function getUid() {\n    return uid++;\n}\n","import { isNullOrUndefined, getValue, setValue } from '@syncfusion/ej2-base';\n/**\n *  Date processor is used to handle date of task data.\n */\nvar DateProcessor = /** @class */ (function () {\n    function DateProcessor(parent) {\n        this.fromSegments = false;\n        this.mondayTimeRangeLength = 0;\n        this.tuesdayTimeRangeLength = 0;\n        this.wednesdayTimeRangeLength = 0;\n        this.thursdayTimeRangeLength = 0;\n        this.fridayTimeRangeLength = 0;\n        this.saturdayTimeRangeLength = 0;\n        this.sundayTimeRangeLength = 0;\n        this.parent = parent;\n    }\n    /**\n     * @param {ITaskData} ganttProp .\n     * @returns {boolean} .\n     */\n    DateProcessor.prototype.isValidateNonWorkDays = function (ganttProp) {\n        return (!isNullOrUndefined(ganttProp) && ganttProp.isAutoSchedule &&\n            (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0)) ||\n            (isNullOrUndefined(ganttProp) && (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0));\n    };\n    /**\n     * Method to convert given date value as valid start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkStartDate = function (date, ganttProp, validateAsMilestone, isLoad) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var currentDay = new Date(date.getTime());\n        var dayStartTime = this.parent['getCurrentDayStartTime'](currentDay);\n        var dayEndTime = this.parent['getCurrentDayEndTime'](currentDay);\n        var cloneStartDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneStartDate);\n        validateAsMilestone = isNullOrUndefined(validateAsMilestone) ? !isNullOrUndefined(ganttProp) ?\n            ganttProp.isMilestone : false : validateAsMilestone;\n        if (hour < dayStartTime && (!validateAsMilestone || isLoad)) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour < dayStartTime && validateAsMilestone) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if ((hour === dayEndTime && (!ganttProp || !validateAsMilestone)) || hour > dayEndTime) {\n            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n            dayStartTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            var workingRange = this.parent.workingTimeRanges;\n            if (this.parent.weekWorkingTime.length > 0) {\n                workingRange = this.parent['getWorkingRange'](cloneStartDate);\n            }\n            for (var index = 0; index < workingRange.length; index++) {\n                var value = workingRange[index];\n                if (hour >= value.to && (workingRange[index + 1] &&\n                    hour < workingRange[index + 1].from)) {\n                    // milestone can fall at end any interval time\n                    if ((hour === value.to && (!ganttProp || !validateAsMilestone)) || hour !== value.to) {\n                        this.setTime(workingRange[index + 1].from, cloneStartDate);\n                    }\n                    break;\n                }\n            }\n        }\n        var tStartDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tStartDate = new Date(cloneStartDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                // check holidays and weekends\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    dayStartTime = this.parent['getCurrentDayStartTime'](tStartDate);\n                    if (ganttProp) {\n                        dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : tStartDate);\n                    }\n                    var startTime = (!validateAsMilestone || isLoad) ? dayStartTime : dayEndTime;\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneStartDate.getTime());\n                        cloneStartDate = this.getNextWorkingDay(cloneStartDate);\n                        startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                        if (tempDate.getTime() !== cloneStartDate.getTime() && !validateAsMilestone) {\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneStartDate.getTime() >= holidayFrom.getTime() && cloneStartDate.getTime() < holidayTo.getTime()) {\n                            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n                            startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                }\n            } while (tStartDate.getTime() !== cloneStartDate.getTime());\n            return new Date(cloneStartDate.getTime());\n        }\n        else {\n            return new Date(cloneStartDate.getTime());\n        }\n    };\n    /**\n     * To update given date value to valid end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkEndDate = function (date, ganttProp, validateAsMilestone) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var dayStartTime;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            var currentDay = date;\n            if (!this.parent.includeWeekend && ganttProp && ganttProp.isAutoSchedule || (this.parent.editModule\n                && this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditRecord\n                && !this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.isAutoSchedule)) {\n                currentDay = this.getNextWorkingDay(date);\n            }\n            dayStartTime = this.parent['getStartTime'](currentDay);\n            dayEndTime = this.parent['getEndTime'](currentDay);\n        }\n        else {\n            dayStartTime = this.parent.defaultStartTime;\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        var cloneEndDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneEndDate);\n        if (hour > dayEndTime) {\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour <= dayStartTime && !validateAsMilestone) {\n            var taskfields = this.parent.taskFields;\n            if (this.parent.editModule && this.parent.editModule['editedRecord'] && (!this.parent.editModule['editedRecord'][taskfields.startDate] && this.parent.editModule['editedRecord'][taskfields.endDate])) {\n                cloneEndDate.setDate(cloneEndDate.getDate());\n            }\n            else {\n                cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n            }\n            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            for (var index = 0; index < this.parent.workingTimeRanges.length; index++) {\n                var value = this.parent.workingTimeRanges[index];\n                if (hour > value.to && (this.parent.workingTimeRanges[index + 1] &&\n                    hour <= this.parent.workingTimeRanges[index + 1].from)) {\n                    this.setTime(this.parent.workingTimeRanges[index].to, cloneEndDate);\n                    break;\n                }\n            }\n        }\n        var tempCheckDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tempCheckDate = new Date(cloneEndDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneEndDate.getTime());\n                        cloneEndDate = this.getPreviousWorkingDay(cloneEndDate);\n                        dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                        if (tempDate.getTime() !== cloneEndDate.getTime()) {\n                            this.setTime(dayEndTime, cloneEndDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        var tempHoliday = new Date(cloneEndDate.getTime());\n                        tempHoliday.setMinutes(cloneEndDate.getMilliseconds() - 2);\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneEndDate.getTime() >= holidayFrom.getTime() && cloneEndDate.getTime() < holidayTo.getTime() ||\n                            tempHoliday.getTime() >= holidayFrom.getTime() && tempHoliday.getTime() < holidayTo.getTime()) {\n                            cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n                            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                            if (!(cloneEndDate.getTime() === holidayFrom.getTime() && dayEndTime === 86400 &&\n                                this.getSecondsInDecimal(cloneEndDate) === 0)) {\n                                this.setTime(dayEndTime, cloneEndDate);\n                            }\n                        }\n                    }\n                }\n            } while (tempCheckDate.getTime() !== cloneEndDate.getTime());\n            return new Date(cloneEndDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(cloneEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](date);\n                this.setTime(dayEndTime, cloneEndDate);\n            }\n            return new Date(cloneEndDate.getTime());\n        }\n    };\n    /**\n     * To validate the baseline start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineStartDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](date);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp ? ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour < dayStartTime) {\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayEndTime) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](cloneDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                }\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] &&\n                        hour < this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i + 1].from, cloneDate);\n                        break;\n                    }\n                }\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To validate baseline end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineEndDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n            var dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp ? ganttProp.startDate ? ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour > dayEndTime) {\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour < dayStartTime && !isNullOrUndefined(ganttProp) && !ganttProp.isMilestone) {\n                cloneDate.setDate(cloneDate.getDate() - 1);\n                dayEndTime = this.parent['getCurrentDayEndTime'](cloneDate);\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] && hour <= this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i].to, cloneDate);\n                        break;\n                    }\n                }\n            }\n            if (ganttProp && ganttProp.baselineStartDate && cloneDate &&\n                ganttProp.baselineStartDate.getTime() > cloneDate.getTime()) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To calculate start date value from duration and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempStartDate = null;\n        if (!isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(ganttProp.duration)) {\n            tempStartDate = this.getStartDate(ganttProp.endDate, ganttProp.duration, ganttProp.durationUnit, ganttProp);\n        }\n        this.parent.setRecordValue('startDate', tempStartDate, ganttProp, true);\n        if (this.parent.taskFields.startDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempEndDate = null;\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttProp.startDate)) {\n            if (!isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                if (this.compareDates(ganttProp.startDate, ganttProp.endDate) === 1) {\n                    this.parent.setRecordValue('startDate', new Date(ganttProp.endDate.getTime()), ganttProp, true);\n                    dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp.isAutoSchedule ? ganttProp.autoStartDate : ganttProp.startDate);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.isAutoSchedule ? ganttProp.autoEndDate : ganttProp.endDate);\n                    this.setTime(dayStartTime, ganttProp.startDate);\n                }\n                this.calculateDuration(ganttData);\n            }\n            if (!isNullOrUndefined(ganttProp.duration)) {\n                var duration = !isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 1 ?\n                    this.totalDuration(ganttProp.segments) : ganttProp.duration;\n                tempEndDate = this.getEndDate(ganttProp.startDate, duration, ganttProp.durationUnit, ganttProp, false);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        else {\n            tempEndDate = ganttData[this.parent.taskFields.endDate];\n            if (!isNullOrUndefined(tempEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](tempEndDate);\n                this.setTime(dayEndTime, tempEndDate);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        if (this.parent.taskFields.endDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        }\n    };\n    DateProcessor.prototype.totalDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            duration += segments[i].duration + segments[i].offsetDuration;\n        }\n        return duration;\n    };\n    /**\n     * To calculate duration from start date and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     */\n    DateProcessor.prototype.calculateDuration = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var tDuration;\n        if (!isNullOrUndefined(ganttProperties.segments) && ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            tDuration = this.parent.editModule.taskbarEditModule.sumOfDuration(ganttProperties.segments);\n        }\n        else {\n            if ((!isNullOrUndefined(this.parent.taskFields.milestone)) && (!isNullOrUndefined(ganttProperties.startDate))\n                && !isNullOrUndefined(ganttProperties.endDate) &&\n                (ganttProperties.startDate).getTime() === (ganttProperties.endDate).getTime()\n                && (ganttData.taskData[this.parent.taskFields.milestone] === false)) {\n                tDuration = 1;\n            }\n            else {\n                tDuration = this.getDuration(ganttProperties.startDate, ganttProperties.endDate, ganttProperties.durationUnit, ganttProperties.isAutoSchedule, ganttProperties.isMilestone);\n            }\n        }\n        this.parent.setRecordValue('duration', tDuration, ganttProperties, true);\n        var col = this.parent.columnByField[this.parent.columnMapping.duration];\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isCellEdit && !isNullOrUndefined(col)) {\n            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                var dialog = this.parent.editModule.dialogModule.dialog;\n                if (!isNullOrUndefined(dialog)) {\n                    var textBox = dialog.querySelector('#' + this.parent.element.id + 'Duration')\n                        .ej2_instances[0];\n                    if (!isNullOrUndefined(textBox) && textBox.value !== tDuration.toString()) {\n                        textBox.value = tDuration.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n            if (this.parent.taskFields.duration) {\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                if (this.parent.taskFields.durationUnit) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'durationUnit');\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} sDate Method to get total nonworking time between two date values\n     * @param {Date} eDate .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonworkingTime = function (sDate, eDate, isAutoSchedule, isCheckTimeZone) {\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var weekendCount = (!this.parent.includeWeekend && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) && isAutoSchedule ?\n            this.getWeekendCount(sDate, eDate) : 0;\n        var totalHours = this.getNumberOfSeconds(sDate, eDate, isCheckTimeZone);\n        var holidaysCount = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.getHolidaysCount(sDate, eDate) : 0;\n        var totWorkDays = (totalHours - (weekendCount * 86400) - (holidaysCount * 86400)) / 86400; // working days between two dates\n        var nonWorkHours = this.getNonWorkingSecondsOnDate(sDate, eDate, isAutoSchedule);\n        var totalNonWorkTime = (this.parent.weekWorkingTime.length > 0 ?\n            this.nonWorkingSeconds(sDate, eDate, isAutoSchedule, totWorkDays) : (totWorkDays * (86400 - this.parent.secondsPerDay))) +\n            (weekendCount * 86400) + (holidaysCount * 86400) + nonWorkHours;\n        return totalNonWorkTime;\n    };\n    DateProcessor.prototype.nonWorkingSeconds = function (sDate, eDate, isAutoSchedule, workDays, fromDuration) {\n        var newStartDate = sDate.getTime() > eDate.getTime() ? new Date(eDate.getTime()) : new Date(sDate.getTime());\n        var newEndDate = sDate.getTime() > eDate.getTime() ? new Date(sDate.getTime()) : new Date(eDate.getTime());\n        var timeDiff = 0;\n        var count = 0;\n        if (fromDuration) {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](newStartDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](newStartDate);\n            if (!(newStartDate.getHours() < dayEndTime / 3600 && newStartDate.getHours() >= dayStartTime / 3600)) {\n                newStartDate.setDate(newStartDate.getDate() + 1);\n            }\n        }\n        else {\n            newStartDate.setDate(newStartDate.getDate() + 1);\n            newStartDate.setHours(0, 0, 0, 0);\n            newEndDate.setHours(0, 0, 0, 0);\n        }\n        if (workDays > 0 || isNullOrUndefined(workDays)) {\n            while ((fromDuration && newStartDate.getTime() <= newEndDate.getTime())\n                || (!fromDuration && newStartDate.getTime() < newEndDate.getTime())) {\n                if (isAutoSchedule) {\n                    if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                        do {\n                            newStartDate.setDate(newStartDate.getDate() + 1);\n                        } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                    }\n                    if (!this.parent.includeWeekend) {\n                        this.getNextWorkingDay(newStartDate);\n                    }\n                }\n                if (newStartDate.getTime() <= newEndDate.getTime()) {\n                    count++;\n                    var currentDaySeconds = this.parent['getSecondsPerDay'](newStartDate);\n                    if (fromDuration) {\n                        timeDiff += currentDaySeconds;\n                    }\n                    else {\n                        timeDiff += 86400 - currentDaySeconds;\n                    }\n                    newStartDate.setDate(newStartDate.getDate() + 1);\n                    if (isAutoSchedule) {\n                        if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                            do {\n                                newStartDate.setDate(newStartDate.getDate() + 1);\n                            } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                        }\n                        if (!this.parent.includeWeekend) {\n                            this.getNextWorkingDay(newStartDate);\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            return 0;\n        }\n        if (fromDuration) {\n            if (timeDiff > 0) {\n                timeDiff = timeDiff / count;\n            }\n            else {\n                timeDiff = this.parent.secondsPerDay;\n            }\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} durationUnit .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getDuration = function (startDate, endDate, durationUnit, isAutoSchedule, isMilestone, isCheckTimeZone) {\n        if (isNullOrUndefined(startDate) || isNullOrUndefined(endDate)) {\n            return null;\n        }\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var durationValue = 0;\n        var timeDiff = this.getTimeDifference(startDate, endDate, isCheckTimeZone) / 1000;\n        var nonWorkHours = this.getNonworkingTime(startDate, endDate, isAutoSchedule, isCheckTimeZone);\n        var durationHours = timeDiff - nonWorkHours;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.nonWorkingSeconds(startDate, endDate, isAutoSchedule, undefined, true);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (isMilestone && this.parent.getFormatedDate(startDate) === this.parent.getFormatedDate(endDate)) {\n            durationValue = 0;\n        }\n        else {\n            if (!durationUnit || durationUnit === 'day') {\n                durationValue = durationHours / totSeconds;\n            }\n            else if (durationUnit === 'minute') {\n                durationValue = durationHours / 60;\n            }\n            else {\n                durationValue = durationHours / 3600;\n            }\n        }\n        return parseFloat(durationValue.toString());\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {Date} date .\n     *  @returns {number} .\n     */\n    DateProcessor.prototype.getDurationAsSeconds = function (duration, durationUnit, date) {\n        var value = 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](date);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (!durationUnit || durationUnit.toLocaleLowerCase() === 'day') {\n            value = totSeconds * duration;\n        }\n        else if (durationUnit.toLocaleLowerCase() === 'hour') {\n            value = duration * 3600;\n        }\n        else {\n            value = duration * 60;\n        }\n        return value;\n    };\n    /**\n     * To get date from start date and duration\n     *\n     * @param {Date} startDate .\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getEndDate = function (startDate, duration, durationUnit, ganttProp, validateAsMilestone) {\n        var tempStart = new Date(startDate.getTime());\n        var endDate = new Date(startDate.getTime());\n        var sDate = new Date(startDate.getTime());\n        var secondDuration;\n        if (this.parent.weekWorkingTime.length > 0 && (!durationUnit || durationUnit.toLocaleLowerCase() === 'day')) {\n            secondDuration = this.calculateSecondDuration(duration, sDate, secondDuration, startDate, true);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, startDate);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            endDate.setSeconds(endDate.getSeconds() + secondDuration);\n            nonWork = this.getNonworkingTime(tempStart, endDate, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                endDate = this.checkStartDate(endDate, ganttProp, validateAsMilestone);\n            }\n            tempStart = new Date(endDate.getTime());\n        }\n        return endDate;\n    };\n    /**\n     * Calculate start date based on end date and duration.\n     *\n     * @param {Date} endDate - To calculate start date value from end date and duration.\n     * @param {number} duration - The duration value.\n     * @param {string} durationUnit - The unit of duration.\n     * @param {ITaskData} ganttProp - The Gantt task properties.\n     * @param {boolean} fromValidation - A flag indicating if the calculation is from validation.\n     * @returns {Date} The calculated start date.\n     * @private\n     */\n    DateProcessor.prototype.getStartDate = function (endDate, duration, durationUnit, ganttProp, fromValidation) {\n        var tempEnd = new Date(endDate.getTime());\n        var startDate = new Date(endDate.getTime());\n        var secondDuration;\n        var eDate = new Date(tempEnd.getTime());\n        if (this.parent.weekWorkingTime.length > 0) {\n            secondDuration = this.calculateSecondDuration(duration, eDate, secondDuration, tempEnd, false);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, tempEnd);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            startDate.setSeconds(startDate.getSeconds() - secondDuration);\n            nonWork = this.getNonworkingTime(startDate, tempEnd, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                tempEnd = this.checkEndDate(startDate, ganttProp);\n            }\n            tempEnd = new Date(startDate.getTime());\n        }\n        /* To render the milestone in proper date while loading */\n        if (fromValidation && ganttProp.isMilestone) {\n            startDate.setDate(startDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : startDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, startDate);\n            startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp, true);\n        }\n        return startDate;\n    };\n    DateProcessor.prototype.calculateSecondDuration = function (duration, sDate, secondDuration, startDate, fromEndDate) {\n        if (duration < 1) {\n            secondDuration = this.parent['getSecondsPerDay'](sDate) * duration;\n        }\n        else {\n            secondDuration = 0;\n            var durationValue = duration;\n            var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](sDate);\n            if (!(sDate.getHours() < dayEndTime / 3600 && sDate.getHours() > dayStartTime / 3600) && this.fromSegments) {\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n            }\n            while (durationValue > 0) {\n                if (this.isOnHolidayOrWeekEnd(sDate, true)) {\n                    do {\n                        if (fromEndDate) {\n                            sDate.setDate(sDate.getDate() + 1);\n                        }\n                        else {\n                            sDate.setDate(sDate.getDate() - 1);\n                        }\n                    } while (this.isOnHolidayOrWeekEnd(sDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    sDate = fromEndDate ? this.getNextWorkingDay(sDate) : this.getPreviousWorkingDay(sDate);\n                }\n                var totSeconds = this.parent['getSecondsPerDay'](sDate);\n                var num = 0;\n                if (this.getSecondsInDecimal(startDate) !== this.parent['getStartTime'](startDate) && !Number.isInteger(durationValue)) {\n                    var deciNumber = duration.toString().split('.');\n                    num = parseFloat('.' + deciNumber[1]);\n                    totSeconds = totSeconds * num;\n                    durationValue = durationValue - num;\n                }\n                if (durationValue < 1) {\n                    totSeconds = totSeconds * durationValue;\n                }\n                secondDuration = secondDuration + totSeconds;\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n                if (!num) {\n                    durationValue--;\n                }\n            }\n        }\n        return secondDuration;\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getProjectStartDate = function (ganttProp, isLoad) {\n        if (!isNullOrUndefined(this.parent.cloneProjectStartDate)) {\n            if (typeof this.parent.cloneProjectStartDate === 'string') {\n                this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            }\n            var cloneStartDate = this.checkStartDate(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectStartDate = cloneStartDate;\n            return new Date(cloneStartDate.getTime());\n        }\n        else if (!isNullOrUndefined(this.parent.projectStartDate)) {\n            var cloneStartDate = this.getDateFromFormat(this.parent.projectStartDate);\n            this.parent.cloneProjectStartDate = this.checkStartDate(cloneStartDate);\n        }\n        else if (!isNullOrUndefined(isLoad)) {\n            var flatData = this.parent.flatData;\n            var minStartDate = void 0;\n            if (flatData.length > 0) {\n                minStartDate = flatData[0].ganttProperties.startDate;\n            }\n            else {\n                minStartDate = new Date();\n                minStartDate.setHours(0, 0, 0, 0);\n            }\n            for (var index = 1; index < flatData.length; index++) {\n                var startDate = flatData[index].ganttProperties.startDate;\n                if (!isNullOrUndefined(startDate) && this.compareDates(startDate, minStartDate) === -1) {\n                    minStartDate = startDate;\n                }\n            }\n            this.parent.cloneProjectStartDate = this.checkStartDate(minStartDate, ganttProp);\n        }\n        else {\n            return null;\n        }\n        return new Date(this.parent.cloneProjectStartDate.getTime());\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidStartDate = function (ganttProp, isAuto) {\n        var sDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = !ganttProp.isAutoSchedule && ganttProp.autoDuration ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(startDate)) {\n            if (!isNullOrUndefined(endDate)) {\n                sDate = new Date(endDate.getTime());\n                var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n                this.setTime(dayStartTime, sDate);\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var ganttTask = this.parent.getTaskByUniqueID(ganttProp.uniqueID);\n                if (this.parent.allowUnscheduledTasks && ganttTask &&\n                    ganttTask.parentItem && isNullOrUndefined(startDate) && isNullOrUndefined(endDate)) {\n                    var parentTask = this.parent.getParentTask(ganttTask.parentItem);\n                    while (parentTask && !parentTask.ganttProperties.startDate) {\n                        parentTask = this.parent.getParentTask(parentTask.parentItem);\n                    }\n                    sDate = (!parentTask || !parentTask.ganttProperties.startDate) ? this.parent.cloneProjectStartDate\n                        : parentTask.ganttProperties.startDate;\n                }\n                else {\n                    sDate = this.getProjectStartDate(ganttProp);\n                }\n            }\n        }\n        else {\n            sDate = new Date(startDate.getTime());\n        }\n        return sDate;\n    };\n    /**\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidEndDate = function (ganttProp, isAuto) {\n        var eDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(endDate)) {\n            if (!isNullOrUndefined(startDate)) {\n                if (ganttProp.isMilestone) {\n                    eDate = this.checkStartDate(startDate);\n                }\n                else {\n                    eDate = new Date(startDate.getTime());\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](endDate ? endDate : eDate);\n                    this.setTime(dayEndTime, eDate);\n                }\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var sDate = this.getValidStartDate(ganttProp);\n                if (sDate) {\n                    eDate = this.getEndDate(sDate, duration, ganttProp.durationUnit, ganttProp, false);\n                }\n            }\n        }\n        else {\n            eDate = new Date(endDate.getTime());\n        }\n        return eDate;\n    };\n    DateProcessor.prototype.getWorkingTime = function (day, currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        if (!isNullOrUndefined(currentRange.from) && !isNullOrUndefined(currentRange.to)) {\n            startDate.setHours(0, 0, 0, 0);\n            var tempDate = new Date(startDate.getTime());\n            startDate.setTime(startDate.getTime() + (currentRange.from * 3600000));\n            var startHour = new Date(startDate.getTime());\n            if (currentRange.to === 24) {\n                var currentRangeTo = 24 * 60 * 60 * 1000;\n                tempDate.setTime(tempDate.getTime() + (currentRangeTo));\n            }\n            else {\n                tempDate.setTime(tempDate.getTime() + (currentRange.to * 3600000));\n            }\n            var endHour = new Date(tempDate.getTime());\n            var timeDiff = endHour.getTime() - startHour.getTime();\n            var sdSeconds = this.getSecondsInDecimal(startHour);\n            var edSeconds = this.getSecondsInDecimal(endHour);\n            if (edSeconds === 0) {\n                edSeconds = 86400;\n            }\n            totalSeconds += timeDiff / 1000;\n            if (count === 0) {\n                this.parent.defaultStartTime = sdSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignStartTime(day, sdSeconds);\n                }\n            }\n            if (count === this[day.toLowerCase() + 'TimeRangeLength'] - 1 || day === '') {\n                this.parent.defaultEndTime = edSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignEndTime(day, edSeconds);\n                }\n            }\n            if (count > 0) {\n                if (day === '') {\n                    nonWorkingHours.push(nonWorkingHours[nonWorkingHours.length - 1] +\n                        sdSeconds - workingTimeRanges[count - 1].to);\n                    if (workingTimeRanges[count - 1].to < sdSeconds) {\n                        nonWorkingTimeRanges.push({\n                            from: workingTimeRanges[count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - workingTimeRanges[count - 1].to)\n                        });\n                    }\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(this.parent[day.toLowerCase() + 'NonWorkingHours'][this.parent[day.toLowerCase() + 'NonWorkingHours'].length - 1] +\n                        sdSeconds - this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'][count - 1].to);\n                    if (this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to < sdSeconds) {\n                        this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                            from: this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to)\n                        });\n                    }\n                }\n            }\n            else {\n                if (day === '') {\n                    nonWorkingHours.push(0);\n                    nonWorkingTimeRanges.push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(0);\n                    this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n            }\n            if (day === '') {\n                workingTimeRanges.push({ from: sdSeconds, to: edSeconds });\n                nonWorkingTimeRanges.push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n            else {\n                this.parent[day.toLowerCase() + 'WorkingTimeRanges'].push({ from: sdSeconds, to: edSeconds });\n                this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n        }\n        return totalSeconds;\n    };\n    DateProcessor.prototype.assignStartTime = function (day, sdSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultStartTime = sdSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultStartTime = sdSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultStartTime = sdSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.assignEndTime = function (day, edSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultEndTime = edSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultEndTime = edSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultEndTime = edSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultEndTime = edSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultEndTime = edSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.calculateWeekWorkTime = function (day, currentDay, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        var seconds = 0;\n        for (var j = 0; j < currentDay.length; j++) {\n            var currentRange = currentDay[j];\n            seconds = seconds + this.getWorkingTime(day, currentRange, startDate, totalSeconds, j, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent[day.toLowerCase() + 'DefaultStartTime'] / 3600 !== 24) {\n            this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                from: this.parent[day.toLowerCase() + 'DefaultEndTime'], to: 86400,\n                isWorking: false, interval: 86400 - this.parent[day.toLowerCase() + 'DefaultEndTime']\n            });\n        }\n        return seconds;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getSecondsPerDay = function () {\n        var totalSeconds = 0;\n        var startDate = new Date('10/11/2018');\n        this.parent.nonWorkingHours = [];\n        var nonWorkingHours = this.parent.nonWorkingHours;\n        this.parent.workingTimeRanges = [];\n        this.parent.workingTimeRanges = [];\n        var workingTimeRanges = this.parent.workingTimeRanges;\n        this.parent.nonWorkingTimeRanges = [];\n        var nonWorkingTimeRanges = this.parent.nonWorkingTimeRanges;\n        for (var _i = 0, _a = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _i < _a.length; _i++) {\n            var day = _a[_i];\n            this[day.toLowerCase() + \"TimeRangeLength\"] = this.parent.dayWorkingTime.length;\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            for (var i = 0; i < this.parent.weekWorkingTime.length; i++) {\n                this[this.parent.weekWorkingTime[i].dayOfWeek.toLowerCase() + 'TimeRangeLength']\n                    = this.parent.weekWorkingTime[i].timeRange.length;\n            }\n            var weekWorkingTime = this.parent.weekWorkingTime;\n            var dayWorkingTime_1 = this.parent.dayWorkingTime;\n            for (var _b = 0, weekWorkingTime_1 = weekWorkingTime; _b < weekWorkingTime_1.length; _b++) {\n                var weekDay = weekWorkingTime_1[_b];\n                if (weekDay.timeRange && weekDay.timeRange.length > 0) {\n                    var seconds_1 = this.calculateWeekWorkTime(weekDay.dayOfWeek, weekDay.timeRange, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[weekDay.dayOfWeek.toLowerCase() + \"Seconds\"] = seconds_1;\n                }\n            }\n            for (var _c = 0, _d = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _c < _d.length; _c++) {\n                var day = _d[_c];\n                var dayDefaultStartTime = this.parent[day.toLowerCase() + \"DefaultStartTime\"];\n                if (isNullOrUndefined(dayDefaultStartTime)) {\n                    var seconds_2 = this.calculateWeekWorkTime(day, dayWorkingTime_1, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[day.toLowerCase() + \"Seconds\"] = seconds_2;\n                }\n            }\n        }\n        var dayWorkingTime = this.parent.dayWorkingTime;\n        var length = dayWorkingTime.length;\n        var seconds = 0;\n        for (var count = 0; count < length; count++) {\n            var currentRange = dayWorkingTime[count];\n            seconds = seconds + this.getWorkingTime('', currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent.defaultEndTime / 3600 !== 24) {\n            nonWorkingTimeRanges.push({\n                from: this.parent.defaultEndTime, to: 86400,\n                isWorking: false, interval: 86400 - this.parent.defaultEndTime\n            });\n        }\n        totalSeconds = seconds;\n        return totalSeconds;\n    };\n    /**\n     *\n     * @param {string} value .\n     * @param {boolean} isFromDialog .\n     * @returns {object} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.getDurationValue = function (value, isFromDialog) {\n        var durationUnit = null;\n        var duration = null;\n        if (typeof value === 'string') {\n            var values = value.match(/(\\d*\\.*\\d+|.+$)/g);\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0].toString().trim());\n                var unit = values[1] ? values[1].toString().trim().toLowerCase() : null;\n                if (getValue('minute', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'day';\n                }\n            }\n        }\n        else {\n            duration = value;\n            durationUnit = null;\n        }\n        var output = {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n        return output;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getNextWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1) {\n            date.setDate(date.getDate() + 1);\n            date = this.getNextWorkingDay(date);\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * get weekend days between two dates without including args dates\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getWeekendCount = function (startDate, endDate) {\n        var weekendCount = 0;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setHours(0, 0, 0, 0);\n        sDate.setDate(sDate.getDate() + 1);\n        eDate.setHours(0, 0, 0, 0);\n        while (sDate.getTime() < eDate.getTime()) {\n            if (this.parent.nonWorkingDayIndex.indexOf(sDate.getDay()) !== -1) {\n                weekendCount += 1;\n            }\n            sDate.setDate(sDate.getDate() + 1);\n        }\n        return weekendCount;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNumberOfSeconds = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var timeDiff = 0;\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            timeDiff = (this.getTimeDifference(sDate, eDate, isCheckTimeZone)) / 1000;\n        }\n        if (timeDiff % 86400 !== 0) {\n            timeDiff = timeDiff - (timeDiff % 86400) + 86400;\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getHolidaysCount = function (startDate, endDate) {\n        var holidaysCount = 0;\n        var holidays = this.parent.totalHolidayDates;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            for (var i = 0; i < holidays.length; i++) {\n                var currentHoliday = this.getDateFromFormat(new Date(holidays[i]));\n                if (sDate.getTime() <= currentHoliday.getTime() && eDate.getTime() > currentHoliday.getTime()) {\n                    if ((!this.parent.includeWeekend && this.parent.nonWorkingDayIndex.indexOf(currentHoliday.getDay()) === -1) ||\n                        this.parent.includeWeekend) {\n                        holidaysCount += 1;\n                    }\n                }\n            }\n        }\n        return holidaysCount;\n    };\n    /**\n     * @returns {number[]} .\n     * @private\n     */\n    DateProcessor.prototype.getHolidayDates = function () {\n        var holidays = this.parent.holidays;\n        var holidayDates = [];\n        for (var i = 0; i < holidays.length; i++) {\n            var from = this.getDateFromFormat(holidays[i].from);\n            var to = this.getDateFromFormat(holidays[i].to);\n            if (isNullOrUndefined(from) && isNullOrUndefined(to)) {\n                continue;\n            }\n            else if (isNullOrUndefined(from) || isNullOrUndefined(to)) {\n                var tempDate = from ? from : to;\n                tempDate.setHours(0, 0, 0, 0);\n                if (holidayDates.indexOf(tempDate.getTime()) === -1) {\n                    holidayDates.push(tempDate.getTime());\n                }\n            }\n            else {\n                while (from <= to) {\n                    from.setHours(0, 0, 0, 0);\n                    if (holidayDates.indexOf(from.getTime()) === -1) {\n                        holidayDates.push(from.getTime());\n                    }\n                    from.setDate(from.getDate() + 1);\n                }\n            }\n        }\n        return holidayDates;\n    };\n    /**\n     * @param {Date} date .\n     * @param {boolean} checkWeekEnd .\n     * @returns {boolean} .\n     * @private\n     */\n    /*Check given date is on holidays*/\n    DateProcessor.prototype.isOnHolidayOrWeekEnd = function (date, checkWeekEnd) {\n        checkWeekEnd = !isNullOrUndefined(checkWeekEnd) ? checkWeekEnd : this.parent.includeWeekend;\n        if (!this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            checkWeekEnd = true;\n        }\n        if (!checkWeekEnd && this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n            return true;\n        }\n        var holidays = this.parent.totalHolidayDates;\n        for (var count = 0; count < holidays.length; count++) {\n            var holidayFrom = this.getDateFromFormat(new Date(holidays[count]));\n            var holidayTo = new Date(holidayFrom.getTime());\n            holidayFrom.setHours(0, 0, 0, 0);\n            holidayTo.setHours(23, 59, 59, 59);\n            if (date.getTime() >= holidayFrom.getTime() && date.getTime() < holidayTo.getTime()) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To calculate non working times in given date\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isAutoSchedule .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonWorkingSecondsOnDate = function (startDate, endDate, isAutoSchedule) {\n        var sHour = this.getSecondsInDecimal(startDate);\n        var eHour = this.getSecondsInDecimal(endDate);\n        var startRangeIndex = -1;\n        var endRangeIndex = -1;\n        var totNonWrkSecs = 0;\n        var startOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.isOnHolidayOrWeekEnd(startDate, null) : false;\n        var endOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.isOnHolidayOrWeekEnd(endDate, null) : false;\n        var startnonWorkingTimeRange;\n        var endnonWorkingTimeRange;\n        if (this.parent.weekWorkingTime.length > 0) {\n            startnonWorkingTimeRange = this.parent['getNonWorkingRange'](startDate);\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n            }\n            endnonWorkingTimeRange = this.parent['getNonWorkingRange'](endDate);\n            for (var i = 0; i < endnonWorkingTimeRange.length; i++) {\n                var val = endnonWorkingTimeRange[i];\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        else {\n            startnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            endnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        if (startDate.getDate() !== endDate.getDate() || startDate.getMonth() !== endDate.getMonth() ||\n            startDate.getFullYear() !== endDate.getFullYear()) {\n            if (!startOnHoliday) {\n                for (var i = startRangeIndex; i < startnonWorkingTimeRange.length; i++) {\n                    if (!isNullOrUndefined(startnonWorkingTimeRange[i]) && !startnonWorkingTimeRange[i].isWorking) {\n                        if (i === startRangeIndex) {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                        }\n                        else {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].interval);\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += (86400 - sHour);\n            }\n            if (!endOnHoliday) {\n                for (var i = 0; i <= endRangeIndex; i++) {\n                    if (!endnonWorkingTimeRange[i].isWorking) {\n                        if (i === endRangeIndex) {\n                            totNonWrkSecs += (eHour - endnonWorkingTimeRange[i].from);\n                        }\n                        else {\n                            totNonWrkSecs += endnonWorkingTimeRange[i].interval;\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += eHour;\n            }\n        }\n        else {\n            if (startRangeIndex !== endRangeIndex) {\n                if (!endOnHoliday) {\n                    for (var i = startRangeIndex; i <= endRangeIndex; i++) {\n                        if (!isNullOrUndefined(startnonWorkingTimeRange[i]) && !startnonWorkingTimeRange[i].isWorking) {\n                            if (i === startRangeIndex) {\n                                totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                            }\n                            else if (i === endRangeIndex) {\n                                totNonWrkSecs += (eHour - startnonWorkingTimeRange[i].from);\n                            }\n                            else {\n                                totNonWrkSecs += startnonWorkingTimeRange[i].interval;\n                            }\n                        }\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n            else {\n                if (!endOnHoliday) {\n                    var range = startnonWorkingTimeRange[startRangeIndex];\n                    if (!range.isWorking) {\n                        totNonWrkSecs = eHour - sHour;\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n        }\n        return totNonWrkSecs;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getPreviousWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        var previousIndex = (dayIndex === 0) ? 6 : dayIndex - 1;\n        var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1 || (this.parent.nonWorkingDayIndex.indexOf(previousIndex) !== -1\n            && dayEndTime === 86400 && this.getSecondsInDecimal(date) === 0)) {\n            date.setDate(date.getDate() - 1);\n            if (this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n                date = this.getPreviousWorkingDay(date);\n            }\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * To get non-working day indexes.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.getNonWorkingDayIndex = function () {\n        var weekDay = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n        var weekDayLength = weekDay.length;\n        if (this.parent.workWeek.length === 0) {\n            this.parent.workWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n        }\n        var workWeek = this.parent.workWeek.slice();\n        var length = workWeek.length;\n        for (var i = 0; i < length; i++) {\n            workWeek[i] = workWeek[i].toLowerCase();\n        }\n        this.parent.nonWorkingDayIndex = [];\n        for (var i = 0; i < weekDayLength; i++) {\n            if (workWeek.indexOf(weekDay[i]) === -1) {\n                this.parent.nonWorkingDayIndex.push(i);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} seconds .\n     * @param {Date} date .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.setTime = function (seconds, date) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var hour = seconds / 3600;\n        hour = parseInt(hour, 10);\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var min = (seconds - (hour * 3600)) / 60;\n        min = parseInt(min, 10);\n        var sec = seconds - (hour * 3600) - (min * 60);\n        date.setHours(hour, min, sec);\n    };\n    /**\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getTimeDifference = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        if (isCheckTimeZone) {\n            this.updateDateWithTimeZone(sDate, eDate);\n        }\n        return eDate.getTime() - sDate.getTime();\n    };\n    /**\n     * @param {Date} sDate .\n     * @param {Date} eDate .\n     * @returns {void} .\n     */\n    DateProcessor.prototype.updateDateWithTimeZone = function (sDate, eDate) {\n        var sTZ = sDate.getTimezoneOffset();\n        var eTZ = eDate.getTimezoneOffset();\n        var uTZ;\n        var uDate;\n        if (sTZ !== eTZ) {\n            var standardTZ = new Date(new Date().getFullYear(), 0, 1).getTimezoneOffset();\n            if (standardTZ !== sTZ) {\n                uDate = sDate;\n                uTZ = sTZ;\n            }\n            else if (standardTZ !== eTZ) {\n                uDate = eDate;\n                uTZ = eTZ;\n            }\n            if (standardTZ < 0) {\n                var tzDiff = standardTZ - uTZ;\n                uDate.setTime(uDate.getTime() + (tzDiff * 60 * 1000));\n            }\n            else if (standardTZ >= 0) {\n                var tzDiff = uTZ - standardTZ;\n                uDate.setTime(uDate.getTime() - (tzDiff * 60 * 1000));\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getSecondsInDecimal = function (date) {\n        return (date.getHours() * 60 * 60) + (date.getMinutes() * 60) + date.getSeconds() + (date.getMilliseconds() / 1000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {number} localOffset .\n     * @param {string} timezone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.offset = function (date, timezone) {\n        var localOffset = date.getTimezoneOffset();\n        try {\n            var convertedDate = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n            if (!isNaN(convertedDate.getTime())) {\n                return ((date.getTime() - convertedDate.getTime()) / 60000) + localOffset;\n            }\n            return 0;\n        }\n        catch (error) {\n            return 0;\n        }\n    };\n    DateProcessor.prototype.remove = function (date, timezone) {\n        if (!isNullOrUndefined(date)) {\n            date = this.reverse(date, timezone, date.getTimezoneOffset());\n        }\n        return date;\n    };\n    DateProcessor.prototype.reverse = function (date, fromOffset, toOffset) {\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {string} timezone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.convert = function (date, timezone) {\n        var fromOffset = date.getTimezoneOffset();\n        var toOffset = this.offset(date, timezone);\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {string | Date} date .\n     * @param {boolean} toConvert .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getDateFromFormat = function (date, toConvert) {\n        var updatedDate;\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else if (date instanceof Date) {\n            updatedDate = new Date(date.getTime());\n        }\n        else {\n            var dateObject = this.parent.globalize.parseDate(date, { format: this.parent.getDateFormat(), type: 'dateTime' });\n            updatedDate = isNullOrUndefined(dateObject) && !isNaN(new Date(date).getTime()) ? new Date(date) : dateObject;\n        }\n        if (!isNullOrUndefined(this.parent.timezone) && toConvert) {\n            var convertedDate = this.convert(updatedDate, this.parent.timezone);\n            return convertedDate;\n        }\n        else {\n            return updatedDate;\n        }\n    };\n    /**\n     * @param {Date} date1 .\n     * @param {Date} date2 .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.compareDates = function (date1, date2) {\n        if (!isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return (date1.getTime() > date2.getTime()) ? 1 : (date1.getTime() < date2.getTime()) ? -1 : 0;\n        }\n        else if (!isNullOrUndefined(date1) && isNullOrUndefined(date2)) {\n            return 1;\n        }\n        else if (isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return -1;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getDurationString = function (duration, durationUnit) {\n        var value = '';\n        if (!isNullOrUndefined(duration)) {\n            value += parseFloat(duration.toFixed(2)) + ' ';\n            if (!isNullOrUndefined(durationUnit)) {\n                var plural = duration !== 1;\n                if (durationUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (durationUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (durationUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * Method to get work with value and unit.\n     *\n     * @param {number} work .\n     * @param {string} workUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getWorkString = function (work, workUnit) {\n        var value = '';\n        if (!isNullOrUndefined(work)) {\n            value += parseFloat(work).toFixed(2) + ' ';\n            if (!isNullOrUndefined(workUnit)) {\n                var plural = work !== 1;\n                if (workUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (workUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (workUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.calculateProjectDatesForValidatedTasks = function (editArgs) {\n        var _this = this;\n        var projectStartDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var projectEndDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = (getValue('dataOperation.dataArray', this.parent));\n        if ((!projectStartDate || !projectEndDate) && (flatData && flatData.length === 0)) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        else if (flatData.length > 0) {\n            var sortedStartDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(a[_this.parent.taskFields.startDate])).getTime() -\n                    (new Date(b[_this.parent.taskFields.startDate])).getTime());\n            });\n            var sortedEndDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(b[_this.parent.taskFields.endDate])).getTime() - (new Date(a[_this.parent.taskFields.endDate])).getTime());\n            });\n            minStartDate = sortedStartDate[0][this.parent.taskFields.startDate];\n            maxEndDate = sortedEndDate[sortedEndDate.length - 1][this.parent.taskFields.endDate];\n        }\n        this.parent.cloneProjectStartDate = projectStartDate ? new Date(projectStartDate.getTime()) :\n            typeof minStartDate === 'string' ? new Date(minStartDate) : minStartDate;\n        this.parent.cloneProjectEndDate = projectEndDate ? new Date(projectEndDate.getTime()) :\n            typeof maxEndDate === 'string' ? new Date(maxEndDate) : maxEndDate;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateProjectDates = function (editArgs) {\n        var _this = this;\n        if (this.parent.isLoad && this.parent.enablePersistence &&\n            this.parent.cloneProjectStartDate && this.parent.cloneProjectEndDate) {\n            this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectEndDate = this.getDateFromFormat(this.parent.cloneProjectEndDate);\n            return;\n        }\n        var sDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var eDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var projectStartDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectStartDate\n            ? this.getDateFromFormat(this.parent.cloneProjectStartDate) : this.getDateFromFormat(sDate);\n        var projectEndDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectEndDate\n            ? this.getDateFromFormat(this.parent.cloneProjectEndDate) : this.getDateFromFormat(eDate);\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var taskRange = [];\n        var addDateToList = function (date) {\n            if (!isNullOrUndefined(date)) {\n                taskRange.push(date);\n            }\n        };\n        var sortDates = function (dates) {\n            if (dates.length > 0) {\n                dates.sort(function (a, b) {\n                    return a.getTime() - b.getTime();\n                });\n                minStartDate = new Date(dates[0].getTime());\n                maxEndDate = dates.length > 1 ? new Date(dates[dates.length - 1].getTime()) : null;\n            }\n        };\n        if (((!projectStartDate || !projectEndDate) && flatData.length > 0) || editArgs || this.parent.timelineModule.isZoomToFit) {\n            var viewData = void 0;\n            if (currentViewData.length > 0 && this.parent.timelineModule.isZoomToFit &&\n                this.parent.treeGrid.filterModule &&\n                this.parent.treeGrid.filterModule.filteredResult.length > 0) {\n                viewData = currentViewData;\n            }\n            else {\n                viewData = flatData;\n            }\n            viewData.forEach(function (data) {\n                taskRange = [];\n                var task = data.ganttProperties;\n                var tempStartDate;\n                var tempEndDate;\n                if (isNullOrUndefined(task.startDate) && isNullOrUndefined(task.endDate)) {\n                    tempStartDate = null;\n                    tempEndDate = null;\n                }\n                else {\n                    tempStartDate = _this.getValidStartDate(task);\n                    tempEndDate = _this.getValidEndDate(task);\n                }\n                addDateToList(minStartDate);\n                addDateToList(maxEndDate);\n                addDateToList(tempStartDate);\n                addDateToList(tempEndDate);\n                if (_this.parent.renderBaseline && !_this.parent.timelineModule.isZoomToFit) {\n                    addDateToList(task.baselineStartDate);\n                    addDateToList(task.baselineEndDate);\n                }\n                if (task.indicators && task.indicators.length > 0 && !_this.parent.timelineModule.isZoomToFit) {\n                    task.indicators.forEach(function (item) {\n                        addDateToList(_this.getDateFromFormat(item.date));\n                    });\n                }\n                sortDates(taskRange);\n            });\n            taskRange = [];\n            addDateToList(minStartDate);\n            addDateToList(maxEndDate);\n            //update schedule dates as per holiday and strip line collection\n            if (this.parent.eventMarkers.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var eventMarkers = this.parent.eventMarkers;\n                // eslint-disable-next-line\n                eventMarkers.forEach(function (marker, index) {\n                    addDateToList(_this.getDateFromFormat(marker.day));\n                });\n            }\n            if (this.parent.totalHolidayDates.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var holidays = this.parent.totalHolidayDates;\n                // eslint-disable-next-line\n                holidays.forEach(function (holiday, index) {\n                    addDateToList(new Date(holiday));\n                });\n            }\n            sortDates(taskRange);\n            if (!minStartDate || !maxEndDate) {\n                if (!minStartDate) {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                    minStartDate.setHours(0, 0, 0, 0);\n                }\n                else {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                }\n                maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n                maxEndDate.setDate(maxEndDate.getDate() + 20);\n            }\n        }\n        else if ((!projectStartDate || !projectEndDate) && flatData.length === 0) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        if (!editArgs) {\n            this.prevProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.cloneProjectStartDate = minStartDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectStartDate)) ? new Date(projectStartDate.getTime()) :\n                    minStartDate : minStartDate : new Date(projectStartDate.getTime());\n            this.parent.cloneProjectEndDate = maxEndDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectEndDate)) ? new Date(projectEndDate.getTime()) :\n                    maxEndDate : maxEndDate : new Date(projectEndDate.getTime());\n        }\n        else {\n            setValue('minStartDate', minStartDate, editArgs);\n            setValue('maxEndDate', maxEndDate, editArgs);\n        }\n        this.parent['isProjectDateUpdated'] = true;\n    };\n    /**\n     *\n     * @param {ITaskSegment} segments .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.splitTasksDuration = function (segments) {\n        var duration = 0;\n        var sDate = segments[0].startDate;\n        var eDate = segments[segments.length - 1].endDate;\n        if (this.parent.timelineModule.bottomTier === 'Hour') {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60));\n        }\n        else if (this.parent.timelineModule.bottomTier === 'Minutes') {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60));\n        }\n        else {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24));\n        }\n        return duration;\n    };\n    return DateProcessor;\n}());\nexport { DateProcessor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, getValue, extend, setValue } from '@syncfusion/ej2-base';\nimport { getUid } from '@syncfusion/ej2-grids';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isCountRequired, isScheduledTask } from './utils';\nimport { DateProcessor } from './date-processor';\n/**\n * To calculate and update task related values\n */\nvar TaskProcessor = /** @class */ (function (_super) {\n    __extends(TaskProcessor, _super);\n    function TaskProcessor(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.customSegmentProperties = [];\n        _this.isBaseline = false;\n        _this.recordIndex = 0;\n        _this.taskIds = [];\n        _this.hierarchyData = [];\n        _this.addEventListener();\n        return _this;\n    }\n    TaskProcessor.prototype.addEventListener = function () {\n        this.parent.on('beforeDataManipulate', this.checkDataBinding.bind(this));\n    };\n    /**\n     * @param {boolean} isChange .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.checkDataBinding = function (isChange) {\n        var _this = this;\n        if (isChange) {\n            this.parent.flatData = [];\n            this.parent.currentViewData = [];\n            this.parent.updatedRecords = [];\n            this.dataArray = [];\n            this.taskIds = [];\n            this.parent.ids = [];\n            this.recordIndex = 0;\n            this.hierarchyData = [];\n            this.parent.predecessorsCollection = [];\n            this.parent.treeGrid.parentData = [];\n            this.parent.taskIds = [];\n        }\n        if (isNullOrUndefined(this.parent.dataSource)) {\n            this.parent.dataSource = [];\n            this.parent.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else if (this.parent.dataSource instanceof DataManager) {\n            this.initDataSource(isChange);\n        }\n        else {\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n                var ganttdata = getValue('result', this.parent.dataSource);\n                this.dataArray = ganttdata;\n            }\n            else {\n                this.dataArray = this.parent.dataSource;\n            }\n            this.processTimeline();\n            this.cloneDataSource();\n            this.parent.renderGantt(isChange);\n            this.parent.flatData.map(function (data) {\n                _this.parent.chartRowsModule.updateSegment(data.ganttProperties.segments, data.ganttProperties.taskId);\n            });\n        }\n        this.parent.flatData.map(function (data) {\n            _this.parent.chartRowsModule.updateSegment(data.ganttProperties.segments, data.ganttProperties.taskId);\n        });\n    };\n    TaskProcessor.prototype.processTimeline = function () {\n        this.parent.processTimeline();\n        if (!this.parent.enableValidation) {\n            this.parent.dataOperation.calculateProjectDatesForValidatedTasks();\n            this.parent.timelineModule.validateTimelineProp();\n        }\n    };\n    TaskProcessor.prototype.initDataSource = function (isChange) {\n        var _this = this;\n        var queryManager = this.parent.query instanceof Query ? this.parent.query : new Query();\n        queryManager.requiresCount();\n        var dataManager = this.parent.dataSource;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            this.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else {\n            dataManager.executeQuery(queryManager).then(function (e) {\n                _this.dataArray = e.result;\n                _this.processTimeline();\n                if (!_this.parent.loadChildOnDemand || (_this.parent.loadChildOnDemand && !(_this.parent.taskFields.hasChildMapping))) {\n                    _this.cloneDataSource();\n                }\n                _this.parent.renderGantt(isChange);\n            }).catch(function (e) {\n                // Trigger action failure event\n                _this.parent.processTimeline();\n                _this.parent.renderGantt(isChange);\n                _this.parent.trigger('actionFailure', { error: e });\n            });\n        }\n    };\n    TaskProcessor.prototype.constructDataSource = function (dataSource) {\n        var mappingData = new DataManager(dataSource).executeLocal(new Query()\n            .group(this.parent.taskFields.parentID));\n        var rootData = [];\n        var index;\n        for (var i = 0; i < mappingData.length; i++) {\n            var groupData = mappingData[i];\n            if (!isNullOrUndefined(groupData.key)) {\n                index = this.taskIds.indexOf(groupData.key.toString());\n                if (index > -1) {\n                    if (!isNullOrUndefined(groupData.key)) {\n                        dataSource[index][this.parent.taskFields.child] = groupData.items;\n                        continue;\n                    }\n                }\n            }\n            if (index !== -1) {\n                rootData.push.apply(rootData, groupData.items); // eslint-disable-line\n            }\n        }\n        this.hierarchyData = this.dataReorder(dataSource, rootData);\n    };\n    TaskProcessor.prototype.cloneDataSource = function () {\n        var taskIdMapping = this.parent.taskFields.id;\n        var parentIdMapping = this.parent.taskFields.parentID;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(taskIdMapping) && !isNullOrUndefined(parentIdMapping)) {\n            var data = [];\n            for (var i = 0; i < this.dataArray.length; i++) {\n                var tempData = this.dataArray[i];\n                if (tempData['parentItem']) {\n                    delete tempData['parentItem'];\n                }\n                data.push(extend({}, {}, tempData, true));\n                if (!isNullOrUndefined(tempData[taskIdMapping])) {\n                    this.taskIds.push(tempData[taskIdMapping].toString());\n                }\n            }\n            if (!this.parent.taskFields.child) {\n                this.parent.setProperties({ taskFields: { child: 'Children' } }, true);\n            }\n            this.constructDataSource(data);\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                hierarchicalData = this.dataArray;\n            }\n            else {\n                hierarchicalData = this.hierarchyData;\n            }\n        }\n        else {\n            hierarchicalData = this.dataArray;\n        }\n        if (this.parent.taskFields.segmentId) {\n            this.segmentCollection = new DataManager(this.parent.segmentData).executeLocal(new Query()\n                .group(this.parent.taskFields.segmentId));\n            if (!this.parent.taskFields.segments) {\n                this.parent.taskFields.segments = 'Segments';\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var resources = extend([], [], this.parent.resources, true);\n            var unassignedTasks = [];\n            this.constructResourceViewDataSource(resources, hierarchicalData, unassignedTasks);\n            if (unassignedTasks.length > 0) {\n                var record = {};\n                var resourceName = this.parent.resourceFields.name || 'resourceName';\n                record[this.parent.resourceFields.id] = 0;\n                record[resourceName] = this.parent.localeObj.getConstant('unassignedTask');\n                record[this.parent.taskFields.child] = unassignedTasks;\n                resources.push(record);\n            }\n            hierarchicalData = resources;\n        }\n        this.prepareDataSource(hierarchicalData);\n    };\n    /**\n     * @param {object[]} resources .\n     * @param {object[]} data .\n     * @param {object[]} unassignedTasks .\n     * @returns {void} .\n     *\n     */\n    TaskProcessor.prototype.constructResourceViewDataSource = function (resources, data, unassignedTasks) {\n        var _loop_1 = function (i) {\n            var tempData = data[i];\n            var child = this_1.parent.taskFields.child !== null ? this_1.parent.taskFields.child : this_1.parent.taskFields.child = 'Children';\n            var resourceData = tempData && tempData[this_1.parent.taskFields.resourceInfo];\n            var resourceIdMapping = this_1.parent.resourceFields.id;\n            if ((!tempData[child] || tempData[child].length === 0) && resourceData && resourceData.length) {\n                if (typeof (resourceData) === 'string') {\n                    this_1.isResourceString = true;\n                    var id = resourceData;\n                    for (var j = 0; j < resources.length; j++) {\n                        if (resources[j][this_1.parent.resourceFields.name].toString() === id.toString()) {\n                            if (resources[j][child]) {\n                                resources[j][child].push(tempData);\n                            }\n                            else {\n                                resources[j][child] = [tempData];\n                            }\n                            break;\n                        }\n                    }\n                }\n                else {\n                    resourceData.forEach(function (resource) {\n                        var id = (typeof resource === 'object') ? resource[resourceIdMapping] :\n                            resource;\n                        for (var j = 0; j < resources.length; j++) {\n                            if (resources[j][resourceIdMapping].toString() === id.toString()) {\n                                if (resources[j][child]) {\n                                    resources[j][child].push(tempData);\n                                }\n                                else {\n                                    resources[j][child] = [tempData];\n                                }\n                                break;\n                            }\n                        }\n                    });\n                }\n            }\n            else if (!tempData[child] || (tempData[child] && tempData[child].length === 0)) {\n                unassignedTasks.push(tempData);\n            }\n            if (tempData[this_1.parent.taskFields.child] && tempData[this_1.parent.taskFields.child].length) {\n                this_1.constructResourceViewDataSource(resources, tempData[this_1.parent.taskFields.child], unassignedTasks);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < data.length; i++) {\n            _loop_1(i);\n        }\n    };\n    /**\n     * Function to manipulate data-source\n     *\n     * @param {object[]} data .\n     * @returns {void} .\n     * @hidden\n     */\n    TaskProcessor.prototype.prepareDataSource = function (data) {\n        this.prepareRecordCollection(data, 0);\n        this.parent.initialLoadData = extend({}, {}, this.parent.flatData, true);\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.parent.dataMap = this.parent.flatData.reduce(function (map, val) {\n                map.set(val.uniqueID, val);\n                return map;\n            }, new Map());\n        }\n        // Method to maintain the shared task uniqueIds\n        if (this.parent.viewType === 'ResourceView') {\n            this.calculateSharedTaskUniqueIds();\n        }\n        if (this.parent.taskFields.dependency && this.parent.predecessorModule) {\n            this.parent.predecessorModule.ensurePredecessorCollection();\n        }\n    };\n    TaskProcessor.prototype.calculateSharedTaskUniqueIds = function () {\n        var _loop_2 = function (i) {\n            var value = [];\n            value[0] = this_2.parent.getTaskIds()[i][0];\n            value[1] = this_2.parent.getTaskIds()[i].slice(1);\n            if (value[0] !== 'R') {\n                var sharedRecords_1 = [];\n                var ids_1 = [];\n                this_2.parent.flatData.filter(function (data) {\n                    if (data.ganttProperties.taskId.toString() === value[1] && data.level !== 0) {\n                        ids_1.push(data.ganttProperties.rowUniqueID);\n                        sharedRecords_1.push(data);\n                    }\n                });\n                for (var j = 0; j < sharedRecords_1.length; j++) {\n                    sharedRecords_1[j].ganttProperties.sharedTaskUniqueIds = ids_1;\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            _loop_2(i);\n        }\n    };\n    TaskProcessor.prototype.prepareRecordCollection = function (data, level, parentItem) {\n        var _this = this;\n        var length = data.length;\n        var _loop_3 = function (i) {\n            var tempData = data[i];\n            if (!isNullOrUndefined(this_3.parent.taskFields.segmentId)) {\n                var segmentData = this_3.segmentCollection.\n                    filter(function (x) { return x.key === tempData[_this.parent.taskFields.id]; });\n                if (segmentData.length > 0) {\n                    tempData[this_3.parent.taskFields.segments] = segmentData[0].items;\n                }\n            }\n            if (this_3.parent.taskFields.hasChildMapping && tempData['parentUniqueID']) {\n                parentItem = this_3.parent.getTaskByUniqueID(tempData['parentUniqueID']);\n            }\n            var ganttData = this_3.createRecord(tempData, level, parentItem, true);\n            if (!this_3.parent.enableValidation || (!this_3.parent.autoCalculateDateScheduling || (this_3.parent.isLoad &&\n                this_3.parent.treeGrid.loadChildOnDemand && this_3.parent.taskFields.hasChildMapping))) {\n                this_3.updateTaskLeftWidth(ganttData);\n            }\n            ganttData.index = this_3.recordIndex++;\n            this_3.parent.ids[ganttData.index] = ganttData.ganttProperties.rowUniqueID;\n            this_3.parent.flatData.push(ganttData);\n            this_3.parent.setTaskIds(ganttData);\n            var childData = tempData[this_3.parent.taskFields.child] || (tempData['taskData'] && tempData['taskData'][this_3.parent.taskFields.child]);\n            if (this_3.parent.viewType === 'ResourceView' && isNullOrUndefined(childData)\n                && isNullOrUndefined(ganttData.parentItem) && ganttData.level === 0) {\n                var ganttProp = ganttData.ganttProperties;\n                var parentData = ganttData;\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', null, parentData.ganttProperties, true);\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', null, parentData.ganttProperties, true);\n                var parentProgress = 0;\n                var parentProp = parentData.ganttProperties;\n                this_3.parent.setRecordValue('isMilestone', false, parentProp, true);\n                if (parentProp.isAutoSchedule) {\n                    this_3.calculateDuration(parentData);\n                }\n                this_3.updateWorkWithDuration(parentData);\n                var parentWork = parentProp.work;\n                this_3.parent.setRecordValue('work', parentWork, parentProp, true);\n                this_3.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                if (!isNullOrUndefined(this_3.parent.taskFields.type)) {\n                    this_3.updateMappingData(parentData, 'type');\n                }\n                this_3.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                this_3.parent.setRecordValue('totalProgress', 0, parentProp, true);\n                this_3.parent.setRecordValue('totalDuration', 0, parentProp, true);\n                if (!parentProp.isAutoSchedule) {\n                    this_3.parent.setRecordValue('autoDuration', this_3.calculateAutoDuration(parentProp), parentProp, true);\n                    this_3.updateAutoWidthLeft(parentData);\n                }\n                if (!this_3.parent.allowParentDependency) {\n                    this_3.resetDependency(parentData);\n                }\n                this_3.updateWidthLeft(parentData);\n                this_3.updateTaskData(parentData);\n            }\n            if (this_3.parent.taskFields.hasChildMapping) {\n                parentItem = null;\n            }\n            if (!isNullOrUndefined(childData) && childData.length > 0) {\n                this_3.prepareRecordCollection(childData, ganttData.level + 1, ganttData);\n            }\n        };\n        var this_3 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_3(i);\n        }\n    };\n    /**\n     * Method to update custom field values in gantt record\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.addCustomFieldValue = function (data, ganttRecord) {\n        var columns = this.parent.ganttColumns;\n        var length = columns.length;\n        if (length) {\n            for (var i = 0; i < length; i++) {\n                var fieldName = ganttRecord[columns[i].field];\n                if (fieldName === undefined) {\n                    this.parent.setRecordValue(columns[i].field, data[columns[i].field], ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To populate Gantt record\n     *\n     * @param {object} data .\n     * @param {number} level .\n     * @param {IGanttData} parentItem .\n     * @param {boolean} isLoad .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.createRecord = function (data, level, parentItem, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var resourceFields = this.parent.resourceFields;\n        var progress = data[taskSettings.progress];\n        var id = null;\n        var name = null;\n        var notes = data[taskSettings.notes];\n        progress = progress ? parseFloat(progress.toString()) ? parseFloat(progress.toString()) : 0 : 0;\n        progress = (100 < progress) ? 100 : progress;\n        var predecessors = data[taskSettings.dependency];\n        var baselineStartDate = this.getDateFromFormat(data[taskSettings.baselineStartDate], true);\n        var baselineEndDate = this.getDateFromFormat(data[taskSettings.baselineEndDate], true);\n        var ganttData = {};\n        var ganttProperties = {};\n        var autoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                data[taskSettings.manual] === true ? false : true;\n        this.parent.setRecordValue('ganttProperties', ganttProperties, ganttData);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessor && data['ganttProperties'].predecessor.length > 0 && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessor', data['ganttProperties'].predecessor, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(data[taskSettings.id])) {\n            id = data[taskSettings.id];\n            name = data[taskSettings.name];\n            var shouldLoadChild = (this.parent.loadChildOnDemand &&\n                taskSettings.hasChildMapping && data['taskData']) ? true : false;\n            if (shouldLoadChild) {\n                ganttData['taskData'] = data['taskData'];\n            }\n            else {\n                if (data['taskData'] && data['ganttProperties']) {\n                    this.addTaskData(ganttData, data['taskData'], isLoad);\n                }\n                else {\n                    this.addTaskData(ganttData, data, isLoad);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(data[resourceFields.id])) {\n            id = data[resourceFields.id];\n            if (isNullOrUndefined(data[resourceFields.name]) && data['resourceName'] === 'Unassigned Task') {\n                name = data['resourceName'];\n            }\n            else {\n                name = data[resourceFields.name];\n            }\n            this.addTaskData(ganttData, data, false);\n        }\n        this.parent.setRecordValue('taskId', id, ganttProperties, true);\n        this.parent.setRecordValue('taskName', name, ganttProperties, true);\n        // eslint-disable-next-line\n        this.parent && taskSettings.parentID && this.parent.setRecordValue('parentId', data[taskSettings.parentID], ganttProperties, true);\n        this.addCustomFieldValue(data, ganttData);\n        this.parent.setRecordValue('isAutoSchedule', autoSchedule, ganttProperties, true);\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n            this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n        }\n        else if (data['ganttProperties']) {\n            this.parent.setRecordValue('resourceInfo', data['ganttProperties'].resourceInfo, ganttProperties, true);\n        }\n        this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n        this.parent.setRecordValue('indicators', data[taskSettings.indicators], ganttProperties, true);\n        this.updateResourceName(ganttData);\n        if ((!isNullOrUndefined(data[taskSettings.child]) && data[taskSettings.child].length > 0) ||\n            (data['taskData'] && data['taskData'][taskSettings.child] && data['taskData'][taskSettings.child].length > 0)) {\n            this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n            if (!this.parent.allowParentDependency) {\n                this.resetDependency(ganttData);\n            }\n        }\n        else {\n            if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && ganttData.taskData[taskSettings.hasChildMapping]) {\n                this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            }\n            else {\n                this.parent.setRecordValue('hasChildRecords', false, ganttData);\n            }\n        }\n        this.calculateScheduledValues(ganttData, data, isLoad);\n        this.parent.setRecordValue('baselineStartDate', this.checkBaselineStartDate(baselineStartDate, ganttProperties), ganttProperties, true);\n        // set default end time, if hour is 0\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0 && baselineEndDate) {\n            dayEndTime = this.parent['getEndTime'](baselineEndDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (baselineEndDate && baselineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, baselineEndDate);\n        }\n        if ((ganttProperties.baselineStartDate && baselineEndDate &&\n            (ganttProperties.baselineStartDate.getTime() > baselineEndDate.getTime())) ||\n            ((!isNullOrUndefined(ganttProperties.baselineStartDate) && !isNullOrUndefined(ganttProperties.startDate)\n                && (ganttProperties.baselineStartDate.getTime() === ganttProperties.startDate.getTime()))\n                && (!isNullOrUndefined(baselineEndDate) && !isNullOrUndefined(ganttProperties.endDate)\n                    && (baselineEndDate.toLocaleDateString() === ganttProperties.endDate.toLocaleDateString())) &&\n                ganttProperties.isMilestone)) {\n            baselineEndDate = ganttProperties.baselineStartDate;\n        }\n        this.parent.setRecordValue('baselineEndDate', this.checkBaselineEndDate(baselineEndDate, ganttProperties), ganttProperties, true);\n        this.parent.setRecordValue('progress', progress, ganttProperties, true);\n        this.parent.setRecordValue('totalProgress', progress, ganttProperties, true);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessorsName && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessorsName', data['ganttProperties'].predecessorsName, ganttProperties, true);\n        }\n        else {\n            this.parent.setRecordValue('predecessorsName', predecessors, ganttProperties, true);\n        }\n        this.parent.setRecordValue('notes', notes, ganttProperties, true);\n        this.parent.setRecordValue('cssClass', data[taskSettings.cssClass], ganttProperties, true);\n        this.parent.setRecordValue('parentItem', this.getCloneParent(parentItem), ganttData);\n        if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && this.parent.currentViewData.length > 0) {\n            this.parent.setRecordValue('parentItem', ganttData.parentItem, this.parent.currentViewData[this.taskIds.indexOf(data[taskSettings.id].toString())]);\n        }\n        var parentUniqId = ganttData.parentItem ? ganttData.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, ganttData);\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(taskSettings.parentID)\n            && !isNullOrUndefined(ganttData.parentItem)) {\n            this.parent.setRecordValue('parentId', ganttData.parentItem.taskId, ganttProperties, true);\n        }\n        this.parent.setRecordValue('level', data['level'] ? data['level'] : level, ganttData);\n        if (data['ganttProperties'] && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n        }\n        else {\n            if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && data['uniqueID']) {\n                this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n            }\n            else {\n                this.parent.setRecordValue('uniqueID', getUid(this.parent.element.id + '_data_'), ganttData);\n            }\n        }\n        this.parent.setRecordValue('uniqueID', ganttData.uniqueID, ganttProperties, true);\n        this.parent.setRecordValue('childRecords', [], ganttData);\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n            !isNullOrUndefined(taskSettings.child)) {\n            this.parent.setRecordValue(taskSettings.child, [], ganttData);\n        }\n        if (ganttData.hasChildRecords) {\n            this.parent.setRecordValue('autoStartDate', ganttData.ganttProperties.startDate, ganttProperties);\n            this.parent.setRecordValue('autoEndDate', ganttData.ganttProperties.endDate, ganttProperties);\n            this.parent.setRecordValue('autoDuration', ganttData.ganttProperties.duration, ganttProperties);\n        }\n        this.parent.setRecordValue('expanded', (ganttData.hasChildRecords && this.parent.collapseAllParentTasks) ? false : true, ganttData);\n        this.updateExpandStateMappingValue(ganttData, data);\n        if (!isLoad) {\n            this.parent.setRecordValue('width', this.calculateWidth(ganttData), ganttProperties, true);\n            this.parent.setRecordValue('left', this.calculateLeft(ganttProperties), ganttProperties, true);\n            this.parent.setRecordValue('progressWidth', this.getProgressWidth(ganttProperties.width, progress), ganttProperties, true);\n            if (ganttProperties.baselineEndDate && ganttProperties.baselineStartDate) {\n                this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(ganttProperties), ganttProperties, true);\n                this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(ganttProperties), ganttProperties, true);\n            }\n        }\n        if (isNullOrUndefined(taskSettings.work)) {\n            this.updateWorkWithDuration(ganttData);\n        }\n        if (!isNullOrUndefined(taskSettings.manual)) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'manual');\n        }\n        this.updateTaskData(ganttData);\n        if (predecessors) {\n            this.parent.predecessorsCollection.push(ganttData);\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            parentItem.childRecords.push(ganttData);\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n                !isNullOrUndefined(this.parent.taskFields.child)) {\n                parentItem[this.parent.taskFields.child].push(ganttData.taskData);\n            }\n        }\n        if (this.parent.viewType === 'ProjectView') {\n            this.parent.setRecordValue('rowUniqueID', ganttProperties.taskId.toString(), ganttProperties, true);\n        }\n        else {\n            var uniqueId = ganttData.uniqueID.replace(this.parent.element.id + '_data_', '');\n            // if (this.parent.viewType === 'ResourceView' && typeof(ganttData.ganttProperties.taskId) === 'string') {\n            //     uniqueId = ganttProperties.taskId.toString();\n            // }\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttData);\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttProperties, true);\n            this.parent.setRecordValue('sharedTaskUniqueIds', [], ganttProperties, true);\n        }\n        if (this.parent.allowUnscheduledTasks && ganttData.ganttProperties.startDate\n            && (ganttData.ganttProperties.endDate || ganttData.ganttProperties.duration)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n            if (!isLoad) {\n                this.updateWidthLeft(ganttData);\n            }\n        }\n        this.parent.chartRowsModule.updateSegment(ganttData.ganttProperties.segments, ganttData.ganttProperties.taskId);\n        return ganttData;\n    };\n    TaskProcessor.prototype.sortSegmentsData = function (segments, onLoad, ganttProp) {\n        var _this = this;\n        if (onLoad) {\n            segments.sort(function (a, b) {\n                var startDate = _this.parent.taskFields.startDate;\n                return _this.getDateFromFormat(a[startDate]).getTime() - _this.getDateFromFormat(b[startDate]).getTime();\n            });\n        }\n        else {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n        }\n        return segments;\n    };\n    TaskProcessor.prototype.setSegmentsInfo = function (data, onLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var ganttSegments = [];\n        var segments;\n        var sumOfDuration = 0;\n        var remainingDuration = 0;\n        var predefinedProperties = [this.parent.taskFields.duration, this.parent.taskFields.endDate,\n            this.parent.taskFields.startDate, this.parent.taskFields.id];\n        var taskData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.segments)) {\n            segments = onLoad ? data.taskData[this.parent.taskFields.segments] : data.ganttProperties.segments;\n            if (!onLoad) {\n                if (data.taskData[this.parent.taskFields.segments] && data.taskData[this.parent.taskFields.segments].length > 0) {\n                    data.taskData[this.parent.taskFields.segments].forEach(function (segment) {\n                        var cleanedObject = {};\n                        var extraProperties = {};\n                        for (var key in segment) {\n                            if (predefinedProperties.indexOf(key) !== -1) {\n                                cleanedObject[key] = segment[key];\n                            }\n                            else {\n                                extraProperties[key] = segment[key];\n                            }\n                        }\n                        _this.customSegmentProperties.push(extraProperties);\n                    });\n                }\n            }\n            if (!isNullOrUndefined(segments) && segments.length > 1) {\n                this.sortSegmentsData(segments, onLoad, data.ganttProperties);\n                for (var i = 0; i < segments.length; i++) {\n                    var segment = segments[i];\n                    var startDate = onLoad ? segment[taskSettings.startDate] : segment.startDate;\n                    var endDate = onLoad ? segment[taskSettings.endDate] : segment.endDate;\n                    var duration = onLoad ? segment[taskSettings.duration] : segment.duration;\n                    startDate = this.getDateFromFormat(startDate);\n                    startDate = this.checkStartDate(startDate, data.ganttProperties, false);\n                    if (!isNullOrUndefined(duration)) {\n                        endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    else {\n                        endDate = this.getDateFromFormat(endDate);\n                        if (endDate && (isNullOrUndefined(duration) || String(duration) === '')) {\n                            var dayEndTime = void 0;\n                            if (this.parent.weekWorkingTime.length > 0) {\n                                dayEndTime = this.parent['getEndTime'](endDate);\n                            }\n                            else {\n                                dayEndTime = this.parent.defaultEndTime;\n                            }\n                            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                                this.setTime(dayEndTime, endDate);\n                            }\n                        }\n                        endDate = this.checkEndDate(endDate, data.ganttProperties, false);\n                        duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration - 1;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    segment = {};\n                    if (!(startDate && endDate) || !(startDate && duration)) {\n                        break;\n                    }\n                    sumOfDuration += Number(duration);\n                    segment.startDate = startDate;\n                    segment.endDate = endDate;\n                    segment.duration = Number(duration);\n                    segment.width = 0;\n                    segment.left = 0;\n                    segment.segmentIndex = i;\n                    ganttSegments.push(segment);\n                    if (!isNullOrUndefined(ganttSegments[i - 1])) {\n                        var unit = void 0;\n                        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier)) {\n                            if (this.parent.timelineSettings.bottomTier.unit === 'Minutes') {\n                                unit = 'minute';\n                            }\n                            else if (this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n                                unit = 'hour';\n                            }\n                            else {\n                                unit = data.ganttProperties.durationUnit;\n                            }\n                        }\n                        else {\n                            unit = data.ganttProperties.durationUnit;\n                        }\n                        var offsetDuration = this.getDuration(ganttSegments[i - 1].endDate, ganttSegments[i].startDate, unit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        segment.offsetDuration = offsetDuration;\n                        if (offsetDuration < 1) {\n                            if (this.parent.weekWorkingTime.length === 0) {\n                                segment.startDate = this.getEndDate(ganttSegments[i - 1].endDate, 1, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            }\n                            else {\n                                var prevSegmentDate = new Date(ganttSegments[i - 1].endDate.getTime());\n                                segment.startDate = new Date(prevSegmentDate.setHours(prevSegmentDate.getHours() + 24));\n                                if (this.isOnHolidayOrWeekEnd(segment.startDate, true)) {\n                                    do {\n                                        segment.startDate.setDate(segment.startDate.getDate() + 1);\n                                    } while (this.isOnHolidayOrWeekEnd(segment.startDate, true));\n                                }\n                                if (!this.parent.includeWeekend) {\n                                    segment.startDate = this.getNextWorkingDay(segment.startDate);\n                                }\n                                var dayEndTime = this.parent['getEndTime'](ganttSegments[i - 1].endDate);\n                                if (this.getSecondsInDecimal(ganttSegments[i - 1].endDate) === dayEndTime) {\n                                    this.setTime(this.parent['getEndTime'](segment.startDate), segment.startDate);\n                                }\n                            }\n                            segment.startDate = this.checkStartDate(segment.startDate, data.ganttProperties, false);\n                            segment.endDate = this.getEndDate(segment.startDate, segment.duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            segment.endDate = !taskSettings.duration && taskSettings.endDate\n                                && segment.endDate > data.ganttProperties.endDate ? data.ganttProperties.endDate : segment.endDate;\n                            segment.offsetDuration = 1;\n                        }\n                    }\n                    else {\n                        segment.offsetDuration = 0;\n                    }\n                    taskData.push(this.setSegmentTaskData(segment, segments[i]));\n                }\n                this.parent.setRecordValue('duration', sumOfDuration, data.ganttProperties, true);\n                if (!isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue('endDate', ganttSegments[ganttSegments.length - 1].endDate, data.ganttProperties, true);\n                }\n                if (!isNullOrUndefined(taskSettings.endDate) && !isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue(this.parent.taskFields.endDate, ganttSegments[ganttSegments.length - 1].endDate, data, true);\n                }\n                if (!onLoad && taskData && taskData.length > 0) {\n                    taskData.forEach(function (task, index) {\n                        var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                        taskData[index] = mergedObject;\n                    });\n                }\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, taskData, data);\n            }\n        }\n        if (ganttSegments.length > 1) {\n            this.parent.setRecordValue('segments', ganttSegments, data.ganttProperties, true);\n            this.parent.setRecordValue(this.parent.taskFields.segments, data.taskData[this.parent.taskFields.segments], data, true);\n        }\n        else {\n            ganttSegments = null;\n        }\n        return ganttSegments;\n    };\n    TaskProcessor.prototype.setSegmentTaskData = function (segments, segmenttaskData) {\n        var taskSettings = this.parent.taskFields;\n        var taskData = extend({}, {}, segmenttaskData, true);\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            taskData[this.parent.taskFields.startDate] = segments.startDate;\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            taskData[this.parent.taskFields.endDate] = segments.endDate;\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            taskData[this.parent.taskFields.duration] = Number(segments.duration);\n        }\n        return taskData;\n    };\n    /**\n     * Method to calculate work based on resource unit and duration.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateWorkWithDuration = function (ganttData) {\n        if (this.parent['triggeredColumnName'] === this.parent.taskFields.work && ganttData.ganttProperties.duration !== 0 &&\n            (isNullOrUndefined(ganttData.ganttProperties.resourceInfo) || ganttData.ganttProperties.resourceInfo.length !== 0)) {\n            return;\n        }\n        var resources = (this.parent.editModule && this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : ganttData.ganttProperties.resourceInfo;\n        var work = 0;\n        var resourceOneDayWork;\n        if ((!isNullOrUndefined(resources) && resources.length > 0) && !ganttData.hasChildRecords) {\n            var resourcesLength = resources.length;\n            var index = void 0;\n            var resourceUnit = void 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n            for (index = 0; index < resourcesLength; index++) {\n                // const resource: any = ganttData.ganttProperties.resourceInfo ? ganttData.ganttProperties.resourceInfo : resources;\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                resourceOneDayWork = (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : 0);\n                work += (resourceOneDayWork * durationInDay);\n            }\n            //Update work as per defined unit.\n            if (ganttData.ganttProperties.workUnit === 'minute') {\n                work = work * 60;\n            }\n            if (ganttData.ganttProperties.workUnit === 'day') {\n                work = work / actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (work % 1 !== 0) {\n                work = parseFloat(work.toFixed(2));\n            }\n        }\n        else if (!ganttData.hasChildRecords && !isNullOrUndefined(ganttData.ganttProperties.work) &&\n            (!isNullOrUndefined(ganttData.ganttProperties.duration) && ganttData.ganttProperties.duration > 0)) {\n            work = ganttData.ganttProperties.work;\n        }\n        if (ganttData.childRecords) {\n            if (ganttData.childRecords.length > 0 && this.parent.isOnEdit) {\n                var childCompletedWorks = 0;\n                for (var i = 0; i < ganttData.childRecords.length; i++) {\n                    childCompletedWorks += ganttData.childRecords[i].ganttProperties.work;\n                }\n                work += childCompletedWorks;\n            }\n        }\n        if (ganttData.ganttProperties.taskType === 'FixedUnit' && resourceOneDayWork === 0) {\n            work = 0;\n            this.parent.setRecordValue('duration', 0, ganttData.ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                this.parent.setRecordValue(this.parent.taskFields.duration, 0, ganttData, true);\n            }\n        }\n        this.parent.setRecordValue('work', work, ganttData.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.work) && !this.parent.isLoad) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} parent .\n     * @returns {IParent} .\n     * @private\n     */\n    TaskProcessor.prototype.getCloneParent = function (parent) {\n        if (!isNullOrUndefined(parent)) {\n            var cloneParent = {};\n            cloneParent.uniqueID = parent.uniqueID;\n            cloneParent.expanded = parent.expanded;\n            cloneParent.level = parent.level;\n            cloneParent.index = parent.index;\n            cloneParent.taskId = parent.ganttProperties.rowUniqueID;\n            return cloneParent;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateResources = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttProperties = void 0;\n            var ganttData = void 0;\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttProperties = this.parent.flatData[index].ganttProperties;\n                ganttData = this.parent.flatData[index];\n                this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n                this.updateResourceName(ganttData);\n            }\n        }\n    };\n    TaskProcessor.prototype.addTaskData = function (ganttData, data, isLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var dataManager = this.parent.dataSource;\n        if (isLoad) {\n            if (taskSettings.parentID || (dataManager instanceof DataManager &&\n                dataManager.dataSource.json && dataManager.dataSource.offline)) {\n                if (taskSettings.parentID) {\n                    var id = data[taskSettings.id];\n                    var index = this.taskIds.indexOf(id.toString());\n                    var tempData_1 = (index > -1) ? this.dataArray[index] : {};\n                    if (!isNullOrUndefined(this.parent.taskFields.segmentId)) {\n                        var segmentDataCollection = this.segmentCollection.\n                            filter(function (x) { return x.key === tempData_1[_this.parent.taskFields.id]; });\n                        if (segmentDataCollection.length > 0) {\n                            tempData_1[this.parent.taskFields.segments] = segmentDataCollection[0].items;\n                        }\n                    }\n                    this.parent.setRecordValue('taskData', tempData_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData', data, ganttData);\n                }\n            }\n            else {\n                this.parent.setRecordValue('taskData', data, ganttData);\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData', data, ganttData);\n        }\n    };\n    TaskProcessor.prototype.updateExpandStateMappingValue = function (ganttData, data) {\n        var expandStateMapping = this.parent.taskFields.expandState;\n        var mappingValue = data[expandStateMapping];\n        var updatableValue;\n        if (expandStateMapping && ganttData.hasChildRecords) {\n            if (!isNullOrUndefined(mappingValue)) {\n                updatableValue = mappingValue.toString() === 'true' ? true : false;\n            }\n            else if (isNullOrUndefined(mappingValue) && !this.parent.collapseAllParentTasks) {\n                updatableValue = true;\n            }\n            else if (isNullOrUndefined(mappingValue) && this.parent.collapseAllParentTasks) {\n                updatableValue = false;\n            }\n            this.parent.setRecordValue('taskData.' + expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue(expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue('expanded', updatableValue, ganttData);\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.setValidatedDates = function (ganttData, data) {\n        var ganttProperties = ganttData.ganttProperties;\n        var taskSettings = this.parent.taskFields;\n        var duration = data[taskSettings.duration];\n        var startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n        var endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        this.parent.setRecordValue('startDate', new Date(startDate.getTime()), ganttProperties, true);\n        if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n        }\n        else {\n            this.calculateDuration(ganttData);\n        }\n        this.parent.setRecordValue('endDate', new Date((endDate.getTime())), ganttProperties, true);\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @param {boolean} isLoad .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateScheduledValues = function (ganttData, data, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        var duration = data[taskSettings.duration];\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        var startDate;\n        var endDate;\n        if (ganttProperties.startDate && ganttProperties.endDate) {\n            startDate = this.getDateFromFormat(ganttProperties.startDate, true);\n            endDate = this.getDateFromFormat(ganttProperties.endDate, true);\n        }\n        else {\n            startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n            endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        }\n        var segments = taskSettings.segments ? (data[taskSettings.segments] ||\n            ganttData.taskData[taskSettings.segments]) : null;\n        var isMileStone = taskSettings.milestone ? data[taskSettings.milestone] ? true : false : false;\n        var durationMapping = data[taskSettings.durationUnit] ? data[taskSettings.durationUnit] : '';\n        this.parent.setRecordValue('durationUnit', this.validateDurationUnitMapping(durationMapping), ganttProperties, true);\n        var work = !isNullOrUndefined(data[taskSettings.work]) ? parseFloat(data[taskSettings.work]) : 0;\n        this.parent.setRecordValue('workUnit', this.validateWorkUnitMapping(this.parent.workUnit), ganttProperties, true);\n        var taskTypeMapping = data[taskSettings.type] ? data[taskSettings.type] : '';\n        var tType = this.validateTaskTypeMapping(taskTypeMapping);\n        this.parent.setRecordValue('taskType', tType, ganttProperties, true);\n        var isUnassignedTask = data[this.parent.resourceFields.name] === this.parent.localeObj.getConstant('unassignedTask');\n        if (isUnassignedTask) {\n            this.parent.setRecordValue('taskType', 'FixedDuration', ganttProperties, true);\n        }\n        if (isLoad && !this.parent.enableValidation && startDate && endDate) {\n            this.setValidatedDates(ganttData, data);\n        }\n        else {\n            if (!endDate && !startDate && (isNullOrUndefined(duration) || duration === '')) {\n                if (this.parent.allowUnscheduledTasks) {\n                    return;\n                }\n                else {\n                    this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            else if (startDate) {\n                this.calculateDateFromStartDate(startDate, endDate, duration, ganttData, isLoad);\n            }\n            else if (endDate) {\n                this.calculateDateFromEndDate(endDate, duration, ganttData);\n            }\n            else if (!isNullOrUndefined(duration) && duration !== '') {\n                this.updateDurationValue(duration, ganttProperties);\n                if (this.parent.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                    this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n        }\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(ganttData.ganttProperties.startDate)) {\n                ganttData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n                ganttData.taskData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n            }\n            if (!isNullOrUndefined(ganttData.ganttProperties.endDate)) {\n                ganttData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n                ganttData.taskData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n            }\n        }\n        if (!isNullOrUndefined(segments)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n        }\n        if (ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(isMileStone) && isMileStone) {\n            this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(taskSettings.work)) {\n            this.parent.setRecordValue('durationUnit', this.parent.durationUnit, ganttProperties, true);\n            if (isNaN(work) || isNullOrUndefined(work)) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                }\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('work', work, ganttProperties, true);\n                switch (tType) {\n                    case 'FixedDuration':\n                        // To validate the work column as well,when initial dataset have 0 duration\n                        if ((!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) &&\n                            ganttData.ganttProperties.resourceInfo.length !== 0) ||\n                            ganttProperties.duration === 0) {\n                            this.updateWorkWithDuration(ganttData);\n                        }\n                        break;\n                    case 'FixedWork':\n                        if ((!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) &&\n                            ganttData.ganttProperties.resourceInfo.length !== 0) ||\n                            ganttProperties.work === 0) {\n                            this.updateDurationWithWork(ganttData);\n                        }\n                        break;\n                    case 'FixedUnit':\n                        if (!ganttData.hasChildRecords) {\n                            this.updateDurationWithWork(ganttData);\n                        }\n                        break;\n                }\n                if (!isNullOrUndefined(taskSettings.type)) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'type');\n                }\n                if (ganttProperties.duration === 0) {\n                    this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                    }\n                    this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                }\n                else if (!isNullOrUndefined(ganttProperties.startDate) && !isNullOrUndefined(ganttProperties.duration)) {\n                    this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, false, ganttData, true);\n                    }\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n        else if (taskSettings.type && ganttProperties.taskType) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'type');\n        }\n    };\n    /**\n     * Method to update duration with work value.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateDurationWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = (this.parent.editModule && this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources) && resources.length > 0) {\n            var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n            var totalResourceOneDayWork = 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var updatedDuration = 0;\n            var resourceUnit = void 0;\n            var index = void 0;\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                totalResourceOneDayWork += (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : (ganttData.ganttProperties.taskType !== 'FixedUnit' ? ((ganttProperties.taskType !== 'FixedWork' && ganttProperties.duration !== 0) ? actualOneDayWork : 0) : 0)); //in hours\n            }\n            var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n            if (resourcesLength > 0 && totalResourceOneDayWork > 0) {\n                updatedDuration += (totalHours / totalResourceOneDayWork);\n            }\n            if (ganttProperties.taskType === 'FixedUnit' && totalResourceOneDayWork === 0) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.work, 0, ganttData, true);\n            }\n            //Update duration as per defined unit.\n            if (ganttProperties.durationUnit === 'minute') {\n                updatedDuration = updatedDuration * actualOneDayWork * 60;\n            }\n            if (ganttProperties.durationUnit === 'hour') {\n                updatedDuration = updatedDuration * actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (updatedDuration % 1 !== 0) {\n                updatedDuration = parseFloat(updatedDuration.toFixed(2));\n            }\n            if (!isNullOrUndefined(ganttProperties.duration)) {\n                this.parent.setRecordValue('duration', updatedDuration, ganttProperties, true);\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        }\n    };\n    /**\n     * Update units of resources with respect to duration and work of a task.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateUnitWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = (!this.parent.isLoad && !isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.dialogModule) && !this.parent.editModule.dialogModule['isEdit'] &&\n            (!isNullOrUndefined(this.parent.editModule.cellEditModule) && !this.parent.editModule.cellEditModule.isCellEdit))\n            ? this.parent.editModule.dialogModule.ganttResources : ganttProperties.resourceInfo;\n        if (this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n            (this.parent.editModule.taskbarEditModule.taskBarEditAction === 'LeftResizing' || this.parent.editModule.taskbarEditModule.taskBarEditAction === 'RightResizing')) {\n            resources = ganttData.ganttProperties.resourceInfo;\n        }\n        var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        var actualOneDayWork = (totSeconds) / 3600;\n        if (resourcesLength === 0) {\n            return;\n        }\n        var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n        var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n        var totalUnitInPercentage = durationInDay > 0 ? (totalHours / (durationInDay * actualOneDayWork)) * 100 : 0;\n        var individualUnit = totalUnitInPercentage === 0 ? 0 : totalUnitInPercentage > 0 ?\n            totalUnitInPercentage / resourcesLength : 100;\n        //To check the decimal places.\n        if (individualUnit % 1 !== 0) {\n            individualUnit = parseFloat(individualUnit.toFixed(2));\n        }\n        for (var index = 0; index < resourcesLength; index++) {\n            resources[index][this.parent.resourceFields.unit] = individualUnit;\n            if (!this.parent.isLoad && !isNullOrUndefined(this.parent.editModule) &&\n                !isNullOrUndefined(this.parent.editModule.dialogModule) &&\n                !this.parent.editModule.dialogModule['isEdit'] &&\n                (!isNullOrUndefined(this.parent.editModule.cellEditModule) && !this.parent.editModule.cellEditModule.isCellEdit)) {\n                if (ganttProperties.resourceInfo) {\n                    ganttProperties.resourceInfo[index][this.parent.resourceFields.unit] = individualUnit;\n                }\n            }\n            if (this.parent.editModule && this.parent.editModule.dialogModule &&\n                !isNullOrUndefined(this.parent.editModule.dialogModule.ganttResources[index])) {\n                this.parent.editModule.dialogModule.ganttResources[index][this.parent.resourceFields.unit] = individualUnit;\n            }\n        }\n        //To update the unit value in data source\n        this.updateResourceName(ganttData);\n    };\n    TaskProcessor.prototype.calculateDateFromEndDate = function (endDate, duration, ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            dayEndTime = this.parent['getEndTime'](endDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, endDate);\n        }\n        var validateAsMilestone = (parseInt(duration, 10) === 0) ? true : null;\n        this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties, validateAsMilestone), ganttProperties, true);\n        if (isNullOrUndefined(duration) || duration === '') {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n            this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n        }\n    };\n    TaskProcessor.prototype.calculateDateFromStartDate = function (startDate, endDate, duration, ganttData, isLoad) {\n        var ganttProperties = ganttData.ganttProperties;\n        var validateAsMilestone = (parseInt(duration, 10) === 0 || ((startDate && endDate) &&\n            (new Date(startDate.getTime()) === new Date(endDate.getTime())))) ? true : null;\n        this.parent.setRecordValue('startDate', this.checkStartDate(startDate, ganttProperties, validateAsMilestone, isLoad), ganttProperties, true);\n        if (this.parent.isTreeGridRendered && ganttData) {\n            this.updateTaskData(ganttData);\n        }\n        if (!endDate && (isNullOrUndefined(duration) || duration === '')) {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.calculateEndDate(ganttData);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && !endDate) {\n            this.updateDurationValue(duration, ganttProperties);\n            this.calculateEndDate(ganttData);\n        }\n        else if (endDate && (isNullOrUndefined(duration) || duration === '')) {\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                this.setTime(dayEndTime, endDate);\n            }\n            this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties), ganttProperties, true);\n            if (this.compareDates(ganttProperties.startDate, ganttProperties.endDate) === 1) {\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            }\n            else {\n                this.calculateDuration(ganttData);\n            }\n        }\n        else {\n            this.updateDurationValue(duration, ganttProperties);\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.calculateEndDate(ganttData);\n            }\n            else {\n                this.parent.setRecordValue('endDate', endDate, ganttProperties, true);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} parentWidth .\n     * @param {number} percent .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getProgressWidth = function (parentWidth, percent) {\n        return (parentWidth * percent) / 100;\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateWidth = function (ganttData, isAuto) {\n        var ganttProp = ganttData.ganttProperties;\n        var sDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var eDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var unscheduledTaskWidth = 3;\n        if (isNullOrUndefined(sDate) && isNullOrUndefined(eDate)) {\n            sDate = this.getValidStartDate(ganttProp, isAuto);\n            eDate = this.getValidEndDate(ganttProp, isAuto);\n        }\n        if (isNullOrUndefined(sDate) || isNullOrUndefined(eDate)) {\n            return unscheduledTaskWidth;\n        }\n        else if (ganttProp.isMilestone && (!ganttData.hasChildRecords || ganttProp.isAutoSchedule)) {\n            //let taskBarHeight: number = this.getTaskbarHeight();\n            return 0;\n        }\n        else {\n            return this.getTaskWidth(sDate, eDate, ganttProp);\n        }\n    };\n    TaskProcessor.prototype.getTaskbarHeight = function () {\n        var rowHeight = this.parent.rowHeight;\n        var taskBarHeight = this.parent.taskbarHeight;\n        if (taskBarHeight < rowHeight) {\n            return taskBarHeight;\n        }\n        else {\n            return rowHeight;\n        }\n    };\n    /**\n     * Method to calculate left\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateLeft = function (ganttProp, isAuto) {\n        var sDate = null;\n        var left = -300;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration; // eslint-disable-line\n        var milestone = ganttProp.isMilestone;\n        var ganttRecord = this.parent.getTaskByUniqueID(ganttProp.uniqueID);\n        if (ganttRecord && this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) && isNullOrUndefined(endDate)\n            && !isNullOrUndefined(duration) && !ganttRecord.hasChildRecords && ganttRecord.parentItem &&\n            (this.parent.taskMode === 'Manual' || (this.parent.taskMode === 'Custom' && ganttRecord[this.parent.taskFields.manual]))) {\n            var parentRec = this.parent.getParentTask(ganttRecord.parentItem);\n            if (parentRec.ganttProperties.startDate) {\n                startDate = parentRec.ganttProperties.startDate;\n            }\n        }\n        if (startDate) {\n            sDate = new Date(startDate.getTime());\n        }\n        else if (endDate) {\n            sDate = new Date(endDate.getTime());\n            milestone = isNullOrUndefined(startDate) && this.parent.allowUnscheduledTasks ? false : true;\n        }\n        else {\n            sDate = this.getValidStartDate(ganttProp);\n        }\n        if (!isNullOrUndefined(sDate)) {\n            left = this.getTaskLeft(sDate, milestone);\n        }\n        return left;\n    };\n    /**\n     * calculate the left position of the auto scheduled taskbar\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoLeft = function (ganttProperties) {\n        return this.getTaskLeft(ganttProperties.autoStartDate, ganttProperties.isMilestone);\n    };\n    /**\n     * To calculate duration of Gantt record with auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     */\n    TaskProcessor.prototype.calculateAutoDuration = function (ganttProperties) {\n        return this.getDuration(ganttProperties.autoStartDate, ganttProperties.autoEndDate, ganttProperties.durationUnit, false, ganttProperties.isMilestone);\n    };\n    /**\n     * calculate the with between auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoWidth = function (ganttProperties) {\n        return this.getTaskWidth(ganttProperties.autoStartDate, ganttProperties.autoEndDate);\n    };\n    /**\n     * calculate the left margin of the baseline element\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineLeft = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate) {\n            return (this.getTaskLeft(baselineStartDate, ganttProperties.isMilestone));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * calculate the width between baseline start date and baseline end date.\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineWidth = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate && (baselineStartDate.getTime() !== baselineEndDate.getTime())) {\n            this.isBaseline = true;\n            return (this.getTaskWidth(baselineStartDate, baselineEndDate));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * To get tasks width value\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {ITaskData} [ganttData] .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskWidth = function (startDate, endDate, ganttData) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var tierMode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit !== 'None' ? this.parent.timelineModule.customTimelineSettings.bottomTier.unit :\n            this.parent.timelineModule.customTimelineSettings.topTier.unit;\n        var zoomOrTimeline = this.parent.timelineModule.customTimelineSettings;\n        var countValue = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'].count :\n            zoomOrTimeline['topTier'].count;\n        var isValid = false;\n        var modifiedsDate = new Date(startDate.getTime());\n        var hour = 0;\n        if (!isNullOrUndefined(ganttData) && ganttData.durationUnit === 'hour') {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 60 * 1000);\n        }\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute') || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 1000);\n        }\n        if (this.isBaseline && tierMode === 'Day') {\n            var duration = this.getDuration(sDate, eDate, 'day', true, false);\n            this.isBaseline = false;\n            if (duration > 0 && duration < 1) {\n                return (duration * this.parent.perDayWidth);\n            }\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            var date = new Date(startDate.getTime());\n            for (var count = startDate.getDate(); count <= endDate.getDate(); count++) {\n                var day = date.getDay();\n                var currentDay = void 0;\n                var weekWorkingTime = this.parent.weekWorkingTime;\n                switch (day) {\n                    case 0:\n                        currentDay = 'Sunday';\n                        break;\n                    case 1:\n                        currentDay = 'Monday';\n                        break;\n                    case 2:\n                        currentDay = 'Tuesday';\n                        break;\n                    case 3:\n                        currentDay = 'Wednesday';\n                        break;\n                    case 4:\n                        currentDay = 'Thursday';\n                        break;\n                    case 5:\n                        currentDay = 'Friday';\n                        break;\n                    case 6:\n                        currentDay = 'Saturday';\n                        break;\n                    default:\n                        currentDay = '';\n                }\n                var isValid_1 = true;\n                for (var i = 0; i < weekWorkingTime.length; i++) {\n                    if (weekWorkingTime[i][currentDay]\n                        && weekWorkingTime[i][currentDay].length > 0) {\n                        isValid_1 = false;\n                        for (var j = 0; j < weekWorkingTime[i][currentDay].length; j++) {\n                            hour = hour + weekWorkingTime[i][currentDay][j].to\n                                - weekWorkingTime[i][currentDay][j].from;\n                        }\n                    }\n                }\n                if (isValid_1) {\n                    for (var k = 0; k < this.parent.dayWorkingTime.length; k++) {\n                        hour = hour + this.parent.dayWorkingTime[k].to - this.parent.dayWorkingTime[k].from;\n                    }\n                }\n                date = new Date(date.setDate(date.getDate() + 1));\n                if (!this.parent.includeWeekend) {\n                    date = this.parent.dataOperation.getNextWorkingDay(date);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < this.parent.dayWorkingTime.length; i++) {\n                hour = hour + this.parent.dayWorkingTime[i].to - this.parent.dayWorkingTime[i].from;\n            }\n        }\n        var dateDiff = modifiedsDate.getTime() - sDate.getTime();\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute' && ganttData.duration < (hour * 60)) || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' &&\n            !isNullOrUndefined(ganttData.duration) && /^\\d+\\.\\d+$/.test(ganttData.duration.toString())) {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if ((Math.floor((dateDiff / (1000 * 60 * 60)) % 24) >= hour || dateDiff === 0)) {\n                    isValid = true;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime && isValid) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime && isValid) {\n                    eDate.setHours(24);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            else {\n                isValid = true;\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (isValid) {\n                    if (this.parent.taskFields.duration && ganttData.durationUnit === 'day' && /^\\d+\\.\\d+$/.test(ganttData.duration.toString()) && this.parent.timelineModule.bottomTier === 'Day'\n                        && isNullOrUndefined(ganttData.segments)) {\n                        var holidaysCount = this.parent.holidays && this.parent.holidays.length > 0\n                            ? this.getHolidaysCount(sDate, eDate)\n                            : 0;\n                        var weekendCount = !this.parent.includeWeekend ? this.getWeekendCount(sDate, eDate) : 0;\n                        return ((holidaysCount + weekendCount + ganttData.duration) * this.parent.perDayWidth);\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate, true) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                    }\n                }\n                else {\n                    if (ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n                        return (ganttData.duration * this.parent.perDayWidth);\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * hour)) * this.parent.perDayWidth);\n                    }\n                }\n            }\n        }\n        else {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime) {\n                    eDate.setHours(24);\n                    eDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (this.parent.isInDst(sDate) || this.parent.isInDst(eDate)) {\n                    var timeDifference = this.getTimeDifference(sDate, eDate, true);\n                    var totalWidth = (timeDifference / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    var sOffset = sDate.getTimezoneOffset();\n                    var eOffset = eDate.getTimezoneOffset();\n                    var topTier = this.parent.timelineModule.customTimelineSettings.topTier;\n                    if (topTier && topTier['unit'] === 'Hour' && topTier['count'] === 1) {\n                        tierMode = topTier['unit'];\n                        countValue = topTier['count'];\n                    }\n                    var unitHour = ((tierMode === 'Hour' && countValue === 1) || (tierMode === 'Minutes' && countValue === 60));\n                    if (unitHour && sOffset !== eOffset && sOffset > eOffset) {\n                        totalWidth = totalWidth - (this.parent.perDayWidth / 24);\n                    }\n                    return totalWidth;\n                }\n                else {\n                    return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                }\n            }\n        }\n    };\n    TaskProcessor.prototype.getDSTTransitions = function (year, timeZone) {\n        function findNthWeekday(year, month, dayOfWeek, n) {\n            var firstDayOfMonth = new Date(Date.UTC(year, month, 1));\n            var firstDayOfWeek = firstDayOfMonth.getUTCDay();\n            var offset = (dayOfWeek - firstDayOfWeek + 7) % 7;\n            return new Date(Date.UTC(year, month, 1 + offset + (n - 1) * 7, 2, 0, 0));\n        }\n        function convertToTimezone(date, timeZone) {\n            var formatter = new Intl.DateTimeFormat('en-US', {\n                timeZone: timeZone,\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit',\n                hour12: false\n            });\n            var formatted = formatter.format(date);\n            var _a = formatted.match(/\\d+/g).map(Number), month = _a[0], day = _a[1], year = _a[2], hour = _a[3], minute = _a[4], second = _a[5];\n            return new Date(year, month - 1, day, hour, minute, second);\n        }\n        var dstStartDate = findNthWeekday(year, 2, 0, 5);\n        var dstEndDate = findNthWeekday(year, 9, 0, 5);\n        return {\n            dstStart: convertToTimezone(dstStartDate, timeZone),\n            dstEnd: convertToTimezone(dstEndDate, timeZone)\n        };\n    };\n    TaskProcessor.prototype.hasDSTTransition = function (year) {\n        var january = new Date(year, 0, 1);\n        var july = new Date(year, 6, 1);\n        var janOffset = january.getTimezoneOffset();\n        var julOffset = july.getTimezoneOffset();\n        // If the offsets are different, it means there is a DST transition\n        return janOffset !== julOffset;\n    };\n    /**\n     * Get task left value\n     *\n     * @param {Date} startDate .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isFromTimelineVirtulization .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskLeft = function (startDate, isMilestone, isFromTimelineVirtulization) {\n        var isTimeSet = false;\n        var date = new Date(startDate.getTime());\n        var tierMode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit !== 'None' ? this.parent.timelineModule.customTimelineSettings.bottomTier.unit :\n            this.parent.timelineModule.customTimelineSettings.topTier.unit;\n        var zoomOrTimeline = this.parent.timelineModule.customTimelineSettings;\n        var countValue = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'].count :\n            zoomOrTimeline['topTier'].count;\n        if (tierMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](date);\n                dayEndTime = this.parent['getEndTime'](date);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(date) === dayStartTime) {\n                date.setHours(0, 0, 0, 0);\n            }\n            else if (isMilestone && this.getSecondsInDecimal(date) === dayEndTime) {\n                date.setHours(24);\n                isTimeSet = true;\n            }\n            else if (this.getSecondsInDecimal(date) === dayEndTime && this.parent.allowUnscheduledTasks) {\n                date.setHours(22);\n                isTimeSet = true;\n            }\n        }\n        var leftValueForStartDate;\n        var isValid = true;\n        if ((this.parent.editModule && ((this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditAction) || (this.parent.editModule.dialogModule && this.parent.editModule.dialogModule['isEdit']) ||\n            (this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit) ||\n            this.parent.ganttChartModule.scrollObject['isSetScrollLeft'])) && !isFromTimelineVirtulization) {\n            isValid = false;\n        }\n        if (this.parent.enableTimelineVirtualization && isValid && !this.parent.timelineModule['performedTimeSpanAction']) {\n            leftValueForStartDate = (this.parent.enableTimelineVirtualization\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n                ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        }\n        var timelineStartDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).toString()) : new Date(this.parent.timelineModule.timelineStartDate);\n        if (timelineStartDate) {\n            var leftValue = void 0;\n            var hasDST = this.hasDSTTransition(startDate.getFullYear());\n            var transitions = void 0;\n            if (hasDST) {\n                transitions = this.getDSTTransitions(startDate.getFullYear(), this.systemTimeZone);\n            }\n            if (this.parent.isInDst(startDate) && !this.parent.isInDst(timelineStartDate)) {\n                var newTimelineStartDate = void 0;\n                if (this.parent.isInDst(date)) {\n                    newTimelineStartDate = new Date(timelineStartDate.getTime() - (60 * 60 * 1000));\n                }\n                else {\n                    newTimelineStartDate = new Date(timelineStartDate.getTime());\n                }\n                leftValue = (date.getTime() - newTimelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n            }\n            else {\n                var width = void 0;\n                if (this.parent.timelineModule.bottomTier === 'Day' && this.getSecondsInDecimal(date) !== this.parent.defaultStartTime && this.getSecondsInDecimal(date) !== 0 &&\n                    !isTimeSet && !this.parent['isFromEventMarker']) {\n                    var newDate = new Date(startDate.getTime());\n                    var setStartDate = new Date(newDate.setHours(0, 0, 0, 0));\n                    var duration = this.getDuration(setStartDate, startDate, 'day', true, false);\n                    width = duration * this.parent.perDayWidth;\n                    date.setHours(0, 0, 0, 0);\n                    leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                    if (this.getSecondsInDecimal(date) !== this.parent.defaultStartTime && this.parent.timelineModule.bottomTier === 'Day') {\n                        leftValue += width;\n                    }\n                }\n                else {\n                    var newTimelineStartDate = void 0;\n                    if (date.getTimezoneOffset() < timelineStartDate.getTimezoneOffset()) {\n                        newTimelineStartDate = new Date(timelineStartDate.getTime() - (60 * 60 * 1000));\n                    }\n                    else {\n                        newTimelineStartDate = new Date(timelineStartDate.getTime());\n                    }\n                    leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                }\n            }\n            var timelineStartTime = timelineStartDate.getTime();\n            var dstStartTime = void 0;\n            if (transitions && transitions['dstStart']) {\n                dstStartTime = transitions['dstStart'].getTime();\n            }\n            var isBeforeOrAtDSTStart = timelineStartTime <= dstStartTime;\n            if (hasDST && this.parent.dayWorkingTime[0]['properties'].from > transitions['dstStart'].getHours() && isBeforeOrAtDSTStart && tierMode === 'Day' && this.getSecondsInDecimal(date) === this.parent.defaultStartTime) {\n                if ((leftValue % this.parent.perDayWidth) !== 0) {\n                    var leftDifference = this.parent.perDayWidth - (leftValue % this.parent.perDayWidth);\n                    leftValue = leftValue + leftDifference;\n                }\n            }\n            if (this.parent.isInDst(timelineStartDate) && !this.parent.isInDst(startDate) && (this.parent.timelineModule.topTier === 'Hour' || this.parent.timelineModule.bottomTier === 'Hour')) {\n                leftValue = leftValue - this.parent.timelineSettings.timelineUnitSize;\n            }\n            var topTier = this.parent.timelineModule.customTimelineSettings.topTier;\n            if (topTier && topTier['unit'] === 'Hour' && topTier['count'] === 1) {\n                tierMode = topTier['unit'];\n                countValue = topTier['count'];\n            }\n            var unitHour = ((tierMode === 'Hour' && countValue === 1) || (tierMode === 'Minutes' && countValue === 60));\n            if (hasDST && unitHour && startDate >= transitions['dstStart'] && isBeforeOrAtDSTStart && !this.parent.enableTimelineVirtualization) {\n                leftValue = leftValue - (this.parent.perDayWidth / 24);\n            }\n            return leftValue;\n        }\n        else {\n            return 0;\n        }\n    };\n    TaskProcessor.prototype.getSplitTaskWidth = function (sDate, duration, data) {\n        var startDate = new Date(sDate.getTime());\n        var endDate = new Date((this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false).getTime()));\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](startDate);\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(startDate) === dayStartTime) {\n                startDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayEndTime) {\n                endDate.setHours(24);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayStartTime) {\n                endDate.setHours(0, 0, 0, 0);\n            }\n        }\n        return ((this.getTimeDifference(startDate, endDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n    };\n    TaskProcessor.prototype.getSplitTaskLeft = function (sDate, segmentTaskStartDate) {\n        var stDate = new Date(sDate.getTime());\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var segmentStartTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](stDate);\n                segmentStartTime = this.parent['getStartTime'](segmentTaskStartDate);\n            }\n            else {\n                segmentStartTime = dayStartTime = this.parent.defaultStartTime;\n            }\n            if (this.getSecondsInDecimal(stDate) === dayStartTime) {\n                stDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(segmentTaskStartDate) === segmentStartTime) {\n                segmentTaskStartDate.setHours(0, 0, 0, 0);\n            }\n        }\n        if (segmentTaskStartDate) {\n            return (stDate.getTime() - segmentTaskStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {string} fieldName .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateMappingData = function (ganttData, fieldName) {\n        var columnMapping = this.parent.columnMapping;\n        var ganttProp = ganttData.ganttProperties;\n        if (isNullOrUndefined(columnMapping[fieldName]) && fieldName !== 'taskType' && fieldName !== 'segments') {\n            return;\n        }\n        if (fieldName === 'predecessorName') {\n            //\n        }\n        else if (fieldName === 'resourceInfo') {\n            var resourceData = ganttProp.resourceInfo;\n            var resourceSettings = this.parent.resourceFields;\n            // eslint-disable-next-line\n            var resourcesId = [];\n            var resourcesName = [];\n            if (!isNullOrUndefined(resourceData)) {\n                for (var i = 0; i < resourceData.length; i++) {\n                    resourcesId.push(resourceData[i][resourceSettings.id]);\n                    var resName = resourceData[i][resourceSettings.name];\n                    var resourceUnit = resourceData[i][resourceSettings.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (resName) {\n                        resourcesName.push(resName);\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceNames', resourcesName.join(','), ganttProp, true);\n            if (this.isResourceString) {\n                if (ganttData.taskData[this.parent.taskFields.resourceInfo] &&\n                    ganttData.taskData[this.parent.taskFields.resourceInfo][0]) {\n                    ganttData.taskData[this.parent.taskFields.resourceInfo] =\n                        ganttData.taskData[this.parent.taskFields.resourceInfo][0][resourceSettings.name];\n                }\n                this.updateTaskDataResource(ganttData);\n            }\n            else {\n                this.updateTaskDataResource(ganttData);\n            }\n            this.parent.setRecordValue(columnMapping[fieldName], resourcesName.join(','), ganttData);\n        }\n        else if (fieldName === 'startDate' || fieldName === 'endDate') {\n            this.setRecordDate(ganttData, ganttProp[fieldName], columnMapping[fieldName]);\n        }\n        else if (fieldName === 'duration') {\n            this.setRecordDuration(ganttData, columnMapping[fieldName]);\n        }\n        else if (fieldName === 'work') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.work, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n        else if (fieldName === 'type') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.taskType, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp.taskType, ganttData);\n        }\n        else if (fieldName === 'manual') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n        }\n        else if (fieldName === 'segments') {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, this.segmentTaskData(ganttData), ganttData);\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp[fieldName], ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n    };\n    TaskProcessor.prototype.segmentTaskData = function (data) {\n        var _this = this;\n        var segments = data.ganttProperties.segments;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(segments)) {\n            return null;\n        }\n        var taskData = extend([], [], data.taskData[taskSettings.segments], true);\n        for (var i = 0; i < segments.length; i++) {\n            if (this.parent.isEdit || (this.parent.editModule && this.parent.editModule.dialogModule &&\n                getValue('isEdit', this.parent.editModule.dialogModule)) || (this.parent.contextMenuModule && getValue('isEdit', this.parent.contextMenuModule))) {\n                taskData[i] = {};\n            }\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                taskData[i][this.parent.taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                taskData[i][this.parent.taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                taskData[i][this.parent.taskFields.duration] = Number(segments[i].duration);\n            }\n        }\n        if (this.customSegmentProperties.length > 0 && taskData && taskData.length > 0) {\n            taskData.forEach(function (task, index) {\n                var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                taskData[index] = mergedObject;\n            });\n        }\n        return taskData;\n    };\n    /**\n     * Method to update the task data resource values\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateTaskDataResource = function (ganttData) {\n        var resourceData = ganttData.ganttProperties.resourceInfo;\n        var preTaskResources = ganttData.taskData[this.parent.taskFields.resourceInfo];\n        var resourceSettings = this.parent.resourceFields;\n        if (isNullOrUndefined(preTaskResources)) {\n            ganttData.taskData[this.parent.taskFields.resourceInfo] = resourceData;\n        }\n        else if (resourceData && resourceData.length) {\n            for (var i = 0; i < resourceData.length; i++) {\n                var isAdded = false;\n                if (typeof (preTaskResources) === 'string') {\n                    if (typeof preTaskResources === 'string') {\n                        if ((preTaskResources) === (resourceData[i][resourceSettings.name])) {\n                            preTaskResources = resourceData[i][resourceSettings.name];\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var j = 0; j < preTaskResources.length; j++) {\n                        if (typeof preTaskResources[j] === 'number' || typeof preTaskResources[j] === 'string') {\n                            if (parseInt(preTaskResources[j], 10) ===\n                                parseInt(resourceData[i][resourceSettings.id], 10)) {\n                                preTaskResources[j] = resourceData[i];\n                                isAdded = true;\n                                break;\n                            }\n                        }\n                        else if (preTaskResources[j][resourceSettings.id] === resourceData[i][resourceSettings.id] && typeof preTaskResources[j] !== 'number') {\n                            preTaskResources[j] = extend({}, preTaskResources[j], resourceData[i], true);\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                if (!isAdded) {\n                    if (typeof (preTaskResources) === 'string') {\n                        preTaskResources = resourceData[i][resourceSettings.name];\n                    }\n                    else {\n                        preTaskResources.push(resourceData[i]);\n                    }\n                }\n            }\n            var data_1 = [];\n            if (!isNullOrUndefined(preTaskResources)) {\n                if (typeof (preTaskResources) !== 'string') {\n                    var _loop_4 = function (k) {\n                        resourceData.filter(function (resourceInfo) {\n                            if (resourceInfo[resourceSettings.id] === preTaskResources[k][resourceSettings.id]\n                                && data_1.indexOf(preTaskResources[k]) === -1) {\n                                data_1.push(preTaskResources[k]);\n                            }\n                        });\n                    };\n                    for (var k = 0; k < preTaskResources.length; k++) {\n                        _loop_4(k);\n                    }\n                    this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, data_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, preTaskResources, ganttData);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], ganttData);\n        }\n    };\n    TaskProcessor.prototype.setRecordDate = function (task, value, mapping) {\n        var tempDate = typeof value === 'string' ? new Date(value) : value;\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        this.parent.setRecordValue(mapping, value, task);\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        if (!this.parent.isLoad && !this.parent.isDynamicData) {\n            this.parent.setRecordValue('taskData.' + mapping, value, task);\n        }\n        this.parent.isDynamicData = false;\n    };\n    TaskProcessor.prototype.getDurationInDay = function (duration, durationUnit) {\n        if (durationUnit === 'day') {\n            return duration;\n        }\n        else if (durationUnit === 'hour') {\n            return duration / (this.parent.secondsPerDay / 3600);\n        }\n        else {\n            return duration / (this.parent.secondsPerDay / 60);\n        }\n    };\n    TaskProcessor.prototype.setRecordDuration = function (task, mapping) {\n        var duration = task.ganttProperties.duration;\n        var durationUnit = task.ganttProperties.durationUnit;\n        if (!isNullOrUndefined(duration)) {\n            this.parent.setRecordValue(mapping, task.ganttProperties.duration, task);\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var durationValue = (getValue(mapping, task.taskData));\n            if (isNaN(durationValue) && isNullOrUndefined(this.parent.taskFields.durationUnit) && !isNullOrUndefined(durationValue)) {\n                this.parent.setRecordValue('taskData.' + mapping, this.getDurationString(duration, durationUnit), task);\n            }\n            else {\n                if (typeof durationValue === 'string') {\n                    this.parent.setRecordValue('taskData.' + mapping, duration.toString(), task);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + mapping, duration, task);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue(mapping, duration, task);\n            this.parent.setRecordValue('taskData.' + mapping, duration, task);\n        }\n        if (this.parent.taskFields.durationUnit) {\n            task.taskData[this.parent.taskFields.durationUnit] = task.ganttProperties.durationUnit;\n        }\n    };\n    TaskProcessor.prototype.setDataSource = function (data) {\n        var dataArray;\n        var createData = [];\n        if (Array.isArray(data)) {\n            dataArray = data;\n        }\n        var length = dataArray.length;\n        for (var i = 0; i < length; i++) {\n            var record = data[i];\n            createData.push(record);\n            if (!(isNullOrUndefined(data[i][this.parent.taskFields.child]))) {\n                this.setDataSource(data[i][this.parent.taskFields.child]);\n            }\n        }\n        return createData;\n    };\n    TaskProcessor.prototype.setStartDate = function (task) {\n        var _this = this;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.parentID) && !isNullOrUndefined(this.parent.taskFields.id)) {\n            hierarchicalData = this.setDataSource(this.parent.dataSource);\n        }\n        else {\n            hierarchicalData = this.parent.dataSource;\n        }\n        hierarchicalData.map(function (record) {\n            if (task.ganttProperties.taskId === record[_this.parent.taskFields.id]) {\n                if (!isNullOrUndefined(_this.parent.taskFields.startDate)) {\n                    task[_this.parent.taskFields.startDate] = record[_this.parent.taskFields.startDate];\n                }\n                if (!isNullOrUndefined(_this.parent.taskFields.endDate)) {\n                    task[_this.parent.taskFields.endDate] = record[_this.parent.taskFields.endDate];\n                }\n            }\n        });\n    };\n    TaskProcessor.prototype.getWorkInHour = function (work, workUnit) {\n        if (workUnit === 'day') {\n            return work * (this.parent.secondsPerDay / 3600);\n        }\n        else if (workUnit === 'minute') {\n            return work / 60;\n        }\n        else {\n            return work;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateTaskData = function (ganttData) {\n        var dataMapping = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        if (!isNullOrUndefined(ganttData.taskData)) {\n            var data = ganttData.taskData;\n            if (dataMapping.id) {\n                this.parent.setRecordValue('taskData.' + dataMapping.id, ganttProperties.taskId, ganttData);\n                this.parent.setRecordValue(dataMapping.id, ganttProperties.taskId, ganttData);\n            }\n            if (dataMapping.name) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.name, ganttProperties.taskName, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.name, ganttProperties.taskName, ganttData);\n            }\n            if (dataMapping.startDate) {\n                this.setRecordDate(ganttData, ganttProperties.startDate, dataMapping.startDate);\n            }\n            if (dataMapping.endDate) {\n                this.setRecordDate(ganttData, ganttProperties.endDate, dataMapping.endDate);\n            }\n            if (dataMapping.duration) {\n                if (isNullOrUndefined(dataMapping.milestone) || (!isNullOrUndefined(dataMapping.milestone) &&\n                    !ganttData.taskData[dataMapping.milestone])) {\n                    this.setRecordDuration(ganttData, dataMapping.duration);\n                }\n            }\n            if (dataMapping.durationUnit) {\n                data[dataMapping.durationUnit] = ganttProperties.durationUnit;\n            }\n            if (dataMapping.progress) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.progress, ganttProperties.progress, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.progress, ganttProperties.progress, ganttData);\n            }\n            if (dataMapping.baselineStartDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineStartDate, dataMapping.baselineStartDate);\n            }\n            if (dataMapping.baselineEndDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineEndDate, dataMapping.baselineEndDate);\n            }\n            if (dataMapping.notes) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.notes, ganttProperties.notes, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.notes, ganttProperties.notes, ganttData);\n            }\n            if (dataMapping.cssClass) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n            }\n            if (dataMapping.indicators) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.indicators, ganttProperties.indicators, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.indicators, ganttProperties.indicators, ganttData);\n            }\n            if (dataMapping.parentID) {\n                var parentID = this.parent.viewType === 'ProjectView' ? ganttProperties.parentId : data[dataMapping.parentID];\n                this.parent.setRecordValue('taskData.' + dataMapping.parentID, parentID, ganttData);\n                this.parent.setRecordValue(dataMapping.parentID, ganttProperties.parentId, ganttData);\n            }\n            if (dataMapping.work) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.work, ganttProperties.work, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.work, ganttProperties.work, ganttData);\n            }\n            if (dataMapping.type) {\n                this.parent.setRecordValue('taskData.' + dataMapping.type, ganttProperties.taskType, ganttData);\n                this.parent.setRecordValue(dataMapping.type, ganttProperties.taskType, ganttData);\n            }\n        }\n    };\n    /**\n     * To set resource value in Gantt record\n     *\n     * @param {object} data .\n     * @returns {object[]} .\n     * @private\n     */\n    TaskProcessor.prototype.setResourceInfo = function (data) {\n        var _this = this;\n        // eslint-disable-next-line\n        var resourceIdCollection;\n        if (isNullOrUndefined(data[this.parent.taskFields.resourceInfo])) {\n            return resourceIdCollection;\n        }\n        if (this.parent.isLoad) {\n            resourceIdCollection = data[this.parent.taskFields.resourceInfo];\n        }\n        else {\n            resourceIdCollection = data['taskData'] && this.parent.taskFields.resourceInfo in data['taskData']\n                ? data['taskData'][this.parent.taskFields.resourceInfo]\n                : data[this.parent.taskFields.resourceInfo];\n        }\n        var resourceData;\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.dialogModule)\n            && this.parent.editModule.dialogModule.isAddNewResource) {\n            resourceData = this.parent.editModule.dialogModule.ganttResources;\n        }\n        else {\n            resourceData = this.parent.resources;\n        }\n        var resourceIDMapping = this.parent.resourceFields.id;\n        var resourceUnitMapping = this.parent.resourceFields.unit;\n        var resourceGroup = this.parent.resourceFields.group;\n        var resources = [];\n        if (typeof (resourceIdCollection) === 'string' && resourceIdCollection !== '') {\n            var resource_1 = [];\n            var resourceIds_1 = data[this.parent.taskFields.resourceInfo].split(',');\n            if (resourceIds_1) {\n                resourceData.forEach(function (resourceInfo) {\n                    if (resourceIds_1.includes(resourceInfo[_this.parent.resourceFields.name])) {\n                        resource_1.push(resourceInfo);\n                    }\n                });\n                var ganttDataResource = extend({}, resource_1[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping) && !isNullOrUndefined(resourceIdCollection[resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup) && !isNullOrUndefined(resourceIdCollection[resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[resourceGroup];\n                }\n            }\n        }\n        else {\n            var _loop_5 = function (count) {\n                var resource = resourceData.filter(function (resourceInfo) {\n                    if (typeof (resourceIdCollection[count]) === 'object' &&\n                        resourceIdCollection[count][resourceIDMapping] === resourceInfo[resourceIDMapping]) {\n                        return true;\n                    }\n                    else {\n                        return (resourceIdCollection[count] === resourceInfo[resourceIDMapping]);\n                    }\n                });\n                var ganttDataResource = extend({}, resource[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[count][resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[count][resourceGroup];\n                }\n            };\n            for (var count = 0; count < resourceIdCollection.length; count++) {\n                _loop_5(count);\n            }\n        }\n        this.updateResourceUnit(resources);\n        return resources;\n    };\n    /**\n     * To set resource unit in Gantt record\n     *\n     * @param {object[]} resourceData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceUnit = function (resourceData) {\n        var resourceUnit = this.parent.resourceFields.unit;\n        if (!isNullOrUndefined(resourceUnit)) {\n            var length_1 = resourceData.length;\n            var index = void 0;\n            for (index = 0; index < length_1; index++) {\n                if (isNullOrUndefined(resourceData[index][resourceUnit])) {\n                    resourceData[index][resourceUnit] = 100;\n                }\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceName = function (data) {\n        var resourceInfo = data.ganttProperties.resourceInfo;\n        var resourceName = [];\n        var taskMapping = this.parent.taskFields;\n        if (resourceInfo && resourceInfo.length > 0) {\n            var resourceLength = resourceInfo.length;\n            if (typeof data.taskData[this.parent.taskFields.resourceInfo] === 'string') {\n                var taskResources = data.taskData[this.parent.taskFields.resourceInfo];\n                var stringResourceName = taskResources;\n                this.parent.setRecordValue('resourceNames', stringResourceName, data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, stringResourceName, data, true);\n                this.updateTaskDataResource(data);\n            }\n            else {\n                var taskResources = extend([], [], data.taskData[this.parent.taskFields.resourceInfo], true);\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], data);\n                for (var i = 0; i < resourceLength; i++) {\n                    var resource = resourceInfo[i];\n                    var resName = resource[this.parent.resourceFields.name];\n                    var resourceUnit = resource[this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (!isNullOrUndefined(resName)) {\n                        resourceName.push(resName);\n                    }\n                    if (data.taskData) {\n                        var mapping = taskMapping.resourceInfo;\n                        if (taskResources[i] && typeof (taskResources[parseInt(i.toString(), 10)] === 'object')) {\n                            data.taskData[mapping].push(taskResources[i]);\n                        }\n                        else {\n                            data.taskData[mapping].push(resource[this.parent.resourceFields.id]);\n                        }\n                    }\n                }\n                this.parent.setRecordValue('resourceNames', resourceName.join(','), data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, resourceName.join(','), data, true);\n                this.updateTaskDataResource(data);\n            }\n        }\n    };\n    TaskProcessor.prototype.dataReorder = function (flatCollection, rootCollection) {\n        var result = [];\n        while (flatCollection.length > 0 && rootCollection.length > 0) {\n            var index = rootCollection.indexOf(flatCollection[0]);\n            if (index === -1) {\n                flatCollection.shift();\n            }\n            else {\n                result.push(flatCollection.shift());\n                rootCollection.splice(index, 1);\n            }\n        }\n        return result;\n    };\n    TaskProcessor.prototype.validateDurationUnitMapping = function (durationUnit) {\n        var unit = durationUnit;\n        if ((unit === 'minute') || (unit === 'minutes') || (unit === 'm') || (unit === 'min')) {\n            unit = 'minute';\n        }\n        else if ((unit === 'hour') || (unit === 'hours') || (unit === 'h') || (unit === 'hr')) {\n            unit = 'hour';\n        }\n        else if ((unit === 'day') || (unit === 'days') || (unit === 'd')) {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    TaskProcessor.prototype.validateTaskTypeMapping = function (taskType) {\n        var type = taskType;\n        if (type === 'FixedDuration') {\n            type = 'FixedDuration';\n        }\n        else if (type === 'FixedUnit') {\n            type = 'FixedUnit';\n        }\n        else if (type === 'FixedWork') {\n            type = 'FixedWork';\n        }\n        else {\n            type = this.parent.taskType;\n        }\n        return type;\n    };\n    TaskProcessor.prototype.validateWorkUnitMapping = function (workUnit) {\n        var unit = workUnit;\n        if (unit === 'minute') {\n            unit = 'minute';\n        }\n        else if (unit === 'hour') {\n            unit = 'hour';\n        }\n        else if (unit === 'day') {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.workUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    /**\n     * To update duration value in Task\n     *\n     * @param {string} duration .\n     * @param {ITaskData} ganttProperties .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateDurationValue = function (duration, ganttProperties) {\n        var tempDuration = this.getDurationValue(duration);\n        if (!isNaN(getValue('duration', tempDuration))) {\n            this.parent.setRecordValue('duration', getValue('duration', tempDuration), ganttProperties, true);\n        }\n        if (!isNullOrUndefined(getValue('durationUnit', tempDuration))) {\n            this.parent.setRecordValue('durationUnit', getValue('durationUnit', tempDuration), ganttProperties, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttData = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttData = void 0;\n            this.parent.secondsPerDay = this.getSecondsPerDay();\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttData = this.parent.flatData[index];\n                if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                    this.setRecordDuration(ganttData, this.parent.taskFields.duration);\n                }\n                if (this.parent.isLoad) {\n                    this.setStartDate(ganttData);\n                }\n                this.calculateScheduledValues(ganttData, data, false);\n            }\n            this.updateGanttData();\n        }\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInStartDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() >= from.getTime() && day.getTime() < to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInEndDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() > from.getTime() && day.getTime() <= to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    /**\n     * Method to find overlapping value of the parent task\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingValues = function (resourceTask) {\n        var tasks = resourceTask.childRecords;\n        var currentTask;\n        var ranges = [];\n        if (tasks.length <= 1) {\n            resourceTask.ganttProperties.workTimelineRanges = [];\n            return;\n        }\n        tasks = this.setSortedChildTasks(resourceTask);\n        this.updateOverlappingIndex(tasks);\n        for (var count = 1; count < tasks.length; count++) {\n            currentTask = tasks[count];\n            var cStartDate = void 0;\n            var cEndDate = void 0;\n            if (currentTask.ganttProperties.startDate) {\n                cStartDate = new Date(currentTask.ganttProperties.startDate.getTime());\n            }\n            if (currentTask.ganttProperties.endDate) {\n                cEndDate = new Date(currentTask.ganttProperties.endDate.getTime()); //task 2\n            }\n            var range = [];\n            // eslint-disable-next-line\n            var rangeObj = {};\n            for (var index = 0; index < count; index++) {\n                var tStartDate = tasks[index].ganttProperties.startDate;\n                var tEndDate = tasks[index].ganttProperties.endDate; // task 1\n                var rangeObj_1 = {};\n                if (cStartDate && cEndDate && tEndDate\n                    && (this._isInStartDateRange(cStartDate, tStartDate, tEndDate)\n                        || this._isInEndDateRange(cEndDate, tStartDate, tEndDate))) {\n                    if ((tStartDate.getTime() > cStartDate.getTime() && tStartDate.getTime() < cEndDate.getTime()\n                        && tEndDate.getTime() > cStartDate.getTime() && tEndDate.getTime() >= cEndDate.getTime())\n                        || (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() <= tEndDate.getTime())) {\n                        rangeObj_1.from = tStartDate;\n                        rangeObj_1.to = cEndDate;\n                    }\n                    else if (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() > tEndDate.getTime()) {\n                        rangeObj_1.from = tStartDate;\n                        rangeObj_1.to = tEndDate;\n                    }\n                    else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime()) {\n                        rangeObj_1.from = cStartDate;\n                        rangeObj_1.to = tEndDate;\n                    }\n                    else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime()) {\n                        rangeObj_1.from = cStartDate;\n                        rangeObj_1.to = cEndDate;\n                    }\n                    range.push(rangeObj_1);\n                }\n            }\n            // eslint-disable-next-line\n            ranges.push.apply(ranges, this.mergeRangeCollections(range));\n        }\n        this.parent.setRecordValue('workTimelineRanges', this.mergeRangeCollections(ranges, true), resourceTask.ganttProperties, true);\n        this.calculateRangeLeftWidth(resourceTask.ganttProperties.workTimelineRanges);\n    };\n    /**\n     * @param {IGanttData[]} tasks .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingIndex = function (tasks) {\n        for (var i = 0; i < tasks.length; i++) {\n            tasks[i].ganttProperties.eOverlapIndex = i;\n        }\n    };\n    /**\n     * Method to calculate the left and width value of oarlapping ranges\n     *\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateRangeLeftWidth = function (ranges) {\n        for (var count = 0; count < ranges.length; count++) {\n            ranges[count].left = this.getTaskLeft(ranges[count].from, false);\n            ranges[count].width = this.getTaskWidth(ranges[count].from, ranges[count].to);\n        }\n    };\n    /**\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @param {boolean} isSplit .\n     * @returns {IWorkTimelineRanges[]} .\n     * @private\n     */\n    TaskProcessor.prototype.mergeRangeCollections = function (ranges, isSplit) {\n        var finalRange = [];\n        var currentTopRange = {};\n        var cCompareRange = {};\n        var cStartDate;\n        var cEndDate;\n        var tStartDate;\n        var tEndDate;\n        var sortedRanges = new DataManager(ranges).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        for (var i = 0; i < sortedRanges.length; i++) {\n            if (finalRange.length === 0 && i === 0) {\n                finalRange.push(sortedRanges[i]);\n                continue;\n            }\n            currentTopRange = finalRange[finalRange.length - 1];\n            cStartDate = currentTopRange.from;\n            cEndDate = currentTopRange.to;\n            cCompareRange = sortedRanges[i];\n            tStartDate = cCompareRange.from;\n            tEndDate = cCompareRange.to;\n            if ((cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())\n                || (cStartDate.getTime() < tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())) {\n                continue;\n            }\n            /* eslint-disable-next-line */\n            else if ((cStartDate.getTime() <= tStartDate.getTime() && cEndDate.getTime() >= tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime())\n                || (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() === tStartDate.getTime())) {\n                currentTopRange.to = tEndDate;\n            }\n            else if (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() !== tStartDate.getTime()) {\n                finalRange.push(sortedRanges[i]);\n            }\n        }\n        if (isSplit) {\n            finalRange = this.splitRangeCollection(finalRange);\n        }\n        return finalRange;\n    };\n    /**\n     * Sort resource child records based on start date\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.setSortedChildTasks = function (resourceTask) {\n        var sortedRecords = [];\n        sortedRecords = new DataManager(resourceTask.childRecords).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        return sortedRecords;\n    };\n    TaskProcessor.prototype.splitRangeCollection = function (rangeCollection, fromField, toField) {\n        var splitArray = [];\n        var unit;\n        if (this.parent.timelineModule.isSingleTier) {\n            unit = this.parent.timelineModule.bottomTier !== 'None' ?\n                this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        }\n        else {\n            unit = this.parent.timelineModule.bottomTier;\n        }\n        if (unit === 'Week' || unit === 'Month' || unit === 'Year') {\n            splitArray = rangeCollection;\n        }\n        else if (unit === 'Day') {\n            splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n        }\n        else {\n            if (this.parent.workingTimeRanges[0].from === 0 && this.parent.workingTimeRanges[0].to === 86400) {\n                splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n            }\n            else {\n                splitArray = this.getRangeWithDay(rangeCollection, fromField, toField);\n            }\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.getRangeWithDay = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            splitArray.push.apply(splitArray, this.splitRangeForDayMode(ranges[parseInt(i.toString(), 10)], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForDayMode = function (range, fromField, toField) {\n        var fromString = fromField ? fromField : 'from';\n        var toString = toField ? toField : 'to';\n        var tempStart = new Date(range[fromString]);\n        var end = new Date(range[toString]);\n        var ranges = [];\n        var rangeObject = {};\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                var nStart = new Date(tempStart.getTime());\n                var nEndDate = new Date(tempStart.getTime());\n                var nextAvailDuration = 0;\n                var sHour = this.parent.dataOperation.getSecondsInDecimal(tempStart);\n                var startRangeIndex = -1;\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var val = this.parent.workingTimeRanges[i];\n                    if (sHour >= val.from && sHour <= val.to) {\n                        startRangeIndex = i;\n                        break;\n                    }\n                }\n                if (startRangeIndex !== -1) {\n                    nextAvailDuration = Math.round(this.parent.workingTimeRanges[startRangeIndex].to - sHour);\n                    nEndDate.setSeconds(nEndDate.getSeconds() + nextAvailDuration);\n                }\n                var taskName = 'task';\n                if (nEndDate.getTime() < end.getTime()) {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = nEndDate;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                else {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = end;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                tempStart = this.checkStartDate(nEndDate);\n            } while (tempStart.getTime() < end.getTime());\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    TaskProcessor.prototype.getRangeWithWeek = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            // eslint-disable-next-line\n            splitArray.push.apply(splitArray, this.splitRangeForWeekMode(ranges[i], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForWeekMode = function (range, fromField, toField) {\n        var from = fromField ? fromField : 'from';\n        var to = toField ? toField : 'to';\n        var start = new Date(range[from]);\n        var tempStart = new Date(range[from]);\n        var end = new Date(range[to]);\n        var isInSplit = false;\n        var ranges = [];\n        var rangeObj = {};\n        tempStart.setDate(tempStart.getDate() + 1);\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                if (this.parent.dataOperation.isOnHolidayOrWeekEnd(tempStart, null)) {\n                    var tempEndDate = new Date(tempStart.getTime());\n                    tempEndDate.setDate(tempStart.getDate() - 1);\n                    var dayEndTime = void 0;\n                    if (this.parent.weekWorkingTime.length > 0) {\n                        dayEndTime = this.parent['getEndTime'](tempEndDate);\n                    }\n                    else {\n                        dayEndTime = this.parent.defaultEndTime;\n                    }\n                    this.setTime(dayEndTime, tempEndDate);\n                    rangeObj = {};\n                    rangeObj[from] = start;\n                    rangeObj.isSplit = true;\n                    rangeObj[to] = new Date(tempEndDate);\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    var isStartNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(start, null);\n                    var isTempEndDateNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(tempEndDate, null);\n                    var isDifferentDates = start.getTime() !== tempEndDate.getTime();\n                    if (isStartNotHolidayOrWeekend && isTempEndDateNotHolidayOrWeekend && isDifferentDates) {\n                        ranges.push(rangeObj);\n                    }\n                    tempEndDate.setDate(tempEndDate.getDate() + 1);\n                    start = this.checkStartDate(tempEndDate);\n                    tempStart = new Date(start.getTime());\n                    isInSplit = true;\n                }\n                else {\n                    tempStart.setDate(tempStart.getDate() + 1);\n                }\n            } while (tempStart.getTime() < end.getTime());\n            if (isInSplit) {\n                if (start.getTime() !== end.getTime()) {\n                    rangeObj = {};\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    rangeObj[from] = start;\n                    rangeObj[to] = end;\n                    rangeObj.isSplit = true;\n                    ranges.push(rangeObj);\n                }\n            }\n            else {\n                ranges.push(range);\n            }\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateGanttData = function () {\n        var flatData = this.parent.flatData;\n        var length = flatData.length;\n        this.systemTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            this.updateTaskLeftWidth(data);\n        }\n    };\n    TaskProcessor.prototype.shouldProcessUpdateWidth = function () {\n        return (!this.parent.autoCalculateDateScheduling ||\n            (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                Boolean(this.parent.taskFields.hasChildMapping)));\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @public\n     */\n    TaskProcessor.prototype.updateTaskLeftWidth = function (data) {\n        var task = data.ganttProperties;\n        if (!data.hasChildRecords || this.shouldProcessUpdateWidth()) {\n            this.updateWidthLeft(data);\n        }\n        this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n        this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n        var parentItem = data.parentItem ? this.parent.getParentTask(data.parentItem) : null;\n        var isLastChild = parentItem && parentItem.childRecords.slice(-1)[0] === data;\n        if (parentItem) {\n            if (isLastChild && !data.hasChildRecords && this.parent.enableValidation) {\n                if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                    this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n                    this.updateParentItems(parentItem);\n                }\n                if (this.shouldProcessUpdateWidth()) {\n                    this.updateWidthLeft(parentItem);\n                }\n            }\n            else if (parentItem && !this.parent.enableValidation) {\n                this.updateWidthLeft(parentItem);\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttDataPosition = function () {\n        var flatData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n            && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            flatData = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            flatData = this.parent.flatData;\n        }\n        var length = flatData.length;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            var task = data.ganttProperties;\n            this.updateWidthLeft(data);\n            if (this.parent.taskMode !== 'Auto' && data.hasChildRecords) {\n                this.updateAutoWidthLeft(data);\n            }\n            this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n            this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n            this.parent.dataOperation.updateTaskData(data);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        var totalSegmentsProgressWidth = 0;\n        // task endDate may be changed in segment calculation so this must be calculated first.\n        // task width calculating was based on endDate\n        var progressResizer = 0;\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            var segments = ganttRecord.segments;\n            for (var i = 0; i < segments.length; i++) {\n                var segment = segments[i];\n                if (i === 0 && !isNullOrUndefined(ganttRecord.startDate)\n                    && !isNullOrUndefined(segment.startDate) && !isNullOrUndefined(segment.startDate.getTime()) &&\n                    segment.startDate.getTime() !== ganttRecord.startDate.getTime()) {\n                    segment.startDate = ganttRecord.startDate;\n                    var endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttRecord.durationUnit, ganttRecord, false);\n                    segment.endDate = this.parent.dataOperation.checkEndDate(endDate, ganttRecord, false);\n                    this.parent.chartRowsModule.incrementSegments(segments, 0, data);\n                }\n                segment.width = this.getSplitTaskWidth(segment.startDate, segment.duration, data);\n                totalSegmentsProgressWidth = totalSegmentsProgressWidth + segment.width;\n                segment.showProgress = false;\n                segment.progressWidth = -1;\n                if (i !== 0) {\n                    var pStartDate = new Date(ganttRecord.startDate.getTime());\n                    segment.left = this.getSplitTaskLeft(segment.startDate, pStartDate);\n                }\n            }\n            var setProgress = this.parent.dataOperation.getProgressWidth(totalSegmentsProgressWidth, ganttRecord.progress);\n            var isValid = true;\n            for (var i = 0; i < segments.length; i++) {\n                if (isValid) {\n                    if (setProgress <= segments[i].width) {\n                        segments[i].progressWidth = setProgress;\n                        segments[i].showProgress = true;\n                        isValid = false;\n                    }\n                    else {\n                        segments[i].progressWidth = segments[i].width;\n                        setProgress = setProgress - segments[i].progressWidth;\n                    }\n                    if (segments[i].showProgress) {\n                        progressResizer = progressResizer + segments[i].left + segments[i].progressWidth;\n                    }\n                }\n            }\n            this.parent.setRecordValue('segments', ganttRecord.segments, ganttRecord, true);\n            this.parent.dataOperation.updateMappingData(data, 'segments');\n        }\n        this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data), ganttRecord, true);\n        this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttRecord), ganttRecord, true);\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            this.parent.setRecordValue('progressWidth', progressResizer, ganttRecord, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule || !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateAutoWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        this.parent.setRecordValue('autoWidth', this.calculateWidth(data, true), ganttRecord, true);\n        this.parent.setRecordValue('autoLeft', this.calculateLeft(ganttRecord, true), ganttRecord, true);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule ||\n            !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n    };\n    /**\n     * To calculate parent progress value\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @returns {object} .\n     * @private\n     */\n    TaskProcessor.prototype.getParentProgress = function (childGanttRecord) {\n        var durationInDay = 0;\n        var progressValues = {};\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](childGanttRecord.ganttProperties.startDate ? childGanttRecord.ganttProperties.startDate : childGanttRecord.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        switch (childGanttRecord.ganttProperties.durationUnit) {\n            case 'hour':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 3600));\n                break;\n            case 'minute':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 60));\n                break;\n            default:\n                durationInDay = childGanttRecord.ganttProperties.duration;\n        }\n        if (childGanttRecord.hasChildRecords) {\n            setValue('totalProgress', childGanttRecord.ganttProperties.totalProgress, progressValues);\n            setValue('totalDuration', childGanttRecord.ganttProperties.totalDuration ? childGanttRecord.ganttProperties.totalDuration : 0, progressValues);\n        }\n        else {\n            setValue('totalProgress', childGanttRecord.ganttProperties.progress * durationInDay, progressValues);\n            setValue('totalDuration', durationInDay, progressValues);\n        }\n        return progressValues;\n    };\n    TaskProcessor.prototype.resetDependency = function (record) {\n        var dependency = this.parent.taskFields.dependency;\n        if (!isNullOrUndefined(dependency)) {\n            var recordProp = record.ganttProperties;\n            this.parent.setRecordValue('predecessor', [], recordProp, true);\n            this.parent.setRecordValue('predecessorsName', null, recordProp, true);\n            this.parent.setRecordValue('taskData.' + dependency, null, record);\n            this.parent.setRecordValue(dependency, null, record);\n        }\n    };\n    TaskProcessor.prototype.isUnscheduledTask = function (ganttProperties, parantData) {\n        var properties = ['startDate', 'endDate', 'duration'];\n        var count = 0;\n        var filledProperty = null;\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var prop = properties_1[_i];\n            if (ganttProperties && ganttProperties[prop]) {\n                count++;\n                filledProperty = prop;\n            }\n        }\n        if (count === 1 || (count === 0 && !isNullOrUndefined(parantData) && parantData.hasChildRecords)) {\n            return [true, filledProperty];\n        }\n        else {\n            return [false, null];\n        }\n    };\n    TaskProcessor.prototype.isFromManual = function (childData) {\n        if (this.parent.allowUnscheduledTasks && this.parent.editModule && this.parent['oldRecords'] && this.parent['oldRecords'].length > 0 &&\n            isNullOrUndefined(childData.ganttProperties.startDate) && isNullOrUndefined(childData.ganttProperties.endDate)\n            && !isNullOrUndefined(childData.ganttProperties.duration) && !childData.hasChildRecords && childData.parentItem &&\n            (this.parent.taskMode === 'Manual' || (this.parent.taskMode === 'Custom' && childData[this.parent.taskFields.manual]))) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @param {IParent | IGanttData} cloneParent .\n     * @param {boolean} isParent .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateParentItems = function (cloneParent, isParent) {\n        var _this = this;\n        var parentData = isParent ? cloneParent : this.parent.getParentTask(cloneParent);\n        parentData = parentData ? parentData : cloneParent;\n        var deleteUpdate = false;\n        var ganttProp = !isNullOrUndefined(parentData) ? parentData.ganttProperties : null;\n        /* eslint-disable-next-line */\n        var _a = this.isUnscheduledTask(ganttProp, parentData), isParentUnschecule = _a[0], propertyWithValue = _a[1];\n        if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n            if (parentData && parentData.childRecords && parentData.childRecords.length > 0) {\n                var previousStartDate = ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate;\n                var previousEndDate = ganttProp.isAutoSchedule ? ganttProp.endDate :\n                    ganttProp.autoEndDate;\n                var childRecords_1 = parentData.childRecords;\n                var childLength = childRecords_1.length;\n                var totalDuration = 0;\n                var progressValues = {};\n                var minStartDate = null;\n                var maxEndDate = null;\n                var milestoneCount = 0;\n                var totalProgress = 0;\n                var childCompletedWorks = 0;\n                var childData_1;\n                var countOfScheduled_1 = 0;\n                var countOfUnScheduled_1 = 0;\n                childRecords_1.some(function (childRecord) {\n                    var _a = _this.isUnscheduledTask(childRecord['ganttProperties']), isUnscheduled = _a[0], propertyWithValue = _a[1];\n                    if (isUnscheduled && propertyWithValue === 'duration') {\n                        ++countOfUnScheduled_1;\n                    }\n                    else if (!isUnscheduled) {\n                        ++countOfScheduled_1;\n                    }\n                    if (countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0) {\n                        return true;\n                    }\n                    return false;\n                });\n                var isChildBoth = (countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0) ? true : undefined;\n                var _loop_6 = function (count) {\n                    childData_1 = (this_4.parent.loadChildOnDemand && this_4.parent.taskFields.hasChildMapping) ?\n                        this_4.parent.currentViewData.filter(function (item) {\n                            return item.ganttProperties.taskId === childRecords_1[count][_this.parent.taskFields.id];\n                        })[0] :\n                        childRecords_1[count];\n                    if (this_4.parent.isOnDelete && childData_1.isDelete) {\n                        if (childLength === 1 && this_4.parent.viewType === 'ProjectView') {\n                            deleteUpdate = true;\n                        }\n                        return \"continue\";\n                    }\n                    var startDate = void 0;\n                    var endDate = void 0;\n                    var _a = this_4.isUnscheduledTask(childData_1.ganttProperties), isUnscheduled = _a[0], propertyWithValue_1 = _a[1];\n                    var parentRec = void 0;\n                    if (this_4.isFromManual(childData_1)) {\n                        var ganttRec = this_4.parent['oldRecords'].filter(function (record) { return record.ganttProperties.uniqueID === childData_1.ganttProperties.uniqueID; })[0];\n                        if (ganttRec) {\n                            parentRec = this_4.parent.getParentTask(ganttRec.parentItem);\n                        }\n                    }\n                    var rec = parentRec ? parentRec : childData_1;\n                    var prop = parentRec ? parentRec.ganttProperties : ganttProp;\n                    startDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        ganttProp.startDate : this_4.getValidStartDate(rec.ganttProperties);\n                    if (parentData.hasChildRecords && !prop.isAutoSchedule\n                        && !isNullOrUndefined(rec.ganttProperties.autoStartDate)) {\n                        startDate = rec.ganttProperties.autoStartDate;\n                    }\n                    endDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        ganttProp.endDate : this_4.getValidEndDate(rec.ganttProperties);\n                    if (parentData.hasChildRecords && !prop.isAutoSchedule\n                        && !isNullOrUndefined(rec.ganttProperties.autoEndDate)) {\n                        endDate = rec.ganttProperties.autoEndDate;\n                    }\n                    if (isNullOrUndefined(minStartDate) &&\n                        ((isChildBoth && !isUnscheduled) || (isNullOrUndefined(isChildBoth)))) {\n                        minStartDate = this_4.getDateFromFormat(startDate);\n                    }\n                    if (isNullOrUndefined(maxEndDate) &&\n                        ((isChildBoth && !isUnscheduled) || (isNullOrUndefined(isChildBoth)))) {\n                        maxEndDate = this_4.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(endDate) && maxEndDate && this_4.compareDates(endDate, maxEndDate) === 1) {\n                        maxEndDate = this_4.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(startDate) && minStartDate && this_4.compareDates(startDate, minStartDate) === -1) {\n                        minStartDate = this_4.getDateFromFormat(startDate);\n                    }\n                    var condition = (!childData_1.ganttProperties.isMilestone &&\n                        isScheduledTask(childData_1.ganttProperties)) ? true : false;\n                    if (condition) {\n                        progressValues = this_4.getParentProgress(childData_1);\n                        totalProgress += getValue('totalProgress', progressValues);\n                        if (childData_1[this_4.parent.taskFields.duration] < 1) {\n                            totalDuration += getValue('totalDuration', progressValues);\n                            totalDuration = Number(totalDuration.toFixed(4));\n                        }\n                        else {\n                            totalDuration += getValue('totalDuration', progressValues);\n                        }\n                    }\n                    else {\n                        milestoneCount++;\n                    }\n                    var work = childData_1.ganttProperties.work;\n                    if (typeof work === 'string') {\n                        // If it's a string, convert it to a number\n                        var numericValue = parseFloat(work);\n                        if (!isNaN(numericValue)) {\n                            childCompletedWorks += numericValue;\n                        }\n                    }\n                    else if (typeof work === 'number') {\n                        // If it's already a number, simply add it to childCompletedWorks\n                        childCompletedWorks += work;\n                    }\n                };\n                var this_4 = this;\n                for (var count = 0; count < childLength; count++) {\n                    _loop_6(count);\n                }\n                if (!deleteUpdate) {\n                    var taskCount = void 0;\n                    if (this.parent.isOnDelete && childData_1.isDelete) {\n                        taskCount = childLength - milestoneCount - 1;\n                    }\n                    else {\n                        taskCount = childLength - milestoneCount;\n                    }\n                    var parentProgress = (taskCount > 0 && totalDuration > 0) ?\n                        Number((totalProgress / totalDuration).toFixed(2)) : 0;\n                    var parentProp = parentData.ganttProperties;\n                    var milestone = (taskCount === 0) && minStartDate && maxEndDate &&\n                        minStartDate.getTime() === maxEndDate.getTime() ? true : false;\n                    if (this.compareDates(previousStartDate, minStartDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', minStartDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData[this.parent.taskFields.manual] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('startDate', minStartDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    if (this.compareDates(previousEndDate, maxEndDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', maxEndDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData[this.parent.taskFields.manual] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('endDate', maxEndDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    this.parent.setRecordValue('isMilestone', milestone, parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.updateMappingData(parentData, 'milestone');\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, milestone, parentData, true);\n                        this.parent.setRecordValue('taskData.' + this.parent.taskFields.milestone, milestone, parentData, true);\n                    }\n                    if (parentProp.isAutoSchedule) {\n                        if (this.isFromManual(childData_1)) {\n                            if (parentData.childRecords.length === 1) {\n                                parentData.ganttProperties.duration = childData_1.ganttProperties.duration;\n                            }\n                            this.calculateEndDate(parentData);\n                        }\n                        else {\n                            this.calculateDuration(parentData);\n                        }\n                    }\n                    this.updateWorkWithDuration(parentData);\n                    var parentWork = parentProp.work;\n                    parentWork = this.parent.isOnEdit ? parentWork : (parentWork + childCompletedWorks);\n                    this.parent.setRecordValue('work', parentWork, parentProp, true);\n                    this.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.type)) {\n                        this.updateMappingData(parentData, 'type');\n                    }\n                    this.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                    this.parent.setRecordValue('totalProgress', totalProgress, parentProp, true);\n                    this.parent.setRecordValue('totalDuration', totalDuration, parentProp, true);\n                    this.parent.setRecordValue('autoDuration', parentProp.duration, parentProp, true);\n                    if (!parentProp.isAutoSchedule) {\n                        this.parent.setRecordValue('autoDuration', this.calculateAutoDuration(parentProp), parentProp, true);\n                        this.updateAutoWidthLeft(parentData);\n                    }\n                    if (!this.parent.allowParentDependency) {\n                        this.resetDependency(parentData);\n                    }\n                    this.updateWidthLeft(parentData);\n                    this.updateTaskData(parentData);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue('endDate', parentData.taskData[this.parent.taskFields.endDate], parentData.ganttProperties, true);\n        }\n        if (deleteUpdate && parentData.childRecords.length === 1 && parentData.ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, parentData.ganttProperties, true);\n            this.updateWidthLeft(parentData);\n            this.updateTaskData(parentData);\n        }\n        var parentItem = !isNullOrUndefined(parentData) ?\n            this.parent.getParentTask(parentData.parentItem) : null;\n        if (parentItem) {\n            if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n                this.updateParentItems(parentItem);\n            }\n        }\n        deleteUpdate = false;\n    };\n    return TaskProcessor;\n}(DateProcessor));\nexport { TaskProcessor };\n","/**\n * CSS Constants\n */\n/** @hidden */\nexport var root = 'e-gantt';\nexport var ganttChartPane = 'e-gantt-chart-pane';\nexport var treeGridPane = 'e-gantt-tree-grid-pane';\nexport var splitter = 'e-gantt-splitter';\nexport var ganttChart = 'e-gantt-chart';\nexport var ganttSingleTimeline = 'e-gantt-single-timeline';\nexport var chartBodyContainer = 'e-chart-root-container';\nexport var toolbar = 'e-gantt-toolbar';\nexport var chartScrollElement = 'e-chart-scroll-container';\nexport var chartBodyContent = 'e-chart-rows-container';\nexport var scrollContent = 'e-content';\nexport var adaptive = 'e-device';\nexport var focusCell = 'e-grid';\n// Timeline-Class\nexport var taskTable = 'e-task-table';\nexport var zeroSpacing = 'e-zero-spacing';\nexport var timelineHeaderContainer = 'e-timeline-header-container';\nexport var timelineHeaderTableContainer = 'e-timeline-header-table-container';\nexport var timelineHeaderTableBody = 'e-timeline-header-table-body';\nexport var timelineTopHeaderCell = 'e-timeline-top-header-cell';\nexport var timelineHeaderCellLabel = 'e-header-cell-label';\nexport var weekendHeaderCell = 'e-weekend-header-cell';\nexport var timelineSingleHeaderCell = 'e-timeline-single-header-cell';\nexport var timelineSingleHeaderOuterDiv = 'e-timeline-single-header-outer-div';\nexport var virtualTable = 'e-virtualtable';\nexport var virtualTrack = 'e-virtualtrack';\n// Chart Rows-Class\nexport var leftLabelContainer = 'e-left-label-container';\nexport var leftLabelTempContainer = 'e-left-label-container e-left-label-temp-container';\nexport var leftLabelInnerDiv = 'e-left-label-inner-div';\nexport var rightLabelContainer = 'e-right-label-container';\nexport var rightLabelTempContainer = 'e-right-label-container e-right-label-temp-container';\nexport var rightLabelInnerDiv = 'e-right-label-inner-div';\nexport var taskBarMainContainer = 'e-taskbar-main-container';\nexport var parentTaskBarInnerDiv = 'e-gantt-parent-taskbar-inner-div';\nexport var parentProgressBarInnerDiv = 'e-gantt-parent-progressbar-inner-div';\nexport var taskLabel = 'e-task-label';\nexport var childTaskBarInnerDiv = 'e-gantt-child-taskbar-inner-div';\nexport var childProgressBarInnerDiv = 'e-gantt-child-progressbar-inner-div';\nexport var criticalChildTaskBarInnerDiv = 'e-gantt-child-critical-taskbar-inner-div';\nexport var criticalChildProgressBarInnerDiv = 'e-gantt-child-critical-progressbar-inner-div';\nexport var criticalMilestone = 'e-critical-milestone';\nexport var baselineBar = 'e-baseline-bar';\nexport var baselineMilestoneContainer = 'e-baseline-gantt-milestone-container';\nexport var baselineMilestoneDiv = 'e-baseline-gantt-milestone';\nexport var chartRowCell = 'e-chart-row-cell';\nexport var chartRow = 'e-chart-row';\nexport var rowExpand = 'e-row-expand';\nexport var rowCollapse = 'e-row-collapse';\nexport var collapseParent = 'e-collapse-parent';\nexport var taskBarLeftResizer = 'e-taskbar-left-resizer';\nexport var taskBarRightResizer = 'e-taskbar-right-resizer';\nexport var childProgressResizer = 'e-child-progress-resizer';\nexport var progressBarHandler = 'e-progressbar-handler';\nexport var progressHandlerElement = 'e-progressbar-handler-element';\nexport var progressBarHandlerAfter = 'e-progressbar-handler-after';\nexport var icon = 'e-icon';\nexport var traceMilestone = 'e-gantt-milestone';\nexport var parentMilestone = 'e-gantt-parent-milestone';\nexport var traceChildTaskBar = 'e-gantt-child-taskbar';\nexport var traceChildProgressBar = 'e-gantt-child-progressbar';\nexport var manualParentMainContainer = 'e-manualparent-main-container';\nexport var manualParentTaskBar = 'e-gantt-manualparenttaskbar';\nexport var manualParentMilestone = 'e-gantt-manualparent-milestone';\nexport var manualChildTaskBar = 'e-gantt-child-manualtaskbar';\nexport var manualChildProgressBar = 'e-gantt-child-manualprogressbar';\nexport var manualParentRightResizer = 'e-gantt-manualparenttaskbar-right';\nexport var manualParentLeftResizer = 'e-gantt-manualparenttaskbar-left';\nexport var traceManualUnscheduledTask = 'e-gantt-unscheduled-manualtask';\nexport var traceParentTaskBar = 'e-gantt-parent-taskbar';\nexport var traceParentProgressBar = 'e-gantt-parent-progressbar';\nexport var traceUnscheduledTask = 'e-gantt-unscheduled-task';\nexport var criticalUnscheduledTask = 'e-gantt-critical-unscheduled-taskbar';\nexport var taskIndicatorDiv = 'e-indicator-span';\nexport var leftResizeGripper = 'e-left-resize-gripper';\nexport var rightResizeGripper = 'e-right-resize-gripper';\nexport var progressResizeGripper = 'e-progress-resize-gripper';\nexport var label = 'e-label';\n//event Markers classes\nexport var eventMarkersContainer = 'e-event-markers-container';\nexport var eventMarkersChild = 'e-event-markers';\nexport var eventMarkersSpan = 'e-span-label';\n//holiday classes\nexport var nonworkingContainer = 'e-nonworking-day-container';\nexport var holidayContainer = 'e-holiday-container';\nexport var holidayElement = 'e-holiday';\nexport var holidayLabel = 'e-span';\n//weekend classes\nexport var weekendContainer = 'e-weekend-container';\nexport var weekend = 'e-weekend';\n//Unscheduled Taskbar\nexport var unscheduledTaskbarLeft = 'e-gantt-unscheduled-taskbar-left';\nexport var unscheduledTaskbarRight = 'e-gantt-unscheduled-taskbar-right';\nexport var unscheduledTaskbar = 'e-gantt-unscheduled-taskbar';\nexport var unscheduledMilestoneTop = 'e-unscheduled-milestone-top';\nexport var unscheduledMilestoneBottom = 'e-unscheduled-milestone-bottom';\n//Connector Line\nexport var dependencyViewContainer = 'e-gantt-dependency-view-container';\nexport var connectorLineContainer = 'e-connector-line-container';\nexport var connectorLine = 'e-line';\nexport var connectorLineSVG = 'e-connector-line';\nexport var criticalConnectorLineSVG = 'e-critical-line';\nexport var criticalConnectorArrowSVG = 'e-critical-line-arrow';\nexport var connectorLineArrow = 'e-connector-line-arrow';\nexport var criticalConnectorLine = 'e-criticalconnector-line';\nexport var criticalConnectorLineRightArrow = 'e-criticalconnector-line-right-arrow';\nexport var criticalConnectorLineLeftArrow = 'e-criticalconnector-line-left-arrow';\nexport var connectorLineRightArrow = 'e-connector-line-right-arrow';\nexport var connectorLineLeftArrow = 'e-connector-line-left-arrow';\nexport var connectorLineZIndex = 'e-connector-line-z-index';\nexport var connectorLineHover = 'e-connector-line-hover';\nexport var criticalConnectorLineHover = 'e-critical-connector-line-hover';\nexport var connectorLineHoverZIndex = 'e-connector-line-hover-z-index';\nexport var connectorLineRightArrowHover = 'e-connector-line-right-arrow-hover';\nexport var connectorLineLeftArrowHover = 'e-connector-line-left-arrow-hover';\nexport var criticalConnectorLineRightArrowHover = 'e-critical-connector-line-right-arrow-hover';\nexport var criticalConnectorLineLeftArrowHover = 'e-critical-connector-line-left-arrow-hover';\nexport var connectorTouchPoint = 'e-connectortouchpoint';\nexport var connectorPointLeft = 'e-connectorpoint-left';\nexport var connectorPointRight = 'e-connectorpoint-right';\nexport var connectorPointLeftHover = 'e-connectorpoint-left-hover';\nexport var connectorPointRightHover = 'e-connectorpoint-right-hover';\nexport var falseLine = 'e-gantt-false-line';\nexport var connectorTooltipTaskName = 'e-tooltiptaskname';\nexport var connectorTooltipFalse = 'e-predecessor-false';\nexport var connectorTooltipTrue = 'e-predecessor-true';\nexport var rightConnectorPointOuterDiv = 'e-right-connectorpoint-outer-div';\nexport var leftConnectorPointOuterDiv = 'e-left-connectorpoint-outer-div';\nexport var connectorPointAllowBlock = 'e-connectorpoint-allow-block';\nexport var ganttTooltip = 'e-gantt-tooltip';\n// Context Menu\nexport var columnHeader = '.e-gridheader';\nexport var content = '.e-content';\nexport var editForm = '.e-gridform';\nexport var deleteIcon = 'e-delete';\nexport var saveIcon = 'e-save';\nexport var cancelIcon = 'e-cancel';\nexport var ascendingIcon = 'e-icon-ascending';\nexport var descendingIcon = 'e-icon-descending';\nexport var editIcon = 'e-edit';\nexport var indentIcon = 'e-indent';\nexport var outdentIcon = 'e-outdent';\nexport var addIcon = 'e-add';\nexport var criticalPathIcon = 'e-critical-path';\nexport var addAboveIcon = 'e-add-above';\nexport var addBelowIcon = 'e-add-below';\n//Predecessor touch mode\nexport var activeParentTask = 'e-active-parent-task';\nexport var activeChildTask = 'e-active-child-task';\nexport var activeConnectedTask = 'e-active-connected-task';\nexport var touchMode = 'e-predecessor-touch-mode';\n//Over allocation range container\nexport var rangeContainer = 'e-rangecontainer';\nexport var rangeChildContainer = 'e-rg-rangdiv';\nexport var rangeChildMiddleContainer = 'e-rg-middlerangdiv';\n","import { formatUnit, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * To handle scroll event on chart and from TreeGrid\n *\n * @hidden\n */\nvar ChartScroll = /** @class */ (function () {\n    /**\n     * Constructor for the scrolling.\n     *\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function ChartScroll(parent) {\n        this.previousCount = -1;\n        this.isSetScrollLeft = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.parent = parent;\n        this.element = this.parent.ganttChartModule.scrollElement;\n        this.addEventListeners();\n    }\n    /**\n     * Bind event\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.addEventListeners = function () {\n        this.parent.on('grid-scroll', this.gridScrollHandler, this);\n        EventHandler.add(this.element, 'scroll', this.onScroll, this);\n        this.parent.treeGrid.grid.on('showGanttShimmer', this.updateShimmer, this);\n        this.parent.treeGrid.grid.on('removeGanttShimmer', this.removeShimmer, this);\n        this.parent.treeGrid.grid.on('virtualTransform', this.transformChange, this);\n    };\n    /**\n     * Unbind events\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.removeEventListeners = function () {\n        EventHandler.remove(this.element, 'scroll', this.onScroll);\n        this.parent.off('grid-scroll', this.gridScrollHandler);\n        this.parent.treeGrid.grid.off('showGanttShimmer', this.updateShimmer);\n        this.parent.treeGrid.grid.off('removeGanttShimmer', this.removeShimmer);\n        this.parent.treeGrid.grid.off('virtualTransform', this.transformChange);\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     */\n    ChartScroll.prototype.gridScrollHandler = function (args) {\n        this.element.scrollTop = getValue('top', args);\n        this.isFromTreeGrid = true;\n    };\n    /**\n     * Method to update vertical grid line, holiday, event markers and weekend container's top position on scroll action\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.updateContent = function () {\n        var ganttElement = this.parent.element;\n        var currentCount = Math.round(this.element.scrollLeft / ganttElement.offsetWidth);\n        if (this.previousCount !== currentCount || this.parent.timelineModule['performedTimeSpanAction']) {\n            this.deleteTableElements();\n            this.parent.timelineModule.createTimelineSeries();\n            if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n                this.parent['renderChartVerticalLines']();\n            }\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule['eventMarkerRender'].renderEventMarkers();\n            }\n            this.parent.timelineModule['performedTimeSpanAction'] = false;\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule.nonworkingDayRender.renderWeekends();\n                this.parent.dayMarkersModule.nonworkingDayRender.renderHolidays();\n            }\n            this.updateChartElementStyles();\n            this.previousCount = currentCount;\n            if (this.isSetScrollLeft) {\n                this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            }\n        }\n    };\n    ChartScroll.prototype.getTimelineLeft = function () {\n        var tLeft;\n        var ganttElement = this.parent.element;\n        var resultantWidth = this.parent.timelineModule.wholeTimelineWidth > (ganttElement.offsetWidth * 3) ?\n            this.parent.timelineModule.wholeTimelineWidth - ganttElement.offsetWidth * 3 : 0;\n        if (this.element.scrollLeft === (this.parent.enableRtl ? -resultantWidth : resultantWidth)) {\n            tLeft = this.element.scrollLeft;\n        }\n        else {\n            var left = this.parent.enableRtl ? -this.element.scrollLeft : this.element.scrollLeft;\n            tLeft = (left > ganttElement.offsetWidth) ? left - ganttElement.offsetWidth : 0;\n        }\n        if (tLeft >= resultantWidth) {\n            tLeft = resultantWidth;\n        }\n        if ((tLeft <= ganttElement.offsetWidth) && this.isBackwardScrolled) {\n            tLeft = 0;\n        }\n        if (this.parent.timelineModule.isZoomToFit || this.parent.timelineModule.isZooming) {\n            tLeft = 0;\n        }\n        return tLeft;\n    };\n    ChartScroll.prototype.deleteTableElements = function () {\n        var tableContainer = this.parent.element.getElementsByClassName('e-timeline-header-table-container');\n        do {\n            tableContainer[0].remove();\n        } while (tableContainer.length > 0);\n        if (this.parent.element.querySelector('#ganttContainerline-container')) {\n            this.parent.element.querySelector('#ganttContainerline-container').innerHTML = '';\n        }\n        if (this.parent.element.querySelector('.e-nonworking-day-container')) {\n            this.parent.element.querySelector('.e-nonworking-day-container').outerHTML = null;\n        }\n    };\n    ChartScroll.prototype.updateChartElementStyles = function () {\n        var translateXValue = this.getTimelineLeft();\n        if (this.parent.enableTimelineVirtualization) {\n            // updating connector line & task table styles\n            var dependencyViewer = this.parent.connectorLineModule.dependencyViewContainer;\n            var taskTable = this.parent.chartRowsModule.taskTable;\n            if (!this.parent.enableRtl) {\n                dependencyViewer.style.left = -translateXValue + 'px';\n                taskTable.style.left = -translateXValue + 'px';\n            }\n            else {\n                dependencyViewer.style.left = translateXValue + 'px';\n                taskTable.style.right = -translateXValue + 'px';\n            }\n            taskTable.style.width = this.parent.timelineModule.wholeTimelineWidth + 'px';\n        }\n    };\n    ChartScroll.prototype.updateTopPosition = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        var contentScrollTop = content.scrollTop;\n        var scrollTop;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var top_1 = this.parent.virtualScrollModule.getTopPosition();\n            scrollTop = contentScrollTop - top_1;\n        }\n        else {\n            scrollTop = contentScrollTop;\n        }\n        if (!isNullOrUndefined(this.parent.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.parent.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.parent.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.parent.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.top = formatUnit(scrollTop);\n            }\n            if (weekendContainer) {\n                weekendContainer.style.top = formatUnit(scrollTop);\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.top = formatUnit(scrollTop);\n            }\n        }\n        if (this.parent.chartVerticalLineContainer) {\n            this.parent.chartVerticalLineContainer.style.top = formatUnit(scrollTop);\n        }\n    };\n    ChartScroll.prototype.removeShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.hideMaskRow();\n            if (!parent.allowTaskbarOverlap && parent.showOverAllocation) {\n                for (var i = 0; i < parent.currentViewData.length; i++) {\n                    var tr = parent.chartRowsModule.ganttChartTableBody.childNodes[i];\n                    if (tr['style'].display !== 'none' && parent.currentViewData[i].hasChildRecords && !parent.currentViewData[i].expanded) {\n                        if (parent.ganttChartModule.isExpandAll || parent.ganttChartModule.isCollapseAll) {\n                            parent.treeGrid.getRowByIndex(i)['style'].height = tr['style'].height;\n                        }\n                        else {\n                            parent.treeGrid.getRows()[i]['style'].height = tr['style'].height;\n                        }\n                    }\n                }\n                parent.contentHeight = parent.enableRtl ? parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                parent.element.getElementsByClassName('e-chart-rows-container')[0]['style'].height = parent.contentHeight + 'px';\n            }\n        }, 0);\n    };\n    ChartScroll.prototype.transformChange = function () {\n        this.parent.ganttChartModule.virtualRender.adjustTable();\n        this.parent.ganttChartModule.scrollObject.updateTopPosition();\n    };\n    ChartScroll.prototype.updateShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.showMaskRow();\n        }, 0);\n    };\n    ChartScroll.prototype.updateSpinner = function () {\n        var parent = this.parent;\n        this.parent.showSpinner();\n        window.clearTimeout(this.isScrolling);\n        this.isScrolling = setTimeout(function () {\n            parent.hideSpinner();\n        }, 200);\n    };\n    /**\n     * Scroll event handler\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.onScroll = function () {\n        var _this = this;\n        var scrollArgs = {};\n        if (this.element.scrollTop !== this.previousScroll.top) {\n            // eslint-disable-next-line\n            !this.isFromTreeGrid ? this.parent.notify('chartScroll', { top: this.element.scrollTop }) : (this.isFromTreeGrid = false);\n            scrollArgs.previousScrollTop = this.previousScroll.top;\n            this.previousScroll.top = this.element.scrollTop;\n            scrollArgs.scrollTop = this.element.scrollTop;\n            scrollArgs.scrollDirection = 'Vertical';\n            scrollArgs.action = 'VerticalScroll';\n            this.updateTopPosition();\n        }\n        if (this.element.scrollLeft !== this.previousScroll.left) {\n            this.isBackwardScrolled = (this.element.scrollLeft < this.previousScroll.left && !this.parent.enableRtl);\n            this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            scrollArgs.previousScrollLeft = this.previousScroll.left;\n            this.previousScroll.left = this.element.scrollLeft;\n            scrollArgs.scrollLeft = this.element.scrollLeft;\n            scrollArgs.scrollDirection = 'Horizontal';\n            scrollArgs.action = 'HorizontalScroll';\n            if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth >\n                this.parent.element.offsetWidth * 3) {\n                this.isSetScrollLeft = true;\n                if (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    this.updateContent();\n                }\n                this.parent.ganttChartModule.updateWidthAndHeight();\n                if (this.parent.element.getElementsByClassName('e-weekend-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-weekend-container')[0]['style'].height = '100%';\n                }\n                if (this.parent.element.getElementsByClassName('e-holiday-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-holiday-container')[0]['style'].height = '100%';\n                }\n            }\n            else if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth <\n                this.parent.element.offsetWidth * 3) {\n                this.parent.connectorLineModule.svgObject.setAttribute('width', '100%');\n            }\n        }\n        this.parent.timelineModule['performedTimeSpanAction'] = false;\n        if ((!isNullOrUndefined(scrollArgs.scrollDirection)) && (this.parent.enableVirtualization === true ||\n            this.parent.enableTimelineVirtualization === true) && (this.parent.isToolBarClick ||\n            isNullOrUndefined(this.parent.isToolBarClick))) {\n            this.parent.isVirtualScroll = true;\n            if (this.parent.showIndicator || isNullOrUndefined(this.parent.showIndicator)) {\n                if (!this.parent.enableVirtualMaskRow && this.parent.enableVirtualization && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                    this.updateSpinner();\n                }\n                else if (this.parent.enableTimelineVirtualization && !this.parent['isRowSelected'] && Math.abs(this.element.scrollLeft - scrollArgs.previousScrollLeft) > 1000) {\n                    if (!this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                        this.updateSpinner();\n                    }\n                    else {\n                        this.parent.showMaskRow();\n                        setTimeout(function () {\n                            _this.removeShimmer();\n                        }, 0);\n                    }\n                }\n                this.parent['isRowSelected'] = false;\n            }\n        }\n        this.isSetScrollLeft = false;\n        this.parent.isToolBarClick = true;\n        scrollArgs.requestType = 'scroll';\n        this.parent.trigger('actionComplete', scrollArgs);\n    };\n    /**\n     * To set height for chart scroll container\n     *\n     * @param {string | number} height - To set height for scroll container in chart side\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setHeight = function (height) {\n        this.element.style.height = formatUnit(height);\n    };\n    /**\n     * To set width for chart scroll container\n     *\n     * @param {string | number} width - To set width to scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setWidth = function (width) {\n        this.element.style.width = formatUnit(width);\n    };\n    /**\n     * To set scroll top for chart scroll container\n     *\n     * @param {number} scrollTop - To set scroll top for scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setScrollTop = function (scrollTop) {\n        this.element.scrollTop = scrollTop;\n        this.parent.treeGrid.element.querySelector('.e-content').scrollTop = scrollTop;\n    };\n    /**\n     * To set scroll left for chart scroll container\n     *\n     * @param {number} scrollLeft  - To set scroll left for scroll container\n     * @param {number} leftSign - specifies left sign\n     * @returns {void} .\n     */\n    ChartScroll.prototype.setScrollLeft = function (scrollLeft, leftSign) {\n        scrollLeft = leftSign === -1 && this.parent.enableRtl ? -scrollLeft : scrollLeft;\n        this.isSetScrollLeft = true;\n        this.element.scrollLeft = scrollLeft;\n        this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n        if (!this.parent.enableTimelineVirtualization) {\n            this.previousScroll.left = this.element.scrollLeft;\n        }\n    };\n    /**\n     * Destroy scroll related elements and unbind the events\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.destroy = function () {\n        this.removeEventListeners();\n    };\n    return ChartScroll;\n}());\nexport { ChartScroll };\n","import { createElement } from '@syncfusion/ej2-base';\n/**\n * virtual Content renderer for Gantt\n */\nvar VirtualContentRenderer = /** @class */ (function () {\n    function VirtualContentRenderer(parent) {\n        this.parent = parent;\n    }\n    /**\n     * To render a wrapper for chart body content when virtualization is enabled.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.renderWrapper = function () {\n        this.wrapper = createElement('div', { className: 'e-virtualtable', styles: 'position: absolute; transform: translate(0px, 0px);' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.wrapper);\n        this.virtualTrack = createElement('div', { className: 'e-virtualtrack', styles: 'position: relative; pointer-events: none; width: 100%;' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.virtualTrack);\n        this.wrapper.appendChild(this.parent.ganttChartModule.chartBodyContent);\n    };\n    /**\n     * To append child elements for wrappered element when virtualization is enabled.\n     *\n     * @param {HTMLElement} element .\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.appendChildElements = function (element) {\n        this.wrapper.appendChild(element);\n    };\n    /**\n     * To adjust gantt content table's style when virtualization is enabled\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.adjustTable = function () {\n        var content = this.parent.treeGrid.getContent().querySelector('.e-content').querySelector('.e-virtualtable');\n        if (this.parent.enableTimelineVirtualization) {\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var translateXValue = void 0;\n            if (virtualTable !== '') {\n                translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            else {\n                var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n        }\n        else {\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = content.style.transform;\n        }\n    };\n    return VirtualContentRenderer;\n}());\nexport { VirtualContentRenderer };\n","import { createElement, formatUnit, EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, closest, addClass, removeClass, getValue, setValue } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { ChartScroll } from '../actions/chart-scroll';\nimport { click } from '@syncfusion/ej2-grids';\nimport { VirtualContentRenderer } from '../renderer/virtual-content-render';\n/**\n * module to render gantt chart - project view\n */\nvar GanttChart = /** @class */ (function () {\n    function GanttChart(parent) {\n        this.isExpandCollapseFromChart = false;\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n        this.debounceTimeoutNext = 0;\n        this.debounceTimeout = 0;\n        this.isGanttElement = false;\n        this.previousPinchDistance = 0;\n        this.currentToolbarIndex = -1;\n        this.isPinching = false;\n        this.parent = parent;\n        this.chartTimelineContainer = null;\n        this.rangeViewContainer =\n            createElement('div', { className: cls.rangeContainer });\n        this.rangeViewContainer.setAttribute('role', 'button');\n        this.rangeViewContainer.setAttribute('aria-label', 'RangeContainer');\n        this.virtualRender = new VirtualContentRenderer(this.parent);\n        this.addEventListener();\n    }\n    GanttChart.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.renderChartContainer, this);\n        this.parent.on('recordsUpdated', this.renderChartElements, this);\n        this.parent.on('dataReady', this.renderInitialContents, this);\n        this.parent.on('tree-grid-created', this.renderChartContents, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    GanttChart.prototype.renderChartContents = function () {\n        this.parent.notify('refreshDayMarkers', {});\n        this.wireEvents();\n    };\n    /**\n     * Method to render top level containers in Gantt chart\n     *\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderChartContainer = function () {\n        this.chartElement = createElement('div', { id: this.parent.element.id + 'GanttChart', className: cls.ganttChart });\n        this.parent.chartPane.appendChild(this.chartElement);\n        this.renderTimelineContainer();\n        this.renderBodyContainers();\n        // render top level div header and content\n        // Get timeline header from timeline class file and append to header div\n        // render content div\n        // Render scroll able div\n        // Render container for all element like, table, weekend and holidays\n        // Get rows element from rows renderer class\n        // Get label related info label renderer class\n        // Get baseline from baseline renderer class\n        // Get weekend elements from weekend-holidays renderer class\n    };\n    /**\n     * method to render timeline, holidays, weekends at load time\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderInitialContents = function () {\n        this.parent.timelineModule.createTimelineSeries();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderOverAllocationContainer = function () {\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            var data = this.parent.flatData[i];\n            if (data.childRecords.length > 0) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n            }\n        }\n        var rangeContainer = this.parent.element.querySelector('.' + cls.rangeContainer);\n        if (rangeContainer) {\n            rangeContainer.innerHTML = '';\n        }\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            this.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    GanttChart.prototype.renderChartElements = function () {\n        if (this.parent.isFromOnPropertyChange) {\n            this.rangeViewContainer.innerHTML = '';\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n            this.parent.isFromOnPropertyChange = false;\n        }\n        else {\n            this.parent.chartRowsModule.renderChartRows();\n            if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n                this.parent.connectorLineIds = [];\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.predecessorModule.createConnectorLinesCollection();\n            }\n            this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n            for (var i = 0; i < this.parent.chartRowsModule.ganttChartTableBody.children.length; i++) {\n                if (this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4]) {\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[2].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4].setAttribute('tabindex', '-1');\n                }\n                else {\n                    if (this.parent.viewType === 'ProjectView') {\n                        var node = this.parent.chartRowsModule.ganttChartTableBody.\n                            children[parseInt(i.toString(), 10)].children[0].children[1].children[1];\n                        if (!isNullOrUndefined(node)) {\n                            this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                        }\n                    }\n                    else if (this.parent.chartRowsModule.ganttChartTableBody.children[parseInt(i.toString(), 10)].children[0].\n                        children[1].children[0]) {\n                        this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[0].setAttribute('tabindex', '-1');\n                    }\n                }\n            }\n            var criticalModule = this.parent.criticalPathModule;\n            if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, this.parent.enableCriticalPath, criticalModule.predecessorCollectionTaskIds);\n            }\n            if (this.parent.showOverAllocation) {\n                this.renderOverAllocationContainer();\n            }\n        }\n        this.updateWidthAndHeight();\n        if (this.parent.isLoad) {\n            this.parent.notify('selectRowByIndex', {});\n        }\n        if (this.parent.timelineModule.isZoomToFit) {\n            this.parent.timelineModule.processZoomToFit();\n        }\n    };\n    /**\n     * @param {IGanttData[]} records .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderRangeContainer = function (records) {\n        var recordLength = records.length;\n        var count;\n        var ganttRecord;\n        var rangeCollection;\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            for (count = 0; count < recordLength; count++) {\n                ganttRecord = records[count];\n                rangeCollection = ganttRecord.ganttProperties.workTimelineRanges;\n                if (rangeCollection) {\n                    this.renderRange(rangeCollection, ganttRecord);\n                }\n            }\n        }\n    };\n    GanttChart.prototype.getTopValue = function (currentRecord) {\n        var updatedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var recordIndex = updatedRecords.indexOf(currentRecord);\n        if (currentRecord.parentItem && recordIndex === -1) {\n            var nestedParent = this.parent.getRecordByID(currentRecord.parentItem.taskId);\n            recordIndex = updatedRecords.indexOf(nestedParent);\n        }\n        if (!currentRecord.expanded) {\n            return (recordIndex * this.parent.rowHeight);\n        }\n        return ((recordIndex + 1) * this.parent.rowHeight);\n    };\n    /*get height for range bar*/\n    GanttChart.prototype.getRangeHeight = function (data) {\n        if (!data.expanded && data.hasChildRecords) {\n            return (this.parent.rowHeight - Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight)));\n        }\n        return (data.childRecords.length * this.parent.rowHeight) -\n            Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight));\n    };\n    GanttChart.prototype.renderRange = function (rangeCollection, currentRecord) {\n        var topValue = 0;\n        var rowIndex = this.parent.currentViewData.indexOf(currentRecord);\n        if (!this.parent.allowTaskbarOverlap && this.parent.enableMultiTaskbar) {\n            topValue = !currentRecord.expanded ? this.parent.getRowByIndex(rowIndex).offsetTop :\n                this.parent.getRowByIndex(rowIndex).offsetTop + this.parent.rowHeight;\n        }\n        else {\n            topValue = this.getTopValue(currentRecord);\n        }\n        var sameIDElement = this.rangeViewContainer.querySelector('.' + 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID);\n        if (sameIDElement) {\n            sameIDElement.remove();\n        }\n        var parentDiv = createElement('div', {\n            className: 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID, styles: \"top:\" + topValue + \"px; position: absolute;\"\n        });\n        if (currentRecord.level === 0 && !currentRecord.expanded && isNullOrUndefined(currentRecord.parentItem)\n            && !this.parent.enableMultiTaskbar) {\n            return;\n        }\n        if (currentRecord.level > 0 && currentRecord.expanded && !this.parent.getRecordByID(currentRecord.parentItem.taskId).expanded) {\n            return;\n        }\n        for (var i = 0; i < rangeCollection.length; i++) {\n            var height = void 0;\n            var node = this.parent.chartRowsModule.ganttChartTableBody.childNodes;\n            if (!this.parent.allowTaskbarOverlap && !currentRecord.expanded && this.parent.enableMultiTaskbar && !this.isCollapseAll) {\n                height = parseInt(node[rowIndex].style.height, 10) -\n                    (this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight);\n            }\n            else {\n                height = this.getRangeHeight(currentRecord);\n            }\n            var leftDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-leftarc', styles: (this.parent.enableRtl ? 'right:' : 'left:') +\n                    ((this.parent.enableRtl ? rangeCollection[i].left + rangeCollection[i].width - 5 : rangeCollection[i].left) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px;\\n                height: \" + (height + 1) + \"px; border-right: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            var rightDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-rightarc',\n                styles: (this.parent.enableRtl ? 'right:' : 'left:') + ((this.parent.enableRtl ? rangeCollection[i].left :\n                    rangeCollection[i].left + rangeCollection[i].width - 5) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px; height: \" + (height + 1) + \"px;\\n                border-left: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            parentDiv.appendChild(leftDiv);\n            parentDiv.appendChild(rightDiv);\n            this.rangeViewContainer.appendChild(parentDiv);\n        }\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.rangeViewContainer);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderTimelineContainer = function () {\n        this.chartTimelineContainer =\n            createElement('div', { className: cls.timelineHeaderContainer });\n        if (this.parent.enableRtl) {\n            this.chartTimelineContainer.style.borderLeftWidth = '1px';\n            this.chartTimelineContainer.style.borderRightWidth = '0px';\n        }\n        this.chartTimelineContainer.setAttribute('role', 'presentation');\n        this.chartElement.appendChild(this.chartTimelineContainer);\n    };\n    /**\n     * initiate chart container\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderBodyContainers = function () {\n        this.chartBodyContainer = createElement('div', { className: cls.chartBodyContainer });\n        this.chartElement.appendChild(this.chartBodyContainer);\n        this.scrollElement = createElement('div', {\n            className: cls.chartScrollElement + ' ' + cls.scrollContent, styles: 'position:relative;'\n        });\n        this.chartBodyContainer.appendChild(this.scrollElement);\n        this.chartBodyContent = createElement('div', { className: cls.chartBodyContent, styles: 'position:relative; overflow:hidden ' });\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization || this.parent.enableTimelineVirtualization) {\n            this.parent.ganttChartModule.virtualRender.renderWrapper();\n        }\n        else {\n            this.scrollElement.appendChild(this.chartBodyContent);\n        }\n        // this.parent.chartRowsModule.createChartTable();\n        this.scrollObject = new ChartScroll(this.parent);\n        //this.scrollObject.setWidth(this.chartProperties.width);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        this.scrollObject.\n            setHeight(this.parent.ganttHeight - this.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateWidthAndHeight = function () {\n        //empty row height\n        var emptydivHeight = 36;\n        var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n            this.parent.contentHeight;\n        var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (emptyHeight >= contentElement['offsetHeight'] || this.parent.height === 'auto' || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n            this.chartBodyContent.style.height = formatUnit(emptyHeight);\n        }\n        else {\n            var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            if (contentElement['offsetHeight'] >= scrollHeight) {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n            }\n            else {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n            }\n        } //let element: HTMLElement = this.chartTimelineContainer.querySelector('.' + cls.timelineHeaderTableContainer);\n        // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser at virtualtimeline mode-Task(919516)\n        if (this.parent.timelineModule.isZoomToFit && this.parent.enableTimelineVirtualization) {\n            this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n                && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n                formatUnit(this.parent.element.offsetWidth * 3)\n                : formatUnit(this.parent.timelineModule.totalTimelineWidth - this.parent.timelineModule['clientWidthDifference']);\n        }\n        else {\n            this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n                && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n                formatUnit(this.parent.element.offsetWidth * 3)\n                : formatUnit(this.parent.timelineModule.totalTimelineWidth);\n        }\n        // To handle the width of chartbody element after zoomtofit action followed by vertical scroll actions\n        if (this.parent.timelineModule.isZoomedToFit && this.parent.enableVirtualization) {\n            var clientWidth = Math.abs(this.parent.timelineModule.totalTimelineWidth -\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth);\n            this.parent.ganttChartModule.chartBodyContent.style.width =\n                formatUnit(this.parent.timelineModule.totalTimelineWidth - clientWidth);\n        }\n        this.setVirtualHeight();\n        this.parent.notify('updateHeight', {});\n        this.parent.updateGridLineContainerHeight();\n        this.updateLastRowBottomWidth();\n    };\n    GanttChart.prototype.setVirtualHeight = function () {\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var wrapper = getValue('virtualTrack', this.parent.ganttChartModule.virtualRender);\n            wrapper.style.height = this.parent.treeGrid.element.getElementsByClassName('e-virtualtrack')[0].style.height;\n            var wrapper1 = getValue('wrapper', this.parent.ganttChartModule.virtualRender);\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            if (this.parent.enableTimelineVirtualization) {\n                var translateXValue = void 0;\n                // Firefox whitespace issue, Firefox omit y axis value if both axis values are 0 and returns translate(0px)-Task(888356)\n                if (treegridVirtualHeight === 'translate(0px)' && navigator.userAgent.includes('Firefox')) {\n                    treegridVirtualHeight = 'translate(0px, 0px)';\n                }\n                if (virtualTable !== '') {\n                    translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                else {\n                    var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                    translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n                wrapper1.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n            }\n            else {\n                wrapper1.style.transform = treegridVirtualHeight;\n            }\n        }\n    };\n    /**\n     * Method to update bottom border for chart rows\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.updateLastRowBottomWidth = function () {\n        if (this.parent.currentViewData.length > 0 && this.parent.height !== 'auto') {\n            var expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.expandedRecords;\n            var lastExpandedRow = expandedRecords[expandedRecords.length - 1];\n            var lastExpandedRowIndex = this.parent.currentViewData.indexOf(lastExpandedRow);\n            var lastRow = this.parent.getRowByIndex(lastExpandedRowIndex);\n            var table = this.parent.chartRowsModule.ganttChartTableBody;\n            if (table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow')) {\n                removeClass(table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow'), 'e-lastrow');\n            }\n            if (this.chartBodyContent.clientHeight < this.chartBodyContainer.clientHeight) {\n                if (lastRow) {\n                    addClass(lastRow.querySelectorAll('td'), 'e-lastrow');\n                    var emptydivHeight = 36;\n                    var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n                        this.parent.contentHeight;\n                    var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n                    if (emptyHeight >= contentElement['offsetHeight'] || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n                        this.chartBodyContent.style.height = formatUnit(emptyHeight);\n                    }\n                    else {\n                        var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n                        if (contentElement['offsetHeight'] >= scrollHeight) {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n                        }\n                        else {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n                        }\n                    }\n                }\n            }\n        }\n    };\n    GanttChart.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('renderPanels', this.renderChartContainer);\n        this.parent.off('recordsUpdated', this.renderChartElements);\n        this.parent.off('dataReady', this.renderInitialContents);\n        this.parent.off('tree-grid-created', this.renderChartContents);\n        this.parent.off('destroy', this.destroy);\n    };\n    /**\n     * Click event handler in chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.ganttChartMouseDown = function (e) {\n        var cancel = false;\n        if (e.type === 'touchstart' && e instanceof TouchEvent && e.touches && e.touches.length === 2) {\n            // Calculate initial distance between two Pinch touch points\n            this.initPinchDistance = this.calculatePinchDistance(e.touches[0], e.touches[1]);\n            this.isPinching = true;\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule &&\n            this.parent.editSettings.allowTaskbarEditing && !this.isPinching) {\n            var editAction = this.parent.editModule.taskbarEditModule['getTaskBarAction'](e);\n            if (editAction === 'ChildDrag' || editAction === 'ParentDrag' || editAction === 'MilestoneDrag' || editAction === 'ManualParentDrag') {\n                var args = {\n                    cancel: cancel,\n                    data: this.getRecordByTaskBar(e.target),\n                    target: e.target,\n                    chartRow: closest(e.target, 'tr')\n                };\n                this.parent.trigger('rowDragStartHelper', args);\n                cancel = args['cancel'];\n            }\n        }\n        if (!cancel && !this.isPinching) {\n            if (e.which !== 3 && this.parent.editSettings.allowTaskbarEditing) {\n                this.parent.notify('chartMouseDown', e);\n                this.parent.element.tabIndex = 0;\n            }\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing && (this.parent.element.querySelector('.e-left-resize-gripper') || this.parent.element.querySelector('.e-left-connectorpoint-outer-div'))) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited || e.button === 2) {\n                if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                    this.parent.treeGrid.endEdit();\n                }\n            }\n        }\n    };\n    GanttChart.prototype.calculatePinchDistance = function (touch1, touch2) {\n        var dx = touch2.clientX - touch1.clientX;\n        var dy = touch2.clientY - touch1.clientY;\n        return Math.sqrt(dx * dx + dy * dy);\n    };\n    GanttChart.prototype.ganttChartMouseClick = function (e) {\n        if (this.parent.autoFocusTasks) {\n            this.scrollToTarget(e); /** Scroll to task */\n        }\n        this.parent.notify('chartMouseClick', e);\n    };\n    GanttChart.prototype.ganttChartMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n            var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n            if (!isNullOrUndefined(resizeCheck)) {\n                resizeCheck.remove();\n            }\n            var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar') || this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n            var falseline = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-gantt-false-line');\n            if (!isNullOrUndefined(falseline)) {\n                this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        if (!this.parent.editSettings.allowEditing) {\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing &&\n                getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n                getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited) {\n                /** Expand/collapse action */\n                var target = e.target;\n                var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                    || closest(e.target, '.' + cls.taskBarMainContainer);\n                if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing && !this.parent.isAdaptive) {\n                    this.chartExpandCollapseRequest(e);\n                }\n                else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                    this.scrollToTarget(e); /** Scroll to task */\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.scrollToTarget = function (e) {\n        var row = closest(e.target, 'tr');\n        if (row && this.parent.element.contains(row) &&\n            (this.parent.element.querySelectorAll('.e-chart-rows-container')[0].contains(e.target) ||\n                this.parent.element.querySelectorAll('.e-gridcontent')[0].contains(e.target)) &&\n            this.parent.currentViewData.length > 0) {\n            var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n            var dateObject = this.parent.currentViewData[rowIndex].ganttProperties.startDate;\n            var dateObjLeft = this.parent.currentViewData[rowIndex].ganttProperties.left;\n            if (!isNullOrUndefined(dateObject)) {\n                var left = !this.parent.enableTimelineVirtualization ?\n                    this.parent.dataOperation.getTaskLeft(dateObject, false) : {};\n                if (this.parent.autoFocusTasks) {\n                    if (this.parent.enableTimelineVirtualization) {\n                        this.updateScrollLeft(dateObjLeft);\n                    }\n                    else {\n                        this.updateScrollLeft(left);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To focus selected task in chart side\n     *\n     * @param {number} scrollLeft .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateScrollLeft = function (scrollLeft) {\n        scrollLeft = scrollLeft > 0 ? scrollLeft : 0;\n        scrollLeft = this.scrollElement.scrollWidth <= scrollLeft ? this.scrollElement.scrollWidth : scrollLeft;\n        if ((this.scrollElement.offsetWidth + this.parent.ganttChartModule.scrollElement.scrollLeft) < scrollLeft\n            || (this.scrollElement.scrollLeft > scrollLeft)) {\n            this.scrollObject.setScrollLeft(scrollLeft - 50, this.parent.enableRtl ? -1 : 0);\n        }\n        //  this.parent.ganttChartModule.scrollObject.updateLeftPosition();\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void}\n     * @private\n     */\n    GanttChart.prototype.mouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n        }\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(false);\n        }\n        var resizeCheck = this.parent.element.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule['previousLeftValue'] = 0;\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (!this.isGanttElement) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        this.isGanttElement = false;\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.documentMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n            this.previousPinchDistance = 0;\n        }\n        this.isGanttElement = true;\n        if (e.target.classList.contains('e-treegridexpand') ||\n            e.target.classList.contains('e-treegridcollapse')) {\n            if (getValue('isEditCollapse', this.parent.treeGrid) === true) {\n                setValue('isEditCollapse', false, this.parent.treeGrid);\n            }\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (this.parent.isDestroyed || e.which === 3) {\n            return;\n        }\n        var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        var Check = this.parent.element.getElementsByClassName('e-clone-taskbar')[0];\n        if (!isNullOrUndefined(Check)) {\n            var clonetbody = Check.parentElement;\n            var cloneTable = clonetbody.parentElement;\n            cloneTable.remove();\n        }\n        var isTaskbarEdited = false;\n        if (this.parent.editSettings.allowTaskbarEditing &&\n            getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n            getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            isTaskbarEdited = true;\n        }\n        this.parent.notify('chartMouseUp', e);\n        if (this.parent.showActiveElement) {\n            this.parent.showIndicator = true;\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n            if (this.focusedElement && !e.target.classList.contains('e-split-bar')) {\n                this.focusedElement.tabIndex = this.focusedElement.tabIndex === 0 ? -1 : this.focusedElement.tabIndex;\n                removeClass([this.focusedElement], 'e-active-container');\n            }\n        }\n        if (!isTaskbarEdited) {\n            /** Expand/collapse action */\n            var target = e.target;\n            var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                || closest(e.target, '.' + cls.taskBarMainContainer);\n            if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing) {\n                this.chartExpandCollapseRequest(e);\n            }\n            else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                this.scrollToTarget(e); /** Scroll to task */\n            }\n        }\n        if (this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n        }\n        if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isTaskbarEdited) {\n            var target = e.target;\n            var taskbarElement = closest(target, '.e-gantt-parent-taskbar,.e-gantt-child-taskbar,.e-gantt-milestone');\n            if (taskbarElement) {\n                this.onTaskbarClick(e, target, taskbarElement);\n            }\n        }\n    };\n    /**\n     * This event triggered when click on taskbar element\n     *\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @param {EventTarget} target .\n     * @param {Element} taskbarElement .\n     * @returns {void}\n     */\n    GanttChart.prototype.onTaskbarClick = function (e, target, taskbarElement) {\n        var rowIndex;\n        var chartRow = closest(target, 'tr');\n        if (!isNullOrUndefined(chartRow)) {\n            rowIndex = getValue('rowIndex', chartRow);\n        }\n        var data = this.getRecordByTarget(e);\n        var args = {\n            data: data,\n            taskbarElement: taskbarElement,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.parent.trigger('onTaskbarClick', args);\n    };\n    /**\n     *  Method trigger while perform mouse leave action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartLeave = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseLeave', e);\n        }\n    };\n    /**\n     *  Method trigger while perform mouse move action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartMove = function (e) {\n        if (e.type === 'touchmove' && this.isPinching === true && e instanceof TouchEvent && e.touches && e.touches.length === 2) {\n            // Calculate current distance between two touch points\n            var currentPinchDistance = this.calculatePinchDistance(e.touches[0], e.touches[1]);\n            if (Math.abs(this.previousPinchDistance - currentPinchDistance) > 15) {\n                if (currentPinchDistance > this.previousPinchDistance) {\n                    // Pinch out detected - Perform Zoom in\n                    this.parent.timelineModule.processZooming(true);\n                }\n                else if (currentPinchDistance < this.previousPinchDistance) {\n                    // Pinch in detected - Perform Zoom out\n                    this.parent.timelineModule.processZooming(false);\n                }\n                this.previousPinchDistance = currentPinchDistance;\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && this.isPinching === false) {\n            if (this.parent.element.getElementsByClassName('e-clone-taskbar').length > 0 && !this.parent.enableRtl) {\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (xValue <= this.parent.getOffsetRect(this.parent.ganttChartModule.chartElement).left) {\n                    return;\n                }\n            }\n            this.parent.notify('chartMouseMove', e);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency) && this.parent.connectorLineEditModule) {\n                this.parent.connectorLineEditModule.updateConnectorLineEditElement(e);\n            }\n        }\n    };\n    /**\n     *  Method trigger while perform right click action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.contextClick = function (e) {\n        if (this.parent.allowFiltering && this.parent.filterModule) {\n            this.parent.filterModule.closeFilterOnContextClick(e.srcElement);\n        }\n        if (this.parent.allowTaskbarDragAndDrop) {\n            var Check = this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n        }\n    };\n    /**\n     * Method to trigger while perform mouse move on Gantt.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.mouseMoveHandler = function (e) {\n        if (!isNullOrUndefined(this.parent.onMouseMove) &&\n            (this.parent.flatData.length ||\n                e.target.classList.contains('e-header-cell-label') ||\n                e.target.classList.contains('e-headercell'))) {\n            var target = e.target;\n            var args = { originalEvent: e };\n            var element = closest(target, '.e-chart-row-cell,.e-connector-line-container,' +\n                '.e-event-markers,.e-header-cell-label,.e-rowcell,.e-headercell,.e-indicator-span');\n            if (element) {\n                var rowData = void 0;\n                var rowElement = closest(target, '.e-rowcell,.e-chart-row-cell');\n                var columnElement = closest(target, '.e-rowcell,.e-headercell');\n                if (rowElement) {\n                    rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n                    args.data = rowData;\n                }\n                if (columnElement) {\n                    var cellIndex = getValue('cellIndex', columnElement);\n                    args.column = this.parent.treeGrid.columns[cellIndex];\n                }\n                if (closest(target, '.e-indicator-span')) {\n                    var index = 0;\n                    var indicators = rowData.ganttProperties.indicators;\n                    if (indicators.length > 1) {\n                        for (index = 0; index < indicators.length; index++) {\n                            if (indicators[index].name === (element.innerText).trim()) {\n                                break;\n                            }\n                        }\n                    }\n                    args.indicator = indicators[index];\n                }\n                if (closest(target, '.e-connector-line-container')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.predecessor = this.parent.tooltipModule.getPredecessorTooltipData(obj);\n                }\n                if (closest(target, '.e-event-markers')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.eventMarkers = this.parent.tooltipModule.getMarkerTooltipData(obj);\n                }\n                if (target.classList.contains('e-header-cell-label')) {\n                    args.date = new Date(target.dataset.content);\n                }\n            }\n            this.parent.trigger('onMouseMove', args);\n        }\n    };\n    /**\n     * Double click handler for chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.doubleClickHandler = function (e) {\n        var target = e.target;\n        var row = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', row);\n        var rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        this.parent.notify('chartDblClick', e);\n        var args = {\n            row: row,\n            rowData: rowData,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.recordDoubleClick(args);\n    };\n    /**\n     * To trigger record double click event.\n     *\n     * @param {RecordDoubleClickEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.recordDoubleClick = function (args) {\n        this.parent.trigger('recordDoubleClick', args);\n    };\n    /**\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTarget = function (e) {\n        var ganttData;\n        var row = closest(e.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            var id = row.getAttribute('rowUniqueId');\n            ganttData = this.parent.getRecordByID(id);\n        }\n        else {\n            row = closest(e.target, 'tr');\n            if (row) {\n                var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n        }\n        return ganttData;\n    };\n    /**\n     * To get gantt chart row elements\n     *\n     * @returns {NodeListOf<Element>} .\n     * @private\n     */\n    GanttChart.prototype.getChartRows = function () {\n        if (document.getElementById(this.parent.element.id + 'GanttTaskTableBody') !== null) {\n            return document.getElementById(this.parent.element.id + 'GanttTaskTableBody').querySelectorAll('.e-chart-row');\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Expand Collapse operations from gantt chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.chartExpandCollapseRequest = function (e) {\n        if (this.parent.enableMultiTaskbar) {\n            return;\n        }\n        var target = e.target;\n        var parentElement = closest(target, '.e-gantt-parent-taskbar');\n        var record = this.getRecordByTarget(e);\n        var chartRow = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', chartRow);\n        var gridRow = this.parent.treeGrid.getRows()[rowIndex];\n        var args = { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n        this.isExpandCollapseFromChart = true;\n        if (parentElement.classList.contains('e-row-expand')) {\n            this.collapseGanttRow(args);\n        }\n        else if (parentElement.classList.contains('e-row-collapse')) {\n            this.expandGanttRow(args);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.reRenderConnectorLines = function () {\n        this.parent.connectorLineModule.dependencyViewContainer.innerHTML = '';\n        this.parent.connectorLineIds = [];\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.predecessorModule.createConnectorLinesCollection();\n        this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To collapse gantt rows\n     *\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.collapseGanttRow = function (args) {\n        var _this = this;\n        this.parent.trigger('collapsing', args, function (arg) {\n            if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                _this.collapsedGanttRow(arg);\n            }\n            _this.isExpandCollapseFromChart = false;\n        });\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.collapsedGanttRow = function (args) {\n        var _this = this;\n        var record;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties[_this.parent.taskFields.id] === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            if (record) {\n                record.expanded = false;\n            }\n            return;\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n            var idField_1 = this.parent.taskFields.id;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_1] === args['data'][idField_1]; })[0];\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n        }\n        // To render the child record on parent row after collapsing\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'false');\n    };\n    /**\n     * To expand gantt rows\n     *\n     * @returns {void} .\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @private\n     */\n    GanttChart.prototype.expandGanttRow = function (args) {\n        var _this = this;\n        this.parent.trigger('expanding', args, function (arg) {\n            if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                _this.expandedGanttRow(arg);\n            }\n            _this.isExpandCollapseFromChart = false;\n        });\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.expandedGanttRow = function (args) {\n        var _this = this;\n        var record;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties.taskId === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            if (record) {\n                record.expanded = true;\n            }\n            return;\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            var idField_2 = this.parent.taskFields.id;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_2] === args['data'][idField_2]; })[0];\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            if (!this.parent.isExpandCollapseLevelMethod) {\n                this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            }\n            this.parent.isExpandCollapseLevelMethod = false;\n        }\n        // To render the child record on parent row after expanding.\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'true');\n    };\n    GanttChart.prototype.renderMultiTaskbar = function (record) {\n        if (this.parent.enableMultiTaskbar) {\n            this.parent.chartRowsModule.refreshRecords([record], true);\n        }\n        else if (this.parent.showOverAllocation) {\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    /**\n     * On expand collapse operation row properties will be updated here.\n     *\n     * @param {string} action .\n     * @param {Node} rowElement .\n     * @param {IGanttData} record .\n     * @param {boolean} isChild .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseChartRows = function (action, rowElement, record, isChild) {\n        var displayType;\n        if (action === 'expand') {\n            displayType = 'table-row';\n            if (!isChild) {\n                record.expanded = true;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-collapse');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-expand');\n                removeClass([targetElement[t]], 'e-row-collapse');\n            }\n        }\n        else if (action === 'collapse') {\n            displayType = 'none';\n            if (!isChild) {\n                record.expanded = false;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-expand');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-collapse');\n                removeClass([targetElement[t]], 'e-row-expand');\n            }\n        }\n        if (!this.parent.enableVirtualization) {\n            var childRecords = record.childRecords;\n            var chartRows = this.getChartRows();\n            var rows = [];\n            for (var i = 0; i < chartRows.length; i++) {\n                if (chartRows[i].classList.contains('gridrowtaskId' +\n                    record.ganttProperties.rowUniqueID +\n                    'level' +\n                    (record.level + 1))) {\n                    rows.push(chartRows[i]);\n                }\n            }\n            for (var i = 0; i < rows.length; i++) {\n                rows[i].style.display = displayType;\n                if (childRecords[i].childRecords &&\n                    childRecords[i].childRecords.length &&\n                    (action === 'collapse' ||\n                        childRecords[i].expanded ||\n                        this.isExpandAll)) {\n                    this.expandCollapseChartRows(action, rows[i], childRecords[i], true);\n                }\n            }\n        }\n    };\n    /**\n     * Public method to expand or collapse all the rows of Gantt\n     *\n     * @returns {void}\n     * @param {string} action .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseAll = function (action) {\n        if (action === 'expand') {\n            this.isExpandAll = true;\n            this.parent.treeGrid.expandAll();\n        }\n        else {\n            this.isCollapseAll = true;\n            this.parent.treeGrid.collapseAll();\n            if (this.isCollapseAll && !this.parent.allowTaskbarOverlap) {\n                var treeGridContentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.contentHeight = treeGridContentHeight;\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.expandAtLevel = function (level) {\n        this.parent.treeGrid.expandAtLevel(level);\n    };\n    /**\n     * Public method to collapse particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.collapseAtLevel = function (level) {\n        if (this.parent.enableVirtualization) {\n            this.parent.isExpandCollapseLevelMethod = true;\n        }\n        this.parent.treeGrid.collapseAtLevel(level);\n    };\n    /**\n     * Event Binding for gantt chart click\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.wireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.parent.chartPane, mouseDown, this.ganttChartMouseDown, this);\n        EventHandler.add(this.parent.chartPane, cancel, this.ganttChartLeave, this);\n        EventHandler.add(this.parent.chartPane, mouseMove, this.ganttChartMove, this);\n        EventHandler.add(this.parent.chartPane, 'wheel', this.onWheelZoom, this);\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.chartPane, click, this.ganttChartMouseClick, this);\n            EventHandler.add(this.parent.chartPane, mouseUp, this.ganttChartMouseUp, this);\n        }\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(this.parent.element, mouseUp, this.documentMouseUp, this);\n            EventHandler.add(document, mouseUp, this.mouseUp, this);\n        }\n        EventHandler.add(this.parent.element, 'mousemove', this.mouseMoveHandler, this);\n        EventHandler.add(document.body, 'contextmenu', this.contextClick, this);\n        EventHandler.add(document, 'mouseup', this.contextClick, this);\n        EventHandler.add(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler, this);\n    };\n    GanttChart.prototype.unWireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, mouseDown, this.ganttChartMouseDown);\n        }\n        if (!isNullOrUndefined(this.parent.chartPane)) {\n            EventHandler.remove(this.parent.chartPane, cancel, this.ganttChartLeave);\n            EventHandler.remove(this.parent.chartPane, mouseMove, this.ganttChartMove);\n            EventHandler.remove(this.parent.chartPane, 'wheel', this.onWheelZoom);\n            EventHandler.remove(this.parent.chartPane, mouseDown, this.ganttChartMouseDown);\n        }\n        if (this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.chartPane)) {\n                EventHandler.remove(this.parent.chartPane, click, this.ganttChartMouseClick);\n                EventHandler.remove(this.parent.chartPane, mouseUp, this.ganttChartMouseUp);\n            }\n        }\n        if (!this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.element)) {\n                EventHandler.remove(this.parent.element, mouseUp, this.documentMouseUp);\n            }\n            if (!isNullOrUndefined(document)) {\n                EventHandler.remove(document, mouseUp, this.mouseUp);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.element)) {\n            EventHandler.remove(this.parent.element, 'mousemove', this.mouseMoveHandler);\n        }\n        if (!isNullOrUndefined(document)) {\n            EventHandler.remove(document, 'mouseup', this.contextClick);\n            if (!isNullOrUndefined(document.body)) {\n                EventHandler.remove(document.body, 'contextmenu', this.contextClick);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler);\n        }\n    };\n    // Triggers while perform ctrl+mouse wheel Pinch IN/OUT actions\n    GanttChart.prototype.onWheelZoom = function (e) {\n        if (e.ctrlKey) {\n            e.preventDefault();\n            var zoomIn1_1 = e.deltaY < 0;\n            // Differentiating between touchpad and mouse wheel\n            var isTouchpad_1 = false;\n            if (Math.abs(e.deltaY) < 75) { // Smaller deltaY typically indicates touchpad\n                isTouchpad_1 = true;\n            }\n            if (this.debounceTimeout) {\n                if (((this.debounceTimeoutNext + 20) > this.debounceTimeout)) {\n                    clearTimeout(this.debounceTimeout);\n                }\n                if ((this.debounceTimeoutNext + 20) <= this.debounceTimeout || !this.debounceTimeoutNext) {\n                    this.debounceTimeoutNext = this.debounceTimeout;\n                }\n            }\n            this.debounceTimeout = setTimeout(function () {\n                var verticalScrollDelta = Math.abs(e.deltaY);\n                // Adjust threshold based on the input method\n                var isValidScrollDelta = isTouchpad_1\n                    ? (verticalScrollDelta > 0.5 && verticalScrollDelta < 15)\n                    : (verticalScrollDelta > 5 && verticalScrollDelta <= 200);\n                if (isValidScrollDelta) {\n                    this.parent.timelineModule.processZooming(zoomIn1_1);\n                }\n            }.bind(this), 100);\n        }\n    };\n    /**\n     * To get record by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTaskBar = function (target) {\n        var item;\n        if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n            item = this.parent.flatData[this.getIndexByTaskBar(target)];\n        }\n        else {\n            item = this.parent.currentViewData[this.getIndexByTaskBar(target)];\n        }\n        return item;\n    };\n    GanttChart.prototype.updateElement = function (next, currentColumn, isTab, isInEditedState, row) {\n        if (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress) {\n            var rowIndex = row.index;\n            do {\n                if (row.hasChildRecords) {\n                    next = this.getNextElement(next, isTab, isInEditedState);\n                }\n                currentColumn = this.parent.ganttColumns[next.getAttribute('data-colindex')];\n                rowIndex = this.parent.treeGrid.getRows().indexOf(next.parentElement);\n            } while (!currentColumn.allowEditing);\n            this.parent.treeGrid.saveCell();\n            this.parent.treeGrid.editCell(rowIndex, this.parent.ganttColumns[next.getAttribute('data-colindex')].field);\n        }\n        return next;\n    };\n    /**\n     * Trigger Tab & Shift + Tab keypress to highlight active element.\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.onTabAction = function (e) {\n        this.parent.treeGrid.grid.enableHeaderFocus = this.parent.enableHeaderFocus;\n        var toolbarItems = document.getElementsByClassName('e-toolbar-item');\n        var isInEditedState = this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit;\n        if (!this.parent.showActiveElement && !isInEditedState) {\n            return;\n        }\n        var $target = isInEditedState ? e.target.closest('.e-rowcell') : e.target;\n        if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n            $target = this.parent.element.querySelectorAll('.e-focused')[0];\n        }\n        if ($target && !($target.classList.contains('e-toolbar-item') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn'))) {\n            this.currentToolbarIndex = -1;\n        }\n        if ($target.closest('.e-rowcell') || $target.closest('.e-chart-row')) {\n            this.parent.focusModule.setActiveElement($target);\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.focusedRowIndex = $target.closest('.e-rowcell') ? $target.parentElement.rowIndex :\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            $target.closest('.e-chart-row') ? $target.closest('.e-chart-row').rowIndex : -1;\n        var isTab = (e.action === 'tab') ? true : false;\n        var nextElement = this.getNextElement($target, isTab, isInEditedState);\n        if (nextElement && (nextElement === 'noNextRow' || nextElement.classList.contains('e-rowdragheader'))) {\n            // eslint-disable-next-line\n            (nextElement === 'noNextRow' && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) ? this.parent.treeGrid.saveCell() : '';\n            nextElement = null;\n        }\n        if (nextElement && $target.classList.contains('e-headercell')) {\n            var colIndex = parseInt(nextElement.getAttribute('data-colindex'), 10);\n            if (e.action === 'shiftTab') {\n                while (colIndex !== -1 && !this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex - 1;\n                }\n                if (colIndex !== -1) {\n                    colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n                }\n                else {\n                    var toolbarItems_1 = document.getElementsByClassName('e-toolbar-item');\n                    for (var i = toolbarItems_1.length - 1; i > 0; i--) {\n                        if (!document.getElementsByClassName('e-toolbar-item')[i].classList.contains('e-hidden')) {\n                            nextElement = document.getElementsByClassName('e-toolbar-item')[i];\n                            this.currentToolbarIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                while (!this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex + 1;\n                }\n                colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n            }\n        }\n        if (!nextElement && $target.classList.contains('e-headercell') && e.action === 'tab') {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (!nextElement && ($target.classList.contains('e-headercell') || $target.classList.contains('e-toolbar-item') || $target.classList.contains('e-treegrid') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn')) && this.parent.toolbarModule && this.parent.toolbar.length > 0) {\n            var itemIndex = this.currentToolbarIndex !== -1 ? (e.action === 'tab' ? this.currentToolbarIndex + 1 :\n                this.currentToolbarIndex - 1) : (e.action === 'shiftTab' ? toolbarItems.length - 1 : 1);\n            var isUpdated = false;\n            if (itemIndex !== -1 && (e.action === 'shiftTab' || (e.action === 'tab' && itemIndex < toolbarItems.length))) {\n                do {\n                    if (!toolbarItems[itemIndex].classList.contains('e-hidden')) {\n                        nextElement = toolbarItems[itemIndex];\n                        nextElement.setAttribute('tabindex', '-1');\n                        if (nextElement.querySelector('.e-btn') === $target) {\n                            // eslint-disable-next-line\n                            e.action === 'tab' ? itemIndex++ : itemIndex--;\n                            nextElement = toolbarItems[itemIndex];\n                        }\n                        if (nextElement.querySelector('.e-btn')) {\n                            (nextElement.querySelector('.e-btn')).setAttribute('tabindex', '0');\n                        }\n                        isUpdated = true;\n                        this.currentToolbarIndex = itemIndex;\n                    }\n                    else {\n                        // eslint-disable-next-line\n                        e.action === 'tab' ? itemIndex++ : itemIndex--;\n                    }\n                } while (!isUpdated);\n            }\n        }\n        if (e.action === 'tab' && !nextElement && (this.currentToolbarIndex === toolbarItems.length - 1 &&\n            ($target.classList.contains('e-toolbar-item') || $target.classList.contains('e-input') ||\n                $target.classList.contains('e-btn')))) {\n            for (var i = 0; i < this.parent.treeGrid.columns.length; i++) {\n                if (this.parent.treeGrid.columns[i]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i];\n                    break;\n                }\n            }\n        }\n        if (e.action === 'shiftTab' && !nextElement && !$target.classList.contains('e-headercell')) {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (e.action === 'shiftTab' && $target.classList.contains('e-timeline-header-container')) {\n            for (var i = this.parent.treeGrid.columns.length; i > 0; i--) {\n                if (this.parent.treeGrid.columns[i - 1]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i - 1];\n                    break;\n                }\n            }\n        }\n        this.tempNextElement = nextElement;\n        if (!isNullOrUndefined(nextElement) && !isNullOrUndefined(nextElement['cellIndex'])) {\n            if (this.parent.allowRowDragAndDrop) {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'] - 1;\n            }\n            else {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'];\n            }\n            if (this.nextElementIndex !== -1 && !this.parent.ganttColumns[this.nextElementIndex]['allowEditing'] &&\n                this.parent.ganttColumns[this.nextElementIndex]['field'] !== this.parent.taskFields.id) {\n                this.isEditableElement = true;\n            }\n            else {\n                this.isEditableElement = false;\n            }\n        }\n        if (nextElement === 'noNextRow') {\n            this.manageFocus($target, 'remove', true);\n            return;\n        }\n        if (typeof nextElement !== 'string') {\n            if ($target.classList.contains('e-rowcell') || $target.closest('.e-chart-row-cell') ||\n                $target.classList.contains('e-headercell') || $target.closest('.e-segmented-taskbar') ||\n                $target.classList.contains('e-timeline-header-container')) {\n                e.preventDefault();\n            }\n            if (isTab && $target.classList.contains('e-rowdragdrop')) {\n                this.parent.treeGrid.grid.notify('key-pressed', e);\n                return;\n            }\n            if ($target.classList.contains('e-rowcell') && (nextElement && nextElement.classList.contains('e-rowcell')) ||\n                $target.classList.contains('e-headercell')) { // eslint-disable-line                                                                                                                                                                                                                                    \n                if (isTab) {\n                    if (this.parent.editSettings.allowNextRowEdit) {\n                        var rowData = this.parent.currentViewData[this.focusedRowIndex];\n                        var columnName = this.parent.ganttColumns[nextElement.getAttribute('data-colindex')].field;\n                        if (rowData.hasChildRecords) {\n                            if (columnName === this.parent.taskFields.endDate || columnName ===\n                                this.parent.taskFields.duration || columnName === this.parent.taskFields.dependency ||\n                                columnName === this.parent.taskFields.progress || columnName === this.parent.taskFields.work ||\n                                columnName === this.parent.taskFields.type || columnName === 'taskType') {\n                                this.parent.treeGrid.grid.endEdit();\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else if (columnName === this.parent.taskFields.name || columnName === this.parent.taskFields.startDate) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                                if (isInEditedState) {\n                                    this.parent.treeGrid.editCell(this.focusedRowIndex, columnName);\n                                }\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                    else {\n                        if (!nextElement || (nextElement && !nextElement.classList.contains('e-headercell') && !nextElement.classList.contains('e-timeline-header-container'))) {\n                            if ($target.classList.contains('e-headercell')) {\n                                this.manageFocus($target, 'remove', false);\n                            }\n                            /* eslint-disable-next-line */\n                            var row = this.parent.currentViewData[$target.parentElement.rowIndex];\n                            var next = nextElement;\n                            if (row.hasChildRecords &&\n                                (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress ||\n                                    !this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) &&\n                                this.parent.ganttColumns[next.getAttribute('data-colindex')].field !== this.parent.taskFields.id\n                                && $target.classList.contains('e-editedbatchcell')) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                                while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            }\n                            else if (!nextElement || $target.classList.contains('e-editedbatchcell')) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (nextElement && !nextElement.classList.contains('e-headercell') && nextElement.classList.contains('e-rowcell')\n                        && !nextElement.classList.contains('e-toolbar-item')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var row = this.parent.currentViewData[$target.parentElement.rowIndex];\n                        var next = nextElement;\n                        if (row.hasChildRecords &&\n                            (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress ||\n                                !this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) &&\n                            this.parent.ganttColumns[next.getAttribute('data-colindex')].field !== this.parent.taskFields.id\n                            && $target.classList.contains('e-editedbatchcell')) {\n                            var currentColumn = void 0;\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                next = this.getNextElement(next, isTab, isInEditedState);\n                            }\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                        }\n                        else if (parseInt(next.parentElement.getAttribute('data-rowindex'), 10) !== 0 &&\n                            parseInt(next.getAttribute('data-colindex'), 10) === 0 &&\n                            this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.id &&\n                            $target.classList.contains('e-editedbatchcell')) {\n                            /* eslint-disable-next-line */\n                            var rowIndex = $target.parentElement.rowIndex;\n                            var rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                            next = this.getChildElement(rowElement, isTab);\n                            var rowData = this.parent.flatData[parseInt(rowElement.getAttribute('data-rowindex'), 10)];\n                            if (rowData.hasChildRecords && (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing ||\n                                this.parent.ganttColumns[next.getAttribute('data-colindex')].field ===\n                                    this.parent.taskFields.progress)) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                                while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                }\n            }\n            if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n                this.manageFocus(this.parent.element.querySelectorAll('.e-focused')[0], 'remove', false);\n            }\n            if (!(this.parent.editModule && this.parent.editModule.cellEditModule\n                && !isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn))) {\n                if (nextElement) {\n                    if ($target.classList.contains('e-rowcell')) {\n                        this.manageFocus($target, 'remove', false);\n                    }\n                    else {\n                        this.manageFocus($target, 'remove', true);\n                    }\n                    if ((nextElement.classList.contains('e-rowcell') && $target.nextElementSibling && !$target.classList.contains('e-timeline-header-container'))\n                        || $target.classList.contains('e-right-label-container')) {\n                        if (!$target.classList.contains('e-rowcell')) {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                            var fmodule = getValue('focusModule', this.parent.treeGrid.grid);\n                            fmodule.currentInfo.element = nextElement;\n                            fmodule.currentInfo.elementToFocus = nextElement;\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            fmodule.content.matrix.current = [nextElement.parentElement.rowIndex, nextElement.cellIndex];\n                        }\n                        this.manageFocus(nextElement, 'add', false);\n                    }\n                    else {\n                        if (nextElement && (nextElement.classList.contains('e-toolbar-item') || nextElement.classList.contains('e-headercell')\n                            || nextElement.classList.contains('e-rowcell'))) {\n                            this.manageFocus($target, 'remove', false);\n                            if (!nextElement.classList.contains('e-toolbar-item')) {\n                                this.manageFocus(nextElement, 'add', false);\n                            }\n                            if ($target.classList.contains('e-treegrid')) {\n                                e.preventDefault();\n                            }\n                        }\n                        else {\n                            this.manageFocus(nextElement, 'add', true);\n                        }\n                    }\n                    this.parent.focusModule.setActiveElement(nextElement);\n                }\n            }\n        }\n    };\n    /**\n     * Get next/previous sibling element.\n     *\n     * @param {Element} $target .\n     * @param {boolean} isTab .\n     * @param {boolean} isInEditedState .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getNextElement = function ($target, isTab, isInEditedState) {\n        if ($target.classList.contains('e-timeline-header-container') && isTab) {\n            var rowElement = this.getNextRowElement(-1, isTab, true);\n            return this.getChildElement(rowElement, isTab);\n        }\n        var nextElement = isTab ? $target.nextElementSibling : $target.previousElementSibling;\n        if ($target.parentElement.classList.contains('e-taskbar-main-container')) {\n            if (this.parent.labelSettings.rightLabel && isTab) {\n                return $target.parentElement.nextElementSibling;\n            }\n            else if (!isTab && this.parent.labelSettings.leftLabel) {\n                return $target.parentElement.previousElementSibling;\n            }\n        }\n        while (nextElement && nextElement.parentElement.classList.contains('e-row')) {\n            if (!nextElement.matches('.e-hide') && !nextElement.matches('.e-rowdragdrop')) {\n                return nextElement;\n            }\n            nextElement = isTab ? nextElement.nextElementSibling : nextElement.previousElementSibling;\n        }\n        if (!isNullOrUndefined(nextElement) && (nextElement.classList.contains('e-taskbar-main-container')\n            || nextElement.classList.contains('e-right-connectorpoint-outer-div'))) {\n            var record = this.parent.currentViewData[this.focusedRowIndex];\n            if (!isNullOrUndefined(record.ganttProperties.segments) && record.ganttProperties.segments.length > 0) {\n                nextElement = nextElement.classList.contains('e-right-connectorpoint-outer-div')\n                    ? nextElement.parentElement.nextElementSibling\n                    : nextElement.getElementsByClassName('e-gantt-child-taskbar-inner-div')[0];\n            }\n        }\n        if (this.validateNextElement(nextElement)) {\n            return nextElement;\n        }\n        else {\n            var rowIndex = -1;\n            var rowElement = null;\n            var childElement = void 0;\n            if ($target.classList.contains('e-rowcell') && isInEditedState && this.parent.editSettings.allowNextRowEdit) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                childElement = this.getChildElement(rowElement, isTab);\n                return childElement;\n            }\n            else if ($target.classList.contains('e-rowcell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                if (isTab) {\n                    rowElement = this.parent.getRowByIndex(rowIndex);\n                    if (this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                        rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                        var childElement_1 = this.getChildElement(rowElement, isTab);\n                        return childElement_1;\n                    }\n                    else {\n                        if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                            return rowElement.getElementsByClassName('e-left-label-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                            return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                            return rowElement.getElementsByClassName('e-right-label-container')[0];\n                        }\n                    }\n                }\n                else {\n                    rowElement = this.getNextRowElement(rowIndex, isTab, false);\n                    if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                        return rowElement.getElementsByClassName('e-right-label-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                        return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                        return rowElement.getElementsByClassName('e-left-label-container')[0];\n                    }\n                }\n            }\n            else if ($target.parentElement.classList.contains('e-chart-row-cell') ||\n                $target.parentElement.parentElement.classList.contains('e-chart-row-cell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = closest($target, '.e-chart-row').rowIndex;\n                if (isTab) {\n                    if (!isTab && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                        /* eslint-disable-next-line */\n                        var rowRecord = this.parent.currentViewData[rowIndex];\n                        rowIndex = this.parent.flatData.indexOf(rowRecord);\n                    }\n                    rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                }\n                else {\n                    rowElement = this.parent.treeGrid.getRows()[rowIndex];\n                }\n                var childElement_2 = this.getChildElement(rowElement, isTab);\n                return childElement_2;\n            }\n            nextElement = $target;\n        }\n        return null;\n    };\n    /**\n     * Get next/previous row element.\n     *\n     * @param {number} rowIndex .\n     * @param {boolean} isTab .\n     * @param {boolean} isChartRow .\n     * @returns {Element} .\n     */\n    GanttChart.prototype.getNextRowElement = function (rowIndex, isTab, isChartRow) {\n        var expandedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var currentItem = this.parent.currentViewData[rowIndex];\n        var expandedRecordIndex = expandedRecords.indexOf(currentItem);\n        var nextRecord = isTab ? expandedRecords[expandedRecordIndex + 1] : expandedRecords[expandedRecordIndex - 1];\n        var nextRowIndex = this.parent.currentViewData.indexOf(nextRecord);\n        if (nextRecord) {\n            return isChartRow ? this.parent.treeGrid.getRows()[nextRowIndex] : this.parent.getRowByIndex(nextRowIndex);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Validate next/previous sibling element haschilds.\n     *\n     * @param {Element} $target .\n     * @param {string} className .\n     * @returns {boolean} .\n     */\n    GanttChart.prototype.validateNextElement = function ($target, className) {\n        if ($target && $target.classList.contains('e-rowcell')) {\n            return true;\n        }\n        if ($target && className) {\n            var elementByClass = $target.getElementsByClassName(className)[0];\n            return (elementByClass && elementByClass.hasChildNodes()) ? true : false;\n        }\n        else if ($target) {\n            return (!isNullOrUndefined($target) && $target.hasChildNodes()) ? true : false;\n        }\n        return false;\n    };\n    /**\n     * Getting child element based on row element.\n     *\n     * @param {Element} rowElement .\n     * @param {boolean} isTab .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getChildElement = function (rowElement, isTab) {\n        var childElement;\n        if (rowElement) {\n            childElement = isTab ? rowElement.children[0] : rowElement.children[rowElement.children.length - 1];\n            while (childElement) {\n                if (!childElement.matches('.e-hide') && !childElement.matches('.e-rowdragdrop')) {\n                    return childElement;\n                }\n                childElement = isTab ? childElement.nextElementSibling : childElement.previousElementSibling;\n            }\n        }\n        else {\n            return 'noNextRow';\n        }\n        return childElement;\n    };\n    /**\n     * Add/Remove active element.\n     *\n     * @private\n     * @param {HTMLElement} element .\n     * @param {string} focus .\n     * @param {boolean} isChartElement .\n     * @param {string} keyAction .\n     * @returns {void} .\n     */\n    GanttChart.prototype.manageFocus = function (element, focus, isChartElement, keyAction) {\n        if (isChartElement) {\n            var childElement = null;\n            if (element.classList.contains('e-left-label-container') ||\n                element.classList.contains('e-right-label-container')) {\n                childElement = element.getElementsByTagName('span')[0];\n            }\n            else if (element.classList.contains('e-taskbar-main-container')\n                || element.classList.contains('e-gantt-child-taskbar-inner-div')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var rowIndex = closest(element, '.e-chart-row').rowIndex;\n                var data = this.parent.currentViewData[rowIndex];\n                var className = data.hasChildRecords ? data.ganttProperties.isAutoSchedule ? 'e-gantt-parent-taskbar' :\n                    'e-manualparent-main-container' :\n                    data.ganttProperties.isMilestone ? 'e-gantt-milestone' : !isNullOrUndefined(data.ganttProperties.segments)\n                        && data.ganttProperties.segments.length > 0 ? 'e-segmented-taskbar' : 'e-gantt-child-taskbar';\n                childElement = element.getElementsByClassName(className)[0];\n                if (isNullOrUndefined(childElement)) {\n                    childElement = element;\n                }\n            }\n            if (element.classList.contains('e-right-label-temp-container') || element.classList.contains('e-left-label-temp-container') || element.classList.contains('e-indicator-span') || element.classList.contains('e-timeline-header-container')) {\n                if (focus === 'add') {\n                    element.setAttribute('tabIndex', '0');\n                    addClass([element], 'e-active-container');\n                    element.focus();\n                }\n                else {\n                    if (keyAction !== 'downArrow' && keyAction !== 'upArrow') {\n                        removeClass([element], 'e-active-container');\n                        element.setAttribute('tabIndex', '-1');\n                        element.blur();\n                    }\n                }\n            }\n            if (focus === 'add' && !isNullOrUndefined(childElement)) {\n                element.setAttribute('tabIndex', '0');\n                addClass([childElement], 'e-active-container');\n                element.focus();\n                this.focusedElement = childElement;\n            }\n            else if (!isNullOrUndefined(childElement) && (keyAction !== 'downArrow' && keyAction !== 'upArrow')) {\n                removeClass([childElement], 'e-active-container');\n                element.setAttribute('tabIndex', '-1');\n                element.blur();\n            }\n        }\n        else {\n            if (focus === 'add') {\n                element.setAttribute('tabIndex', '0');\n                addClass([element], ['e-focused', 'e-focus']);\n                element.focus();\n            }\n            else {\n                element.setAttribute('tabIndex', '-1');\n                removeClass([element], ['e-focused', 'e-focus']);\n                element.blur();\n            }\n        }\n    };\n    /**\n     * To get index by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {number} .\n     * @private\n     */\n    GanttChart.prototype.getIndexByTaskBar = function (target) {\n        var row;\n        var recordIndex;\n        if (!target.classList.contains(cls.taskBarMainContainer)) {\n            row = closest(target, 'div.' + cls.taskBarMainContainer);\n        }\n        else {\n            row = target;\n        }\n        if (isNullOrUndefined(row)) {\n            row = closest(target, 'tr.' + cls.chartRow);\n            recordIndex = [].slice.call(this.parent.chartRowsModule.ganttChartTableBody.childNodes).indexOf(row);\n        }\n        else {\n            var id = row.getAttribute('rowUniqueId');\n            var record = this.parent.getRecordByID(id);\n            if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n                recordIndex = this.parent.flatData.indexOf(record);\n            }\n            else {\n                if (this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth\n                    && this.parent.pdfExportModule.isPdfExport) {\n                    recordIndex = this.parent.ids.indexOf(record.ganttProperties.taskId.toString());\n                }\n                else {\n                    recordIndex = this.parent.currentViewData.indexOf(record);\n                }\n            }\n        }\n        return recordIndex;\n    };\n    GanttChart.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        this.chartElement = null;\n        this.rangeViewContainer = null;\n        this.chartBodyContent = null;\n        this.scrollElement = null;\n        this.chartTimelineContainer = null;\n        this.chartBodyContainer = null;\n        if (!isNullOrUndefined(this.scrollObject)) {\n            this.scrollObject.destroy();\n            this.scrollObject = null;\n        }\n    };\n    return GanttChart;\n}());\nexport { GanttChart };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { createElement, isNullOrUndefined, getValue, extend, append } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * Configures the `Timeline` of the gantt.\n */\nvar Timeline = /** @class */ (function () {\n    function Timeline(ganttObj) {\n        this.isZoomIn = false;\n        this.isZooming = false;\n        this.isZoomToFit = false;\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        this.pdfExportTopTierCollection = [];\n        this.pdfExportBottomTierCollection = [];\n        this.restrictRender = true;\n        this.performedTimeSpanAction = false;\n        this.isZoomedToFit = false;\n        this.parent = ganttObj;\n        this.initProperties();\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.initProperties = function () {\n        this.timelineStartDate = null;\n        this.timelineEndDate = null;\n        this.totalTimelineWidth = 0;\n        this.customTimelineSettings = null;\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        if (this.parent.enablePersistence && this.parent.isLoad) {\n            this.parent.timelineSettings = this.parent.currentZoomingLevel;\n        }\n    };\n    /**\n     * To render timeline header series.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.validateTimelineProp = function () {\n        this.roundOffDays();\n        this.processTimelineProperty();\n        this.timelineWidthCalculation();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimeline = function () {\n        this.initProperties();\n        this.processTimelineUnit();\n        this.parent.dataOperation.calculateProjectDates();\n        if (!this.parent.isFromOnPropertyChange) {\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        }\n        var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        this.parent.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimelineByTimeSpan = function () {\n        this.validateTimelineProp();\n        if (!this.parent.pdfExportModule || (this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport) ||\n            (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport &&\n                this.parent.pdfExportModule.helper.exportProps &&\n                !this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.parent.ganttChartModule.chartTimelineContainer.innerHTML = '';\n        }\n        this.createTimelineSeries();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateChartByNewTimeline = function () {\n        this.parent.chartRowsModule.refreshChartByTimeline();\n        var currentScrollLeft = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n        this.parent.element.getElementsByClassName('e-timeline-header-container')[0].scrollLeft = currentScrollLeft;\n        this.parent.notify('refreshDayMarkers', {});\n    };\n    /**\n     * Function used to perform Zoomin and Zoomout actions in Gantt control.\n     *\n     * @param {boolean} isZoomIn .\n     * @private\n     * @returns {void}\n     */\n    Timeline.prototype.processZooming = function (isZoomIn) {\n        if (this.parent.isReact) {\n            this.parent['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        this.isZoomToFit = this.isZoomedToFit = false;\n        this.updateUndoRedo(isZoomIn);\n        if (!this.parent['isProjectDateUpdated']) {\n            this.parent.dateValidationModule.calculateProjectDates();\n        }\n        if (this.parent.zoomingProjectStartDate) {\n            this.parent.cloneProjectStartDate = this.parent.zoomingProjectStartDate;\n            this.parent.cloneProjectEndDate = this.parent.zoomingProjectEndDate;\n        }\n        this.parent.zoomingProjectStartDate = this.parent.zoomingProjectEndDate = null;\n        var currentZoomingLevel = this.checkCurrentZoomingLevel();\n        this.isZoomIn = isZoomIn;\n        this.isZooming = true;\n        var currentLevel = this.getZoomLevel(currentZoomingLevel, isZoomIn);\n        this.updateToolbar(currentLevel, isZoomIn);\n        currentLevel = this.parent.zoomingLevels.findIndex(function (tempLevel) {\n            return tempLevel.level === currentLevel;\n        });\n        var newTimeline = this.parent.zoomingLevels[currentLevel];\n        var args = {\n            requestType: isZoomIn ? 'beforeZoomIn' : 'beforeZoomOut',\n            timeline: newTimeline,\n            cancel: false\n        };\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        if (!args.cancel) {\n            newTimeline = args.timeline;\n            this.changeTimelineSettings(newTimeline);\n        }\n        this.isZooming = false;\n    };\n    Timeline.prototype.updateUndoRedo = function (isZoomIn) {\n        var action = isZoomIn ? 'ZoomIn' : 'ZoomOut';\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent'](action)) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var previousTimeline = {\n                action: action,\n                previousZoomingLevel: extend({}, {}, this.parent.currentZoomingLevel, true)\n            };\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n    };\n    Timeline.prototype.getZoomLevel = function (currentZoomingLevel, isZoomIn) {\n        var levelChange = isZoomIn ? 1 : -1;\n        var level = currentZoomingLevel + levelChange;\n        var foundLevel = this.parent.zoomingLevels.find(function (tempLevel) { return tempLevel.level === level; });\n        return foundLevel ? level : currentZoomingLevel;\n    };\n    Timeline.prototype.updateToolbar = function (currentLevel, isZoomIn) {\n        if (this.parent.toolbarModule) {\n            if (isZoomIn) {\n                if (currentLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true); // disable toolbar items.\n                }\n            }\n            else {\n                if (currentLevel === this.parent.zoomingLevels[0].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true); // enable toolbar items.\n                }\n            }\n        }\n    };\n    /**\n     * To change the timeline settings property values based upon the Zooming levels.\n     *\n     * @param {ZoomTimelineSettings} newTimeline .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.changeTimelineSettings = function (newTimeline) {\n        var _this = this;\n        if (this.isZoomToFit) {\n            this.isSingleTier = this.customTimelineSettings.topTier.unit === 'None' || this.customTimelineSettings.bottomTier.unit === 'None' ? true : false;\n        }\n        else if (!this.isZoomIn) {\n            this.isSingleTier = newTimeline.topTier.unit === 'None' || newTimeline.bottomTier.unit === 'None' ? true : false;\n        }\n        var skipProperty = this.isSingleTier ?\n            this.customTimelineSettings.topTier.unit === 'None' ?\n                'topTier' : 'bottomTier' : null;\n        Object.keys(this.customTimelineSettings).forEach(function (property) {\n            if (property !== skipProperty) {\n                _this.customTimelineSettings[property] = (typeof newTimeline[property] === 'object'\n                    && !isNullOrUndefined(newTimeline[property])) ? __assign({}, newTimeline[property]) : newTimeline[property];\n            }\n            else {\n                var value = property === 'topTier' ? 'bottomTier' : 'topTier';\n                var assignValue = 'bottomTier';\n                if (newTimeline[\"\" + assignValue].unit !== 'None') {\n                    _this.customTimelineSettings[value] = __assign({}, newTimeline[assignValue]);\n                }\n            }\n        });\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.processTimelineUnit();\n        this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (this.isZooming || this.isZoomToFit) {\n            var args = {\n                requestType: this.isZoomIn ? 'AfterZoomIn' : this.isZoomToFit ? 'AfterZoomToProject' : 'AfterZoomOut',\n                timeline: this.parent.currentZoomingLevel\n            };\n            this.parent.trigger('actionComplete', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        if (this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule || this.parent.pdfExportModule\n            && !this.parent.pdfExportModule.isPdfExport)) {\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n            if (this.wholeTimelineWidth <= this.totalTimelineWidth) {\n                this.wholeTimelineWidth = this.totalTimelineWidth;\n            }\n            // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser at virtualtimeline mode-Task(919516)\n            if (this.isZoomToFit) {\n                this.clientWidthDifference = Math.abs(this.wholeTimelineWidth - this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth) + 1;\n                this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = (this.wholeTimelineWidth - this.clientWidthDifference) + 'px';\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack'))) {\n                    this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = (this.wholeTimelineWidth - this.clientWidthDifference) + 'px';\n                }\n            }\n            else {\n                this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack'))) {\n                    this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n                }\n            }\n            this.parent.ganttChartModule.updateWidthAndHeight();\n        }\n    };\n    /**\n     * To perform the zoom to fit operation in Gantt.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processZoomToFit = function () {\n        if (this.parent.isReact) {\n            this.parent['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        this.isZoomToFit = true;\n        this.isZooming = false;\n        this.isZoomedToFit = true;\n        var previousTimeline = {};\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('ZoomToFit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            previousTimeline['action'] = 'ZoomToFit';\n            previousTimeline['previousTimelineStartDate'] = extend([], [], [this.parent.cloneProjectStartDate], true)[0];\n            previousTimeline['previousTimelineEndDate'] = extend([], [], [this.parent.cloneProjectEndDate], true)[0];\n            previousTimeline['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartWidth = this.parent.ganttChartModule.chartElement.offsetWidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.roundOffDateToZoom(this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.roundOffDateToZoom(this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.calculateNumberOfTimelineCells(newTimeline);\n        var scrollHeight = this.parent.ganttChartModule.scrollElement.offsetHeight - 17; //17 is horizontal scrollbar width\n        var contentHeight = this.parent.ganttChartModule.chartBodyContent.offsetHeight;\n        var emptySpace = contentHeight <= scrollHeight ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        var args = {\n            requestType: 'beforeZoomToProject',\n            timeline: newTimeline\n        };\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin', this.parent.controlId + '_zoomout'], true);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        this.changeTimelineSettings(newTimeline);\n        this.parent.isTimelineRoundOff = isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.isZoomToFit = false;\n    };\n    Timeline.prototype.bottomTierCellWidthCalc = function (mode, zoomLevel, date) {\n        var convertedMilliSeconds;\n        switch (mode) {\n            case 'Minutes':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 1000);\n                break;\n            case 'Hour':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 1000);\n                break;\n            case 'Week':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (7 * 24 * 60 * 60 * 1000);\n                break;\n            case 'Day':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (24 * 60 * 60 * 1000);\n                break;\n            case 'Month':\n                {\n                    var daysInMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInMonth * 1000);\n                    break;\n                }\n            case 'Year':\n                {\n                    var daysInYear = (date.getFullYear() % 400 === 0 ||\n                        (date.getFullYear() % 100 !== 0 && date.getFullYear() % 4 === 0)) ? 366 : 365;\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInYear * 1000);\n                    break;\n                }\n        }\n        return convertedMilliSeconds;\n    };\n    Timeline.prototype.roundOffDateToZoom = function (date, isStartDate, perDayWidth, tierMode, zoomingLevel) {\n        var roundOffTime = this.bottomTierCellWidthCalc(tierMode, zoomingLevel, date);\n        if (isStartDate) {\n            date.setTime(date.getTime() - roundOffTime);\n        }\n        else {\n            date.setTime(date.getTime() + roundOffTime);\n        }\n    };\n    Timeline.prototype.calculateNumberOfTimelineCells = function (newTimeline) {\n        var sDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var eDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var numberOfDays = Math.abs((eDate.getTime() - sDate.getTime()) / (24 * 60 * 60 * 1000));\n        var count = newTimeline.bottomTier.count;\n        var unit = newTimeline.bottomTier.unit;\n        if (unit === 'Day') {\n            return numberOfDays / count;\n        }\n        else if (unit === 'Week') {\n            return (numberOfDays / count) / 7;\n        }\n        else if (unit === 'Month') {\n            return (numberOfDays / count) / 28;\n        }\n        else if (unit === 'Year') {\n            return (numberOfDays / count) / (12 * 28);\n        }\n        else if (unit === 'Hour') {\n            return numberOfDays * (24 / count);\n        }\n        else {\n            return numberOfDays * ((60 * 24) / count);\n        }\n    };\n    /**\n     * To validate time line unit.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineUnit = function () {\n        var directProperty = ['timelineViewMode', 'timelineUnitSize', 'weekStartDay', 'weekendBackground'];\n        var innerProperty = {\n            'topTier': ['unit', 'format', 'count', 'formatter'],\n            'bottomTier': ['unit', 'format', 'count', 'formatter']\n        };\n        var tierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        this.customTimelineSettings = this.customTimelineSettings ? this.customTimelineSettings :\n            this.extendFunction(this.parent.timelineSettings, directProperty, innerProperty);\n        if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1) &&\n            (tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1)) {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.timelineViewMode) !== -1 ?\n                this.customTimelineSettings.timelineViewMode : 'Week';\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== 5 ?\n                tierUnits[tierUnits.indexOf(this.customTimelineSettings.topTier.unit) + 1] : 'None';\n        }\n        else if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== -1 &&\n            tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) !== -1)\n            && (tierUnits.indexOf(this.customTimelineSettings.topTier.unit) >\n                tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit))) {\n            this.customTimelineSettings.bottomTier.unit = this.customTimelineSettings.topTier.unit;\n        }\n        else {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.topTier.unit;\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.bottomTier.unit;\n        }\n        this.topTier = this.customTimelineSettings.topTier.unit;\n        this.bottomTier = this.customTimelineSettings.bottomTier.unit;\n        this.previousIsSingleTier = this.isSingleTier;\n        this.isSingleTier = this.topTier === 'None' || this.bottomTier === 'None' ? true : false;\n    };\n    /**\n     * To validate timeline properties.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineProperty = function () {\n        this.customTimelineSettings.topTier.count = (this.topTier === 'None') ?\n            1 : this.validateCount(this.customTimelineSettings.topTier.unit, this.customTimelineSettings.topTier.count, 'topTier');\n        this.customTimelineSettings.bottomTier.count = this.customTimelineSettings.bottomTier.unit === 'None' ?\n            1 : this.validateCount(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.count, 'bottomTier');\n        this.customTimelineSettings.bottomTier.format = this.validateFormat(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.format);\n        this.customTimelineSettings.topTier.format = this.validateFormat(this.topTier, this.customTimelineSettings.topTier.format);\n        this.customTimelineSettings.weekStartDay = this.customTimelineSettings.weekStartDay >= 0 &&\n            this.customTimelineSettings.weekStartDay <= 6 ? this.customTimelineSettings.weekStartDay : 0;\n        if (!(this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.checkCurrentZoomingLevel();\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.calculateZoomingLevelsPerDayWidth = function () {\n        var collections = this.parent.zoomingLevels;\n        for (var i = 0; i < collections.length; i++) {\n            var perDayWidth = this.getPerDayWidth(collections[i].timelineUnitSize, collections[i].bottomTier.count, collections[i].bottomTier.unit);\n            collections[i].perDayWidth = perDayWidth;\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.checkCurrentZoomingLevel = function () {\n        var count = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.count : this.customTimelineSettings.topTier.count;\n        var unit = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.unit : this.customTimelineSettings.topTier.unit;\n        var tier = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            'bottomTier' : 'topTier';\n        var zoomLevel = this.getCurrentZoomingLevel(unit, count, tier);\n        if (this.parent.toolbarModule) {\n            if (zoomLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else if (zoomLevel === this.parent.zoomingLevels[0].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        this.parent.currentZoomingLevel = this.parent.zoomingLevels[zoomLevel];\n        return zoomLevel;\n    };\n    /**\n     * @param {string} unit .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getCurrentZoomingLevel = function (unit, count, tier) {\n        var level;\n        var currentZoomCollection;\n        var checkSameCountLevels;\n        var secondValue;\n        var firstValue;\n        if (!this.parent.zoomingLevels.length) {\n            this.parent.zoomingLevels = this.parent.getZoomingLevels();\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            if (tier === 'bottomTier') {\n                return tempLevel.bottomTier.unit === unit;\n            }\n            else {\n                return tempLevel.topTier.unit === unit;\n            }\n        });\n        if (sameUnitLevels.length === 0) {\n            var closestUnit_1 = this.getClosestUnit(unit, '', false);\n            sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n                if (tier === 'bottomTier') {\n                    return tempLevel.bottomTier.unit === closestUnit_1;\n                }\n                else {\n                    return tempLevel.topTier.unit === closestUnit_1;\n                }\n            });\n        }\n        var sortedUnitLevels = sameUnitLevels.sort(function (a, b) {\n            if (tier === 'bottomTier') {\n                return (!a.bottomTier.count || !b.bottomTier.count) ? 0 : ((a.bottomTier.count < b.bottomTier.count) ? 1 : -1);\n            }\n            else {\n                return (!a.topTier.count || !b.topTier.count) ? 0 : ((a.topTier.count < b.topTier.count) ? 1 : -1);\n            }\n        });\n        for (var i = 0; i < sortedUnitLevels.length; i++) {\n            firstValue = sortedUnitLevels[i];\n            if (i === sortedUnitLevels.length - 1) {\n                level = sortedUnitLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedUnitLevels[i + 1];\n            }\n            if (count >= firstValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n            else if (count < firstValue[\"\" + tier].count && count > secondValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i + 1];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * Getting closest zooimg level.\n     *\n     * @param {string} unit .\n     * @param {string} closetUnit .\n     * @param {boolean} isCont .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.getClosestUnit = function (unit, closetUnit, isCont) {\n        var bottomTierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        var index = bottomTierUnits.indexOf(unit);\n        if (index === 0) {\n            isCont = true;\n        }\n        if (this.isZoomIn || isCont) {\n            unit = bottomTierUnits[index + 1];\n        }\n        else {\n            unit = bottomTierUnits[index - 1];\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            return tempLevel.bottomTier.unit === unit;\n        });\n        if (sameUnitLevels.length === 0) {\n            if (unit === 'Year') {\n                isCont = true;\n            }\n            closetUnit = unit;\n            return this.getClosestUnit(unit, closetUnit, isCont);\n        }\n        else {\n            return unit;\n        }\n    };\n    Timeline.prototype.checkCollectionsWidth = function (checkSameLevels) {\n        var zoomLevels = checkSameLevels;\n        var width = this.customTimelineSettings.timelineUnitSize;\n        var level;\n        var secondValue;\n        var firstValue;\n        var sortedZoomLevels = zoomLevels.sort(function (a, b) {\n            return (a.timelineUnitSize < b.timelineUnitSize) ? 1 : -1;\n        });\n        for (var i = 0; i < sortedZoomLevels.length; i++) {\n            firstValue = sortedZoomLevels[i];\n            if (i === sortedZoomLevels.length - 1) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedZoomLevels[i + 1];\n            }\n            if (width >= firstValue.timelineUnitSize) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else if (width < firstValue.timelineUnitSize && width > secondValue.timelineUnitSize) {\n                level = sortedZoomLevels[i + 1].level;\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateTimelineHeaderHeight = function () {\n        if (this.parent.timelineModule.isSingleTier) {\n            this.parent.element.classList.add(cls.ganttSingleTimeline);\n        }\n        else {\n            this.parent.element.classList.remove(cls.ganttSingleTimeline);\n        }\n        if (this.previousIsSingleTier !== this.isSingleTier) {\n            var toolbarHeight = 0;\n            if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n                toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n            }\n            this.parent.ganttChartModule.scrollObject.\n                setHeight(this.parent.ganttHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n            this.parent.treeGrid.height = this.parent.ganttHeight - toolbarHeight -\n                this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        }\n    };\n    Timeline.prototype.dateByLeftValue = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            pStartDate.setDate(pStartDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            }\n        }\n        return pStartDate;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.createTimelineSeries = function () {\n        var tr;\n        var td;\n        var div;\n        var table;\n        var thead;\n        var virtualTableDiv;\n        var virtualTrackDiv;\n        var loopCount = this.isSingleTier ? 1 : 2;\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        if (this.restrictRender === true) {\n            this.updateTimelineHeaderHeight();\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n        }\n        if (this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3)) {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                virtualTableDiv = createElement('div', { className: cls.virtualTable });\n                virtualTrackDiv = createElement('div', { className: cls.virtualTrack });\n                td.appendChild(div);\n                tr.appendChild(td);\n                virtualTableDiv.appendChild(tr);\n                thead.appendChild(virtualTableDiv);\n                thead.appendChild(virtualTrackDiv);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n                this.restrictRender = false;\n            }\n            if (this.parent.height === 'auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n            this.timelineVirtualizationStyles();\n        }\n        else {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                td.appendChild(div);\n                tr.appendChild(td);\n                thead.appendChild(tr);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n            }\n            this.wholeTimelineWidth = this.totalTimelineWidth;\n            if (this.parent.height === 'auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n        }\n    };\n    Timeline.prototype.timelineVirtualizationStyles = function () {\n        var translateXValue = 0;\n        var translateYValue = 0;\n        var trackWidth = this.wholeTimelineWidth;\n        if (this.parent.enableTimelineVirtualization) {\n            //e-content styles updating\n            translateXValue = (this.parent.enableTimelineVirtualization &&\n                !isNullOrUndefined(this.parent.ganttChartModule.scrollObject.element.scrollLeft)\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0) ?\n                this.parent.ganttChartModule.scrollObject.getTimelineLeft() : 0;\n            if (this.parent.enableRtl) {\n                translateXValue = -(translateXValue);\n            }\n            var contentVirtualTable = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtable');\n            contentVirtualTable.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n            var contentVirtualTrack = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack');\n            contentVirtualTrack.style.position = 'relative';\n            contentVirtualTrack.style.width = trackWidth + 'px';\n            //timeline styles updating\n            if (this.parent.ganttChartModule.scrollObject['isSetScrollLeft']) {\n                var virtualTableStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtable');\n                var virtualTableStylesB = void 0;\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1])) {\n                    virtualTableStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtable');\n                }\n                virtualTableStylesT.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n                if (!isNullOrUndefined(virtualTableStylesB)) {\n                    virtualTableStylesB.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n                }\n            }\n            var virtualTrackStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtrack');\n            var virtualTrackStylesB = void 0;\n            if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1])) {\n                virtualTrackStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtrack');\n            }\n            if (!isNullOrUndefined(virtualTrackStylesB)) {\n                virtualTrackStylesB.style.position = 'relative';\n                virtualTrackStylesB.style.width = trackWidth + 'px';\n            }\n            virtualTrackStylesT.style.position = 'relative';\n            virtualTrackStylesT.style.width = trackWidth + 'px';\n            //dependency viewer styles updating\n            var dependencyViewer = this.parent.connectorLineModule.svgObject;\n            dependencyViewer['style'].width = trackWidth + 'px';\n            // timeline header container width updating\n            var timelineHeader = this.parent.element.querySelector('.' + cls.timelineHeaderContainer);\n            timelineHeader['style'].width = 'calc(100% - ' + 17 + 'px)';\n            if (this.parent.timelineModule.isZooming || this.parent.timelineModule.isZoomToFit) {\n                this.parent.ganttChartModule.scrollElement.scrollLeft = 0;\n                this.parent.ganttChartModule.scrollObject.updateChartElementStyles();\n            }\n        }\n    };\n    /**\n     * To validate timeline tier count.\n     *\n     * @param {string} mode .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateCount = function (mode, count, tier) {\n        var tierCount = !isNullOrUndefined(count) && parseInt(count.toString(), 10) > 0 ? parseInt(count.toString(), 10) : 1;\n        var timeDifference = Math.abs(this.timelineRoundOffEndDate.getTime() - this.timelineStartDate.getTime());\n        var difference;\n        switch (mode) {\n            case 'Year':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / (12 * 28));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Month':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 28);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? (difference + 1) : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Week':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 7);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Day':\n                difference = Math.round(timeDifference / (1000 * 3600 * 24));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Hour':\n                difference = Math.round(timeDifference / (1000 * 3600));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Minutes':\n                difference = Math.round(timeDifference / (1000 * 60));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n        }\n        if (count !== tierCount && this.isZooming && this.parent.toolbarModule && (tier === 'bottomTier' || this.isSingleTier)) {\n            if (this.isZoomIn) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        return tierCount;\n    };\n    /**\n     * To validate bottom tier count.\n     *\n     * @param {string} mode .\n     * @param {number} tierCount .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateBottomTierCount = function (mode, tierCount) {\n        var count;\n        switch (mode) {\n            case 'Year':\n                count = tierCount <= this.customTimelineSettings.topTier.count ?\n                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Month':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * 12) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * 12) :\n                    tierCount <= this.customTimelineSettings.topTier.count ?\n                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Week':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 4)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 4)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 4) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 4) :\n                        tierCount <= this.customTimelineSettings.topTier.count ?\n                            tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Day':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 28) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 28) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7) :\n                            tierCount <= this.customTimelineSettings.topTier.count ? tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Hour':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24) :\n                                tierCount <= this.customTimelineSettings.topTier.count ?\n                                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Minutes':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24 * 60) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24 * 60) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24 * 60) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24 * 60) :\n                                this.topTier === 'Hour' ? tierCount <= (this.customTimelineSettings.topTier.count * 60) ?\n                                    tierCount : (this.customTimelineSettings.topTier.count * 60) :\n                                    tierCount <= this.customTimelineSettings.topTier.count ?\n                                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n        }\n        return count;\n    };\n    /**\n     * To validate timeline tier format.\n     *\n     * @param {string} mode .\n     * @param {string} format .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.validateFormat = function (mode, format) {\n        var tierFormat;\n        switch (mode) {\n            case 'Week':\n                tierFormat = !format ? 'MMM dd, yyyy' : format;\n                break;\n            case 'Day':\n            case 'None':\n                tierFormat = !format ? '' : format;\n                break;\n            case 'Hour':\n                tierFormat = !format ? 'H' : format;\n                break;\n            case 'Month':\n                tierFormat = !format ? 'MMM yyyy' : format;\n                break;\n            case 'Year':\n                tierFormat = !format ? 'yyyy' : format;\n                break;\n            case 'Minutes':\n                tierFormat = !format ? 'm' : format;\n                break;\n        }\n        return tierFormat;\n    };\n    /**\n     * To perform extend operation.\n     *\n     * @param {object} cloneObj .\n     * @param {string[]} propertyCollection .\n     * @param {object} innerProperty .\n     * @returns {object} .\n     * @private\n     */\n    Timeline.prototype.extendFunction = function (cloneObj, propertyCollection, innerProperty) {\n        var _this = this;\n        var tempObj = {};\n        for (var index = 0; index < propertyCollection.length; index++) {\n            tempObj[propertyCollection[index]] = cloneObj[propertyCollection[index]];\n        }\n        if (innerProperty) {\n            Object.keys(innerProperty).forEach(function (key) {\n                tempObj[key] = _this.extendFunction(cloneObj[key], innerProperty[key], null);\n            });\n        }\n        return tempObj;\n    };\n    /**\n     * To format date.\n     *\n     * @param {string} dayFormat .\n     * @param {Date} data .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.formatDateHeader = function (dayFormat, data) {\n        var date = new Date(data.getTime());\n        var dateString;\n        if (dayFormat === '') {\n            dateString = this.parent.globalize.formatDate(date, { format: 'E' });\n            if (this.parent.locale === 'zh') {\n                dateString = dateString.slice(1);\n            }\n            else {\n                if (this.parent.locale === 'ar') {\n                    var dateStringValue = dateString;\n                    dateString = dateStringValue;\n                }\n                else {\n                    dateString = dateString.slice(0, 1);\n                }\n            }\n        }\n        else {\n            dateString = this.parent.globalize.formatDate(date, { format: dayFormat });\n        }\n        return dateString;\n    };\n    /**\n     * Custom Formatting.\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @param {string} tier .\n     * @param {string} mode .\n     * @param {string | ITimelineFormatter} formatter .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.customFormat = function (date, format, tier, mode, formatter) {\n        formatter = (typeof formatter === 'string' ? getValue(formatter, window) : formatter);\n        return formatter(date, format, tier, mode);\n    };\n    /**\n     * To create timeline template .\n     *\n     * @param {string} tier .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.createTimelineTemplate = function (tier) {\n        var isFirstCell = false;\n        var parent = this.parent;\n        var parentTh = createElement('th');\n        var parentTr;\n        var mode = tier === 'topTier' ?\n            parent.timelineModule.customTimelineSettings.topTier.unit :\n            parent.timelineModule.customTimelineSettings.bottomTier.unit;\n        var count = tier === 'topTier' ? parent.timelineModule.customTimelineSettings.topTier.count :\n            parent.timelineModule.customTimelineSettings.bottomTier.count;\n        var increment;\n        var newTime;\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.dateByLeftValue(leftValueForStartDate)).toString()) :\n            new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var endDate = new Date(this.timelineRoundOffEndDate.toString());\n        var scheduleDateCollection = [];\n        var width = 0;\n        var WidthForVirtualTable = this.parent.element.offsetWidth * 3;\n        do {\n            // PDf export collection\n            var timelineCell = {};\n            timelineCell.startDate = new Date(startDate.getTime());\n            if ((mode === 'Month' || mode === 'Hour') && tier === 'bottomTier' && (count !== 1) && scheduleDateCollection.length === 0) {\n                isFirstCell = true;\n            }\n            parentTr = this.getHeaterTemplateString(new Date(startDate.toString()), mode, tier, false, count, timelineCell, isFirstCell);\n            scheduleDateCollection.push(new Date(startDate.toString()));\n            if (isFirstCell && mode === 'Month') {\n                newTime = this.calculateQuarterEndDate(startDate, count).getTime();\n            }\n            else {\n                increment = Math.abs(this.getIncrement(startDate, count, mode));\n                newTime = startDate.getTime() + increment;\n            }\n            var dubStartDate = new Date(startDate.getTime());\n            isFirstCell = false;\n            startDate.setTime(newTime);\n            var dubStartHour = dubStartDate.getHours();\n            var startHour = startDate.getHours();\n            var difference = startHour - dubStartHour;\n            if (difference !== count && difference > 1) {\n                if ((!this.parent.isInDst(startDate) && this.parent.isInDst(dubStartDate)) ||\n                    (this.parent.isInDst(startDate) && !this.parent.isInDst(dubStartDate))) {\n                    if (startDate.getTimezoneOffset() > dubStartDate.getTimezoneOffset()) {\n                        startDate.setTime(startDate.getTime() - ((1000 * 60 * 60) * (difference - count)));\n                    }\n                }\n            }\n            if (startDate.getHours() === 5 && count === 2 && tier === 'bottomTier' &&\n                parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n                startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n            }\n            if (startDate.getHours() === 8 && count === 12 && tier === 'bottomTier' &&\n                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n                startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 8));\n            }\n            if (startDate >= endDate) {\n                /* eslint-disable-next-line */\n                parentTr = this.getHeaterTemplateString(scheduleDateCollection[scheduleDateCollection.length - 1], mode, tier, true, count, timelineCell);\n            }\n            parentTh.appendChild(parentTr);\n            var tierCollection = tier === 'topTier' ? this.topTierCollection : this.bottomTierCollection;\n            timelineCell.endDate = new Date(startDate.getTime());\n            if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.enableTimelineVirtualization) {\n                if (tier === 'topTier') {\n                    this.pdfExportTopTierCollection.push(timelineCell);\n                }\n                else {\n                    this.pdfExportBottomTierCollection.push(timelineCell);\n                }\n            }\n            else {\n                tierCollection.push(timelineCell);\n            }\n            width += timelineCell.width;\n            this.weekendEndDate = timelineCell.endDate >= endDate ? endDate : timelineCell.endDate;\n        } while ((this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule ||\n            this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport)) ? (width < WidthForVirtualTable) &&\n            (startDate < endDate) : (startDate < endDate));\n        return parentTh;\n    };\n    Timeline.prototype.updateTimelineAfterZooming = function (endDate, resized) {\n        var timeDiff;\n        var perDayWidth;\n        var totWidth;\n        var contentElement = document.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (!isNullOrUndefined(contentElement)) {\n            var contentWidth = contentElement['offsetWidth'];\n            var contentHeight = contentElement['offsetHeight'];\n            var scrollHeight = document.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            timeDiff = Math.abs(this.timelineStartDate.getTime() - endDate.getTime());\n            timeDiff = timeDiff / (1000 * 3600 * 24);\n            if (this.bottomTier === 'None') {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.topTier.count, this.topTier);\n            }\n            else {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.bottomTier.count, this.bottomTier);\n            }\n            if (contentHeight < scrollHeight) {\n                totWidth = (perDayWidth * timeDiff) + 17;\n            }\n            else {\n                totWidth = (perDayWidth * timeDiff);\n            }\n            if (contentWidth >= totWidth) {\n                var widthDiff = contentWidth - totWidth;\n                widthDiff = Math.round(widthDiff / perDayWidth);\n                endDate.setDate(endDate.getDate() + widthDiff);\n                this.parent.timelineModule.timelineEndDate = endDate;\n                if (resized) {\n                    this.parent.updateProjectDates(this.timelineStartDate, this.timelineEndDate, this.parent.isTimelineRoundOff);\n                }\n            }\n        }\n    };\n    Timeline.prototype.getTimelineRoundOffEndDate = function (date) {\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        var endDate = new Date(date.toString());\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Hour') {\n                endDate.setMinutes(60);\n            }\n            else if (tierMode === 'Minutes') {\n                endDate.setSeconds(60);\n            }\n            else {\n                endDate.setHours(24, 0, 0, 0);\n            }\n        }\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.updateTimelineAfterZooming(endDate, false);\n        }\n        return endDate;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {number} count .\n     * @param {string} mode .\n     * @param {boolean} isFirstCell .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getIncrement = function (startDate, count, mode, isFirstCell) {\n        var firstDay = new Date(startDate.getTime());\n        var lastDay = new Date(startDate.getTime());\n        var increment;\n        switch (mode) {\n            case 'Year':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear() + (count - 1), 11, 31);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24);\n                break;\n            case 'Month':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear(), startDate.getMonth() + count, 1);\n                increment = lastDay.getTime() - firstDay.getTime();\n                break;\n            case 'Week':\n                {\n                    var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n                    var dayIntervel = startDate.getDay() < dayIndex ? (dayIndex - startDate.getDay()) :\n                        (6 - startDate.getDay()) + dayIndex;\n                    count = dayIntervel > 0 ? count - 1 : 0;\n                    lastDay.setHours(24, 0, 0, 0);\n                    dayIntervel = startDate.getDay() < dayIndex ? dayIntervel > 0 ?\n                        dayIntervel - 1 : dayIntervel : dayIntervel;\n                    lastDay.setDate(lastDay.getDate() + (dayIntervel + (7 * count)));\n                    increment = lastDay.getTime() - firstDay.getTime();\n                    break;\n                }\n            case 'Day':\n                lastDay.setHours(24, 0, 0, 0);\n                if (this.parent.timelineModule.customTimelineSettings.bottomTier.count === 6) {\n                    if (((lastDay.getHours() - firstDay.getHours()) === -2)) {\n                        // Reducing 2-hrs to match one day for firstDay:\n                        firstDay.setTime(firstDay.getTime() - (2 * 3600000));\n                    }\n                    if (this.parent.isInDst(firstDay)) {\n                        // Reducing 2-hrs to match one day for firstDay and 1-hr for DST handle:\n                        firstDay.setTime(firstDay.getTime() - (3 * 3600000));\n                    }\n                }\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24 * (count - 1));\n                increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                break;\n            case 'Hour':\n                {\n                    lastDay.setMinutes(60);\n                    lastDay.setSeconds(0);\n                    increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * (count - 1));\n                    var date = new Date(lastDay);\n                    date.setTime(date.getTime() + increment);\n                    if (isFirstCell && count === 12) {\n                        if (firstDay.getHours() !== 0) {\n                            date.setHours(0, 0, 0, 0);\n                            increment = date.getTime() - firstDay.getTime();\n                        }\n                    }\n                    // if (isFirstCell && count === 6) {\n                    //     if (firstDay.getHours() !== 0) {\n                    //         date.setHours(6, 0, 0, 0);\n                    //         increment = date.getTime() - firstDay.getTime();\n                    //     }\n                    // }\n                    increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                    break;\n                }\n            case 'Minutes':\n                lastDay.setSeconds(60);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * (count - 1));\n                increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                break;\n        }\n        return increment;\n    };\n    Timeline.prototype.checkDate = function (firstDay, lastDay, increment, count, mode) {\n        var date = new Date(firstDay.getTime());\n        date.setTime(date.getTime() + increment);\n        if (mode === 'Day' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60 * 60 * 24)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60 * 60 * 24);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        else if (mode === 'Hour' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60 * 60)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60 * 60);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        else if (mode === 'Minutes' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2 && count !== 15 && count !== 60) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        return increment;\n    };\n    /**\n     * Method to find header cell was weekend or not\n     *\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {Date} day .\n     * @returns {boolean} .\n     */\n    Timeline.prototype.isWeekendHeaderCell = function (mode, tier, day) {\n        return (mode === 'Day' || mode === 'Hour' || mode === 'Minutes') && (this.customTimelineSettings[tier].count === 1 ||\n            mode === 'Hour' || mode === 'Minutes') &&\n            this.parent.nonWorkingDayIndex.indexOf(day.getDay()) !== -1;\n    };\n    Timeline.prototype.calculateQuarterEndDate = function (date, count) {\n        var month = date.getMonth();\n        if (count === 3) {\n            if (month >= 0 && month <= 2) {\n                return new Date(date.getFullYear(), 3, 1);\n            }\n            else if (month >= 3 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else if (month >= 6 && month <= 8) {\n                return new Date(date.getFullYear(), 9, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n        else {\n            if (month >= 0 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n    };\n    Timeline.prototype.calculateTotalHours = function (mode, count) {\n        var totalHour = 0;\n        switch (mode) {\n            case 'Hour':\n                totalHour = 1 * count;\n                break;\n            case 'Day':\n                totalHour = 24 * count;\n                break;\n            case 'Week':\n                totalHour = 7 * 24 * count;\n                break;\n            case 'Minutes':\n                totalHour = count / 60;\n                break;\n        }\n        return totalHour;\n    };\n    /**\n     * To construct template string.\n     *\n     * @param {Date} scheduleWeeks .\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {boolean} isLast .\n     * @param {number} count .\n     * @param {TimelineFormat} timelineCell .\n     * @returns {string} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Timeline.prototype.getHeaterTemplateString = function (scheduleWeeks, mode, tier, isLast, count, timelineCell, isFirstCell) {\n        var parentTr = '';\n        var template;\n        var timelineTemplate = null;\n        if (!isNullOrUndefined(this.parent.timelineTemplate)) {\n            timelineTemplate = this.parent.chartRowsModule.templateCompiler(this.parent.timelineTemplate);\n        }\n        var format = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.format :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.format;\n        var formatter = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.formatter :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.formatter;\n        var thWidth;\n        var date = isNullOrUndefined(formatter) ?\n            this.parent.globalize.formatDate(scheduleWeeks, { format: this.parent.getDateFormat() }) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter);\n        thWidth = Math.abs((this.getIncrement(scheduleWeeks, count, mode, isFirstCell) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n        var incrementValue = this.getIncrement(scheduleWeeks, count, mode);\n        var newDate = new Date(scheduleWeeks.getTime() + incrementValue);\n        var dubNewDate = new Date(scheduleWeeks.getTime() + ((60 * 60 * 1000) * count));\n        var newDateOffset = newDate.getTime();\n        var dubNewDateOffset = dubNewDate.getTime();\n        var timelineStartDate = this.parent.timelineModule.timelineStartDate;\n        var timelineStartTime = timelineStartDate.getTime();\n        var hasDST = this.parent.dataOperation.hasDSTTransition(scheduleWeeks.getFullYear());\n        var timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n        var transitions;\n        var dstStartTime;\n        if (hasDST) {\n            transitions = this.parent.dataOperation.getDSTTransitions(scheduleWeeks.getFullYear(), timeZone);\n            dstStartTime = transitions['dstStart'].getTime();\n        }\n        if ((!this.parent.isInDst(newDate) && this.parent.isInDst(scheduleWeeks)) ||\n            (this.parent.isInDst(newDate) && !this.parent.isInDst(scheduleWeeks)) ||\n            (newDateOffset !== dubNewDateOffset && hasDST && dubNewDateOffset > newDateOffset &&\n                timelineStartTime <= dstStartTime)) {\n            var temp = void 0;\n            var totalHour = 0;\n            var incrementHour = incrementValue / (1000 * 60 * 60);\n            if ((!this.parent.isInDst(newDate) && this.parent.isInDst(scheduleWeeks))) {\n                totalHour = this.calculateTotalHours(mode, count);\n                if (incrementHour !== totalHour && totalHour !== 0 && incrementHour > totalHour) {\n                    temp = this.getIncrement(scheduleWeeks, count, mode) - ((1000 * 60 * 60) * (incrementHour - totalHour));\n                    thWidth = (temp / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    if (thWidth === 0 && mode === 'Minutes') {\n                        var perMinuteWidth = this.parent.perDayWidth / 1440;\n                        thWidth = perMinuteWidth * count;\n                    }\n                }\n            }\n            else {\n                var zoomOrTimeline = this.parent.timelineModule.customTimelineSettings;\n                var bottomTierSettings = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'] :\n                    zoomOrTimeline['topTier'];\n                var bottomTierCountIsOneAndUnitIsHour = ((bottomTierSettings['count'] === 1 && bottomTierSettings['unit'] === 'Hour') ||\n                    (bottomTierSettings['count'] === 60 && bottomTierSettings['unit'] === 'Minutes'));\n                totalHour = this.calculateTotalHours(mode, count);\n                if (incrementHour !== totalHour && incrementHour < totalHour && !(tier === 'topTier' && bottomTierCountIsOneAndUnitIsHour)) {\n                    temp = this.getIncrement(scheduleWeeks, count, mode) + (1000 * 60 * 60);\n                    var value_1 = (temp / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    var tierWidth = tier === 'topTier' ? this.topTierCellWidth : this.bottomTierCellWidth;\n                    if (tierWidth >= value_1) {\n                        thWidth = value_1;\n                        if (thWidth === 0 && mode === 'Minutes') {\n                            var perMinuteWidth = this.parent.perDayWidth / 1440;\n                            thWidth = perMinuteWidth * count;\n                        }\n                    }\n                }\n            }\n        }\n        var cellWidth = thWidth;\n        thWidth = isLast\n            ? (this.parent.isInDst(this.timelineRoundOffEndDate)\n                ? thWidth\n                : this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.timelineRoundOffEndDate))\n            : (isFirstCell && mode !== 'Hour')\n                ? this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.calculateQuarterEndDate(scheduleWeeks, count))\n                : thWidth;\n        var isWeekendCell = this.isWeekendHeaderCell(mode, tier, scheduleWeeks);\n        var textClassName = tier === 'topTier' ? ' e-gantt-top-cell-text' : '';\n        if (isFirstCell && scheduleWeeks.getHours() === 20 && count === 12 && tier === 'bottomTier' &&\n            this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n            scheduleWeeks.setTime(scheduleWeeks.getTime() - (1000 * 60 * 60 * 20));\n        }\n        var value = (isNullOrUndefined(formatter) ? this.formatDateHeader(format, scheduleWeeks) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter));\n        if (!isNullOrUndefined(timelineTemplate)) {\n            var args = {\n                date: date,\n                tier: tier,\n                value: value\n            };\n            template = timelineTemplate(extend({}, args), this.parent, 'TimelineTemplate', this.parent.chartRowsModule.getTemplateID('TimelineTemplate'), false, undefined, null, this.parent['root']);\n        }\n        var className = this.parent.timelineModule.isSingleTier ? cls.timelineSingleHeaderCell : cls.timelineTopHeaderCell;\n        var weekendClass = isWeekendCell ? ' ' + cls.weekendHeaderCell : '';\n        var th = createElement('th', {\n            className: \"\" + className + weekendClass,\n            styles: \"width:\" + thWidth + \"px;\" + (isWeekendCell && this.customTimelineSettings.weekendBackground ? 'background-color:' + this.customTimelineSettings.weekendBackground + ';' : '')\n        });\n        th.tabIndex = -1;\n        th.setAttribute('aria-label', this.parent.localeObj.getConstant('timelineCell') + \" \" + date);\n        var div = createElement('div', {\n            className: \"\" + cls.timelineHeaderCellLabel + textClassName,\n            styles: \"width:\" + (thWidth - 1) + \"px;\"\n        });\n        div.title = this.parent.timelineSettings.showTooltip ? date : '';\n        div.textContent = value;\n        if (this.parent.isReact && !isNullOrUndefined(template) && template.length > 0) {\n            template[0]['style'].width = '100%';\n            template[0]['style'].height = '100%';\n        }\n        if (!isNullOrUndefined(timelineTemplate) && !isNullOrUndefined(template) && template.length > 0) {\n            append(template, th);\n        }\n        else {\n            th.append(div);\n        }\n        /* eslint-disable-next-line */\n        parentTr += th.outerHTML;\n        if ((this.isSingleTier || tier === 'topTier') && !isLast) {\n            this.totalTimelineWidth = this.totalTimelineWidth + thWidth;\n        }\n        else if ((this.isSingleTier || tier === 'topTier') && isLast) {\n            this.totalTimelineWidth = (this.totalTimelineWidth - cellWidth) + thWidth;\n        }\n        // PDf export collection\n        timelineCell.value = value;\n        timelineCell.isWeekend = isWeekendCell;\n        timelineCell.width = thWidth;\n        return th;\n    };\n    /**\n     * To calculate last 'th' width.\n     *\n     * @param {string} mode .\n     * @param {Date} scheduleWeeks .\n     * @param {Date} endDate .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.calculateWidthBetweenTwoDate = function (mode, scheduleWeeks, endDate) {\n        var sDate = new Date(scheduleWeeks.getTime());\n        var eDate = new Date(endDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var timeDifference = (eDate.getTime() - sDate.getTime());\n        var balanceDay = (timeDifference / (1000 * 60 * 60 * 24));\n        return balanceDay * this.parent.perDayWidth;\n    };\n    /**\n     * To calculate timeline width.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.timelineWidthCalculation = function () {\n        var timelineUnitSize = this.customTimelineSettings.timelineUnitSize;\n        var bottomTierCount = this.customTimelineSettings.bottomTier.count;\n        var topTierCount = this.customTimelineSettings.topTier.count;\n        this.bottomTierCellWidth = timelineUnitSize;\n        if (this.bottomTier === 'None') {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, topTierCount, this.topTier);\n        }\n        else {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, bottomTierCount, this.bottomTier);\n        }\n        this.topTierCellWidth = this.bottomTier !== 'None' ? this.topTier === 'Week' ?\n            this.parent.perDayWidth * 7 : this.topTier === 'Hour' ?\n            this.parent.perDayWidth / 24 : this.topTier === 'Minutes' ?\n            this.parent.perDayWidth / (24 * 60) : this.parent.perDayWidth : timelineUnitSize;\n        this.topTierCellWidth = this.isSingleTier ? this.topTierCellWidth : this.topTierCellWidth * topTierCount;\n    };\n    /**\n     * To validate per day width.\n     *\n     * @param {number} timelineUnitSize .\n     * @param {number} bottomTierCount .\n     * @param {string} mode .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getPerDayWidth = function (timelineUnitSize, bottomTierCount, mode) {\n        var perDayWidth;\n        switch (mode) {\n            case 'Year':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / (12 * 28);\n                break;\n            case 'Month':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 28;\n                break;\n            case 'Week':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 7;\n                break;\n            case 'Day':\n                perDayWidth = timelineUnitSize / bottomTierCount;\n                break;\n            case 'Hour':\n                perDayWidth = (24 / bottomTierCount) * timelineUnitSize;\n                break;\n            case 'Minutes':\n                perDayWidth = ((60 * 24) / bottomTierCount) * timelineUnitSize;\n                break;\n        }\n        return perDayWidth;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.roundOffDays = function () {\n        var startDate = this.parent.cloneProjectStartDate;\n        var endDate = this.parent.cloneProjectEndDate;\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Year') {\n                startDate = new Date(startDate.getFullYear(), 0, 1);\n                endDate = new Date(endDate.getFullYear(), 11, 31);\n            }\n            else if (tierMode === 'Month') {\n                startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 0);\n            }\n            else if (tierMode === 'Week') {\n                var dayIndex = !isNullOrUndefined(this.customTimelineSettings.weekStartDay) ?\n                    this.parent.timelineModule.customTimelineSettings.weekStartDay : 0;\n                var roundOffStartDate = startDate.getDay() < dayIndex ?\n                    (startDate.getDate()) - (7 - dayIndex + startDate.getDay()) :\n                    (startDate.getDate()) - startDate.getDay() + dayIndex;\n                startDate.setDate(roundOffStartDate);\n                var first = endDate.getDate() - endDate.getDay();\n                var last = first + 6 + dayIndex;\n                endDate.setDate(last);\n            }\n            if (tierMode === 'Hour') {\n                startDate.setMinutes(0);\n            }\n            else if (tierMode === 'Minutes') {\n                startDate.setSeconds(0);\n            }\n            else {\n                startDate.setHours(0, 0, 0, 0);\n            }\n        }\n        this.timelineStartDate = startDate;\n        this.timelineEndDate = endDate;\n        this.timelineRoundOffEndDate = this.getTimelineRoundOffEndDate(this.timelineEndDate);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} mode .\n     * @param {string} span .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateScheduleDatesByToolBar = function (mode, span, startDate, endDate) {\n        if (mode === 'Year') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMonth() === 0) {\n                    startDate = new Date(startDate.getFullYear() - 1, 0, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), 0, 1);\n                }\n            }\n            else {\n                if (endDate.getMonth() === 11) {\n                    endDate = new Date(endDate.getFullYear() + 1, 0, 1);\n                }\n                else {\n                    endDate = new Date(endDate.getFullYear(), 12, 1);\n                }\n            }\n        }\n        if (mode === 'Month') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getDate() === 1) {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth() - 1, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                }\n            }\n            else {\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 1);\n            }\n        }\n        if (mode === 'Week') {\n            var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n            var dayIntervel = void 0;\n            if (span === 'prevTimeSpan') {\n                dayIntervel = startDate.getDay() < dayIndex ? 7 - (dayIndex - startDate.getDay()) :\n                    startDate.getDay() - dayIndex;\n                startDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    startDate.setDate(startDate.getDate() - 7);\n                }\n                else {\n                    startDate.setDate(startDate.getDate() - dayIntervel);\n                }\n            }\n            else {\n                dayIntervel = endDate.getDay() < dayIndex ? (dayIndex - endDate.getDay()) :\n                    (7 - endDate.getDay()) + dayIndex;\n                endDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    endDate.setDate(endDate.getDate() + 6);\n                }\n                else {\n                    endDate.setDate(endDate.getDate() + dayIntervel);\n                }\n            }\n        }\n        if (mode === 'Day') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getHours() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 24));\n                }\n                else {\n                    startDate.setHours(0);\n                }\n            }\n            else {\n                if (endDate.getHours() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60 * 24));\n                }\n                else {\n                    endDate.setHours(24);\n                }\n            }\n        }\n        if (mode === 'Hour') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMinutes() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n                }\n                else {\n                    startDate.setMinutes(0);\n                }\n            }\n            else {\n                if (endDate.getMinutes() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60));\n                }\n                else {\n                    endDate.setMinutes(60);\n                }\n            }\n        }\n        if (mode === 'Minutes') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getSeconds() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60));\n                }\n                else {\n                    startDate.setSeconds(0);\n                }\n            }\n            else {\n                if (endDate.getSeconds() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60));\n                }\n                else {\n                    endDate.setSeconds(60);\n                }\n            }\n        }\n        this.parent.cloneProjectStartDate = startDate;\n        this.parent.cloneProjectEndDate = endDate;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {IGanttData[]} tempArray .\n     * @param {string} action .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateTimeLineOnEditing = function (tempArray, action) {\n        if (tempArray[0].length >= 1) {\n            for (var i = 0; i < tempArray.length; i++) {\n                var temp = tempArray[parseInt(i.toString(), 10)];\n                var filteredStartDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.startDate); });\n                var filteredEndDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.endDate); });\n                var minStartDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')) : null;\n                var minEndDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var maxEndDate = filteredEndDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.max(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var validStartDate = new Date(this.parent.dataOperation.checkStartDate(this.timelineStartDate).getTime());\n                var validEndDate = new Date(this.parent.dataOperation.checkEndDate(this.timelineEndDate).getTime());\n                var maxStartLeft = isNullOrUndefined(minStartDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(minStartDate, false);\n                var maxEndLeft = isNullOrUndefined(maxEndDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(maxEndDate, false);\n                var validStartLeft = this.parent.dataOperation.getTaskLeft(validStartDate, false);\n                var validEndLeft = this.parent.dataOperation.getTaskLeft(validEndDate, false);\n                var isChanged = void 0;\n                var taskbarModule = this.parent.editModule.taskbarEditModule;\n                var startDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')).setHours(0, 0, 0, 0) : null;\n                var timelineStartDate = new Date(this.timelineStartDate.getTime()).setHours(0, 0, 0, 0);\n                if (!isNullOrUndefined(maxStartLeft) && (((((!isNullOrUndefined(taskbarModule)) && ((taskbarModule.taskBarEditAction && taskbarModule.taskBarEditAction !== 'RightResizing') || isNullOrUndefined(taskbarModule.taskBarEditAction)))) &&\n                    (startDate <= timelineStartDate))) && (maxStartLeft < this.bottomTierCellWidth || maxStartLeft <= validStartLeft)) {\n                    isChanged = 'prevTimeSpan';\n                    minStartDate = minStartDate > this.timelineStartDate ? this.timelineStartDate : minStartDate;\n                }\n                else {\n                    minStartDate = this.timelineStartDate;\n                }\n                if (!isNullOrUndefined(maxEndLeft) && (maxEndLeft >= ((this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth) - this.bottomTierCellWidth) &&\n                    maxEndLeft > validEndLeft)) {\n                    isChanged = isChanged === 'prevTimeSpan' ? 'both' : 'nextTimeSpan';\n                    maxEndDate = maxEndDate < this.timelineEndDate ? this.timelineEndDate : maxEndDate;\n                }\n                else {\n                    maxEndDate = this.timelineEndDate;\n                }\n                if (isChanged) {\n                    this.performTimeSpanAction(isChanged, action, minStartDate, maxEndDate);\n                }\n                else if (!isNullOrUndefined(temp[0].ganttProperties.segments)) {\n                    this.parent.dataOperation.updateWidthLeft(temp[0]);\n                }\n                if (!isNullOrUndefined(minStartDate) && !isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === 'CellEditing' || action === 'DialogEditing') && this.parent.allowUnscheduledTasks) {\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), minEndDate.getTime()));\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), this.timelineStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                else if (isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === 'CellEditing' || action === 'DialogEditing') && this.parent.allowUnscheduledTasks && tempArray[0].length === 1 &&\n                    !isNullOrUndefined(tempArray[0][0].ganttProperties.endDate) && (isNullOrUndefined(temp[0].ganttProperties.startDate) &&\n                    temp[0].ganttProperties.endDate <= this.timelineStartDate)) {\n                    minStartDate = new Date(Math.min(tempArray[0][0].ganttProperties.endDate.getTime(), minStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                break;\n            }\n        }\n    };\n    /**\n     * To validate project start date and end date on editing action\n     *\n     * @param {string} type .\n     * @param {string} isFrom .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} mode .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.performTimeSpanAction = function (type, isFrom, startDate, endDate, mode) {\n        mode = !isNullOrUndefined(mode) ? mode : this.parent.timelineModule.topTier === 'None' ?\n            this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        var projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var projectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        if (isFrom !== 'publicMethod' && type === 'both') {\n            this.updateScheduleDatesByToolBar(mode, 'prevTimeSpan', startDate, endDate);\n            this.updateScheduleDatesByToolBar(mode, 'nextTimeSpan', new Date(this.parent.cloneProjectStartDate.getTime()), endDate);\n        }\n        else {\n            this.updateScheduleDatesByToolBar(mode, type, startDate, endDate);\n        }\n        var args = this.timeSpanActionEvent('actionBegin', type, isFrom);\n        if (!args.cancel) {\n            this.restrictRender = true;\n            this.performedTimeSpanAction = true;\n            var previousScrollLeft = this.parent.ganttChartModule.scrollElement.scrollLeft;\n            this.parent.updateProjectDates(args.projectStartDate, args.ProjectEndDate, args.isTimelineRoundOff, isFrom);\n            if (type === 'prevTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(0);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'TaskbarEditing') {\n                var currentScrollLeft = document.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n                this.parent.element.querySelector('.e-timeline-header-container').scrollLeft = currentScrollLeft;\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            if (isFrom === 'TaskbarEditing' && this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3 || (isNullOrUndefined(this.parent.projectStartDate) && isNullOrUndefined(this.parent.projectEndDate)))) {\n                this.parent.ganttChartModule.scrollObject.setScrollLeft(previousScrollLeft);\n                this.parent.ganttChartModule.scrollObject.updateContent();\n            }\n            this.parent.timelineModule.timeSpanActionEvent('actionComplete', type, isFrom);\n        }\n        else {\n            this.parent.cloneProjectStartDate = projectStartDate;\n            this.parent.cloneProjectEndDate = projectEndDate;\n        }\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} eventType .\n     * @param {string} requestType .\n     * @param {string} isFrom .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.timeSpanActionEvent = function (eventType, requestType, isFrom) {\n        var args = {};\n        args.projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        args.ProjectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        args.requestType = isFrom === 'publicMethod' ? requestType : isFrom === 'beforeAdd' ?\n            'TimelineRefreshOnAdd' : isFrom === 'TaskbarEditing' ? 'TimelineRefreshOnEdit' : requestType;\n        if (eventType === 'actionBegin') {\n            args.isTimelineRoundOff = this.parent.isTimelineRoundOff;\n            args.cancel = false;\n        }\n        args.action = 'TimescaleUpdate';\n        this.parent.trigger(eventType, args);\n        return args;\n    };\n    return Timeline;\n}());\nexport { Timeline };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Configures column collection in Gantt.\n */\nvar Column = /** @class */ (function () {\n    function Column(options) {\n        /**\n         * If `allowEditing` set to false, then it disables editing of a particular column.\n         * By default, all columns are editable.\n         *\n         * @default true\n         */\n        this.allowEditing = true;\n        /**\n         * If `allowReordering` set to false, then it disables reorder of a particular column.\n         * By default, all columns can be reorder.\n         *\n         * @default true\n         */\n        this.allowReordering = true;\n        /**\n         * If `allowResizing` is set to false, it disables resize option of a particular column.\n         * By default, all the columns can be resized.\n         *\n         * @default true\n         */\n        this.allowResizing = true;\n        /**\n         * If `allowSorting` set to false, then it disables sorting option of a particular column.\n         * By default, all columns are sortable.\n         *\n         * @default true\n         */\n        this.allowSorting = true;\n        /**\n         * If `allowFiltering` set to false, then it disables filtering option and filter bar element of a particular column.\n         * By default, all columns are filterable.\n         *\n         * @default true\n         */\n        this.allowFiltering = true;\n        /**\n         * Defines the `IEditCell` object to customize default edit cell.\n         *\n         * @default {}\n         */\n        this.edit = {};\n        merge(this, options);\n    }\n    return Column;\n}());\nexport { Column };\n","import { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { createElement, isNullOrUndefined, getValue, extend, EventHandler, deleteObject, remove, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { setValue } from '@syncfusion/ej2-base';\nimport { Query } from '@syncfusion/ej2-data';\nimport { Column as GanttColumn } from '../models/column';\nimport { isCountRequired } from './utils';\nimport { AutoComplete } from '@syncfusion/ej2-dropdowns';\n/** @hidden */\nvar GanttTreeGrid = /** @class */ (function () {\n    function GanttTreeGrid(parent) {\n        var _this = this;\n        this.isPersist = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.queryCellInfo = function (args) {\n            _this.parent.trigger('queryCellInfo', args);\n        };\n        this.headerCellInfo = function (args) {\n            _this.parent.trigger('headerCellInfo', args);\n        };\n        this.rowDataBound = function (args) {\n            _this.parent.trigger('rowDataBound', args);\n        };\n        this.columnMenuOpen = function (args) {\n            _this.parent.notify('columnMenuOpen', args);\n            _this.parent.trigger('columnMenuOpen', args);\n            document.querySelector('.e-colmenu').addEventListener('mousemove', function () {\n                var filPopOptions = document.querySelector('.e-filter-popup');\n                var filOptions = document.querySelector('.e-filter-item');\n                if (!isNullOrUndefined(filPopOptions)) {\n                    if (!filOptions.classList.contains('e-focused')) {\n                        remove(_this.parent.filterModule.filterMenuElement);\n                    }\n                }\n            });\n        };\n        this.columnMenuClick = function (args) {\n            _this.parent.trigger('columnMenuClick', args);\n        };\n        this.objectEqualityChecker = function (old, current) {\n            if (old) {\n                var keys = Object.keys(old);\n                var isEqual = true;\n                var excludeKeys = ['Children', 'childRecords', 'taskData', 'uniqueID', 'parentItem', 'parentUniqueID', 'ganttProperties'];\n                for (var i = 0; i < keys.length; i++) {\n                    var oldKey = old[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(old[keys[parseInt(i.toString(), 10)]]).getTime() : old[keys[parseInt(i.toString(), 10)]];\n                    var currentKey = current[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(current[keys[parseInt(i.toString(), 10)]]).getTime() : current[keys[parseInt(i.toString(), 10)]];\n                    if (oldKey !== currentKey && excludeKeys.indexOf(keys[i]) === -1) {\n                        _this.parent.modifiedRecords.push(current);\n                        isEqual = false;\n                        break;\n                    }\n                }\n                return isEqual;\n            }\n            else {\n                return false;\n            }\n        };\n        this.parent = parent;\n        this.parent.treeGrid = new TreeGrid();\n        this.parent.treeGrid.allowSelection = false;\n        this.parent.treeGrid.allowKeyboard = this.parent.allowKeyboard;\n        this.parent.treeGrid['${enableHtmlSanitizer}'] = this.parent.enableHtmlSanitizer;\n        this.parent.treeGrid.enableImmutableMode = this.parent.enableImmutableMode;\n        this.treeGridColumns = [];\n        if (!this.parent.isLocaleChanged && this.parent.isLoad) {\n            this.parent.previousGanttColumns = extend([], [], this.parent.columns, true);\n        }\n        this.validateGanttColumns();\n        if (this.parent.isLocaleChanged) {\n            this.parent.isLocaleChanged = false;\n        }\n        this.addEventListener();\n    }\n    GanttTreeGrid.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createContainer, this);\n        this.parent.on('chartScroll', this.updateScrollTop, this);\n        this.parent.on('destroy', this.destroy, this);\n        this.parent.treeGrid.on('renderReactTemplate', this.renderReactTemplate, this);\n    };\n    GanttTreeGrid.prototype.renderReactTemplate = function (args) {\n        var portals = 'portals';\n        for (var _i = 0, args_1 = args; _i < args_1.length; _i++) {\n            var portal = args_1[_i];\n            if (this.parent[portals].indexOf(portal) === -1) {\n                this.parent[portals].push(portal);\n            }\n        }\n        this.parent.renderTemplates();\n    };\n    GanttTreeGrid.prototype.createContainer = function () {\n        //let height: number = this.parent.ganttHeight - this.parent.toolbarModule.element.offsetHeight - 46;\n        this.treeGridElement = createElement('div', {\n            id: 'treeGrid' + this.parent.element.id, className: 'e-gantt-tree-grid'\n            //  styles: 'height:' + height + 'px;'\n        });\n        var tempHeader = createElement('div', { className: 'e-gantt-temp-header' });\n        this.parent.treeGridPane.appendChild(this.treeGridElement);\n        this.treeGridElement.appendChild(tempHeader);\n        this.parent.treeGridPane.classList.add('e-temp-content');\n    };\n    /**\n     * Method to initiate TreeGrid\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.renderTreeGrid = function () {\n        this.composeProperties();\n        this.bindEvents();\n        var root = 'root';\n        this.parent.treeGrid[root] = this.parent[root] ? this.parent[root] : this.parent;\n        setValue('registeredTemplate', this.registeredTemplate, this.parent.treeGrid);\n        var ref = 'viewContainerRef';\n        setValue('viewContainerRef', this.parent[\"\" + ref], this.parent.treeGrid);\n        if (!this.treeGridElement.contains(this.parent.treeGrid.element)) {\n            this.parent.treeGrid.appendTo(this.treeGridElement);\n        }\n        if (this.parent.treeGrid.grid && this.parent.toolbarModule && this.parent.isReact) {\n            this.parent.treeGrid.grid.portals = this.parent.portals;\n        }\n        this.wireEvents();\n    };\n    GanttTreeGrid.prototype.composeProperties = function () {\n        this.parent.treeGrid.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        this.parent.treeGrid.hasChildMapping = this.parent.taskFields.hasChildMapping;\n        this.parent.treeGrid.query = this.parent.query;\n        this.parent.treeGrid.loadChildOnDemand = this.parent.loadChildOnDemand;\n        this.parent.treeGrid['isFromGantt'] = true;\n        this.parent.treeGrid.parentIdMapping = this.parent.taskFields.parentID;\n        if (this.parent.taskFields.parentID) {\n            this.parent.treeGrid.idMapping = this.parent.taskFields.id;\n        }\n        this.parent.treeGrid.showColumnMenu = this.parent.showColumnMenu;\n        this.parent.treeGrid.enableCollapseAll = this.parent.collapseAllParentTasks;\n        this.parent.treeGrid.columnMenuItems = this.parent.columnMenuItems;\n        this.parent.treeGrid.enableRtl = this.parent.enableRtl;\n        this.parent.treeGrid.childMapping = isNullOrUndefined(this.parent.taskFields.child) ? '' : this.parent.taskFields.child;\n        this.parent.treeGrid.treeColumnIndex = this.parent.treeColumnIndex;\n        this.parent.treeGrid.columns = this.treeGridColumns;\n        this.parent.treeGrid.loadingIndicator = this.parent.loadingIndicator;\n        this.parent.treeGrid.enableVirtualMaskRow = this.parent.enableVirtualMaskRow;\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n            // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n            this.parent.treeGrid.hasChildMapping = 'isParent';\n            var count = getValue('count', this.parent.dataSource);\n            this.parent.treeGrid.dataSource = { result: this.parent.flatData, count: count };\n        }\n        else {\n            if (this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                this.parent.treeGrid.dataSource = this.parent.dataSource;\n            }\n            else {\n                this.parent.treeGrid.hasChildMapping = null;\n                this.parent.treeGrid.dataSource = this.parent.flatData;\n            }\n        }\n        this.parent.treeGrid.expandStateMapping = this.parent.taskFields.expandState;\n        var isGantt = 'isGantt';\n        this.parent.treeGrid[isGantt] = true;\n        this.parent.treeGrid.rowHeight = this.parent.rowHeight;\n        this.parent.treeGrid.gridLines = this.parent.gridLines;\n        if (this.parent.searchSettings.fields.length !== 0 || this.parent.searchSettings.key !== '') {\n            this.parent.treeGrid.searchSettings = this.parent.searchSettings;\n        }\n        var isJsComponent = 'isJsComponent';\n        this.parent.treeGrid[isJsComponent] = true;\n        this.parent.treeGrid.height =\n            this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['offsetHeight'] - (this.parent.flatData.length === 0 ? 0 : 19);\n    };\n    GanttTreeGrid.prototype.getContentDiv = function () {\n        return this.treeGridElement.querySelector('.e-content');\n    };\n    GanttTreeGrid.prototype.getHeaderDiv = function () {\n        return this.treeGridElement.querySelector('.e-headercontent');\n    };\n    GanttTreeGrid.prototype.getScrollbarWidth = function () {\n        var outer = document.createElement('div');\n        outer.style.visibility = 'hidden';\n        outer.style.overflow = 'scroll';\n        outer.style.msOverflowStyle = 'scrollbar';\n        var inner = document.createElement('div');\n        outer.appendChild(inner);\n        this.parent.element.appendChild(outer);\n        var scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n        outer.parentNode.removeChild(outer);\n        return scrollbarWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.ensureScrollBar = function () {\n        var content = this.getContentDiv();\n        var headerDiv = this.getHeaderDiv();\n        var scrollWidth = this.getScrollbarWidth();\n        var isMobile = /Android|Mac|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        // For Firefox scrollWidth value return 0, causes the grid side column misalign- Task(888356)\n        if (scrollWidth !== 0 || navigator.userAgent.includes('Firefox')) {\n            content.style.cssText += 'width: calc(100% + ' + (scrollWidth + 1) + 'px);'; //actual scrollbar width 17 px but here scrollbar width set to 16px hence adding increment of 1\n        }\n        else {\n            content.classList.add('e-gantt-scroll-padding');\n        }\n        if (scrollWidth === 0 && isMobile) {\n            headerDiv.style.cssText += 'width: calc(100% + 17px);';\n        }\n    };\n    GanttTreeGrid.prototype.bindEvents = function () {\n        this.parent.treeGrid.dataBound = this.dataBound.bind(this);\n        this.parent.treeGrid.collapsing = this.collapsing.bind(this);\n        this.parent.treeGrid.collapsed = this.collapsed.bind(this);\n        this.parent.treeGrid.expanding = this.expanding.bind(this);\n        this.parent.treeGrid.expanded = this.expanded.bind(this);\n        this.parent.treeGrid.actionBegin = this.actionBegin.bind(this);\n        this.parent.treeGrid.actionComplete = this.treeActionComplete.bind(this);\n        this.parent.treeGrid.created = this.created.bind(this);\n        this.parent.treeGrid.actionFailure = this.actionFailure.bind(this);\n        this.parent.treeGrid.queryCellInfo = this.queryCellInfo.bind(this);\n        this.parent.treeGrid.headerCellInfo = this.headerCellInfo.bind(this);\n        this.parent.treeGrid.rowDataBound = this.rowDataBound.bind(this);\n        this.parent.treeGrid.columnMenuOpen = this.columnMenuOpen.bind(this);\n        this.parent.treeGrid.columnMenuClick = this.columnMenuClick.bind(this);\n        this.parent.treeGrid.beforeDataBound = this.beforeDataBound.bind(this);\n        this.parent.treeGrid.dataStateChange = this.dataStateChange.bind(this);\n    };\n    GanttTreeGrid.prototype.beforeDataBound = function (args) {\n        if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings &&\n            this.parent.selectionSettings.persistSelection && this.parent.selectionModule.getSelectedRowIndexes().length > 0 &&\n            args['actionArgs']['requestType'] === 'sorting') {\n            this.isPersist = true;\n        }\n        this.parent.updatedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : getValue('result', args);\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            this.parent.updateContentHeight(args);\n        }\n        setValue('contentModule.objectEqualityChecker', this.objectEqualityChecker, this.parent.treeGrid.grid);\n    };\n    GanttTreeGrid.prototype.dataBound = function (args) {\n        if (this.parent.isReact) {\n            this.parent['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        this.ensureScrollBar();\n        this.parent.treeDataBound(args);\n        if (this.parent.isVirtualScroll) {\n            if ((this.parent.enableVirtualMaskRow && this.parent.enableVirtualization) ||\n                (this.parent.enableVirtualization && !this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Shimmer') ||\n                (this.parent.loadingIndicator.indicatorType === 'Shimmer')) {\n                this.parent.hideMaskRow();\n            }\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n            }\n            this.parent.isVirtualScroll = false;\n            if (!isNullOrUndefined(this.parent.selectionModule) && !isNullOrUndefined(this.parent.toolbarModule)) {\n                this.parent.toolbarModule.refreshToolbarItems();\n            }\n        }\n        this.prevCurrentView = extend([], [], this.parent.currentViewData, true);\n    };\n    GanttTreeGrid.prototype.dataStateChange = function (args) {\n        if (args.action && args.action.requestType === 'refresh') {\n            this.parent.treeGrid.dataSource = {\n                result: getValue('result', this.parent.treeGrid.dataSource),\n                count: getValue('count', this.parent.treeGrid.dataSource)\n            };\n        }\n        this.parent.trigger('dataStateChange', args);\n    };\n    GanttTreeGrid.prototype.collapsing = function (args) {\n        // Collapsing event\n        var collapsingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                }\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n            else {\n                collapsingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.expanding = function (args) {\n        // Expanding event\n        var expandingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                }\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n            else {\n                expandingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.collapsed = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var collapsedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n                }\n            }\n            else {\n                collapsedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n            }\n            if (!this.parent.ganttChartModule.isCollapseAll && collapsedArgs['gridRow'] && !this.parent.allowTaskbarOverlap) {\n                collapsedArgs['gridRow'].style.height = collapsedArgs['chartRow'].style.height;\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.trigger('collapsed', args);\n    };\n    GanttTreeGrid.prototype.expanded = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var expandedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n                }\n            }\n            else {\n                expandedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n            }\n            if (!this.parent.ganttChartModule.isExpandAll && args['row'] && !this.parent.allowTaskbarOverlap) {\n                args['row'].style.height = this.parent.rowHeight + 'px';\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.isCollapseAll = false;\n        this.parent.trigger('expanded', args);\n    };\n    GanttTreeGrid.prototype.actionBegin = function (args) {\n        if (this.parent.undoRedoModule && (args.requestType === 'filtering' || args.requestType === 'searching' || args.requestType === 'sorting' || args.requestType === 'filterAfterOpen')) {\n            this.parent.undoRedoModule['canUpdateIndex'] = false;\n        }\n        this.parent.notify('actionBegin', args);\n        var flag = getValue('doubleClickTarget', this.parent.treeGrid.editModule);\n        if (flag !== null) {\n            setValue('doubleClickTarget', null, this.parent.treeGrid.editModule);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (args.requestType !== 'virtualscroll' && args.type !== 'edit' && args.requestType !== 'beginEdit' && !args.cancel) {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.created = function (args) {\n        this.updateKeyConfigSettings();\n    };\n    GanttTreeGrid.prototype.actionFailure = function (args) {\n        this.parent.trigger('actionFailure', args);\n    };\n    GanttTreeGrid.prototype.createExpandCollapseArgs = function (args, currentRecord) {\n        var chartRow;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!isNullOrUndefined(recordLength)) {\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(currentRecord)];\n            var eventArgs = { data: currentRecord, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n        else {\n            var recordOne = getValue('data', args);\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(recordOne)];\n            var eventArgs = { data: recordOne, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n    };\n    GanttTreeGrid.prototype.treeActionComplete = function (args) {\n        var _this = this;\n        var _a;\n        var updatedArgs = extend({}, args);\n        if (getValue('requestType', args) === 'reorder') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnReorder')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = {};\n                record['action'] = 'ColumnReorder';\n                record['fromIndex'] = extend([], [], [args['fromIndex']], true)[0];\n                record['toIndex'] = extend([], [], [args['toIndex']], true)[0];\n                record['toColumn'] = extend([], [], [this.parent.treeGrid.columns[args['toIndex']]['field']], true)[0];\n                record['fromColumn'] = extend([], [], [this.parent.treeGrid.columns[args['fromIndex']]['field']], true)[0];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'columnstate') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnState')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'ColumnState' };\n                record['showhideColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'sorting') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Sorting')) {\n                if (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['sortColumns'] && this.parent.undoRedoModule['currentAction']['sortColumns'].length > 1) {\n                    this.parent.undoRedoModule['sortedColumnsLength']++;\n                }\n                if ((!this.parent.undoRedoModule['currentAction'] || (this.parent.undoRedoModule['currentAction']['sortColumns'] && this.parent.undoRedoModule['sortedColumnsLength'] !== this.parent.undoRedoModule['currentAction']['sortColumns'].length)) && !this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { action: 'Sorting' };\n                    record['sortColumns'] = [];\n                    record['sortColumns'] = this.parent.undoRedoModule['previousSortedColumns'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['previousSortedColumns'] = this.parent.treeGrid.sortSettings.columns;\n            }\n            this.parent.notify('updateModel', {});\n            deleteObject(updatedArgs, 'isFrozen');\n        }\n        else if (getValue('requestType', args) === 'filtering') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('Filtering')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'Filtering' };\n                record['filteredColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            this.parent.notify('updateModel', {});\n        }\n        else if (getValue('type', args) === 'save') {\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                var data = getValue('data', args);\n                if (!isNullOrUndefined(data) && !isNullOrUndefined(this.parent.getTaskByUniqueID(data.uniqueID))) {\n                    /* eslint-disable-next-line */\n                    this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.duration] = data.taskData[this.parent.taskFields.duration];\n                    if (!isNullOrUndefined(data.taskData[this.parent.taskFields.resourceInfo])) {\n                        /* eslint-disable-next-line */\n                        this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.resourceInfo] = data.taskData[this.parent.taskFields.resourceInfo];\n                    }\n                }\n                if (isNullOrUndefined(this.currentEditRow) && args['column'] && args['column'].edit && args['column'].field === this.parent.taskFields.resourceInfo) {\n                    var field = this.parent.taskFields.resourceInfo;\n                    this.currentEditRow = (_a = {}, _a[field] = data['resources'], _a);\n                }\n                this.parent.editModule.cellEditModule.initiateCellEdit(args, this.currentEditRow);\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.currentEditRow = {};\n            }\n        }\n        if (getValue('requestType', args) === 'filterAfterOpen') {\n            this.parent.notify('actionComplete', args);\n        }\n        if (getValue('requestType', args) === 'searching') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Search')) {\n                if (!this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { 'action': 'Search' };\n                    record['searchString'] = this.parent.undoRedoModule['searchString'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['searchString'] = this.parent.treeGrid.searchSettings.key;\n            }\n            this.parent.notify('actionComplete', args);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(getValue('batchChanges', args))) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.isCancelled) {\n            setValue('requestType', 'cancel', updatedArgs);\n            setValue('action', 'CellEditing', updatedArgs);\n            this.parent.isCancelled = false;\n        }\n        if (getValue('requestType', args) === 'refresh' && isNullOrUndefined(getValue('type', args)) && this.parent.addDeleteRecord) {\n            if (this.parent.selectedRowIndex !== -1) {\n                if (!isNullOrUndefined(this.parent.selectionModule) &&\n                    this.parent.selectionSettings &&\n                    this.parent.selectionSettings.persistSelection &&\n                    this.parent.editModule.isAdded) {\n                    var selectedIndexes = this.parent.selectionModule.selectedRowIndexes;\n                    if (selectedIndexes.length > 1 && this.parent.selectionSettings.persistSelection) {\n                        for (var i = 0; i < selectedIndexes.length; i++) {\n                            var records = this.parent.flatData[selectedIndexes[i].toString()];\n                            this.parent.selectRows(records);\n                        }\n                    }\n                }\n                else {\n                    this.parent.selectRow(this.parent.selectedRowIndex);\n                    if (this.parent.selectedRowIndex > this.parent.currentViewData.length - 1) {\n                        this.parent.selectedRowIndex = -1;\n                    }\n                }\n            }\n            else {\n                if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings &&\n                    this.parent.selectionSettings.persistSelection\n                    && this.parent.editModule && !this.parent.editModule.isAdded) {\n                    var selectedRecords = this.parent.selectionModule.getSelectedRecords();\n                    var _loop_1 = function (i) {\n                        var selectedTaskId = selectedRecords[i][this_1.parent.taskFields.id];\n                        var existIndeletedRecords = this_1.parent.editModule.deletedRecord.some(function (item) {\n                            return item.ganttProperties.taskId === selectedTaskId;\n                        });\n                        if (existIndeletedRecords) {\n                            selectedRecords.splice(i, 1);\n                        }\n                    };\n                    var this_1 = this;\n                    for (var i = selectedRecords.length - 1; i >= 0; i--) {\n                        _loop_1(i);\n                    }\n                }\n                var indexvalue_1 = 0;\n                var dataCollection = this.parent.enableVirtualization ? this.parent.flatData : this.parent.currentViewData;\n                // To maintain 1st record selection, while deleting the last parent record at Virtual mode\n                dataCollection.map(function (data, index) {\n                    if (!isNullOrUndefined(_this.parent.currentSelection)\n                        && (data['ganttProperties'].taskId === _this.parent.currentSelection[_this.parent.taskFields.id]) &&\n                        ((_this.parent.viewType === 'ResourceView' &&\n                            data['ganttProperties'].rowUniqueID === _this.parent.currentSelection.rowUniqueID) ||\n                            _this.parent.viewType !== 'ResourceView')) {\n                        indexvalue_1 = index;\n                    }\n                });\n                this.addedRecord = true;\n                this.parent.selectRow((isNullOrUndefined(indexvalue_1) ? 0 : indexvalue_1));\n            }\n            if (!this.parent['isExpandPerformed']) {\n                this.parent.addDeleteRecord = false;\n            }\n            this.parent['isExpandPerformed'] = false;\n        }\n        if (this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['isFromUndoRedo'] = false;\n        }\n        if (getValue('requestType', args) === 'refresh') {\n            this.parent.initiateEditAction(false);\n        }\n        this.parent.trigger('actionComplete', updatedArgs);\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.currentViewData[i].hasChildRecords && !this.parent.currentViewData[i].expanded) {\n                    this.parent.chartRowsModule.updateDragDropRecords(this.parent.currentViewData[i]);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n    };\n    GanttTreeGrid.prototype.updateKeyConfigSettings = function () {\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.delete;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.insert;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlHome;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlEnd;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.shiftTab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.shiftTab;\n    };\n    /**\n     * Method to bind internal events on TreeGrid element\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.wireEvents = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.add(content, 'scroll', this.scrollHandler, this);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.treeGridPane, 'click', this.treeGridClickHandler, this);\n        }\n    };\n    GanttTreeGrid.prototype.unWireEvents = function () {\n        var content = this.parent.treeGrid.element &&\n            this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.remove(content, 'scroll', this.scrollHandler);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.remove(this.parent.treeGridPane, 'click', this.treeGridClickHandler);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.scrollHandler = function (e) {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content.scrollTop !== this.previousScroll.top) {\n            this.parent.notify('grid-scroll', { top: content.scrollTop });\n        }\n        this.previousScroll.top = content.scrollTop;\n        if (this.parent.contextMenuModule && this.parent.contextMenuModule.isOpen) {\n            this.parent.contextMenuModule.contextMenu.close();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.validateGanttColumns = function () {\n        var ganttObj = this.parent;\n        var length = ganttObj.columns.length;\n        var tasks = this.parent.taskFields;\n        this.parent.columnMapping = {};\n        this.parent.columnByField = {};\n        this.parent.customColumns = [];\n        var tasksMapping = ['id', 'name', 'startDate', 'endDate', 'duration', 'dependency',\n            'progress', 'baselineStartDate', 'baselineEndDate', 'resourceInfo', 'notes', 'work', 'manual', 'type', 'milestone', 'segments'];\n        var _loop_2 = function (i) {\n            var column = {};\n            if (typeof ganttObj.columns[i] === 'string') {\n                column.field = ganttObj.columns[i];\n            }\n            else {\n                column = ganttObj.columns[i];\n            }\n            var columnName = [];\n            if (tasksMapping.length > 0) {\n                columnName = tasksMapping.filter(function (name) {\n                    return column.field === tasks[name];\n                });\n            }\n            if (columnName.length === 0) {\n                if (column.field === this_2.parent.resourceFields.group) {\n                    return \"continue\";\n                }\n                this_2.parent.customColumns.push(column.field);\n                column.headerText = column.headerText ? column.headerText : column.field;\n                column.width = column.width ? column.width : 150;\n                column.editType = column.editType ? column.editType : 'stringedit';\n                column.type = column.type ? column.type : 'string';\n                this_2.bindTreeGridColumnProperties(column, true);\n                return \"continue\";\n            }\n            else {\n                var index = tasksMapping.indexOf(columnName[0]);\n                tasksMapping.splice(index, 1);\n                this_2.createTreeGridColumn(column, true);\n                this_2.parent.columnMapping[columnName[0]] = column.field;\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_2(i);\n        }\n        /** Create default columns with task settings property */\n        for (var j = 0; j < tasksMapping.length; j++) {\n            var column = {};\n            if (!isNullOrUndefined(tasks[tasksMapping[j]])) {\n                column.field = tasks[tasksMapping[j]];\n                this.createTreeGridColumn(column, length === 0);\n                this.parent.columnMapping[tasksMapping[j]] = column.field;\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var column = {};\n            this.composeUniqueIDColumn(column);\n            this.createTreeGridColumn(column, true);\n        }\n    };\n    /**\n     *\n     * @param {GanttColumnModel} column .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.createTreeGridColumn = function (column, isDefined) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        column.disableHtmlEncode = !isNullOrUndefined(column.disableHtmlEncode) ? column.disableHtmlEncode : this.parent.disableHtmlEncode;\n        if (taskSettings.id !== column.field) {\n            column.clipMode = column.clipMode ? column.clipMode : 'EllipsisWithTooltip';\n        }\n        if (taskSettings.id === column.field) {\n            /** Id column */\n            this.composeIDColumn(column);\n        }\n        else if (taskSettings.name === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('name');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('name');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.startDate === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.endDate === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.duration === column.field) {\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            column.valueAccessor = column.valueAccessor ?\n                column.valueAccessor : !isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.read) ? null :\n                this.durationValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.progress === column.field) {\n            this.composeProgressColumn(column);\n        }\n        else if (taskSettings.dependency === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = 'string';\n            column.allowFiltering = column.allowFiltering === false ? false : true;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.dependencyValueAccessor.bind(this);\n            if (isNullOrUndefined(column.filter) && this.parent.locale !== 'en-US') {\n                column.filter = {\n                    'ui': {\n                        create: function (args) {\n                            var flValInput = createElement('input', { className: 'flm-input' });\n                            args.target.appendChild(flValInput);\n                            _this.dropInstance = new AutoComplete({\n                                dataSource: _this.changeLocale(_this.parent.treeGrid.grid.dataSource),\n                                fields: { text: _this.parent.taskFields.dependency, value: _this.parent.taskFields.dependency },\n                                placeholder: _this.parent.localeObj.getConstant('enterValue'),\n                                popupHeight: '200px'\n                            });\n                            _this.dropInstance.appendTo(flValInput);\n                        },\n                        write: function (args) {\n                            _this.dropInstance.value = args.filteredValue;\n                        },\n                        read: function (args) {\n                            args.fltrObj.filterByColumn(args.column.field, args.operator, _this.changeDelocale((_this.dropInstance.value)));\n                        }\n                    }\n                };\n            }\n        }\n        else if (taskSettings.resourceInfo === column.field) {\n            this.composeResourceColumn(column);\n        }\n        else if (taskSettings.notes === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            if (!this.parent.showInlineNotes) {\n                if (!column.template) {\n                    var contentTemp = function () {\n                        return \"<div class=\\\"e-ganttnotes-info\\\">\\n                            <span class=\\\"e-icons e-notes-info\\\"></span>\\n                        </div>\";\n                    };\n                    column.template = initializeCSPTemplate(contentTemp);\n                }\n            }\n        }\n        else if (taskSettings.baselineStartDate === column.field ||\n            taskSettings.baselineEndDate === column.field) {\n            var colName = (taskSettings.baselineEndDate === column.field) ? 'baselineEndDate' :\n                'baselineStartDate';\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n        }\n        else if (taskSettings.work === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('work');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('work');\n            }\n            column.width = column.width ? column.width : 150;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.workValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        else if (taskSettings.type === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            column.width = column.width ? column.width : 150;\n            //column.type = 'string';\n            column.editType = 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.taskTypeValueAccessor.bind(this);\n        }\n        else if (taskSettings.manual === column.field && this.parent.taskMode === 'Custom') {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            column.width = column.width ? column.width : 120;\n            column.editType = column.editType ? column.editType : 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.modeValueAccessor.bind(this);\n            column.edit = {\n                params: {\n                    query: new Query(),\n                    dataSource: [\n                        { id: 1, text: this.parent.localeObj.getConstant('manual'), value: true },\n                        { id: 2, text: this.parent.localeObj.getConstant('auto'), value: false }\n                    ],\n                    fields: { text: 'text', value: 'value' }\n                }\n            };\n        }\n        this.bindTreeGridColumnProperties(column, isDefined);\n    };\n    GanttTreeGrid.prototype.changeLocale = function (data) {\n        var _this = this;\n        var filter = [];\n        var flatdatas = data.map(function (task) { return task.ganttProperties.predecessorsName; });\n        flatdatas.map(function (predecessorsName) {\n            if (!isNullOrUndefined(predecessorsName)) {\n                var value_1 = '';\n                var splitString_1 = predecessorsName.split(',');\n                splitString_1.map(function (splitvalue, index) {\n                    if (splitvalue.includes('FS')) {\n                        value_1 += splitvalue.replace('FS', _this.parent.localeObj.getConstant('FS'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('FF')) {\n                        value_1 += splitvalue.replace('FF', _this.parent.localeObj.getConstant('FF'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('SS')) {\n                        value_1 += splitvalue.replace('SS', _this.parent.localeObj.getConstant('SS'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('SF')) {\n                        value_1 += splitvalue.replace('SF', _this.parent.localeObj.getConstant('SF'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                });\n                filter.push(value_1);\n            }\n        });\n        return filter;\n    };\n    GanttTreeGrid.prototype.changeDelocale = function (dependency) {\n        var FF = this.parent.localeObj.getConstant('FF');\n        var FS = this.parent.localeObj.getConstant('FS');\n        var SS = this.parent.localeObj.getConstant('SS');\n        var SF = this.parent.localeObj.getConstant('SF');\n        if (!isNullOrUndefined(dependency)) {\n            var splitString_2 = dependency.split(',');\n            var value_2 = '';\n            splitString_2.map(function (splitvalue, index) {\n                if (splitvalue.includes(FF)) {\n                    value_2 += splitvalue.replace(FF, 'FF');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(FS)) {\n                    value_2 += splitvalue.replace(FS, 'FS');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SS)) {\n                    value_2 += splitvalue.replace(SS, 'SS');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SF)) {\n                    value_2 += splitvalue.replace(SF, 'SF');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else {\n                    value_2 += splitvalue;\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n            });\n            return value_2;\n        }\n        return null;\n    };\n    /**\n     * Compose Resource columns\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeResourceColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (previousColumn && this.parent.isLocaleChanged) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        column.width = column.width ? column.width : 150;\n        column.type = 'string';\n        column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.resourceValueAccessor.bind(this);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {object} .\n     * @private\n     */\n    GanttTreeGrid.prototype.getResourceIds = function (data) {\n        var value = getValue(this.parent.taskFields.resourceInfo, data.taskData);\n        var id = [];\n        if (!isNullOrUndefined(value)) {\n            for (var i = 0; i < value.length; i++) {\n                id.push(typeof value[i] === 'object' ? value[i][this.parent.resourceFields.id] : value[i]);\n            }\n            return id;\n        }\n        else {\n            return value;\n        }\n    };\n    /**\n     * Create Id column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeIDColumn = function (column) {\n        var isProjectView = this.parent.viewType === 'ProjectView';\n        var lengthDataSource = this.parent.dataSource ? this.parent.dataSource['length'] : 0;\n        var taskIDName;\n        column.isPrimaryKey = isProjectView ? true : false;\n        if (this.parent.isLocaleChanged) {\n            var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n                return column.field === prevcolumn.field;\n            })[0];\n            if (previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('id');\n            }\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('id');\n        }\n        column.width = column.width ? column.width : 100;\n        for (var i = 0; i < lengthDataSource; i++) {\n            if (!isNullOrUndefined(this.parent.dataSource[i][this.parent.taskFields.id])) {\n                taskIDName = this.parent.dataSource[i][this.parent.taskFields.id];\n                break;\n            }\n        }\n        if (typeof (taskIDName) === 'string' || isNullOrUndefined(taskIDName)) {\n            if (this.parent.viewType === 'ResourceView') {\n                column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            }\n            else {\n                column.allowEditing = column.allowEditing ? column.allowEditing : true;\n            }\n            column.editType = column.editType ? column.editType : 'stringedit';\n        }\n        else {\n            column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        column.valueAccessor = isProjectView ? null : this.idValueAccessor.bind(this);\n    };\n    GanttTreeGrid.prototype.composeUniqueIDColumn = function (column) {\n        column.field = 'rowUniqueID';\n        column.isPrimaryKey = true;\n        column.headerText = 'UniqueID';\n        column.allowEditing = false;\n        column.visible = false;\n    };\n    /**\n     * Create progress column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeProgressColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (this.parent.isLocaleChanged && previousColumn) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        column.width = column.width ? column.width : 150;\n        column.editType = column.editType ? column.editType : 'numericedit';\n    };\n    /**\n     * @param {GanttColumnModel} newGanttColumn .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.bindTreeGridColumnProperties = function (newGanttColumn, isDefined) {\n        var treeGridColumn = {};\n        var ganttColumn = {};\n        for (var _i = 0, _a = Object.keys(newGanttColumn); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            treeGridColumn[prop] = ganttColumn[prop] = newGanttColumn[prop];\n        }\n        this.parent.columnByField[ganttColumn.field] = ganttColumn;\n        this.parent.ganttColumns.push(new GanttColumn(ganttColumn));\n        if (isDefined) {\n            this.treeGridColumns.push(treeGridColumn);\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.durationValueAccessor = function (field, data, column) {\n        if (!isNullOrUndefined(data) && !isNullOrUndefined(data.ganttProperties)) {\n            var ganttProp = data.ganttProperties;\n            return this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n        }\n        else if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            return this.parent.dataOperation.getDurationString(parseInt(data[this.parent.taskFields.duration], 10), this.parent.durationUnit);\n        }\n        return '';\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.dependencyValueAccessor = function (field, data, column) {\n        var _this = this;\n        if (data && data.ganttProperties && !isNullOrUndefined(data.ganttProperties.predecessorsName)) {\n            var value_3 = '';\n            var predecessorsName = data.ganttProperties.predecessorsName;\n            var splitString_3 = predecessorsName.split(',');\n            splitString_3.map(function (splitvalue, index) {\n                if (splitvalue.includes('FS')) {\n                    value_3 += splitvalue.replace('FS', _this.parent.localeObj.getConstant('FS'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('FF')) {\n                    value_3 += splitvalue.replace('FF', _this.parent.localeObj.getConstant('FF'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('SS')) {\n                    value_3 += splitvalue.replace('SS', _this.parent.localeObj.getConstant('SS'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('SF')) {\n                    value_3 += splitvalue.replace('SF', _this.parent.localeObj.getConstant('SF'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n            });\n            return value_3;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.resourceValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.resourceNames;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.workValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return this.parent.dataOperation.getWorkString(ganttProp.work, ganttProp.workUnit);\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.taskTypeValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.taskType;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.modeValueAccessor = function (field, data, column) {\n        if (data[field]) {\n            return 'Manual';\n        }\n        else {\n            return 'Auto';\n        }\n    };\n    GanttTreeGrid.prototype.idValueAccessor = function (field, data, column) {\n        return data.level === 0 ? 'R-' + data.ganttProperties.taskId : 'T-' + data.ganttProperties.taskId;\n    };\n    GanttTreeGrid.prototype.updateScrollTop = function (args) {\n        var newScrollTop = getValue('top', args);\n        this.treeGridElement.querySelector('.e-content').scrollTop = newScrollTop;\n        this.previousScroll.top = this.treeGridElement.querySelector('.e-content').scrollTop;\n    };\n    GanttTreeGrid.prototype.treeGridClickHandler = function (e) {\n        this.parent.notify('treeGridClick', e);\n    };\n    GanttTreeGrid.prototype.removeEventListener = function () {\n        this.parent.off('renderPanels', this.createContainer);\n        this.parent.off('chartScroll', this.updateScrollTop);\n        this.parent.off('destroy', this.destroy);\n        this.parent.treeGrid.off('reactTemplateRender', this.renderReactTemplate);\n    };\n    GanttTreeGrid.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        if (this.parent.treeGrid.element) {\n            this.parent.treeGrid.destroy();\n        }\n    };\n    return GanttTreeGrid;\n}());\nexport { GanttTreeGrid };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines the working time of the day in the project.\n */\nvar DayWorkingTime = /** @class */ (function (_super) {\n    __extends(DayWorkingTime, _super);\n    function DayWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"to\", void 0);\n    return DayWorkingTime;\n}(ChildProperty));\nexport { DayWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of add dialog.\n */\nvar AddDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(AddDialogFieldSettings, _super);\n    function AddDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], AddDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], AddDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return AddDialogFieldSettings;\n}(ChildProperty));\nexport { AddDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of edit dialog.\n */\nvar EditDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(EditDialogFieldSettings, _super);\n    function EditDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], EditDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], EditDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return EditDialogFieldSettings;\n}(ChildProperty));\nexport { EditDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures edit settings of Gantt.\n */\nvar EditSettings = /** @class */ (function (_super) {\n    __extends(EditSettings, _super);\n    function EditSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property('Auto')\n    ], EditSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Top')\n    ], EditSettings.prototype, \"newRowPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"showDeleteConfirmDialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowTaskbarEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowNextRowEdit\", void 0);\n    return EditSettings;\n}(ChildProperty));\nexport { EditSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines event marker collection in Gantt.\n */\nvar EventMarker = /** @class */ (function (_super) {\n    __extends(EventMarker, _super);\n    function EventMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"day\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"cssClass\", void 0);\n    return EventMarker;\n}(ChildProperty));\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { Predicate } from '@syncfusion/ej2-grids';\n/**\n * Configures the filtering behavior of the Gantt.\n */\nvar FilterSettings = /** @class */ (function (_super) {\n    __extends(FilterSettings, _super);\n    function FilterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], Predicate)\n    ], FilterSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('Menu')\n    ], FilterSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"operators\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property('Parent')\n    ], FilterSettings.prototype, \"hierarchyMode\", void 0);\n    return FilterSettings;\n}(ChildProperty));\nexport { FilterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the searching behavior of the Gantt.\n */\nvar SearchSettings = /** @class */ (function (_super) {\n    __extends(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], SearchSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property('contains')\n    ], SearchSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property('')\n    ], SearchSettings.prototype, \"key\", void 0);\n    __decorate([\n        Property('Parent')\n    ], SearchSettings.prototype, \"hierarchyMode\", void 0);\n    return SearchSettings;\n}(ChildProperty));\nexport { SearchSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines holidays of project.\n */\nvar Holiday = /** @class */ (function (_super) {\n    __extends(Holiday, _super);\n    function Holiday() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"to\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"cssClass\", void 0);\n    return Holiday;\n}(ChildProperty));\nexport { Holiday };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines labels for task, this will be placed right, left and inner side of taskbar.\n */\nvar LabelSettings = /** @class */ (function (_super) {\n    __extends(LabelSettings, _super);\n    function LabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"rightLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"leftLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"taskLabel\", void 0);\n    return LabelSettings;\n}(ChildProperty));\nexport { LabelSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the selection behavior of the Gantt.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Row')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Flow')\n    ], SelectionSettings.prototype, \"cellSelectionMode\", void 0);\n    __decorate([\n        Property('Single')\n    ], SelectionSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"persistSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"enableToggle\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures splitter position and splitter bar.\n */\nvar SplitterSettings = /** @class */ (function (_super) {\n    __extends(SplitterSettings, _super);\n    function SplitterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(-1)\n    ], SplitterSettings.prototype, \"columnIndex\", void 0);\n    __decorate([\n        Property(4)\n    ], SplitterSettings.prototype, \"separatorSize\", void 0);\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"minimum\", void 0);\n    __decorate([\n        Property('Default')\n    ], SplitterSettings.prototype, \"view\", void 0);\n    return SplitterSettings;\n}(ChildProperty));\nexport { SplitterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get task details from data source.\n */\nvar TaskFields = /** @class */ (function (_super) {\n    __extends(TaskFields, _super);\n    function TaskFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"hasChildMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"startDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"endDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"dependency\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"progress\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"child\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"milestone\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"duration\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"resourceInfo\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"expandState\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"indicators\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"notes\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"work\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"manual\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segments\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segmentId\", void 0);\n    return TaskFields;\n}(ChildProperty));\nexport { TaskFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\n/**\n * Configures timeline settings of Gantt.\n */\nvar TimelineTierSettings = /** @class */ (function (_super) {\n    __extends(TimelineTierSettings, _super);\n    function TimelineTierSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TimelineTierSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property('None')\n    ], TimelineTierSettings.prototype, \"unit\", void 0);\n    __decorate([\n        Property(1)\n    ], TimelineTierSettings.prototype, \"count\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineTierSettings.prototype, \"formatter\", void 0);\n    return TimelineTierSettings;\n}(ChildProperty));\nexport { TimelineTierSettings };\n/**\n * Configures the timeline settings property in the Gantt.\n */\nvar TimelineSettings = /** @class */ (function (_super) {\n    __extends(TimelineSettings, _super);\n    function TimelineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Week')\n    ], TimelineSettings.prototype, \"timelineViewMode\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"topTier\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"bottomTier\", void 0);\n    __decorate([\n        Property(33)\n    ], TimelineSettings.prototype, \"timelineUnitSize\", void 0);\n    __decorate([\n        Property(0)\n    ], TimelineSettings.prototype, \"weekStartDay\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineSettings.prototype, \"weekendBackground\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"updateTimescaleView\", void 0);\n    return TimelineSettings;\n}(ChildProperty));\nexport { TimelineSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures tooltip settings for Gantt.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], TooltipSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"taskbar\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"baseline\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"connectorLine\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"editing\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Collection } from '@syncfusion/ej2-base';\n/**\n * Represents the field name and direction of sort column.\n */\nvar SortDescriptor = /** @class */ (function (_super) {\n    __extends(SortDescriptor, _super);\n    function SortDescriptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"direction\", void 0);\n    return SortDescriptor;\n}(ChildProperty));\nexport { SortDescriptor };\n/**\n * Configures the sorting behavior of Gantt.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], SortDescriptor)\n    ], SortSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], SortSettings.prototype, \"allowUnsort\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines the mapping properties to extract resource details from the resource collection.\n */\nvar ResourceFields = /** @class */ (function (_super) {\n    __extends(ResourceFields, _super);\n    function ResourceFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"unit\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"group\", void 0);\n    return ResourceFields;\n}(ChildProperty));\nexport { ResourceFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Configures the Loading Indicator of the Gantt.\n */\nvar LoadingIndicator = /** @class */ (function (_super) {\n    __extends(LoadingIndicator, _super);\n    function LoadingIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Spinner')\n    ], LoadingIndicator.prototype, \"indicatorType\", void 0);\n    return LoadingIndicator;\n}(ChildProperty));\nexport { LoadingIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { DayWorkingTime } from '../models/day-working-time';\n/**\n * Defines the working time of the day in the project.\n */\nvar WeekWorkingTime = /** @class */ (function (_super) {\n    __extends(WeekWorkingTime, _super);\n    function WeekWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], WeekWorkingTime.prototype, \"dayOfWeek\", void 0);\n    __decorate([\n        Collection([], DayWorkingTime)\n    ], WeekWorkingTime.prototype, \"timeRange\", void 0);\n    return WeekWorkingTime;\n}(ChildProperty));\nexport { WeekWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement, isNullOrUndefined, extend, compile, getValue, setValue, SanitizeHtmlHelper, append } from '@syncfusion/ej2-base';\nimport { formatUnit, addClass } from '@syncfusion/ej2-base';\nimport { isScheduledTask, getTaskData } from '../base/utils';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport * as cls from '../base/css-constants';\nimport { DateProcessor } from '../base/date-processor';\n/**\n * To render the chart rows in Gantt\n */\nvar ChartRows = /** @class */ (function (_super) {\n    __extends(ChartRows, _super);\n    function ChartRows(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.taskBarHeight = 0;\n        _this.milestoneHeight = 0;\n        _this.milesStoneRadius = 0;\n        _this.baselineTop = 0;\n        _this.baselineHeight = 8;\n        _this.touchLeftConnectorpoint = '';\n        _this.touchRightConnectorpoint = '';\n        _this.dropSplit = false;\n        _this.refreshedTr = [];\n        _this.refreshedData = [];\n        _this.isUpdated = true;\n        _this.taskBaselineTemplateNode = null;\n        /**\n         * To trigger the touchmove.\n         *\n         * @param {TouchEvent} event .\n         * @returns {void}\n         * @private\n         */\n        _this.handleTouchMove = function (event) {\n            _this.parent.ganttChartModule['ganttChartMove'](event);\n        };\n        /**\n         * To trigger the touchend.\n         *\n         * @param {TouchEvent} event .\n         * @returns {void}\n         * @private\n         */\n        _this.handleTouchEnd = function (event) {\n            _this.parent.ganttChartModule['documentMouseUp'](event);\n        };\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initPublicProp = function () {\n        this.ganttChartTableBody = null;\n    };\n    ChartRows.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createChartTable, this);\n        this.parent.on('dataReady', this.initiateTemplates, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    ChartRows.prototype.refreshChartByTimeline = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        var prevDate = getValue('prevProjectStartDate', this.parent.dataOperation);\n        var isUpdated = false;\n        if (prevDate) {\n            isUpdated = prevDate.getTime() === this.parent.cloneProjectStartDate.getTime();\n        }\n        this.isUpdated = this.parent.isFromOnPropertyChange && isUpdated &&\n            getValue('mutableData', this.parent.treeGrid.grid.contentModule) ? true : false;\n        this.refreshGanttRows();\n        this.isUpdated = true;\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createChartTable = function () {\n        this.taskTable = createElement('table', {\n            className: cls.taskTable + ' ' + cls.zeroSpacing, id: 'GanttTaskTable' + this.parent.element.id,\n            styles: 'position: absolute;width:' + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + 'px;',\n            attrs: { cellspacing: '0.25px' }\n        });\n        var colgroup = createElement('colgroup');\n        var column = createElement('col', { styles: 'width:' + this.parent.timelineModule.totalTimelineWidth + 'px;' });\n        colgroup.appendChild(column);\n        this.taskTable.appendChild(colgroup);\n        this.ganttChartTableBody = createElement('tbody', {\n            id: this.parent.element.id + 'GanttTaskTableBody'\n        });\n        this.taskTable.appendChild(this.ganttChartTableBody);\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.taskTable);\n    };\n    ChartRows.prototype.initiateTemplates = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        this.initChartHelperPrivateVariable();\n        this.initializeChartTemplate();\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.renderChartRows = function () {\n        this.createTaskbarTemplate();\n        this.parent.isGanttChartRendered = true;\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {IIndicator} indicator .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorNode = function (indicator) {\n        var templateString = '<label class=\"' + cls.label + ' ' + cls.taskIndicatorDiv + '\" style=\"display: inline-flex; align-items: center; margin-top: 0; line-height:'\n            + (this.parent.rowHeight) + 'px;' +\n            (this.parent.enableRtl ? 'right:' : 'left:') + this.getIndicatorleft(indicator.date) + 'px;\"><i class=\"' + indicator.iconClass + '\" style=\"margin-right: 3px;\"></i> </label>';\n        return this.createDivElement(templateString);\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {Date | string} date .\n     * @returns {number} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorleft = function (date) {\n        date = this.parent.dateValidationModule.getDateFromFormat(date);\n        var left = this.parent.dataOperation.getTaskLeft(date, false);\n        return left;\n    };\n    /**\n     * To get child taskbar Node.\n     *\n     *  @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getChildTaskbarNode = function (i, rootElement) {\n        var childTaskbarNode = null;\n        var data = this.templateData;\n        var direction;\n        if (this.parent.enableRtl) {\n            direction = 'right:';\n        }\n        else {\n            direction = 'left:';\n        }\n        if (this.childTaskbarTemplateFunction) {\n            childTaskbarNode = this.childTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'TaskbarTemplate', this.getTemplateID('TaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var taskLabel = '';\n            var taskbarInnerDiv = void 0;\n            var progressDiv = void 0;\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) {\n                taskbarInnerDiv = this.createDivElement('<div class=\"' + cls.childTaskBarInnerDiv + ' ' + cls.traceChildTaskBar +\n                    ' ' + (data.ganttProperties.isAutoSchedule ? '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"width:' + data.ganttProperties.width + 'px;height:' +\n                    (this.taskBarHeight) + 'px; margin-top :-1px\"></div>');\n                progressDiv = this.createDivElement('<div class=\"' + cls.childProgressBarInnerDiv + ' ' +\n                    cls.traceChildProgressBar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildProgressBar) + '\"' +\n                    ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                    'width:' + data.ganttProperties.progressWidth + 'px;height:100%;' +\n                    'border-top-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;' +\n                    'border-bottom-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;\">' +\n                    '</div>');\n            }\n            var tempDiv = createElement('div');\n            if (this.taskLabelTemplateFunction && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                var taskLabelTemplateNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressDiv[0]);\n                if (taskLabelTemplateNode && taskLabelTemplateNode.length > 0) {\n                    append(taskLabelTemplateNode, tempDiv);\n                    labelString = tempDiv.innerHTML;\n                }\n            }\n            else {\n                var field = this.parent.labelSettings.taskLabel;\n                labelString = this.getTaskLabel(field);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' +\n                        'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? ('text-align:' +\n                        (this.parent.enableRtl ? 'right;' : 'left;')) : '') +\n                        +(this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        +(this.parent.viewType === 'ResourceView' ? (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n            }\n            var template = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0 ?\n                this.splitTaskbar(data, labelString) : (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) ? (taskLabel) :\n                (data.ganttProperties.startDate && !data.ganttProperties.endDate && !data.ganttProperties.duration) ? ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                    cls.unscheduledTaskbarLeft + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                    (data.ganttProperties.endDate && !data.ganttProperties.startDate && !data.ganttProperties.duration) ?\n                        ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                            cls.unscheduledTaskbarRight + ' ' + (data.ganttProperties.isAutoSchedule ?\n                            '' : cls.manualChildTaskBar) + '\"' +\n                            'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                        (data.ganttProperties.duration && !data.ganttProperties.startDate && !data.ganttProperties.endDate) ?\n                            ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                                cls.unscheduledTaskbar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                                '' : cls.manualChildTaskBar) + '\"' +\n                                'style=\"' + direction + data.ganttProperties.left + 'px; width:' + data.ganttProperties.width + 'px;' +\n                                ' height:' + this.taskBarHeight + 'px;\"></div>') : '';\n            if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0) {\n                var progress = this.getSplitProgressResizerNode();\n                template = template + progress;\n            }\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate && data.ganttProperties.duration &&\n                (isNullOrUndefined(data.ganttProperties.segments) || (!isNullOrUndefined(data.ganttProperties.segments) &&\n                    data.ganttProperties.segments.length === 0))) {\n                if (template !== '' && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                    /* eslint-disable-next-line */\n                    var templateElement = this.createDivElement(template)[0];\n                    if (this.parent.disableHtmlEncode) {\n                        templateElement.innerText = labelString;\n                    }\n                    else {\n                        templateElement.innerHTML = labelString;\n                    }\n                    var childLabel = this.parent.labelSettings.taskLabel;\n                    if (childLabel && childLabel['elementRef']) {\n                        templateElement.appendChild(tempDiv);\n                    }\n                    progressDiv[0].appendChild(templateElement);\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                        !this.isTemplate(childLabel) &&\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0]) {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                    }\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                        childLabel && !childLabel['elementRef'] && tempDiv.innerHTML !== '') {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].textContent = childLabel;\n                    }\n                }\n                if (!isNullOrUndefined(taskbarInnerDiv) && taskbarInnerDiv.length > 0) {\n                    taskbarInnerDiv[0].appendChild([].slice.call(progressDiv)[0]);\n                }\n                childTaskbarNode = taskbarInnerDiv;\n            }\n            else {\n                childTaskbarNode = this.createDivElement(template);\n            }\n        }\n        if (this.parent.enableRtl && !isNullOrUndefined(childTaskbarNode) && childTaskbarNode[0] && childTaskbarNode[0].querySelector('.e-task-label')) {\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (childTaskbarNode[0].querySelector('.e-gantt-child-progressbar')) {\n                childTaskbarNode[0].querySelector('.e-gantt-child-progressbar').style.textAlign = 'left';\n            }\n        }\n        return childTaskbarNode;\n    };\n    ChartRows.prototype.splitTaskbar = function (data, labelString) {\n        var splitTasks = '';\n        for (var i = 0; i < data.ganttProperties.segments.length; i++) {\n            var segment = data.ganttProperties.segments[i];\n            var progressBarVisible = void 0;\n            if (!segment.showProgress) {\n                progressBarVisible = 'hidden';\n            }\n            else {\n                progressBarVisible = 'initial';\n            }\n            var segmentPosition = (i === 0) ? 'e-segment-first' : (i === data.ganttProperties.segments.length - 1)\n                ? 'e-segment-last' : 'e-segment-inprogress';\n            splitTasks += (\n            //split taskbar\n            '<div class=\"' + cls.childTaskBarInnerDiv + ' ' + segmentPosition + ' ' + cls.traceChildTaskBar + ' ' +\n                ' e-segmented-taskbar' +\n                '\"style=\"width:' + segment.width + 'px;position: absolute;' + (this.parent.enableRtl ? 'right:' : 'left:') + segment.left + 'px;height:' +\n                (this.taskBarHeight) + 'px; overflow:' + progressBarVisible + ';\" data-segment-index = \"' + i + '\" aria-label = \"' +\n                this.generateSpiltTaskAriaLabel(segment, data.ganttProperties) + '\"> ' +\n                this.getSplitTaskbarLeftResizerNode() +\n                //split progress bar\n                '<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildProgressBar + ' ' +\n                '\" style=\"border-style:' + (segment.progressWidth ? 'solid;' : 'none;') +\n                'display:' + (segment.progressWidth >= 0 ? 'block;' : 'none;') +\n                'width:' + segment.progressWidth + 'px;height:100%;' + 'text-align:' + (this.parent.enableRtl ? 'left;' : 'right;') +\n                'border-top-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;' +\n                'border-bottom-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;\">' +\n                // progress label\n                '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                (this.taskBarHeight - 1) + 'px;display:' + (segment.showProgress ? 'inline;' : 'none;') +\n                'height:' + this.taskBarHeight + 'px;\">' + labelString + '</span>' +\n                '</div>' +\n                this.getSplitTaskbarRightResizerNode(segment) +\n                '</div></div>');\n        }\n        return splitTasks;\n    };\n    ChartRows.prototype.getSplitTaskbarLeftResizerNode = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitTaskbarRightResizerNode = function (segment) {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -10;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (segment.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitProgressResizerNode = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return template;\n    };\n    ChartRows.prototype.getSegmentIndex = function (splitStartDate, record) {\n        var segmentIndex = -1;\n        var ganttProp = record.ganttProperties;\n        var segments = ganttProp.segments;\n        if (!isNullOrUndefined(segments)) {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n            var length_1 = segments.length;\n            for (var i = 0; i < length_1; i++) {\n                var segment = segments[i];\n                // To find if user tend to split the start date of a main taskbar\n                // purpose of this to restrict the split action\n                if (splitStartDate.getTime() === ganttProp.startDate.getTime()) {\n                    this.dropSplit = true;\n                    segmentIndex = 0;\n                    // To find the if user tend to split the first date of already segmented task.\n                    // purpose of this to move on day of a segment\n                }\n                else if (splitStartDate.getTime() === segment.startDate.getTime()) {\n                    this.dropSplit = true;\n                    var sDate = segment.startDate;\n                    sDate.setDate(sDate.getDate() + 1);\n                    sDate = segment.startDate = this.parent.dataOperation.checkStartDate(sDate, ganttProp, false);\n                    segment.startDate = sDate;\n                    var eDate = segment.endDate;\n                    eDate = this.parent.dataOperation.getEndDate(sDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    segment.endDate = eDate;\n                    if (i === segments.length - 1) {\n                        this.parent.setRecordValue('endDate', eDate, ganttProp, true);\n                    }\n                    this.incrementSegments(segments, i, record);\n                    segmentIndex = segment.segmentIndex;\n                    // To find if the user tend to split the segment and find the segment index\n                }\n                else {\n                    segment.endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    if (splitStartDate.getTime() >= segment.startDate.getTime() && splitStartDate.getTime() <= segment.endDate.getTime()) {\n                        segmentIndex = segment.segmentIndex;\n                    }\n                }\n                this.parent.setRecordValue('segments', ganttProp.segments, ganttProp, true);\n            }\n        }\n        if (segmentIndex === -1) {\n            this.dropSplit = true;\n        }\n        return segmentIndex;\n    };\n    ChartRows.prototype.mergeTask = function (taskId, segmentIndexes) {\n        var mergeArrayLength = segmentIndexes.length;\n        var taskFields = this.parent.taskFields;\n        var mergeData = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                if (this.parent.editModule && this.parent.editModule.taskbarEditModule['isDragged'] && this.parent.getUndoActions().length > 0) {\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var rec = this.parent.previousFlatData[mergeData.index];\n                details['modifiedRecords'] = extend([], [rec], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var segments = mergeData.ganttProperties.segments;\n        segmentIndexes = segmentIndexes.sort(function (a, b) {\n            return b.firstSegmentIndex - a.firstSegmentIndex;\n        });\n        for (var arrayLength = 0; arrayLength < mergeArrayLength; arrayLength++) {\n            var firstSegment = segments[segmentIndexes[arrayLength].firstSegmentIndex];\n            var secondSegment = segments[segmentIndexes[arrayLength].secondSegmentIndex];\n            var duration = firstSegment.duration + secondSegment.duration;\n            var endDate = this.parent.dataOperation.getEndDate(firstSegment.startDate, duration, mergeData.ganttProperties.durationUnit, mergeData.ganttProperties, false);\n            var segment = {\n                startDate: firstSegment.startDate,\n                endDate: endDate,\n                duration: duration\n            };\n            var insertIndex = segmentIndexes[arrayLength].firstSegmentIndex;\n            segments.splice(insertIndex, 2, segment);\n            this.parent.setRecordValue('segments', segments, mergeData.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            if (segments.length === 1) {\n                this.parent.setRecordValue('endDate', endDate, mergeData.ganttProperties, true);\n                this.parent.setRecordValue('EndDate', endDate, mergeData, true);\n                this.parent.setRecordValue('segments', null, mergeData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            }\n            else if (mergeData.ganttProperties.endDate !== segments[segments.length - 1].endDate) {\n                this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, mergeData.ganttProperties, true);\n            }\n        }\n        var segmentFields;\n        if (!isNullOrUndefined(mergeData[taskFields.segments]) && !isNullOrUndefined(mergeData[taskFields.segments][0])) {\n            segmentFields = Object.keys(mergeData[taskFields.segments][0]);\n        }\n        var modifiedSegments = [];\n        for (var i = 0; i < segments.length; i++) {\n            if (!isNullOrUndefined(segmentFields) && !modifiedSegments[i]) {\n                modifiedSegments[i] = {};\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('StartDate') !== -1) {\n                modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('EndDate') !== -1) {\n                modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('Duration') !== -1) {\n                modifiedSegments[i][taskFields.duration] = segments[i].duration;\n            }\n        }\n        mergeData[taskFields.segments] = modifiedSegments;\n        this.updateSegment(mergeData.ganttProperties.segments, taskId);\n        this.refreshChartAfterSegment(mergeData, 'mergeSegment');\n    };\n    ChartRows.prototype.updateSegment = function (segmentData, taskId) {\n        var _this = this;\n        if (!isNullOrUndefined(this.parent.taskFields.segmentId) && this.parent.segmentData.length > 0) {\n            if (!isNullOrUndefined(segmentData)) {\n                var segmentsArray = [];\n                for (var i = 0; i < segmentData.length; i++) {\n                    var segmentObj = {};\n                    var segment = segmentData[i];\n                    segmentObj[this.parent.taskFields.segmentId] = taskId;\n                    if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n                        segmentObj[this.parent.taskFields.startDate] = segment.startDate;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        segmentObj[this.parent.taskFields.duration] = segment.duration;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n                        segmentObj[this.parent.taskFields.endDate] = segment.endDate;\n                    }\n                    segmentsArray.push(segmentObj);\n                }\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                for (var i = 0; i < segmentsArray.length; i++) {\n                    filterData.push(segmentsArray[i]);\n                }\n                this.parent.segmentData = filterData;\n            }\n            else {\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                this.parent.segmentData = filterData;\n            }\n        }\n    };\n    ChartRows.prototype.refreshChartAfterSegment = function (data, requestType) {\n        this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(data, false), data.ganttProperties, true);\n        this.parent.dataOperation.updateMappingData(data, 'segments');\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateParentItems(data);\n        if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n            this.parent.predecessorModule.updatedRecordsDateByPredecessor();\n            this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.flatData);\n            this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.flatData);\n            if (data.parentItem && this.parent.getParentTask(data.parentItem).ganttProperties.isAutoSchedule\n                && this.parent.isInPredecessorValidation) {\n                this.parent.dataOperation.updateParentItems(data.parentItem);\n            }\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        else {\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        var tr = this.ganttChartTableBody.querySelectorAll('tr')[this.parent.currentViewData.indexOf(data)];\n        var args = {\n            requestType: requestType,\n            rowData: data,\n            modifiedRecords: this.parent.editedRecords,\n            modifiedTaskData: getTaskData(this.parent.editedRecords, true)\n        };\n        this.triggerQueryTaskbarInfoByIndex(tr, data);\n        if (this.parent.selectionModule) {\n            this.parent.selectionModule.clearSelection();\n        }\n        var segments = args.rowData.taskData[this.parent.taskFields.segments];\n        if (this.parent.timezone && segments != null) {\n            for (var i = 0; i < segments.length; i++) {\n                segments[i][this.parent.taskFields.startDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].startDate, this.parent.timezone);\n                if (this.parent.taskFields.endDate) {\n                    segments[i][this.parent.taskFields.endDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].endDate, this.parent.timezone);\n                }\n            }\n        }\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        setValue('isEdit', false, this.parent.contextMenuModule);\n        setValue('isEdit', false, this.parent);\n    };\n    /**\n     * public method to split task bar.\n     *\n     * @public\n     */\n    ChartRows.prototype.splitTask = function (taskId, splitDates) {\n        var taskFields = this.parent.taskFields;\n        var splitDate = splitDates;\n        var splitRecord = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                details['modifiedRecords'] = extend([], [splitRecord], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var ganttProp = splitRecord.ganttProperties;\n        this.dropSplit = false;\n        var segmentIndex = -1;\n        var segments = ganttProp.segments;\n        if (isNullOrUndefined(splitDates.length) || splitDates.length < 0) {\n            var splitStartDate = this.parent.dataOperation.checkStartDate(splitDate, ganttProp, false);\n            if (splitStartDate.getTime() !== ganttProp.startDate.getTime()) {\n                if (ganttProp.isAutoSchedule) {\n                    if (!isNullOrUndefined(segments) && segments.length > 0) {\n                        segmentIndex = this.getSegmentIndex(splitStartDate, splitRecord);\n                    }\n                    //check atleast one day difference is there to split\n                    if (this.dropSplit === false && splitDate.getTime() > ganttProp.startDate.getTime() &&\n                        splitDate.getTime() < ganttProp.endDate.getTime()) {\n                        segments = segmentIndex !== -1 ? segments : [];\n                        var startDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].startDate : new Date(ganttProp.startDate.getTime());\n                        var endDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].endDate : new Date(ganttProp.endDate.getTime());\n                        var segmentDuration = this.parent.dataOperation.getDuration(startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                        this.parent.setRecordValue('segments', this.splitSegmentedTaskbar(startDate, endDate, splitDate, segmentIndex, segments, splitRecord, segmentDuration), ganttProp, true);\n                        var modifiedSegments = [];\n                        for (var i = 0; i < segments.length; i++) {\n                            if (!modifiedSegments[i]) {\n                                modifiedSegments[i] = {};\n                            }\n                            modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n                            modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n                            modifiedSegments[i][taskFields.duration] = segments[i].duration;\n                        }\n                        splitRecord[taskFields.segments] = modifiedSegments;\n                        if (segmentIndex !== -1) {\n                            this.incrementSegments(segments, segmentIndex + 1, splitRecord);\n                        }\n                        this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, ganttProp, true);\n                        if (this.parent.taskFields.endDate) {\n                            this.parent.dataOperation.updateMappingData(splitRecord, 'endDate');\n                        }\n                    }\n                    this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n                    this.refreshChartAfterSegment(splitRecord, 'splitTaskbar');\n                }\n            }\n        }\n        else {\n            splitDates.sort(function (a, b) {\n                return a.getTime() - b.getTime();\n            });\n            this.parent.setRecordValue('segments', this.constructSegments(splitDates, splitRecord.ganttProperties), splitRecord.ganttProperties, true);\n            this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n            this.refreshChartAfterSegment(splitRecord, 'splitTask');\n        }\n    };\n    ChartRows.prototype.constructSegments = function (dates, taskData) {\n        var segmentsArray = [];\n        var segment;\n        var startDate = new Date();\n        var endDate;\n        var duration;\n        for (var i = 0; i < dates.length + 1; i++) {\n            startDate = i === 0 ? taskData.startDate : startDate;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, taskData, false);\n            endDate = i !== dates.length ? new Date(dates[i].getTime()) > taskData.endDate ? taskData.endDate\n                : new Date(dates[i].getTime()) : taskData.endDate;\n            endDate = this.parent.dataOperation.checkEndDate(endDate, taskData, false);\n            duration = this.parent.dataOperation.getDuration(startDate, endDate, taskData.durationUnit, taskData.isAutoSchedule, taskData.isMilestone);\n            if (endDate.getTime() >= startDate.getTime()) {\n                segment = {\n                    startDate: startDate,\n                    endDate: endDate,\n                    duration: duration\n                };\n                segmentsArray.push(segment);\n            }\n            if (i === dates.length) {\n                break;\n            }\n            startDate = new Date(dates[i].getTime());\n            startDate.setDate(dates[i].getDate() + 1);\n        }\n        return segmentsArray;\n    };\n    ChartRows.prototype.splitSegmentedTaskbar = function (startDate, endDate, splitDate, segmentIndex, segments, ganttData, segmentDuration) {\n        var ganttProp = ganttData.ganttProperties;\n        var checkClickState;\n        var endDateState;\n        if (this.parent.includeWeekend) {\n            checkClickState = -1;\n        }\n        else {\n            checkClickState = this.parent.nonWorkingDayIndex.indexOf(splitDate.getDay());\n        }\n        var increment = checkClickState === -1 ? 0 : checkClickState === 0 ? 1 : checkClickState === 1 ? 1 : 2;\n        startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n        var segmentEndDate = new Date(splitDate.getTime());\n        segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n        for (var i = 0; i < 2; i++) {\n            if (this.parent.weekWorkingTime.length > 0) {\n                var dayEndTime = this.parent['getCurrentDayEndTime'](segmentEndDate);\n                this.setTime(dayEndTime, segmentEndDate);\n            }\n            var segment = {\n                startDate: startDate,\n                endDate: segmentEndDate,\n                duration: this.parent.dataOperation.getDuration(startDate, segmentEndDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone),\n                offsetDuration: 1\n            };\n            if (this.parent.includeWeekend) {\n                endDateState = -1;\n            }\n            else {\n                endDateState = this.parent.nonWorkingDayIndex.indexOf(segmentEndDate.getDay());\n            }\n            if (segmentIndex !== -1) {\n                segments.splice(segmentIndex, 1);\n                segmentIndex = -1;\n            }\n            segments.push(segment);\n            var mode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n            if (mode === 'Hour' || mode === 'Minutes') {\n                startDate = new Date(splitDate.getTime());\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                var count = this.parent.timelineModule.customTimelineSettings.bottomTier.count;\n                var mode_1 = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n                var timeIncrement = this.parent.timelineModule.getIncrement(startDate, count, mode_1);\n                var newTime = startDate.getTime() + timeIncrement;\n                startDate.setTime(newTime + increment);\n                segmentEndDate = new Date(endDate.getTime());\n                timeIncrement = this.parent.timelineModule.getIncrement(segmentEndDate, count, mode_1);\n                newTime = segmentEndDate.getTime() + timeIncrement;\n                segmentEndDate.setTime(newTime + increment);\n            }\n            else {\n                startDate = new Date(splitDate.getTime());\n                startDate.setDate(startDate.getDate() + 1 + increment);\n                var dayStartTime = this.parent['getCurrentDayStartTime'](startDate);\n                this.setTime(dayStartTime, startDate);\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                if (!this.parent.taskFields.duration && increment <= 0) {\n                    startDate.setDate(startDate.getDate() + 1);\n                }\n                segmentEndDate = new Date(endDate.getTime());\n                if (this.isOnHolidayOrWeekEnd(segmentEndDate, true)) {\n                    do {\n                        segmentEndDate.setDate(segmentEndDate.getDate() + 1);\n                    } while (this.isOnHolidayOrWeekEnd(segmentEndDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    segmentEndDate = this.getNextWorkingDay(segmentEndDate);\n                }\n            }\n            if (endDateState !== -1) {\n                var diff = segmentDuration - segment.duration;\n                segmentEndDate =\n                    this.parent.dataOperation.getEndDate(startDate, diff, ganttProp.durationUnit, ganttProp, false);\n            }\n            else {\n                segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        return segments;\n    };\n    ChartRows.prototype.incrementSegments = function (segments, segmentIndex, ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        for (var i = segmentIndex + 1; i < segments.length; i++) {\n            var segment = segments[i];\n            var startDate = i !== 0 ? new Date(segments[i - 1].endDate.getTime()) : new Date(segment.startDate.getTime());\n            this.parent.dataOperation['fromSegments'] = true;\n            startDate = this.parent.dataOperation.getEndDate(startDate, segment.offsetDuration, ganttProp.durationUnit, ganttProp, false);\n            this.parent.dataOperation['fromSegments'] = false;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n            segment.startDate = startDate;\n            var endDate = segment.endDate = this.parent.dataOperation.getEndDate(startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n            segment.endDate = endDate;\n            if (i === segments.length - 1) {\n                this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                if (this.parent.taskFields.endDate) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n                }\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        this.parent.setRecordValue('segments', segments, ganttProp, true);\n        this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n    };\n    ChartRows.prototype.calculateLeftValue = function (rowHeight) {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var defaultTaskbarHeight = Math.floor(this.parent.rowHeight * taskbarHeightValue);\n        if ((!isNullOrUndefined(this.parent.taskbarHeight) && this.parent.taskbarHeight <= defaultTaskbarHeight) ||\n            (isNullOrUndefined(this.parent.taskbarHeight) && rowHeight <= 36)) {\n            return 1;\n        }\n        else {\n            if (rowHeight <= 36) {\n                return 1;\n            }\n            return (-1 / 12) * (rowHeight - 36) + 1;\n        }\n    };\n    /**\n     * To get milestone node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneNode = function (i, rootElement) {\n        var milestoneNode = null;\n        var data = this.templateData;\n        var rowHeight = this.parent.rowHeight;\n        var leftValue = this.calculateLeftValue(rowHeight);\n        if (this.milestoneTemplateFunction) {\n            milestoneNode = this.milestoneTemplateFunction(extend({ index: i }, data), this.parent, 'MilestoneTemplate', this.getTemplateID('MilestoneTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var template = '<div class=\"' + cls.traceMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;position:absolute;transform: rotate(45deg);left:' + leftValue + 'px;\"> </div>';\n            milestoneNode = this.createDivElement(template);\n        }\n        return milestoneNode;\n    };\n    /**\n     * To get task baseline Node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTaskBaselineNode = function () {\n        var data = this.templateData;\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + data.ganttProperties.baselineLeft + 'px;' +\n            'width:' + data.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.updateTaskBaselineNode = function (childData) {\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + childData.ganttProperties.baselineLeft + 'px;' +\n            'width:' + childData.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get milestone baseline node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneBaselineNode = function () {\n        var data = this.templateData;\n        var baselineMilestoneHeight = this.parent.renderBaseline ? 5 : 2;\n        var template = '<div class=\"' + cls.baselineMilestoneContainer + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;position:absolute;transform:rotate(45deg);' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.parent.enableRtl ? (data.ganttProperties.left -\n            (this.milestoneHeight / 2) + 3) : (data.ganttProperties.baselineLeft - (this.milestoneHeight / 2) + 1)) + 'px;' + (this.baselineColor ?\n            'background-color: ' + this.baselineColor + ';' : '') + 'margin-top:' + ((-Math.floor(this.parent.rowHeight - this.milestoneMarginTop) + baselineMilestoneHeight) + 2) + 'px\"> </div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get left label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getLeftLabelNode = function (i) {\n        var leftLabelNode = this.leftLabelContainer();\n        if (this.generateTaskLabelAriaLabel('left') !== '') {\n            leftLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('left'));\n        }\n        var leftLabelTemplateNode = null;\n        if (this.leftTaskLabelTemplateFunction) {\n            leftLabelTemplateNode = this.leftTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'LeftLabelTemplate', this.getTemplateID('LeftLabelTemplate'), false, undefined, leftLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.leftLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                }\n            }\n        }\n        if (leftLabelTemplateNode && leftLabelTemplateNode.length > 0) {\n            if (leftLabelTemplateNode[0]['data'] === 'null') {\n                leftLabelTemplateNode[0]['data'] = '';\n            }\n            append(leftLabelTemplateNode, leftLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            leftLabelNode[0].style.paddingLeft = '25px';\n            leftLabelNode[0].style.paddingRight = '0px';\n        }\n        return leftLabelNode;\n    };\n    ChartRows.prototype.getLableText = function (labelString, labelDiv) {\n        var leftLabelHeight = this.parent.renderBaseline ?\n            ((this.parent.rowHeight - this.taskBarHeight) / 2) : this.taskBarMarginTop;\n        var templateString = createElement('div', {\n            className: labelDiv, styles: 'height:' + (this.taskBarHeight) + 'px;' +\n                'margin-top:' + leftLabelHeight + 'px;'\n        });\n        var spanElem = createElement('span', { className: cls.label });\n        var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n        spanElem[property] = labelString;\n        templateString.appendChild(spanElem);\n        var div = createElement('div');\n        div.appendChild(templateString);\n        return div.childNodes;\n    };\n    /**\n     * To get right label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getRightLabelNode = function (i) {\n        var rightLabelNode = this.rightLabelContainer();\n        if (this.generateTaskLabelAriaLabel('right') !== '') {\n            rightLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('right'));\n        }\n        var rightLabelTemplateNode = null;\n        if (this.rightTaskLabelTemplateFunction) {\n            rightLabelTemplateNode = this.rightTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'RightLabelTemplate', this.getTemplateID('RightLabelTemplate'), false, undefined, rightLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.rightLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                }\n            }\n        }\n        if (rightLabelTemplateNode && rightLabelTemplateNode.length > 0) {\n            if (rightLabelTemplateNode[0]['data'] === 'null') {\n                rightLabelTemplateNode[0]['data'] = '';\n            }\n            append(rightLabelTemplateNode, rightLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            rightLabelNode[0].style.marginLeft = '0px';\n            rightLabelNode[0].style.paddingRight = '25px';\n        }\n        return rightLabelNode;\n    };\n    ChartRows.prototype.getManualTaskbar = function () {\n        var data = this.templateData;\n        var taskbarHeight = (this.taskBarHeight / 2 - 1);\n        var innerDiv = (data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) ?\n            ('<div class=\"' + cls.manualParentTaskBar + '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight / 5 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') :\n            (!data.ganttProperties.startDate && !data.ganttProperties.endDate && data.ganttProperties.duration) ?\n                ('<div class=\"' + cls.manualParentTaskBar + ' ' + cls.traceManualUnscheduledTask +\n                    '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                    (taskbarHeight / 5 + 1) + 'px;border-left-width:' + taskbarHeight / 5 +\n                    'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') : ('<div class=\"' +\n                cls.manualParentTaskBar + ' ' + (data.ganttProperties.startDate ? cls.unscheduledTaskbarLeft : cls.unscheduledTaskbarRight) +\n                '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight * 2 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>');\n        var childEle = innerDiv + ((data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) || data.ganttProperties.duration ? '<div class=\"e-gantt-manualparenttaskbar-left\" style=' +\n            (this.parent.enableRtl ? 'margin-right:0px;' : '') + '\"height:' + ((taskbarHeight / 5) + 8) + 'px;border-left-width:' + taskbarHeight / 5 +\n            'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>' +\n            '<div class=\"e-gantt-manualparenttaskbar-right\" style=' + (this.parent.enableRtl ? 'margin-right:-8px;' : '') +\n            (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.width - Math.floor(((taskbarHeight / 5) + 8) / 5)) + 'px;height:' +\n            ((taskbarHeight / 5) + 8) + 'px;border-right-width:' + taskbarHeight / 5 + 'px;border-bottom:' +\n            taskbarHeight / 5 + 'px solid transparent;>' + '</div></div>' : '');\n        var template = '<div class=\"' + cls.manualParentMainContainer + '\"' +\n            'style=' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left - data.ganttProperties.autoLeft) + 'px;' +\n            'width:' + data.ganttProperties.width + 'px;' +\n            'height:' + taskbarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;') + '</div>';\n        var milestoneTemplate = '<div class=\"' + cls.manualParentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) +\n            'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:'\n            + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n        return this.createDivElement((data.ganttProperties.duration === 0 && data.hasChildRecords &&\n            !data.ganttProperties.isAutoSchedule) ? milestoneTemplate + childEle : template + childEle);\n    };\n    /**\n     * To get parent taskbar node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getParentTaskbarNode = function (i, rootElement) {\n        var parentTaskbarNode = null;\n        var data = this.templateData;\n        if (this.parentTaskbarTemplateFunction) {\n            parentTaskbarNode = this.parentTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'ParentTaskbarTemplate', this.getTemplateID('ParentTaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var labelDiv = void 0;\n            var tHeight = this.taskBarHeight / 5;\n            var template = this.createDivElement('<div class=\"' + cls.parentTaskBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentTaskBar + '\"' +\n                ' style=\"width:' + (data.ganttProperties.isAutoSchedule ? data.ganttProperties.width :\n                data.ganttProperties.autoWidth) + 'px;height:' + (data.ganttProperties.isAutoSchedule ? this.taskBarHeight :\n                (tHeight * 3)) + 'px;margin-top:' + (data.ganttProperties.isAutoSchedule ? -1 :\n                (tHeight * 2)) + 'px; \">' +\n                '</div>');\n            var progressBarInnerDiv = this.createDivElement('<div class=\"' + cls.parentProgressBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentProgressBar + '\"' +\n                ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                'width:' + data.ganttProperties.progressWidth + 'px;' +\n                'border-top-right-radius:' + this.getBorderRadius(data) + 'px;' +\n                'border-bottom-right-radius:' + this.getBorderRadius(data) + 'px;height:100%;\"></div>');\n            var div = createElement('div');\n            if (this.taskLabelTemplateFunction) {\n                var parentTaskLabelNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressBarInnerDiv[0]);\n                if (parentTaskLabelNode && parentTaskLabelNode.length > 0) {\n                    append(parentTaskLabelNode, div);\n                    labelString = div.innerHTML;\n                }\n            }\n            else {\n                labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    labelDiv = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (data[this.parent.taskFields.manual] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) :\n                            (this.taskBarHeight - 1)) + 'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' + 'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    labelDiv = '<span class=\"' +\n                        cls.taskLabel + '\" style=\"line-height:' +\n                        (data[this.parent.taskFields.manual] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) : (this.taskBarHeight - 1)) + 'px;' +\n                        (this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? 'display: inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                var labelElement = this.createDivElement(labelDiv)[0];\n                if (this.parent.disableHtmlEncode) {\n                    labelElement.innerText = labelString;\n                }\n                else {\n                    labelElement.innerHTML = labelString;\n                }\n                var parentLabel = this.parent.labelSettings.taskLabel;\n                if (parentLabel && parentLabel['elementRef']) {\n                    labelElement.appendChild(div);\n                }\n                progressBarInnerDiv[0].appendChild(labelElement);\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                    !this.isTemplate(parentLabel) &&\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0]) {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                }\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                    parentLabel && !parentLabel['elementRef'] && div.innerHTML !== '') {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent = parentLabel;\n                }\n            }\n            var milestoneTemplate = '<div class=\"' + cls.parentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:' + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n            template[0].appendChild([].slice.call(progressBarInnerDiv)[0]);\n            parentTaskbarNode = data.ganttProperties.isMilestone ?\n                this.createDivElement(data.ganttProperties.isAutoSchedule ? milestoneTemplate : '') : template;\n        }\n        if (this.parent.enableRtl && parentTaskbarNode[0] && parentTaskbarNode[0].querySelector('.e-task-label')) {\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar')) {\n                parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar').style.textAlign = 'left';\n            }\n        }\n        return parentTaskbarNode;\n    };\n    /**\n     * To get taskbar row('TR') node\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTableTrNode = function (i) {\n        var _this = this;\n        var table = createElement('table');\n        var className = (this.parent.gridLines === 'Horizontal' || this.parent.gridLines === 'Both') ?\n            'e-chart-row-border' : '';\n        /* eslint-disable-next-line */\n        var activecls;\n        var rows;\n        if (this.parent.treeGridModule.isPersist) {\n            setTimeout(function () {\n                if (!isNullOrUndefined(_this.parent.treeGrid.grid) && !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule) &&\n                    !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule.getRows())) {\n                    rows = _this.parent.treeGrid.grid.contentModule.getRows()[i];\n                    if (rows && rows.isSelected) {\n                        activecls = 'e-active';\n                    }\n                    else {\n                        activecls = '';\n                    }\n                }\n            }, 0);\n        }\n        else {\n            rows = this.parent.treeGrid.grid.contentModule.getRows()[i];\n            if (rows && rows.isSelected) {\n                activecls = 'e-active';\n            }\n            else {\n                activecls = '';\n            }\n        }\n        table.innerHTML = '<tr class=\"' + this.getRowClassName(this.templateData) + ' ' + cls.chartRow + ' ' + (activecls) + '\"' +\n            'style=\"display:' + this.getExpandDisplayProp(this.templateData) + ';height:' +\n            this.parent.rowHeight + 'px;\">' +\n            '<td class=\"' + cls.chartRowCell + ' ' + className\n            + '\"style=\"width:' + this.parent.timelineModule.totalTimelineWidth + 'px;\"></td></tr>';\n        return table.childNodes;\n    };\n    /**\n     * To initialize chart templates.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initializeChartTemplate = function () {\n        if (!isNullOrUndefined(this.parent.parentTaskbarTemplate)) {\n            this.parentTaskbarTemplateFunction = this.templateCompiler(this.parent.parentTaskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.leftLabel) &&\n            this.isTemplate(this.parent.labelSettings.leftLabel)) {\n            this.leftTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.leftLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.rightLabel) &&\n            this.isTemplate(this.parent.labelSettings.rightLabel)) {\n            this.rightTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.rightLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) &&\n            this.isTemplate(this.parent.labelSettings.taskLabel)) {\n            this.taskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.taskLabel);\n        }\n        if (!isNullOrUndefined(this.parent.taskbarTemplate)) {\n            this.childTaskbarTemplateFunction = this.templateCompiler(this.parent.taskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.milestoneTemplate)) {\n            this.milestoneTemplateFunction = this.templateCompiler(this.parent.milestoneTemplate);\n        }\n    };\n    ChartRows.prototype.createDivElement = function (template) {\n        var div = createElement('div');\n        div.innerHTML = template;\n        return div.childNodes;\n    };\n    ChartRows.prototype.isTemplate = function (template) {\n        var result = false;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            if (template === this.parent.ganttColumns[i].field) {\n                result = true;\n                break;\n            }\n        }\n        if (typeof template !== 'string' || template.indexOf('#') === 0 || template.indexOf('<') > -1\n            || template.indexOf('$') > -1 || !result) {\n            result = true;\n        }\n        else {\n            result = false;\n        }\n        return result;\n    };\n    /**\n     * @param {string} templateName .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTemplateID = function (templateName) {\n        var ganttID = this.parent.element.id;\n        return ganttID + templateName;\n    };\n    ChartRows.prototype.leftLabelContainer = function () {\n        var template = '<div class=\"' + ((this.leftTaskLabelTemplateFunction) ? cls.leftLabelTempContainer :\n            cls.leftLabelContainer) + ' ' + '\" tabindex=\"-1\" role=\"term\" style=\"height:' +\n            (this.parent.rowHeight - 2) + 'px;width:' + this.taskNameWidth(this.templateData) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.taskbarContainer = function () {\n        var data = this.templateData;\n        var manualParent = this.parent.editModule && this.parent.editSettings.allowTaskbarEditing &&\n            this.parent.editModule.taskbarEditModule.taskBarEditAction === 'ParentResizing' ?\n            true : false;\n        var template = '<div class=\"' + cls.taskBarMainContainer + ' ' +\n            this.parent.getUnscheduledTaskClass(data.ganttProperties) + ' ' +\n            ((data.ganttProperties.cssClass) ? data.ganttProperties.cssClass : '') + '\" ' +\n            ' tabindex=\"-1\" role=\"term\" style=\"' + ((data.ganttProperties.isMilestone && !manualParent && !(data.hasChildRecords && !data.ganttProperties.isAutoSchedule)) ?\n            ('width:' + this.milestoneHeight + 'px;height:' +\n                this.milestoneHeight + 'px;margin-top:' + this.milestoneMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left -\n                (this.milestoneHeight / 2)) + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;')) : ('width:' + data.ganttProperties.width +\n            'px;margin-top:' + this.taskBarMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (!data.hasChildRecords || data.ganttProperties.isAutoSchedule ?\n            data.ganttProperties.left : data.ganttProperties.autoLeft) + 'px;height:' +\n            this.taskBarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;'))) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.rightLabelContainer = function () {\n        var template = '<div class=\"' + ((this.rightTaskLabelTemplateFunction) ? cls.rightLabelTempContainer :\n            cls.rightLabelContainer) + '\" ' + ' tabindex=\"-1\" role=\"term\" style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + this.getRightLabelLeft(this.templateData) + 'px; height:'\n            + (this.parent.rowHeight - 2) + 'px;\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarLeftResizer = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarRightResizer = function () {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -11;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.templateData.ganttProperties.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarProgressResizer = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getLeftPointNode = function () {\n        var data = this.templateData;\n        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n        var mileStoneLeftValue = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 6 : 3;\n        var pointerLeft = -(2 + this.connectorPointWidth + left);\n        var mileStoneLeft = -(this.connectorPointWidth + mileStoneLeftValue);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.leftConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('margin-top:' + pointerTop + 'px;left:' + mileStoneLeft +\n                'px;') : (marginTop + ';left:' + pointerLeft + 'px;')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointLeft : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width: ' + this.connectorPointWidth + 'px;' + (this.parent.enableRtl ? 'margin-right:2px;' : '') +\n            'height: ' + this.connectorPointWidth + 'px;\">' + this.touchLeftConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getRightPointNode = function () {\n        var data = this.templateData;\n        var right = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -12 : 0;\n        var pointerRight = -(3 + right);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.rightConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('left:' + ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.milestoneHeight + 5) : this.milestoneHeight - 2) + 'px;margin-top:' +\n                pointerTop + 'px;') : ('left:' + (data.ganttProperties.width + pointerRight) + 'px;' + marginTop + ';')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointRight : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width:' + this.connectorPointWidth + 'px;height:' + this.connectorPointWidth + 'px;\">' +\n            this.touchRightConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get task label.\n     *\n     * @param {string} field .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTaskLabel = function (field) {\n        var length = this.parent.ganttColumns.length;\n        var resultString = null;\n        if (!isNullOrUndefined(field) && field !== '') {\n            if (field === this.parent.taskFields.resourceInfo) {\n                resultString = this.getResourceName(this.templateData);\n            }\n            else {\n                for (var i = 0; i < length; i++) {\n                    if (field === this.parent.ganttColumns[i].field) {\n                        resultString = this.getFieldValue(this.templateData[field]).toString();\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(resultString)) {\n                    return 'isCustomTemplate';\n                }\n            }\n        }\n        else {\n            resultString = '';\n        }\n        return resultString;\n    };\n    ChartRows.prototype.getExpandDisplayProp = function (data) {\n        data = this.templateData;\n        if (this.parent.getExpandStatus(data)) {\n            return 'table-row';\n        }\n        return 'none';\n    };\n    ChartRows.prototype.getRowClassName = function (data) {\n        data = this.templateData;\n        var rowClass = 'gridrowtaskId';\n        var parentItem = data.parentItem;\n        if (parentItem) {\n            rowClass += parentItem.taskId.toString();\n        }\n        rowClass += 'level';\n        rowClass += data.level.toString();\n        return rowClass;\n    };\n    ChartRows.prototype.getBorderRadius = function (data) {\n        data = this.templateData;\n        var diff = data.ganttProperties.width - data.ganttProperties.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.getSplitTaskBorderRadius = function (data) {\n        var diff = data.width - data.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.taskNameWidth = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            width = (ganttData.ganttProperties.left - (this.parent.getTaskbarHeight() / 2));\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                width = (ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime()) ?\n                    ganttProp.autoLeft : ganttProp.left;\n            }\n            else {\n                width = ganttProp.left < ganttProp.autoLeft ? ganttProp.left : ganttProp.autoLeft;\n            }\n        }\n        else {\n            width = ganttData.ganttProperties.left;\n        }\n        if (width < 0) {\n            width = 0;\n        }\n        return width + 'px';\n    };\n    ChartRows.prototype.getRightLabelLeft = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var left;\n        var endLeft;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            return ganttData.ganttProperties.left + (this.parent.getTaskbarHeight() / 2);\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                left = ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime() ? ganttProp.autoLeft : ganttProp.left;\n                endLeft = ganttProp.autoEndDate.getTime() < ganttProp.endDate.getTime() ?\n                    this.parent.dataOperation.getTaskLeft(ganttProp.endDate, ganttProp.isMilestone) :\n                    this.parent.dataOperation.getTaskLeft(ganttProp.autoEndDate, ganttProp.isMilestone);\n                width = endLeft - left;\n            }\n            else {\n                left = ganttProp.left < ganttProp.autoLeft ? ganttProp.autoLeft : ganttProp.left;\n                width = ganttProp.autoWidth;\n            }\n            return left + width;\n        }\n        else {\n            return ganttData.ganttProperties.left + ganttData.ganttProperties.width;\n        }\n    };\n    ChartRows.prototype.getExpandClass = function (data) {\n        data = this.templateData;\n        if (data.expanded) {\n            return cls.rowExpand;\n        }\n        else if (!data.expanded && data.hasChildRecords) {\n            return cls.rowCollapse;\n        }\n        return '';\n    };\n    ChartRows.prototype.getFieldValue = function (field) {\n        return isNullOrUndefined(field) ? '' : field;\n    };\n    ChartRows.prototype.getResourceName = function (ganttData) {\n        ganttData = this.templateData;\n        var resource = null;\n        if (!isNullOrUndefined(ganttData.ganttProperties.resourceInfo)) {\n            var length_2 = ganttData.ganttProperties.resourceInfo.length;\n            if (length_2 > 0) {\n                for (var i = 0; i < length_2; i++) {\n                    var resourceName = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.name];\n                    var resourceUnit = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resourceName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (isNullOrUndefined(resource)) {\n                        resource = resourceName;\n                    }\n                    else {\n                        resource += ' , ' + resourceName;\n                    }\n                }\n                return resource;\n            }\n            else {\n                return '';\n            }\n        }\n        return '';\n    };\n    /**\n     * To initialize private variable help to render task bars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initChartHelperPrivateVariable = function () {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var taskBarMarginTopValue = this.parent.renderBaseline ? 4 : 2;\n        var milestoneHeightValue = this.parent.renderBaseline ? 1.13 : 0.82;\n        this.parent.rowHeight = isNullOrUndefined(this.parent.rowHeight) ? 36 : this.parent.rowHeight;\n        this.baselineColor = !isNullOrUndefined(this.parent.baselineColor) &&\n            this.parent.baselineColor !== '' ? this.parent.baselineColor : null;\n        this.taskBarHeight = isNullOrUndefined(this.parent.taskbarHeight) || this.parent.taskbarHeight >= this.parent.rowHeight ?\n            Math.floor(this.parent.rowHeight * taskbarHeightValue) : this.parent.taskbarHeight; // 0.62 -- Standard Ratio.\n        if (this.parent.renderBaseline) {\n            var height = void 0;\n            if ((this.taskBarHeight + this.baselineHeight) <= this.parent.rowHeight) {\n                height = this.taskBarHeight;\n            }\n            else {\n                height = this.taskBarHeight - (this.baselineHeight + 1);\n            }\n            this.taskBarHeight = height;\n        }\n        this.milestoneHeight = Math.floor(this.taskBarHeight * milestoneHeightValue); // 0.82 -- Standard Ratio.\n        this.taskBarMarginTop = Math.floor((this.parent.rowHeight - this.taskBarHeight) / taskBarMarginTopValue);\n        this.milestoneMarginTop = Math.floor((this.parent.rowHeight - this.milestoneHeight) / 2);\n        this.milesStoneRadius = Math.floor((this.milestoneHeight) / 2);\n        this.baselineTop = -(Math.floor((this.parent.rowHeight - (this.taskBarHeight + this.taskBarMarginTop))) - 4);\n        this.connectorPointWidth = this.parent.isAdaptive ? Math.round(this.taskBarHeight / 2) : 9;\n        this.connectorPointMargin = Math.floor((this.taskBarHeight / 2) - (this.connectorPointWidth / 1.5));\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.refreshGanttRows = function () {\n        this.parent.currentViewData = this.parent.treeGrid.getCurrentViewRecords().slice();\n        this.createTaskbarTemplate();\n        if (this.parent.showOverAllocation) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var data = this.parent.currentViewData[i];\n                if (data.childRecords.length > 0) {\n                    this.parent.setRecordValue('workTimelineRanges', this.parent.dataOperation.mergeRangeCollections(data.ganttProperties.workTimelineRanges, true), data.ganttProperties, true);\n                    this.parent.dataOperation.calculateRangeLeftWidth(data.ganttProperties.workTimelineRanges);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        this.parent.ganttChartModule.updateLastRowBottomWidth();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createTaskbarTemplate = function () {\n        var _this = this;\n        var _a;\n        var trs = [].slice.call(this.ganttChartTableBody.querySelectorAll('tr'));\n        this.ganttChartTableBody.innerHTML = '';\n        var collapsedResourceRecord = [];\n        var prevCurrentView = this.parent.treeGridModule.prevCurrentView;\n        this.refreshedTr = [];\n        this.refreshedData = [];\n        if (this.parent.enableImmutableMode && prevCurrentView && prevCurrentView.length > 0 && this.isUpdated) {\n            var oldKeys = {};\n            var oldRowElements = [];\n            var key = this.parent.treeGrid.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < prevCurrentView.length; i++) {\n                oldRowElements[i] = trs[i];\n                oldKeys[prevCurrentView[i][key]] = i;\n            }\n            for (var index = 0; index < this.parent.currentViewData.length; index++) {\n                var oldIndex = oldKeys[this.parent.currentViewData[index][key]];\n                var modifiedRecIndex = this.parent.modifiedRecords.indexOf(this.parent.currentViewData[index]);\n                if (isNullOrUndefined(oldIndex) || modifiedRecIndex !== -1 || this.parent.isFromRenderBaseline) {\n                    var tRow = this.getGanttChartRow(index, this.parent.currentViewData[index]);\n                    this.ganttChartTableBody.appendChild(tRow);\n                    this.refreshedTr.push(this.ganttChartTableBody.querySelectorAll('tr')[index]);\n                    this.refreshedData.push(this.parent.currentViewData[index]);\n                }\n                else {\n                    this.ganttChartTableBody.appendChild(oldRowElements[oldIndex]);\n                }\n                this.ganttChartTableBody.querySelectorAll('tr')[index].setAttribute('data-rowindex', index.toString());\n            }\n        }\n        else {\n            var dupChartBody = createElement('tbody', {\n                id: this.parent.element.id + 'GanttTaskTableBody'\n            });\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var tempTemplateData = this.parent.currentViewData[i];\n                if (!tempTemplateData.expanded && this.parent.enableMultiTaskbar) {\n                    collapsedResourceRecord.push(tempTemplateData);\n                }\n                var tRow = this.getGanttChartRow(i, tempTemplateData);\n                if (tempTemplateData.hasChildRecords && (!tempTemplateData.expanded) && this.parent.enableMultiTaskbar\n                    && !this.parent.allowTaskbarOverlap) {\n                    this.updateDragDropRecords(tempTemplateData, tRow);\n                }\n                dupChartBody.appendChild(tRow);\n                if (this.parent.enableImmutableMode) {\n                    this.refreshedTr.push(dupChartBody.querySelectorAll('tr')[i]);\n                    this.refreshedData.push(this.parent.currentViewData[i]);\n                }\n                // To maintain selection when virtualization is enabled\n                if (this.parent.selectionModule && this.parent.allowSelection) {\n                    this.parent.selectionModule.maintainSelectedRecords(parseInt(tRow.getAttribute('data-rowindex'), 10));\n                }\n            }\n            /* eslint-disable-next-line */\n            (_a = this.ganttChartTableBody).replaceChildren.apply(_a, dupChartBody.childNodes);\n            // To trigger the touchend event while perform touch Pinch In/Out action\n            (this.ganttChartTableBody.childNodes).forEach(function (tr) {\n                if (tr instanceof Element) {\n                    tr.addEventListener('touchmove', _this.handleTouchMove);\n                    tr.addEventListener('touchend', _this.handleTouchEnd);\n                }\n            });\n            this.parent.initialChartRowElements = this.parent.ganttChartModule.getChartRows();\n        }\n        if (this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            var criticalModule = this.parent.criticalPathModule;\n            if (criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n        }\n        this.parent.renderTemplates();\n        this.triggerQueryTaskbarInfo();\n        this.parent.modifiedRecords = [];\n        if (this.parent.showOverAllocation) {\n            this.updateOverlapped();\n        }\n        if (collapsedResourceRecord.length) {\n            for (var j = 0; j < collapsedResourceRecord.length; j++) {\n                if (collapsedResourceRecord[j].hasChildRecords) {\n                    this.parent.isGanttChartRendered = true;\n                    this.parent.chartRowsModule.refreshRecords([collapsedResourceRecord[j]]);\n                }\n            }\n        }\n        this.parent.isGanttChartRendered = true;\n        this.parent.renderTemplates();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @param {number} i .\n     * @param {IGanttData} tempTemplateData .\n     * @returns {Node} .\n     * @private\n     */\n    ChartRows.prototype.getGanttChartRow = function (i, tempTemplateData) {\n        this.templateData = tempTemplateData;\n        var parentTrNode = this.getTableTrNode(i);\n        var leftLabelNode = this.getLeftLabelNode(i);\n        var taskbarContainerNode = this.taskbarContainer();\n        taskbarContainerNode[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n        taskbarContainerNode[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n        var connectorLineLeftNode;\n        var connectorLineRightNode;\n        connectorLineLeftNode = this.getLeftPointNode();\n        if ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords) {\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n        }\n        if (this.templateData.hasChildRecords) {\n            var parentTaskbarTemplateNode = void 0;\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                parentTaskbarTemplateNode = this.getParentTaskbarNode(i, taskbarContainerNode);\n            }\n            else {\n                taskbarContainerNode = [];\n                for (var j = 0; j < this.templateData.childRecords.length; j++) {\n                    this.templateData = this.templateData.childRecords[j];\n                    var taskbarContainerNode1 = this.taskbarContainer();\n                    taskbarContainerNode1[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n                    taskbarContainerNode1[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n                    if (!this.parent.allowParentDependency) {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                    }\n                    else {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        if ((this.templateData.ganttProperties.isAutoSchedule) || !this.templateData.hasChildRecords) {\n                            taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        }\n                    }\n                    this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode1, connectorLineRightNode, taskbarContainerNode);\n                }\n            }\n            if (!this.templateData.ganttProperties.isAutoSchedule) {\n                var manualTaskbar = this.getManualTaskbar();\n                if (!isNullOrUndefined(manualTaskbar[0])) {\n                    if (this.parent.allowParentDependency) {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        var connectorLineRightNode_1 = this.getRightPointNode();\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineRightNode_1)[0]);\n                    }\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(manualTaskbar)[0]);\n                }\n            }\n            if ((this.templateData.ganttProperties.autoDuration !== 0) && !this.templateData.ganttProperties.isMilestone &&\n                parentTaskbarTemplateNode && parentTaskbarTemplateNode.length > 0) {\n                append(parentTaskbarTemplateNode, taskbarContainerNode[0]);\n            }\n            else if ((this.templateData.ganttProperties.duration === 0 && this.templateData.ganttProperties.isMilestone &&\n                this.templateData.ganttProperties.isAutoSchedule)) {\n                var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n                if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                    append(milestoneTemplateNode, taskbarContainerNode[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n                else if (!this.parent.allowParentDependency) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n            }\n        }\n        else {\n            this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode, connectorLineRightNode);\n        }\n        var rightLabelNode = this.getRightLabelNode(i);\n        if (this.parent.enableMultiTaskbar && this.templateData.hasChildRecords && !this.templateData.expanded) {\n            var collapseParent = createElement('div', {\n                className: 'e-collapse-parent'\n            });\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild(collapseParent);\n            for (var j = 0; j < taskbarContainerNode.length; j++) {\n                addClass([taskbarContainerNode[j]], 'collpse-parent-border');\n                parentTrNode[0].childNodes[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[j]);\n            }\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n        }\n        else {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n            if (rightLabelNode && rightLabelNode.length > 0) {\n                parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(rightLabelNode)[0]);\n            }\n        }\n        if (!isNullOrUndefined(this.taskBaselineTemplateNode)) {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(this.taskBaselineTemplateNode)[0]);\n        }\n        this.taskBaselineTemplateNode = null;\n        var tRow = parentTrNode[0].childNodes[0];\n        this.setAriaRowIndex(tempTemplateData, tRow);\n        return tRow;\n    };\n    /**\n     * To set data-rowindex for chart rows\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.setAriaRowIndex = function (tempTemplateData, tRow) {\n        var _this = this;\n        var dataSource = this.parent.treeGrid.getCurrentViewRecords();\n        var visualData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : dataSource;\n        var index;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            /* eslint-disable-next-line */\n            var gridData = this.parent.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.parent.taskFields.id] === tempTemplateData.ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            tRow.setAttribute('data-rowindex', data['index'].toString());\n        }\n        else {\n            index = visualData.indexOf(tempTemplateData);\n            tRow.setAttribute('aria-rowindex', (index + 1).toString());\n            tRow.setAttribute('data-rowindex', index.toString());\n        }\n    };\n    /**\n     * To trigger query taskbar info event.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfo = function () {\n        if (!this.parent.queryTaskbarInfo) {\n            return;\n        }\n        var length = this.parent.enableImmutableMode ?\n            this.refreshedTr.length : this.ganttChartTableBody.querySelectorAll('tr').length;\n        var trElement;\n        var data;\n        for (var index = 0; index < length; index++) {\n            trElement = this.parent.enableImmutableMode ? this.refreshedTr[index] : this.ganttChartTableBody.querySelectorAll('tr')[index];\n            data = this.refreshedData.length > 0 ? this.refreshedData[index] : this.parent.currentViewData[index];\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = trElement.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else if (trElement) {\n                this.triggerQueryTaskbarInfoByIndex(trElement, data);\n            }\n        }\n    };\n    ChartRows.prototype.appendIndicators = function (i, parentTrNode) {\n        var taskIndicatorNode;\n        var taskIndicatorTextFunction;\n        var taskIndicatorTextNode;\n        var indicators = this.templateData.ganttProperties.indicators;\n        for (var indicatorIndex = 0; indicatorIndex < indicators.length; indicatorIndex++) {\n            taskIndicatorNode = this.getIndicatorNode(indicators[indicatorIndex]);\n            taskIndicatorNode[0].setAttribute('aria-label', indicators[indicatorIndex].name);\n            if (indicators[indicatorIndex].name.indexOf('$') > -1 || indicators[indicatorIndex].name.indexOf('#') > -1) {\n                taskIndicatorTextFunction = this.templateCompiler(indicators[indicatorIndex].name);\n                taskIndicatorTextNode = taskIndicatorTextFunction(extend({ index: i }, this.templateData), this.parent, 'indicatorLabelText');\n            }\n            else {\n                var text = createElement('Text');\n                text.innerHTML = indicators[indicatorIndex].name;\n                if (this.parent.enableHtmlSanitizer && typeof (indicators[indicatorIndex].name) === 'string') {\n                    indicators[indicatorIndex].name = SanitizeHtmlHelper.sanitize(indicators[indicatorIndex].name);\n                }\n                taskIndicatorTextNode = text.childNodes;\n            }\n            taskIndicatorNode[0].appendChild([].slice.call(taskIndicatorTextNode)[0]);\n            taskIndicatorNode[0].title =\n                !isNullOrUndefined(indicators[indicatorIndex].tooltip) ? indicators[indicatorIndex].tooltip : '';\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskIndicatorNode)[0]);\n        }\n    };\n    ChartRows.prototype.appendChildTaskbars = function (tempTemplateData, i, taskbarContainerNode, connectorLineRightNode, taskbarCollection) {\n        if (this.templateData.ganttProperties.isMilestone) {\n            var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n            if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                append(milestoneTemplateNode, taskbarContainerNode[0]);\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (taskbarCollection) {\n                /* eslint-disable-next-line */\n                taskbarCollection.push(taskbarContainerNode[0]);\n                this.templateData = tempTemplateData;\n            }\n        }\n        else {\n            var scheduledTask = isScheduledTask(this.templateData.ganttProperties); // eslint-disable-line\n            var childTaskbarProgressResizeNode = null;\n            var childTaskbarRightResizeNode = null;\n            var childTaskbarLeftResizeNode = null;\n            if (!isNullOrUndefined(scheduledTask)) {\n                if (scheduledTask || this.templateData.ganttProperties.duration) {\n                    if (scheduledTask && (isNullOrUndefined(this.templateData.ganttProperties.segments)\n                        || this.templateData.ganttProperties.segments.length <= 0)) {\n                        childTaskbarProgressResizeNode = this.childTaskbarProgressResizer();\n                        childTaskbarLeftResizeNode = this.childTaskbarLeftResizer();\n                        childTaskbarRightResizeNode = this.childTaskbarRightResizer();\n                    }\n                }\n                var childTaskbarTemplateNode = this.getChildTaskbarNode(i, taskbarContainerNode);\n                if (childTaskbarLeftResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarLeftResizeNode)[0]);\n                }\n                if (childTaskbarTemplateNode && childTaskbarTemplateNode.length > 0) {\n                    if (this.templateData.ganttProperties.segments && this.templateData.ganttProperties.segments.length > 0) {\n                        var length_3 = this.templateData.ganttProperties.segments.length;\n                        var connector = ('<div class=\"e-gantt-split-container-line\"></div>');\n                        var segmentConnector = null;\n                        segmentConnector = this.createDivElement(connector);\n                        taskbarContainerNode[0].appendChild([].slice.call(segmentConnector)[0]);\n                        for (var i_1 = 0; i_1 < length_3; i_1++) {\n                            append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                        }\n                    }\n                    else {\n                        append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                    }\n                }\n                if (childTaskbarProgressResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarProgressResizeNode)[0]);\n                }\n                if (childTaskbarRightResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarRightResizeNode)[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n        }\n        if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        else if (!this.parent.allowParentDependency) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        if (taskbarCollection) {\n            /* eslint-disable-next-line */\n            taskbarCollection.push(taskbarContainerNode[0]);\n            this.templateData = tempTemplateData;\n        }\n    };\n    ChartRows.prototype.customizeTaskbars = function (data, trElement, taskbarElement) {\n        var _this = this;\n        var rowElement;\n        var segmentRowElement;\n        if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0 && trElement && trElement.parentElement\n            && trElement.parentElement.parentElement && trElement.parentElement.parentElement.parentElement) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        var triggerTaskbarElement;\n        var args = {\n            data: data,\n            rowElement: trElement,\n            taskbarElement: taskbarElement,\n            taskbarType: data.hasChildRecords ? 'ParentTask' : data.ganttProperties.isMilestone ? 'Milestone' : 'ChildTask'\n        };\n        var classCollections = this.getClassName(args);\n        if (args.taskbarType === 'Milestone') {\n            args.milestoneColor = taskbarElement.querySelector(classCollections[0]) ?\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor : null;\n            args.baselineColor = trElement.querySelector(classCollections[1]) ?\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor :\n                (trElement.querySelector('.' + cls.baselineBar) ? getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null);\n        }\n        else if (taskbarElement) {\n            var childTask = taskbarElement.querySelector(classCollections[0]);\n            var progressTask = taskbarElement.querySelector(classCollections[1]);\n            args.taskbarBgColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor;\n            args.taskbarBorderColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor;\n            args.progressBarBgColor = isNullOrUndefined(progressTask) ? null :\n                taskbarElement.classList.contains(cls.traceChildProgressBar) ?\n                    getComputedStyle(taskbarElement).backgroundColor :\n                    getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor;\n            // args.progressBarBorderColor = taskbarElement.querySelector(progressBarClass) ?\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor : null;\n            if (segmentRowElement) {\n                args.baselineColor = segmentRowElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            else {\n                args.baselineColor = trElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            args.taskLabelColor = taskbarElement.querySelector('.' + cls.taskLabel) ?\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color : null;\n        }\n        if (segmentRowElement) {\n            args.rightLabelColor = segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        else {\n            args.rightLabelColor = trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        this.parent.trigger('queryTaskbarInfo', args, function (taskbarArgs) {\n            _this.updateQueryTaskbarInfoArgs(taskbarArgs, rowElement, triggerTaskbarElement);\n        });\n    };\n    /**\n     *\n     * @param {Element} trElement .\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfoByIndex = function (trElement, data) {\n        // eslint-disable-next-line\n        if (isNullOrUndefined(trElement)) {\n            return;\n        }\n        var taskbarElement;\n        var currentData = data;\n        if (!(!isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0)) {\n            if (this.parent.enableMultiTaskbar) {\n                var taskbarElements = trElement.querySelectorAll('.' + cls.taskBarMainContainer);\n                for (var i = 0; i < taskbarElements.length; i++) {\n                    taskbarElement = taskbarElements[i];\n                    currentData = (!data.expanded && data.hasChildRecords) ? data.childRecords[i] : currentData;\n                    var id = this.parent.viewType === 'ResourceView' ?\n                        taskbarElement.getAttribute('rowUniqueId') : currentData.ganttProperties.taskId.toString();\n                    if (currentData.ganttProperties.segments && currentData.ganttProperties.segments.length > 0 &&\n                        currentData.parentItem && !data.expanded) {\n                        id = this.parent.viewType === 'ResourceView' ?\n                            data.ganttProperties.rowUniqueID : data.ganttProperties.taskId.toString();\n                    }\n                    trElement = this.parent.getRowByID(id);\n                    trElement = trElement ? trElement : (taskbarElement.querySelector('.e-gantt-child-taskbar'));\n                    if (isNullOrUndefined(trElement) && currentData.ganttProperties.isMilestone) {\n                        trElement = taskbarElement;\n                    }\n                    if (trElement) {\n                        var segmentElements = trElement.querySelectorAll('.e-segmented-taskbar');\n                        if (segmentElements && segmentElements.length > 0) {\n                            /* eslint-disable-next-line */\n                            var taskContainer = trElement.querySelector(\".e-taskbar-main-container[rowuniqueid=\\\"\" + currentData.ganttProperties.rowUniqueID + \"\\\"]\") ||\n                                trElement;\n                            var segmentedTasks = taskContainer.querySelectorAll('.e-segmented-taskbar');\n                            for (var i_2 = 0; i_2 < segmentedTasks.length; i_2++) {\n                                taskbarElement = segmentedTasks[i_2];\n                                this.customizeTaskbars(currentData, segmentedTasks[i_2], taskbarElement);\n                            }\n                        }\n                        else {\n                            this.customizeTaskbars(currentData, trElement, taskbarElement);\n                        }\n                    }\n                }\n            }\n            else {\n                var taskbarElement_1 = trElement.querySelector('.' + cls.taskBarMainContainer);\n                if (trElement) {\n                    this.customizeTaskbars(currentData, trElement, taskbarElement_1);\n                }\n            }\n        }\n        else {\n            taskbarElement = trElement;\n            if (trElement) {\n                this.customizeTaskbars(data, trElement, taskbarElement);\n            }\n        }\n    };\n    /**\n     * To update query taskbar info args.\n     *\n     * @param {IQueryTaskbarInfoEventArgs} args .\n     * @param {Element} rowElement .\n     * @param {Element} taskBarElement .\n     * @returns {void}\n     * @private\n     */\n    /* eslint-disable-next-line */\n    ChartRows.prototype.updateQueryTaskbarInfoArgs = function (args, rowElement, taskBarElement) {\n        var trElement = args.rowElement;\n        var taskbarElement = this.parent.enableVirtualization ? args.rowElement : args.taskbarElement;\n        var classCollections = this.getClassName(args);\n        var segmentRowElement;\n        if (args.data.ganttProperties.segments && args.data.ganttProperties.segments.length > 0) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        if (args.taskbarType === 'Milestone') {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.milestoneColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.milestoneColor;\n            }\n            if (trElement.querySelector(classCollections[1]) &&\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor !== args.baselineColor) {\n                trElement.querySelector(classCollections[1]).style.backgroundColor = args.baselineColor;\n            }\n            if (trElement.querySelector('.' + cls.baselineBar) &&\n                getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).borderTopColor !== args.baselineColor) {\n                trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n            }\n        }\n        else if (taskbarElement) {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.querySelector(classCollections[0]).style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.querySelector(classCollections[1]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.querySelector(classCollections[1]).style.backgroundColor = args.progressBarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildProgressBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.style.backgroundColor = args.progressBarBgColor;\n            }\n            // if (taskbarElement.querySelector(progressBarClass) &&\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor !== args.progressBarBorderColor) {\n            //     (taskbarElement.querySelector(progressBarClass) as HTMLElement).style.borderColor = args.progressBarBorderColor;\n            // }\n            if (taskbarElement.querySelector('.' + cls.taskLabel) &&\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color !== args.taskLabelColor) {\n                taskbarElement.querySelector('.' + cls.taskLabel).style.color = args.taskLabelColor;\n            }\n            if (segmentRowElement) {\n                if (segmentRowElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    segmentRowElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n            else {\n                if (trElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n        }\n        if (segmentRowElement) {\n            if (segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n        else {\n            if (trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n    };\n    ChartRows.prototype.getClassName = function (args) {\n        var classCollection = [];\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentTaskBar : args.taskbarType === 'ChildTask' ? cls.traceChildTaskBar : cls.traceMilestone));\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentProgressBar : args.taskbarType === 'ChildTask' ? cls.traceChildProgressBar : cls.baselineMilestoneContainer));\n        return classCollection;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string} template .\n     * @returns {Function} .\n     * @private\n     */\n    ChartRows.prototype.templateCompiler = function (template) {\n        if (!isNullOrUndefined(template) && template !== '') {\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim(), this.parent);\n                }\n                else {\n                    return compile(template, this.parent);\n                }\n            }\n            catch (e) {\n                return compile(template, this.parent);\n            }\n        }\n        return null;\n    };\n    // to update the eOverlapped property\n    ChartRows.prototype.updateOverlapped = function () {\n        for (var k = 0; k < this.parent.treeGrid.parentData.length; k++) {\n            var childRecords = this.parent.treeGrid.parentData[k].childRecords;\n            for (var i = 0; i < childRecords.length; i++) {\n                if (childRecords[i + 1]) {\n                    childRecords[i].ganttProperties.eOverlapped = undefined;\n                }\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    childRecords[j].ganttProperties.eOverlapped = undefined;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <\n                        childRecords[j].ganttProperties.endDate.getTime() &&\n                        childRecords[i].ganttProperties.endDate.getTime() >\n                            childRecords[j].ganttProperties.startDate.getTime()) {\n                        childRecords[j].ganttProperties.eOverlapped = true;\n                        childRecords[i].ganttProperties.eOverlapped = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(childRecords[j].ganttProperties.eOverlapped)) {\n                            childRecords[j].ganttProperties.eOverlapped = false;\n                        }\n                        if (isNullOrUndefined(childRecords[i].ganttProperties.eOverlapped)) {\n                            childRecords[i].ganttProperties.eOverlapped = false;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    // To update the row height when allow overallocation set to false\n    ChartRows.prototype.updateDragDropRecords = function (data, tr) {\n        var childRecords = data.childRecords;\n        var rowIndex = this.parent.currentViewData.indexOf(data);\n        var treeGridContentHeight = this.parent.enableRtl ?\n            this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n            this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n        if (!tr) {\n            tr = this.ganttChartTableBody.childNodes[rowIndex];\n        }\n        if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n            tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = this.parent.rowHeight + 'px';\n        }\n        else {\n            tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = this.parent.rowHeight + 'px';\n        }\n        this.parent.contentHeight = treeGridContentHeight;\n        var rowIDs = [];\n        var rowCounts = 0;\n        if (data) {\n            for (var i = 0; i < childRecords.length; i++) {\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    var taskbarContainer = tr.getElementsByClassName('e-taskbar-main-container');\n                    for (var k = 0; k < taskbarContainer.length; k++) {\n                        var rowuniqueid = this.parent.viewType === 'ResourceView' ? childRecords[j]['rowUniqueID'] : childRecords[j].ganttProperties.rowUniqueID;\n                        if (childRecords[i].ganttProperties.startDate.getTime() <\n                            childRecords[j].ganttProperties.endDate.getTime() &&\n                            childRecords[i].ganttProperties.endDate.getTime() >\n                                childRecords[j].ganttProperties.startDate.getTime()) {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1) {\n                                rowIDs.push(rowuniqueid);\n                                rowCounts++;\n                                tr.children[0]['style'].verticalAlign = 'baseline';\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    (rowCounts * this.parent.rowHeight) + this.taskBarMarginTop + 'px';\n                                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                                    tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                                else {\n                                    tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                            }\n                        }\n                        else {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1 && this.parent.rowDragAndDropModule &&\n                                this.parent.rowDragAndDropModule['draggedRecord'] && taskbarContainer[k].getAttribute('rowuniqueid') ===\n                                this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] && this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] ===\n                                childRecords[j]['rowUniqueID']) {\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    this.parent.editModule.taskbarEditModule.draggedRecordMarginTop;\n                            }\n                        }\n                    }\n                }\n            }\n            this.parent.contentHeight = treeGridContentHeight;\n            document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n        }\n    };\n    /**\n     * To refresh edited TR\n     *\n     * @param {number} index .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRow = function (index, isValidateRange, isUndoRedo) {\n        var _this = this;\n        var tr = this.ganttChartTableBody.childNodes[index];\n        var selectedItem;\n        if (isUndoRedo) {\n            selectedItem = this.parent.previousFlatData[index];\n        }\n        else {\n            selectedItem = this.parent.currentViewData[index];\n        }\n        if (index !== -1 && selectedItem) {\n            var data = selectedItem;\n            if (!this.parent.allowTaskbarOverlap && data.expanded) {\n                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                    tr['style'].height = this.parent.treeGrid.getRowByIndex(index)['style'].height = this.parent.rowHeight + 'px';\n                }\n                else {\n                    tr['style'].height = this.parent.treeGrid.getRows()[index]['style'].height = this.parent.rowHeight + 'px';\n                }\n            }\n            if (data.hasChildRecords && !data.expanded && this.parent.enableMultiTaskbar) {\n                tr.replaceChild(this.getGanttChartRow(index, data).childNodes[0], tr.childNodes[0]);\n                if (this.parent.renderBaseline) {\n                    data.childRecords.forEach(function (childRecord) {\n                        if (!isNullOrUndefined(childRecord.ganttProperties.baselineStartDate &&\n                            childRecord.ganttProperties.baselineEndDate)) {\n                            tr.childNodes[0].appendChild((_this.updateTaskBaselineNode(childRecord))[0]);\n                        }\n                    });\n                }\n            }\n            else {\n                if (this.parent.allowTaskbarDragAndDrop && !data.expanded) {\n                    tr.replaceWith(this.getGanttChartRow(index, data));\n                }\n                else {\n                    tr.replaceChild(this.getGanttChartRow(index, data).childNodes[0], tr.childNodes[0]);\n                    if (this.parent.enableMultiTaskbar && data.parentItem) {\n                        var parentID = data.parentItem.taskId;\n                        var parentData = this.parent.getRecordByID(parentID);\n                        if (!parentData.expanded) {\n                            var parentTr = this.parent.getRowByID(parentID);\n                            parentTr.replaceChild(this.getGanttChartRow(Number(parentID), parentData).childNodes[0], parentTr.childNodes[0]);\n                        }\n                    }\n                }\n            }\n            this.parent.renderTemplates();\n            if (data.hasChildRecords && this.parent.showOverAllocation && this.parent.allowTaskbarOverlap) {\n                if (isValidateRange) {\n                    this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                }\n                else {\n                    this.parent.dataOperation.updateOverlappingValues(data);\n                    this.parent.ganttChartModule.renderRangeContainer([data]);\n                }\n            }\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = tr.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else {\n                this.triggerQueryTaskbarInfoByIndex(tr, data);\n            }\n            var dataId = this.parent.viewType === 'ProjectView' ? data.ganttProperties.taskId : data.ganttProperties.rowUniqueID;\n            if (!this.parent.ganttChartModule.isExpandAll && !this.parent.ganttChartModule.isCollapseAll) {\n                this.parent.treeGrid.grid.setRowData(dataId, data);\n            }\n            if (data.hasChildRecords && !data.expanded && this.parent.enableMultiTaskbar && !this.parent.allowTaskbarOverlap) {\n                this.updateDragDropRecords(selectedItem, tr);\n            }\n            if (data.hasChildRecords && this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n            }\n            var nextEditableElement = this.parent.ganttChartModule.tempNextElement;\n            if (this.parent.ganttChartModule.isEditableElement && nextEditableElement) {\n                this.parent.treeGrid.grid.focusModule.focus();\n                addClass([this.parent.treeGrid.getRows()[tr.getAttribute('data-rowindex')].children[this.parent.ganttChartModule.childrenIndex]], 'e-focused');\n                this.parent.ganttChartModule.tempNextElement = null;\n            }\n            var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[index].getAttribute('data-uid'));\n            if (!isNullOrUndefined(row)) {\n                row.data = data;\n            }\n        }\n    };\n    ChartRows.prototype.updateResourceTaskbarElement = function (tRow, parentTr) {\n        var cloneElement = tRow.querySelector('.e-taskbar-main-container');\n        if (this.parent.viewType === 'ProjectView' && tRow.querySelector('.e-collapse-parent')) {\n            cloneElement = tRow.querySelector('.e-collapse-parent');\n        }\n        if (tRow.querySelector('.e-collapse-parent') === null) {\n            addClass([cloneElement], 'collpse-parent-border');\n        }\n        var id = tRow.querySelector('.' + cls.taskBarMainContainer).getAttribute('rowUniqueId');\n        var ganttData = this.parent.getRecordByID(id);\n        if (!(isNullOrUndefined(ganttData)) && ganttData.ganttProperties.segments && ganttData.ganttProperties.segments.length > 0) {\n            var segmentedTasks = cloneElement.getElementsByClassName('e-segmented-taskbar');\n            for (var i = 0; i < segmentedTasks.length; i++) {\n                this.triggerQueryTaskbarInfoByIndex(segmentedTasks[i], ganttData);\n            }\n        }\n        else if (this.parent.queryTaskbarInfo) {\n            var mainTaskbar = (cloneElement.querySelector('.e-gantt-child-taskbar'));\n            if (!isNullOrUndefined(mainTaskbar)) {\n                this.triggerQueryTaskbarInfoByIndex(mainTaskbar, ganttData);\n            }\n        }\n        var zIndex = '';\n        if (ganttData && !isNullOrUndefined(ganttData.ganttProperties.eOverlapIndex)) {\n            zIndex = (ganttData.ganttProperties.eOverlapIndex).toString();\n        }\n        var cloneChildElement = cloneElement.cloneNode(true);\n        cloneChildElement.style.zIndex = zIndex;\n        parentTr[0].childNodes[0].childNodes[0].childNodes[0].appendChild(cloneChildElement);\n    };\n    /**\n     * To refresh all edited records\n     *\n     * @param {IGanttData} items .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRecords = function (items, isValidateRange, isUndoRedo) {\n        if (this.parent.isGanttChartRendered) {\n            this.parent.renderTemplates();\n            if (this.parent.enableMultiTaskbar) {\n                var sortedRecords = [];\n                sortedRecords = new DataManager(items).executeLocal(new Query()\n                    .sortBy('expanded', 'Descending'));\n                items = sortedRecords;\n            }\n            for (var i = 0; i < items.length; i++) {\n                var index = void 0;\n                if (isUndoRedo) {\n                    index = this.parent.ids.indexOf(items[i].ganttProperties.taskId.toString());\n                }\n                else {\n                    index = this.parent.currentViewData.indexOf(items[i]);\n                }\n                if (!this.parent.enableMultiTaskbar ||\n                    (this.parent.enableMultiTaskbar && (items[i].expanded || !this.parent.isLoad))) {\n                    this.refreshRow(index, isValidateRange, isUndoRedo);\n                }\n            }\n            this.parent.ganttChartModule.updateLastRowBottomWidth();\n        }\n    };\n    ChartRows.prototype.removeEventListener = function () {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        (this.ganttChartTableBody.childNodes).forEach(function (tr) {\n            if (tr instanceof Element) {\n                tr.removeEventListener('touchmove', _this.handleTouchMove);\n                tr.removeEventListener('touchend', _this.handleTouchEnd);\n            }\n        });\n        this.parent.off('renderPanels', this.createChartTable);\n        this.parent.off('dataReady', this.initiateTemplates);\n        this.parent.off('destroy', this.destroy);\n    };\n    ChartRows.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    ChartRows.prototype.generateAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.startDate;\n        var endDateVal = data.ganttProperties.endDate;\n        var durationVal = data.ganttProperties.duration;\n        if (data.ganttProperties.isMilestone) {\n            defaultValue = nameConstant + ' ' + taskNameVal + ' ' + startDateConstant + ' '\n                + this.parent.getFormatedDate(startDateVal);\n        }\n        else {\n            if (taskNameVal) {\n                defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n            }\n            if (startDateVal) {\n                defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n            }\n            if (endDateVal) {\n                defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n            }\n            if (durationVal) {\n                defaultValue += durationConstant + ' '\n                    + this.parent.getDurationString(durationVal, data.ganttProperties.durationUnit);\n            }\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateBaselineAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.baselineStartDate;\n        var endDateVal = data.ganttProperties.baselineEndDate;\n        defaultValue += 'Baseline' + ' ';\n        defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n        defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        return defaultValue;\n    };\n    ChartRows.prototype.generateSpiltTaskAriaLabel = function (data, ganttProp) {\n        var defaultValue = '';\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var startDateVal = data.startDate;\n        var endDateVal = data.endDate;\n        var durationVal = data.duration;\n        if (startDateVal) {\n            defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        }\n        if (endDateVal) {\n            defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        }\n        if (durationVal) {\n            defaultValue += durationConstant + ' '\n                + this.parent.getDurationString(durationVal, ganttProp.durationUnit);\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateTaskLabelAriaLabel = function (type) {\n        var label = '';\n        if (type === 'left' && this.parent.labelSettings.leftLabel && !this.leftTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('leftTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.leftLabel);\n        }\n        else if (type === 'right' && this.parent.labelSettings.rightLabel && !this.rightTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('rightTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.rightLabel);\n        }\n        return label;\n    };\n    return ChartRows;\n}(DateProcessor));\nexport { ChartRows };\n","import { isScheduledTask } from '../base/utils';\nimport { getValue, isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nvar Dependency = /** @class */ (function () {\n    function Dependency(gantt) {\n        this.parentRecord = [];\n        this.parentIds = [];\n        this.parentPredecessors = [];\n        this.validatedParentIds = [];\n        this.storeId = null;\n        this.isChildRecordValidated = [];\n        this.parent = gantt;\n        this.dateValidateModule = this.parent.dateValidationModule;\n    }\n    /**\n     * Method to populate predecessor collections in records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollection = function () {\n        var predecessorTasks = this.parent.predecessorsCollection;\n        var length = predecessorTasks.length - 1;\n        for (var count = length; count >= 0; count--) {\n            var ganttData = predecessorTasks[count];\n            var ganttProp = ganttData.ganttProperties;\n            if ((!ganttData.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.ensurePredecessorCollectionHelper(ganttData, ganttProp);\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {ITaskData} ganttProp .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollectionHelper = function (ganttData, ganttProp) {\n        var predecessorVal = ganttProp.predecessorsName;\n        if (predecessorVal && (typeof predecessorVal === 'string' || typeof predecessorVal === 'number')) {\n            this.parent.setRecordValue('predecessor', this.calculatePredecessor(predecessorVal, ganttData), ganttProp, true);\n        }\n        else if (predecessorVal && typeof predecessorVal === 'object' && predecessorVal.length) {\n            var preValues = [];\n            for (var c = 0; c < predecessorVal.length; c++) {\n                var predecessorItem = predecessorVal[c];\n                var preValue = {};\n                preValue.from = getValue('from', predecessorItem) ? getValue('from', predecessorItem) : predecessorVal[c];\n                preValue.to = getValue('to', predecessorItem) ? getValue('to', predecessorItem) : ganttProp.rowUniqueID;\n                preValue.type = getValue('type', predecessorItem) ? getValue('type', predecessorItem) : 'FS';\n                var offsetUnits = getValue('offset', predecessorItem);\n                if (isNullOrUndefined(offsetUnits)) {\n                    preValue.offset = 0;\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                else if (typeof offsetUnits === 'string') {\n                    var tempOffsetUnits = this.getOffsetDurationUnit(getValue('offset', predecessorItem));\n                    preValue.offset = tempOffsetUnits.duration;\n                    preValue.offsetUnit = tempOffsetUnits.durationUnit;\n                }\n                else {\n                    preValue.offset = parseFloat(offsetUnits.toString());\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                var isOwnParent = this.checkIsParent(preValue.from.toString());\n                if (!isOwnParent) {\n                    preValues.push(preValue);\n                }\n            }\n            this.parent.setRecordValue('predecessor', preValues, ganttProp, true);\n        }\n        this.parent.setRecordValue('predecessorsName', this.getPredecessorStringValue(ganttData), ganttProp, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n    };\n    /**\n     * To render unscheduled empty task with 1 day duration during predecessor map\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateUnscheduledDependency = function (data) {\n        var task = this.parent.taskFields;\n        var prdList = !isNullOrUndefined(data[task.dependency]) ?\n            data[task.dependency].toString().split(',') : [];\n        for (var i = 0; i < prdList.length; i++) {\n            var predId = parseInt(prdList[i], 10);\n            if (!isNaN(predId)) {\n                var predData = this.parent.getRecordByID(predId.toString());\n                var record = !isNullOrUndefined(predData) ?\n                    extend({}, {}, predData.taskData, true) : null;\n                if (!isNullOrUndefined(record) && isNullOrUndefined(record[task.startDate])\n                    && isNullOrUndefined(record[task.duration]) && isNullOrUndefined(record[task.endDate])) {\n                    record[task.duration] = 1;\n                    var startDate = void 0;\n                    var parentItem = predData.parentItem;\n                    if (parentItem) {\n                        var parentTask = this.parent.getParentTask(predData.parentItem);\n                        while (parentTask && !parentTask.ganttProperties.startDate) {\n                            parentTask = this.parent.getParentTask(parentTask.parentItem);\n                        }\n                        startDate = parentTask ? parentTask.ganttProperties.startDate : this.parent.cloneProjectStartDate;\n                    }\n                    else {\n                        startDate = this.parent.cloneProjectStartDate;\n                    }\n                    record[task.startDate] = startDate;\n                    this.parent.updateRecordByID(record);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {string} fromId .\n     * @returns {boolean} .\n     */\n    Dependency.prototype.checkIsParent = function (fromId) {\n        var boolValue = false;\n        var task = this.parent.connectorLineModule.getRecordByID(fromId);\n        if (task.hasChildRecords) {\n            boolValue = true;\n        }\n        return boolValue;\n    };\n    // Get the root parent of the record\n    Dependency.prototype.getRootParent = function (rec) {\n        var parentRec = rec;\n        if (rec.parentItem) {\n            parentRec = this.parent.flatData.filter(function (item) {\n                return item.uniqueID === rec.parentUniqueID;\n            })[0];\n            if (parentRec.parentItem) {\n                parentRec = this.getRootParent(parentRec);\n            }\n            return parentRec;\n        }\n        return parentRec;\n    };\n    // To check whether the predecessor drawn is valid for parent task\n    Dependency.prototype.validateParentPredecessor = function (fromRecord, toRecord) {\n        if (fromRecord && toRecord) {\n            if (toRecord.hasChildRecords && !fromRecord.hasChildRecords) {\n                if (fromRecord.parentUniqueID === toRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (fromRecord.parentItem) {\n                            fromRecord = this.parent.flatData[this.parent.ids.indexOf(fromRecord.parentItem.taskId)];\n                            if (fromRecord.uniqueID === toRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (fromRecord.parentItem);\n                }\n            }\n            else if (!toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentUniqueID === fromRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (toRecord.parentItem) {\n                            toRecord = this.parent.flatData[this.parent.ids.indexOf(toRecord.parentItem.taskId)];\n                            if (toRecord.uniqueID === fromRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (toRecord.parentItem);\n                }\n            }\n            else if (toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentItem && fromRecord.parentItem) {\n                    if (fromRecord.parentUniqueID === toRecord.uniqueID || fromRecord.uniqueID === toRecord.parentUniqueID) {\n                        return false;\n                    }\n                }\n                else {\n                    if (!toRecord.parentItem && fromRecord.parentItem) {\n                        var fromRootParent = this.getRootParent(fromRecord);\n                        if (fromRootParent.uniqueID === toRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                    else if (toRecord.parentItem && !fromRecord.parentItem) {\n                        var toRootParent = this.getRootParent(toRecord);\n                        if (toRootParent.uniqueID === fromRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * Get predecessor collection object from predecessor string value\n     *\n     * @param {string | number} predecessorValue .\n     * @param {IGanttData} ganttRecord .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.calculatePredecessor = function (predecessorValue, ganttRecord) {\n        var _this = this;\n        var predecessor = predecessorValue.toString();\n        var collection = [];\n        var match;\n        var values = [];\n        var offsetValue;\n        var predecessorText;\n        var parentRecords = [];\n        predecessor.split(',').forEach(function (el) {\n            var isGUId = false;\n            var firstPart;\n            var predecessorName;\n            var isAlpha = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = el.split('-');\n            var id;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = el.substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (el.includes('-')) {\n                var lastIndex = el.lastIndexOf('-');\n                var lastPart = el.substring(lastIndex + 1);\n                var baseString = el.replace(lastPart, '').trim();\n                var match_1 = baseString.match(/(FS|SS|SF|FF)-$/);\n                var processedResult = (match_1 ? match_1[0] : '') + lastPart;\n                if (!/^(FS|SS|SF|FF)/.test(processedResult)) {\n                    var prefixMatch = processedResult.match(/(FS|SS|SF|FF)/);\n                    processedResult = prefixMatch\n                        ? prefixMatch[0] + processedResult.slice(processedResult.indexOf(prefixMatch[0]) + prefixMatch[0].length)\n                        : el;\n                }\n                predecessorName = processedResult;\n                if (el.includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = el.indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = el.substring(0, indexFS);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = el;\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = el.slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                offsetValue = '+';\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = el;\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = el.slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                    offsetValue = '-';\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = el.split('+');\n                    offsetValue = '+';\n                    if (el.indexOf('-') >= 0) {\n                        values = el.split('-');\n                        offsetValue = '-';\n                    }\n                }\n            }\n            match = [];\n            var ids = _this.parent.viewType === 'ResourceView' ? _this.parent.getTaskIds() : _this.parent.ids;\n            var isExist1 = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + values[0]) : ids.indexOf(values[0]);\n            if (isExist1 !== -1) {\n                match[0] = values[0];\n            }\n            else {\n                if (ids.indexOf(values[0]) === -1) {\n                    match = values[0].split(' ');\n                    if (match.length === 1) {\n                        if (match[0].indexOf(' ') !== -1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        else {\n                            match[0] = values[0].slice(0, -2);\n                            match[1] = values[0].slice(-2);\n                        }\n                    }\n                }\n                else {\n                    match[0] = values[0];\n                }\n            }\n            var isExist = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + match[0]) : ids.indexOf(match[0]);\n            /*Validate for appropriate predecessor*/\n            if (match[0] && isExist !== -1) {\n                if (match.length > 1) {\n                    var type = match[1].toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        var e = \"The provided dependency type, \" + type + \", is invalid. Please ensure that the Dependency Type is FS or FF or SS or SF\";\n                        _this.parent.trigger('actionFailure', { error: e });\n                        predecessorText = 'FS';\n                    }\n                }\n                else if (el.includes('-') && /[A-Za-z]/.test(predecessorName) && firstPart.includes('-')) {\n                    var type = el.slice(-2).toString();\n                    type.toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        predecessorText = 'FS';\n                    }\n                }\n                else {\n                    predecessorText = 'FS';\n                }\n            }\n            else {\n                return; // exit current loop for invalid id (match[0])\n            }\n            var tempOffset = values.length > 1 ? offsetValue + '' + values[1] : '0';\n            var offsetUnits = _this.getOffsetDurationUnit(tempOffset);\n            var obj = {\n                from: match[0],\n                type: predecessorText,\n                isDrawn: false,\n                to: _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                    : ganttRecord.ganttProperties.rowUniqueID.toString(),\n                offsetUnit: offsetUnits.durationUnit,\n                offset: offsetUnits.duration\n            };\n            var isOwnParent = _this.checkIsParent(match[0]);\n            if (!_this.parent.allowParentDependency) {\n                if (!isOwnParent) {\n                    collection.push(obj);\n                }\n            }\n            else {\n                var fromData = _this.parent.connectorLineModule.getRecordByID(obj.to);\n                var toData = _this.parent.connectorLineModule.getRecordByID(obj.from);\n                var isValid = void 0;\n                if (toData && fromData) {\n                    isValid = _this.validateParentPredecessor(toData, fromData);\n                    if (isValid) {\n                        collection.push(obj);\n                        if (parentRecords.indexOf(toData) === -1 && toData.hasChildRecords && _this.parent.editModule &&\n                            _this.parent.editModule.cellEditModule && _this.parent.editModule.cellEditModule.isCellEdit) {\n                            parentRecords.push(extend([], [], [toData], true)[0]);\n                        }\n                    }\n                }\n                else {\n                    collection.push(obj);\n                }\n                match.splice(0);\n            }\n        });\n        if (parentRecords.length > 0 && this.parent.undoRedoModule && this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit) {\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecords;\n        }\n        var creatCollection = [];\n        collection.map(function (data) {\n            var from = data.from;\n            var to = data.to;\n            var checkColloction = [];\n            checkColloction = collection.filter(function (fdata) { return fdata.from === from && fdata.to === to; });\n            if (creatCollection.indexOf(checkColloction[checkColloction.length - 1]) === -1) {\n                creatCollection.push(checkColloction[checkColloction.length - 1]);\n            }\n        });\n        return creatCollection;\n    };\n    /**\n     * Get predecessor value as string with offset values\n     *\n     * @param {IGanttData} data .\n     * @returns {string} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorStringValue = function (data) {\n        var predecessors = data.ganttProperties.predecessor;\n        var resultString = '';\n        var temp1;\n        var match = [];\n        if (predecessors) {\n            var length_1 = predecessors.length;\n            for (var i = 0; i < length_1; i++) {\n                var currentValue = predecessors[i];\n                var temp = '';\n                var id = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId\n                    : data.ganttProperties.rowUniqueID;\n                if (currentValue.from !== id.toString()) {\n                    temp = currentValue.from + currentValue.type;\n                    if (typeof (data.ganttProperties.taskId) === 'string') {\n                        match[0] = temp.slice(0, -2);\n                        match[1] = temp.slice(-2);\n                        temp1 = match[0] + ' ' + match[1];\n                    }\n                    else {\n                        temp1 = temp;\n                    }\n                    temp = temp1;\n                    if (currentValue.offset !== 0) {\n                        temp += currentValue.offset > 0 ? ('+' + currentValue.offset + ' ') : (currentValue.offset + ' ');\n                        var multiple = currentValue.offset !== 1;\n                        if (currentValue.offsetUnit === 'day') {\n                            temp += multiple ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                        }\n                        else if (currentValue.offsetUnit === 'hour') {\n                            temp += multiple ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                        }\n                        else {\n                            temp += multiple ? this.parent.localeObj.getConstant('minutes') : this.parent.localeObj.getConstant('minute');\n                        }\n                    }\n                    if (resultString.length > 0) {\n                        resultString = resultString + ',' + temp;\n                    }\n                    else {\n                        resultString = temp;\n                    }\n                }\n            }\n        }\n        return resultString;\n    };\n    /*Get duration and duration unit value from tasks*/\n    Dependency.prototype.getOffsetDurationUnit = function (val) {\n        var duration = 0;\n        var durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        var durationUnitLabels = this.parent.durationUnitEditText;\n        if (typeof val === 'string') {\n            var values = val.match(/[^0-9]+|[0-9]+/g);\n            for (var x = 0; x < values.length; x++) {\n                values[x] = (values[x]).trim();\n            }\n            if (values[0] === '-' && values[1]) {\n                values[1] = values[0] + values[1];\n                values.shift();\n            }\n            else if (values[0] === '+') {\n                values.shift();\n            }\n            if (values[1] === '.' && !isNaN(parseInt(values[2], 10))) {\n                values[0] += values[1] + values[2];\n                values.splice(1, 2);\n            }\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0]);\n                durationUnit = values[1] ? (values[1].toLowerCase()).trim() : '';\n                if (getValue('minute', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'day';\n                }\n                else {\n                    durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n            }\n        }\n        else {\n            duration = val;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        if (isNaN(duration)) {\n            var err = 'The provided value for the offset field is invalid.Please ensure the offset field contains only valid numeric values';\n            this.parent.trigger('actionFailure', { error: err });\n            duration = 0;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n    };\n    /**\n     * Update predecessor object in both from and to tasks collection\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessors = function () {\n        var predecessorsCollection = this.parent.predecessorsCollection;\n        var ganttRecord;\n        var length = predecessorsCollection.length;\n        for (var count = 0; count < length; count++) {\n            ganttRecord = predecessorsCollection[count];\n            if ((!ganttRecord.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.updatePredecessorHelper(ganttRecord, predecessorsCollection);\n                if (!ganttRecord.ganttProperties.isAutoSchedule && this.parent.editSettings.allowEditing) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To update predecessor collection to successor tasks\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IGanttData[]} predecessorsCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessorHelper = function (ganttRecord, predecessorsCollection) {\n        var connectorsCollection = ganttRecord.ganttProperties.predecessor;\n        var successorGanttRecord;\n        var connectorCount = connectorsCollection.length;\n        predecessorsCollection = isNullOrUndefined(predecessorsCollection) ? [] : predecessorsCollection;\n        for (var i = 0; i < connectorCount; i++) {\n            var connector = connectorsCollection[i];\n            successorGanttRecord = this.parent.connectorLineModule.getRecordByID(connector.from);\n            var id = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (connector.from !== id.toString()) {\n                if (successorGanttRecord) {\n                    var predecessorCollection = void 0;\n                    if (successorGanttRecord.ganttProperties.predecessor) {\n                        predecessorCollection = (extend([], successorGanttRecord.ganttProperties.predecessor, [], true));\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        //  successorGanttRecord.ganttProperties.predecessor.push(connector);\n                    }\n                    else {\n                        predecessorCollection = [];\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        // this.parent.setRecordValue('predecessor', [], successorGanttRecord.ganttProperties, true);\n                        // successorGanttRecord.ganttProperties.predecessor.push(connector);\n                        predecessorsCollection.push(successorGanttRecord);\n                    }\n                }\n            }\n        }\n    };\n    Dependency.prototype.traverseParents = function (record) {\n        this.parent.dataOperation.updateParentItems(record);\n    };\n    /**\n     * Method to validate date of tasks with predecessor values for all records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatedRecordsDateByPredecessor = function () {\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand\n            && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        var flatData = this.parent.flatData;\n        var totLength = this.parent.flatData.length;\n        for (var count = 0; count < totLength; count++) {\n            if (flatData[count].ganttProperties.predecessorsName) {\n                this.validatePredecessorDates(flatData[count]);\n                var predecessorCollection = flatData[count].ganttProperties.predecessor;\n                if (predecessorCollection && predecessorCollection.length > 1) {\n                    for (var i = 0; i < predecessorCollection.length; i++) {\n                        var validateRecord = this.parent.getRecordByID(predecessorCollection[i].to);\n                        if (validateRecord) {\n                            this.validatePredecessorDates(validateRecord);\n                        }\n                    }\n                }\n                if (flatData[count].hasChildRecords && flatData[count].ganttProperties.startDate\n                    && this.parent.allowParentDependency) {\n                    this.updateChildItems(flatData[count]);\n                }\n                if (flatData[count].parentItem) {\n                    var recordId = flatData[count].parentItem.taskId;\n                    this.traverseParents(this.parent.getRecordByID(recordId));\n                }\n            }\n        }\n    };\n    Dependency.prototype.updateParentPredecessor = function () {\n        if (this.parent.enablePredecessorValidation) {\n            var parentPredecessorLength = this.parentPredecessors.length;\n            for (var i = parentPredecessorLength - 1; i >= 0; i--) {\n                var item = this.parentPredecessors[i];\n                this.validatePredecessorDates(item);\n                if (item.ganttProperties.startDate) {\n                    this.updateChildItems(item);\n                }\n            }\n        }\n    };\n    /**\n     * To validate task date values with dependency\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessorDates = function (ganttRecord) {\n        if (ganttRecord.ganttProperties.predecessor) {\n            var predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            var count = void 0;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var currentTaskId_1 = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                : ganttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_1) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            for (count = 0; count < predecessors.length; count++) {\n                var predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                if (this.parent.allowParentDependency && parentGanttRecord.hasChildRecords) {\n                    this.parent.dataOperation.updateParentItems(parentGanttRecord);\n                }\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop) {\n                    var index = void 0;\n                    if (isNullOrUndefined(record)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n                        record = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                    else if (isNullOrUndefined(parentGanttRecord)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n                        parentGanttRecord = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                }\n                if (this.parent.allowParentDependency && this.parent.isLoad && this.parentPredecessors.indexOf(ganttRecord) === -1\n                    && (ganttRecord.hasChildRecords || record.hasChildRecords)) {\n                    this.parentPredecessors.push(ganttRecord);\n                }\n                if (record.ganttProperties.isAutoSchedule || this.parent.validateManualTasksOnLinking) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                }\n            }\n        }\n    };\n    /**\n     * Method to validate task with predecessor\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.validateChildGanttRecord = function (parentGanttRecord, childGanttRecord) {\n        if (this.parent.editedTaskBarItem === childGanttRecord || (parentGanttRecord &&\n            isNullOrUndefined(isScheduledTask(parentGanttRecord.ganttProperties)))\n            || (childGanttRecord && isNullOrUndefined(isScheduledTask(childGanttRecord.ganttProperties)))) {\n            return;\n        }\n        if (this.parent.isInPredecessorValidation && (childGanttRecord.ganttProperties.isAutoSchedule ||\n            this.parent.validateManualTasksOnLinking)) {\n            var childRecordProperty = childGanttRecord.ganttProperties;\n            var currentTaskId_2 = this.parent.viewType === 'ResourceView' ? childRecordProperty.taskId.toString()\n                : childRecordProperty.rowUniqueID.toString();\n            var predecessorsCollection = childRecordProperty.predecessor;\n            var childPredecessor = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_2) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var startDate = this.getPredecessorDate(childGanttRecord, childPredecessor);\n            this.parent.setRecordValue('startDate', startDate, childRecordProperty, true);\n            this.parent.dataOperation.updateMappingData(childGanttRecord, 'startDate');\n            var segments = childGanttRecord.ganttProperties.segments;\n            if (isNullOrUndefined(segments) || !isNullOrUndefined(segments) && segments.length === 0) {\n                this.dateValidateModule.calculateEndDate(childGanttRecord);\n            }\n            this.parent.dataOperation.updateWidthLeft(childGanttRecord);\n            if (!this.parent.isLoad && !this.parent.isFromOnPropertyChange && childGanttRecord.parentItem &&\n                this.parent.isInPredecessorValidation &&\n                this.parent.getParentTask(childGanttRecord.parentItem).ganttProperties.isAutoSchedule) {\n                if (this.parentIds.indexOf(childGanttRecord.parentItem.uniqueID) === -1) {\n                    this.parentIds.push(childGanttRecord.parentItem.uniqueID);\n                    this.parentRecord.push(childGanttRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessorsCollection .\n     * @returns {Date} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorDate = function (ganttRecord, predecessorsCollection) {\n        var _this = this;\n        var maxStartDate;\n        var tempStartDate;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var validatedPredecessor = predecessorsCollection.filter(function (data) {\n            var id = _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (data.to === id.toString()) {\n                return data;\n            }\n            else {\n                return null;\n            }\n        });\n        if (validatedPredecessor) {\n            var length_2 = validatedPredecessor.length;\n            for (var i = 0; i < length_2; i++) {\n                var predecessor = validatedPredecessor[i];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(childGanttRecord) &&\n                    isNullOrUndefined(parentGanttRecord))) {\n                    childGanttRecord = isNullOrUndefined(childGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : childGanttRecord;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : parentGanttRecord;\n                }\n                if (childGanttRecord && parentGanttRecord) {\n                    tempStartDate =\n                        this.getValidatedStartDate(childGanttRecord.ganttProperties, parentGanttRecord.ganttProperties, predecessor);\n                }\n                if (maxStartDate === null || this.dateValidateModule.compareDates(tempStartDate, maxStartDate) === 1) {\n                    maxStartDate = tempStartDate;\n                }\n            }\n        }\n        return maxStartDate;\n    };\n    /**\n     * Get validated start date as per predecessor type\n     *\n     * @param {ITaskData} ganttProperty .\n     * @param {ITaskData} parentRecordProperty .\n     * @param {IPredecessor} predecessor .\n     * @returns {Date} .\n     */\n    Dependency.prototype.getValidatedStartDate = function (ganttProperty, parentRecordProperty, predecessor) {\n        var type = predecessor.type;\n        var offset = predecessor.offset;\n        var tempDate;\n        var returnStartDate;\n        switch (type) {\n            case 'FS':\n                tempDate = this.dateValidateModule.getValidEndDate(parentRecordProperty);\n                if (!ganttProperty.isMilestone || offset !== 0) {\n                    tempDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n            case 'FF':\n            case 'SF':\n                tempDate = type === 'FF' ? this.dateValidateModule.getValidEndDate(parentRecordProperty) :\n                    this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    var date = new Date(tempDate);\n                    date.setDate(date.getDate() - 1);\n                    tempDate = this.dateValidateModule.checkEndDate(tempDate, ganttProperty);\n                }\n                if (ganttProperty.segments && ganttProperty.segments.length !== 0) {\n                    var duration = this.dateValidateModule.getDuration(ganttProperty.startDate, ganttProperty.endDate, ganttProperty.durationUnit, ganttProperty.isAutoSchedule, ganttProperty.isMilestone);\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                else {\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, ganttProperty.duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                break;\n            case 'SS':\n                tempDate = this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n        }\n        return returnStartDate;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {IPredecessor} predecessor .\n     * @param {ITaskData} record .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateDateByOffset = function (date, predecessor, record) {\n        var resultDate;\n        var offsetValue = predecessor.offset;\n        var durationUnit = predecessor.offsetUnit;\n        if (offsetValue < 0 && !isNullOrUndefined(date)) {\n            resultDate = this.dateValidateModule.getStartDate(this.dateValidateModule.checkEndDate(date, record), (offsetValue * -1), durationUnit, record, true);\n        }\n        else {\n            if (!isNullOrUndefined(date)) {\n                resultDate = this.dateValidateModule.getEndDate(date, offsetValue, durationUnit, record, false);\n            }\n            if (!record.isMilestone) {\n                resultDate = this.dateValidateModule.checkStartDate(resultDate, record);\n            }\n        }\n        return resultDate;\n    };\n    /**\n     *\n     * @param {IGanttData} records .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.createConnectorLinesCollection = function (records) {\n        var ganttRecords = records ? records : this.parent.currentViewData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth && this.parent.pdfExportModule.isPdfExport) {\n            ganttRecords = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneCurrentViewData'];\n        }\n        var recordLength = ganttRecords.length;\n        var count;\n        var ganttRecord;\n        var predecessorsCollection;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth && this.parent.pdfExportModule.isPdfExport) {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        }\n        for (count = 0; count < recordLength; count++) {\n            if (this.parent.editModule && this.parent.editModule.deletedTaskDetails.length > 0) {\n                if (ganttRecords[count].parentItem) {\n                    var parentItem = this.parent.getRecordByID(ganttRecords[count].parentItem.taskId.toString());\n                    this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), ganttRecords[count]);\n                }\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['canUpdateIndex']) {\n                ganttRecords[count].index = count;\n                if (ganttRecords[count].parentItem && this.parent.getParentTask(ganttRecords[count].parentItem)) {\n                    ganttRecords[count].parentItem.index = this.parent.getParentTask(ganttRecords[count].parentItem).index;\n                }\n            }\n            ganttRecord = ganttRecords[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                this.addPredecessorsCollection(predecessorsCollection);\n            }\n        }\n    };\n    /**\n     *\n     * @param {object[]} predecessorsCollection .\n     * @returns {void} .\n     */\n    Dependency.prototype.addPredecessorsCollection = function (predecessorsCollection) {\n        var predecessorsLength;\n        var predecessorCount;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        if (predecessorsCollection) {\n            predecessorsLength = predecessorsCollection.length;\n            for (predecessorCount = 0; predecessorCount < predecessorsLength; predecessorCount++) {\n                predecessor = predecessorsCollection[predecessorCount];\n                var from = 'from';\n                var to = 'to';\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[from]);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[to]);\n                var isValid = true;\n                if (((parentGanttRecord && parentGanttRecord.hasChildRecords && !parentGanttRecord.expanded) ||\n                    (childGanttRecord && childGanttRecord.hasChildRecords && !childGanttRecord.expanded)) &&\n                    !this.parent.allowTaskbarOverlap && this.parent.viewType === 'ProjectView') {\n                    isValid = false;\n                }\n                if (isValid && this.parent.connectorLineModule.expandedRecords &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(parentGanttRecord) !== -1 &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(childGanttRecord) !== -1) {\n                    this.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                }\n            }\n        }\n    };\n    /**\n     * To refresh connector line object collections\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor} predecessor .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateConnectorLineObject = function (parentGanttRecord, childGanttRecord, predecessor) {\n        var connectorObj = this.parent.connectorLineModule.createConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n        if (connectorObj) {\n            if (childGanttRecord.isCritical && parentGanttRecord.isCritical) {\n                connectorObj.isCritical = true;\n            }\n            if ((this.parent.connectorLineIds.length > 0 && this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) === -1) ||\n                this.parent.connectorLineIds.length === 0) {\n                this.parent.updatedConnectorLineCollection.push(connectorObj);\n                this.parent.connectorLineIds.push(connectorObj.connectorLineId);\n            }\n            else if (this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) !== -1) {\n                var index = this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId);\n                this.parent.updatedConnectorLineCollection[index] = connectorObj;\n            }\n            predecessor.isDrawn = true;\n        }\n        return connectorObj;\n    };\n    /**\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor[]} previousValue .\n     * @param {string} validationOn .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessor = function (childGanttRecord, previousValue, validationOn) {\n        if (!this.parent.isInPredecessorValidation) {\n            return;\n        }\n        if (childGanttRecord.ganttProperties.predecessor) {\n            var taskBarModule = this.parent.editModule.taskbarEditModule;\n            var ganttProp = void 0;\n            if (taskBarModule) {\n                ganttProp = taskBarModule.taskBarEditRecord;\n            }\n            var predecessorsCollection = childGanttRecord.ganttProperties.predecessor;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var predecessor = void 0;\n            var successor = void 0;\n            var currentTaskId_3 = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId.toString()\n                : childGanttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var successors = predecessorsCollection.filter(function (data) {\n                if (data.from === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var parentRec = void 0;\n            for (var count = 0; count < predecessors.length; count++) {\n                predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, predecessor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, predecessor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                var id = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId\n                    : childGanttRecord.ganttProperties.rowUniqueID;\n                if ((id.toString() === predecessor.to\n                    || id.toString() === predecessor.from)\n                    && (!validationOn || validationOn === 'predecessor')) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                        this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                    }\n                }\n            }\n            for (var count = 0; count < successors.length; count++) {\n                successor = successors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(successor.from);\n                record = this.parent.connectorLineModule.getRecordByID(successor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, successor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, successor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                if (validationOn !== 'predecessor' && this.parent.isValidationEnabled) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && record) {\n                        var rootParent = parentGanttRecord.parentItem ?\n                            this.getRootParent(parentGanttRecord) : null;\n                        if (record.hasChildRecords && (!this.parent.editModule['editedRecord'].hasChildRecords || (!record.parentItem &&\n                            (!rootParent || (rootParent && rootParent.ganttProperties.taskId === this.parent.editModule['editedRecord'].ganttProperties.taskId)))) &&\n                            this.isValidatedParentTaskID !== record.ganttProperties.taskId) {\n                            this.updateChildItems(record);\n                            for (var i = 0; i < record.childRecords.length; i++) {\n                                var ganttProp_1 = record.childRecords[i].ganttProperties;\n                                if (this.isChildRecordValidated.indexOf(ganttProp_1.taskId) !== -1) {\n                                    return;\n                                }\n                                this.isChildRecordValidated.push(ganttProp_1.taskId);\n                                if (ganttProp_1.predecessor && ganttProp_1.predecessor.length > 0) {\n                                    for (var j = 0; j < ganttProp_1.predecessor.length; j++) {\n                                        var childRec = void 0;\n                                        if (ganttProp_1.predecessor[j].to !== record.ganttProperties.taskId.toString()) {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].to)];\n                                        }\n                                        else {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].from)];\n                                        }\n                                        if (childRec) {\n                                            this.validatePredecessor(childRec, [], '');\n                                            if (childRec.hasChildRecords && this.parent.editModule['editedRecord'].hasChildRecords) {\n                                                this.updateChildItems(childRec);\n                                            }\n                                            this.isValidatedParentTaskID = childRec.ganttProperties.taskId;\n                                        }\n                                    }\n                                }\n                            }\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                        if (this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                }\n                else if (!record.ganttProperties.isAutoSchedule && this.parent.updateOffsetOnTaskbarEdit) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](record);\n                }\n                if (parentGanttRecord.expanded === false || record.expanded === false) {\n                    if (record) {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                    continue;\n                }\n                if (record) {\n                    if (this.parent.editModule.isFirstCall) {\n                        var taskIdsForView = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n                        this.storeId = JSON.parse(JSON.stringify(taskIdsForView));\n                        this.parent.editModule.isFirstCall = false;\n                    }\n                    if (this.storeId) {\n                        var index = void 0;\n                        var idAsString = record[this.parent.taskFields.id].toString();\n                        if (this.parent.viewType === 'ResourceView') {\n                            var taskId = \"T\" + idAsString;\n                            index = this.storeId.includes(taskId) ? this.storeId.indexOf(taskId) : -1;\n                        }\n                        else {\n                            index = this.storeId.indexOf(idAsString);\n                        }\n                        if (index !== -1) {\n                            this.storeId = this.storeId.slice(0, index).concat(this.storeId.slice(index + 1));\n                            this.validatePredecessor(record, undefined, 'successor');\n                        }\n                    }\n                    else {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                }\n            }\n            if (record && !record.hasChildRecords && record.parentItem &&\n                this.validatedParentIds.indexOf(record.parentItem.taskId) === -1) {\n                this.validatedParentIds.push(record.parentItem.taskId);\n            }\n            var validUpdate = true;\n            if (record && record.hasChildRecords && this.validatedParentIds.indexOf(record.ganttProperties.taskId.toString()) !== -1) {\n                validUpdate = false;\n            }\n            if (validUpdate) {\n                if (record && record.ganttProperties.taskId !== this.isValidatedParentTaskID && ganttProp) {\n                    if ((taskBarModule.taskBarEditAction !== 'ParentDrag' && taskBarModule.taskBarEditAction !== 'ChildDrag')) {\n                        if (!ganttProp.hasChildRecords && record.hasChildRecords) {\n                            this.updateChildItems(record);\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                    if (record.parentItem) {\n                        this.parent.dataOperation.updateParentItems(record, true);\n                        var parentData = this.parent.getParentTask(record.parentItem);\n                        var index = (this.storeId && this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) !== -1) ?\n                            this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) : -1;\n                        if (parentData.ganttProperties.predecessor && parentData.ganttProperties.predecessor.length > 0 && index !== -1) {\n                            for (var i = 0; i < parentData.ganttProperties.predecessor.length; i++) {\n                                if (parentData.ganttProperties.predecessor[i].to !==\n                                    parentData.ganttProperties.taskId.toString()) {\n                                    var childRec = this.parent.flatData[this.parent.ids.indexOf(parentData.ganttProperties.predecessor[i].to)];\n                                    if (childRec && childRec.parentItem) {\n                                        this.validateChildGanttRecord(record, childRec);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                else if (record && record.hasChildRecords && this.isValidatedParentTaskID !== record.ganttProperties.taskId && !ganttProp) {\n                    this.updateChildItems(record);\n                    this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateChildItems = function (ganttRecord) {\n        var _this = this;\n        if (ganttRecord.childRecords.length > 0 && this.validatedChildItems && this.validatedChildItems.length > 0) {\n            var isPresent = true;\n            isPresent = !ganttRecord.childRecords.some(function (record) {\n                return _this.validatedChildItems['includes'](record);\n            });\n            if (!isPresent) {\n                return;\n            }\n        }\n        var previousData = this.parent.previousRecords[ganttRecord.uniqueID];\n        var previousStartDate;\n        if (isNullOrUndefined(previousData) ||\n            (isNullOrUndefined(previousData) && !isNullOrUndefined(previousData.ganttProperties))) {\n            previousStartDate = new Date(ganttRecord.ganttProperties.startDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(previousData.ganttProperties.startDate)) {\n                previousStartDate = new Date(previousData.ganttProperties.startDate.getTime());\n            }\n        }\n        var currentStartDate = ganttRecord.ganttProperties.startDate;\n        var childRecords = [];\n        var validStartDate;\n        var validEndDate;\n        var calcEndDate;\n        var isRightMove;\n        var durationDiff;\n        this.getUpdatableChildRecords(ganttRecord, childRecords);\n        if (childRecords.length === 0) {\n            return;\n        }\n        if (!isNullOrUndefined(previousStartDate) && !isNullOrUndefined(currentStartDate) &&\n            previousStartDate.getTime() > currentStartDate.getTime()) {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(currentStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(previousStartDate, ganttRecord.ganttProperties);\n            isRightMove = false;\n        }\n        else {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(previousStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(currentStartDate, ganttRecord.ganttProperties);\n            isRightMove = true;\n        }\n        //Get Duration\n        if (!isNullOrUndefined(validStartDate) && !isNullOrUndefined(validEndDate) && validStartDate.getTime() >= validEndDate.getTime()) {\n            durationDiff = 0;\n        }\n        else {\n            durationDiff = this.parent.dateValidationModule.getDuration(validStartDate, validEndDate, 'minute', true, false);\n        }\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                if (durationDiff > 0) {\n                    var startDate = isScheduledTask(childRecords[i].ganttProperties) ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.startDate ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.endDate ?\n                        childRecords[i].ganttProperties.endDate : new Date(previousStartDate.toString());\n                    if (isRightMove) {\n                        calcEndDate = this.parent.dateValidationModule.getEndDate(this.parent.dateValidationModule.checkStartDate(startDate, childRecords[i].ganttProperties, childRecords[i].ganttProperties.isMilestone), durationDiff, 'minute', childRecords[i].ganttProperties, false);\n                    }\n                    else {\n                        calcEndDate = this.parent.dateValidationModule.getStartDate(this.parent.dateValidationModule.checkEndDate(startDate, childRecords[i].ganttProperties), durationDiff, 'minute', childRecords[i].ganttProperties);\n                    }\n                    this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n                else if (isNullOrUndefined(previousData)) {\n                    calcEndDate = previousStartDate;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <= calcEndDate.getTime()) {\n                        this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    }\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n            }\n        }\n        if (childRecords.length) {\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n    };\n    /**\n     * To get updated child records.\n     *\n     * @param {IGanttData} parentRecord .\n     * @param {IGanttData} childLists .\n     * @returns {void} .\n     */\n    Dependency.prototype.getUpdatableChildRecords = function (parentRecord, childLists) {\n        var childRecords = parentRecord.childRecords;\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                childLists.push(childRecords[i]);\n                if (childRecords[i].hasChildRecords) {\n                    this.getUpdatableChildRecords(childRecords[i], childLists);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} data .\n     * @param {Date} newStartDate .\n     * @returns {void} .\n     */\n    Dependency.prototype.calculateDateByRoundOffDuration = function (data, newStartDate) {\n        var ganttRecord = data;\n        var taskData = ganttRecord.ganttProperties;\n        var projectStartDate = new Date(newStartDate.getTime());\n        if (!isNullOrUndefined(taskData.endDate) && isNullOrUndefined(taskData.startDate)) {\n            var endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, null);\n            this.parent.setRecordValue('endDate', this.parent.dateValidationModule.checkEndDate(endDate, ganttRecord.ganttProperties), taskData, true);\n        }\n        else {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, false), taskData, true);\n            if (!isNullOrUndefined(taskData.duration)) {\n                this.parent.dateValidationModule.calculateEndDate(ganttRecord);\n            }\n        }\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n    };\n    Dependency.prototype.getRecord = function (parentGanttRecord, record, predecessor) {\n        var index;\n        var data;\n        if (isNullOrUndefined(record)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        else if (isNullOrUndefined(parentGanttRecord)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        return data;\n    };\n    /**\n     * Method to get validate able predecessor alone from record\n     *\n     * @param {IGanttData} record .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.getValidPredecessor = function (record) {\n        var _this = this;\n        var validPredecessor = [];\n        if (!isNullOrUndefined(record)) {\n            var recPredecessor = record.ganttProperties.predecessor;\n            if (recPredecessor && recPredecessor.length > 0) {\n                validPredecessor = recPredecessor.filter(function (value) {\n                    var id = _this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId\n                        : record.ganttProperties.rowUniqueID;\n                    return value.from !== id.toString();\n                });\n            }\n        }\n        return validPredecessor;\n    };\n    return Dependency;\n}());\nexport { Dependency };\n","import { createElement, isNullOrUndefined, isObject, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isScheduledTask } from '../base/utils';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\n/**\n * To render the connector line in Gantt\n */\nvar ConnectorLine = /** @class */ (function () {\n    function ConnectorLine(ganttObj) {\n        this.transform = '';\n        this.connectorLinePath = '';\n        this.arrowPath = '';\n        this.taskLineValue = 0;\n        this.expandedRecords = [];\n        this.parent = ganttObj;\n        this.dependencyViewContainer =\n            createElement('div', {\n                className: cls.dependencyViewContainer\n            });\n        Object.assign(this.dependencyViewContainer.style, {\n            width: '100%',\n            height: '100%',\n            zIndex: 2,\n            position: 'absolute',\n            pointerEvents: 'none'\n        });\n        this.renderer = new SvgRenderer(this.parent.element.id);\n        this.initPublicProp();\n        this.svgObject = this.renderer.createSvg({\n            id: this.parent.element.id + '_svg'\n        });\n        this.svgObject.setAttribute('height', '100%');\n        this.svgObject.setAttribute('width', '100%');\n    }\n    /**\n     * To get connector line gap.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getconnectorLineGap = function (data) {\n        var width = 0;\n        width = (data.milestoneChild ?\n            ((this.parent.chartRowsModule.milestoneMarginTop / 2) + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            ((this.parent.chartRowsModule.taskBarMarginTop / 2) + (this.parent.chartRowsModule.taskBarHeight / 2)));\n        return width;\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.initPublicProp = function () {\n        this.lineColor = this.parent.connectorLineBackground;\n        this.lineStroke = (this.parent.connectorLineWidth) > 4 ? 4 : this.parent.connectorLineWidth;\n        this.createConnectorLineTooltipTable();\n    };\n    ConnectorLine.prototype.getTaskbarMidpoint = function (isMilestone) {\n        return Math.floor(isMilestone ?\n            (this.parent.chartRowsModule.milestoneMarginTop + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            (this.parent.chartRowsModule.taskBarMarginTop + (this.parent.chartRowsModule.taskBarHeight / 2))) + 1;\n    };\n    /**\n     * To connector line object collection.\n     *\n     * @param {IGanttData} parentGanttData .\n     * @param {IGanttData} childGanttData .\n     * @param {IPredecessor}  predecessor .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineObject = function (parentGanttData, childGanttData, predecessor) {\n        var connectorObj = {};\n        var updatedRecords;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            updatedRecords = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            updatedRecords = this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport ?\n                this.parent.flatData : this.expandedRecords;\n        }\n        var parentIndex;\n        var childIndex;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var parentData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === parentGanttData.ganttProperties.taskId.toString();\n            })[0];\n            var childData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === childGanttData.ganttProperties.taskId.toString();\n            })[0];\n            parentIndex = parentData.index;\n            childIndex = childData.index;\n        }\n        else {\n            parentIndex = updatedRecords.indexOf(parentGanttData);\n            childIndex = updatedRecords.indexOf(childGanttData);\n        }\n        var parentGanttRecord = parentGanttData.ganttProperties;\n        var childGanttRecord = childGanttData.ganttProperties;\n        var currentData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.expandedRecords;\n        }\n        connectorObj.parentIndexInCurrentView = currentData.indexOf(parentGanttData);\n        connectorObj.childIndexInCurrentView = currentData.indexOf(childGanttData);\n        var isVirtualScroll = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        if ((!isVirtualScroll && (connectorObj.parentIndexInCurrentView === -1 || connectorObj.childIndexInCurrentView === -1)) ||\n            connectorObj.parentIndexInCurrentView === -1 && connectorObj.childIndexInCurrentView === -1) {\n            return null;\n        }\n        else {\n            connectorObj.parentLeft = parentGanttRecord.isMilestone ?\n                parentGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : parentGanttRecord.left;\n            connectorObj.childLeft = childGanttRecord.isMilestone ?\n                childGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : childGanttRecord.left;\n            connectorObj.parentWidth = parentGanttRecord.width === 0 || parentGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : parentGanttRecord.width;\n            connectorObj.childWidth = childGanttRecord.width === 0 || childGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : childGanttRecord.width;\n            connectorObj.parentIndex = parentIndex;\n            connectorObj.childIndex = childIndex;\n            connectorObj.rowHeight = !isNullOrUndefined(this.parent.ganttChartModule.getChartRows()) &&\n                this.parent.ganttChartModule.getChartRows()[0] &&\n                this.parent.ganttChartModule.getChartRows()[0].offsetHeight;\n            connectorObj.type = predecessor.type;\n            var parentId = this.parent.viewType === 'ResourceView' ? parentGanttRecord.taskId : parentGanttRecord.rowUniqueID;\n            var childId = this.parent.viewType === 'ResourceView' ? childGanttRecord.taskId : childGanttRecord.rowUniqueID;\n            connectorObj.connectorLineId = 'parent' + parentId + 'child' + childId;\n            connectorObj.milestoneParent = parentGanttRecord.isMilestone ? true : false;\n            connectorObj.milestoneChild = childGanttRecord.isMilestone ? true : false;\n            connectorObj.parentEndPoint = connectorObj.parentLeft + connectorObj.parentWidth;\n            connectorObj.childEndPoint = connectorObj.childLeft + connectorObj.childWidth;\n            if (isNullOrUndefined(isScheduledTask(parentGanttRecord)) || isNullOrUndefined(isScheduledTask(childGanttRecord))) {\n                return null;\n            }\n            else {\n                return connectorObj;\n            }\n        }\n    };\n    /**\n     * To render connector line.\n     *\n     * @param {IConnectorLineObject} connectorLinesCollection .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.renderConnectorLines = function (connectorLinesCollection) {\n        var connectorLine = '';\n        var ariaConnector = [];\n        for (var index = 0; index < connectorLinesCollection.length; index++) {\n            connectorLine = connectorLine + this.getConnectorLineTemplate(connectorLinesCollection[index]);\n            ariaConnector.push(connectorLinesCollection[index]);\n        }\n        this.svgObject.innerHTML = connectorLine;\n        var childNodes = this.parent.connectorLineModule.svgObject.childNodes;\n        for (var i = 0; i < childNodes.length; i++) {\n            var innerChild = childNodes[i].childNodes;\n            for (var j = 0; j < innerChild.length; j++) {\n                var ariaString = 'Connector Line ' + this.parent.connectorLineModule.generateAriaLabel(ariaConnector[i]);\n                innerChild[j].setAttribute('aria-label', ariaString);\n                innerChild[j].setAttribute('role', 'img');\n            }\n        }\n        this.parent.ganttChartModule.chartBodyContent.insertBefore(this.dependencyViewContainer, this.parent.ganttChartModule.chartBodyContent.lastChild);\n        this.dependencyViewContainer.appendChild(this.svgObject);\n        for (var i = 0; i < this.svgObject.children.length; i++) {\n            this.svgObject.children[i].children[0].setAttribute('tabindex', '-1');\n        }\n    };\n    /**\n     * To get parent position.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getParentPosition = function (data) {\n        if (data.parentIndex < data.childIndex) {\n            if (data.type === 'FF') {\n                if ((data.childLeft + data.childWidth) >= (data.parentLeft + data.parentWidth)) {\n                    return 'FFType2';\n                }\n                else {\n                    return 'FFType1';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth + 25))) {\n                if (data.type === 'FS') {\n                    return 'FSType1';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if (data.parentLeft > (data.childLeft + data.childWidth + 25)) {\n                    if (data.type === 'SF') {\n                        return 'SFType2';\n                    }\n                }\n                if (data.parentLeft > data.childLeft) {\n                    if (data.type === 'SS') {\n                        return 'SSType1';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType1';\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n            else if ((data.parentLeft) < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n        }\n        else if (data.parentIndex > data.childIndex) {\n            if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth))) {\n                if (data.type === 'FS') {\n                    if (30 >= (data.childLeft - (data.milestoneParent ?\n                        (data.parentLeft + data.parentWidth + 4) : (data.parentLeft + data.parentWidth)))) {\n                        return 'FSType3';\n                    }\n                    else {\n                        return 'FSType4';\n                    }\n                }\n                if (((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth))) {\n                    if (data.type === 'SS') {\n                        return 'SSType4';\n                    }\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if ((data.childLeft + data.childWidth) <= (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType3';\n                    }\n                    if (data.type === 'SF') {\n                        if ((data.childLeft + data.childWidth + 25) < (data.parentLeft)) {\n                            return 'SFType3';\n                        }\n                        else {\n                            return 'SFType4';\n                        }\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n            }\n            else if (data.parentLeft < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n                if (data.type === 'SS') {\n                    return 'SSType4';\n                }\n                if (data.type === 'FF') {\n                    return 'FFType4';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType4';\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * To get line height.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getHeightValue = function (data) {\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            return (data.parentIndex * this.parent.rowHeight) > (data.childIndex * this.parent.rowHeight) ?\n                ((data.parentIndex * this.parent.rowHeight) - (data.childIndex * this.parent.rowHeight)) :\n                ((data.childIndex * this.parent.rowHeight) - (data.parentIndex * this.parent.rowHeight));\n        }\n        else {\n            return (data.parentIndex * data.rowHeight) > (data.childIndex * data.rowHeight) ?\n                ((data.parentIndex * data.rowHeight) - (data.childIndex * data.rowHeight)) :\n                ((data.childIndex * data.rowHeight) - (data.parentIndex * data.rowHeight));\n        }\n    };\n    /**\n     * To get sstype2 inner element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementWidthSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    /**\n     * To get sstype2 inner element left.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementLeftSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return (data.parentLeft - 20);\n        }\n        return (data.parentLeft - 10);\n    };\n    /**\n     * To get sstype2 inner child element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerChildWidthSSType2 = function (data) {\n        if ((data.parentLeft + data.parentWidth) < data.childLeft) {\n            return 10;\n        }\n        if (data.parentLeft === data.childLeft) {\n            return 20;\n        }\n        if ((data.parentLeft + data.parentWidth) >= data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    // private getBorderStyles(cssType: string, unit: number): string {\n    //     const borderWidth: string = 'border-' + cssType + '-width:' + unit + 'px;';\n    //     const borderStyle: string = 'border-' + cssType + '-style:solid;';\n    //     const borderColor: string = !isNullOrUndefined(this.lineColor) ? 'border-' + cssType + '-color:' + this.lineColor + ';' : '';\n    //     return (borderWidth + borderStyle + borderColor);\n    // }\n    ConnectorLine.prototype.calculateAdjustments = function (rowHeight, isMilestone, type) {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var defaultTaskbarHeight = Math.floor(this.parent.rowHeight * taskbarHeightValue);\n        if (((isNullOrUndefined(this.parent.taskbarHeight) && rowHeight <= 36) || (!isNullOrUndefined(this.parent.taskbarHeight) &&\n            this.parent.taskbarHeight <= defaultTaskbarHeight)) || !isMilestone) {\n            return {\n                adjustY1: 0,\n                adjustX: 0,\n                adjustY2: 0,\n                adjustZ: 0\n            };\n        }\n        else {\n            // Calculate adjustments dynamically for rowHeight greater than 36\n            var divisorY1 = ((type === 'FSType2' || type === 'FSType3' || type === 'FSType4' || type === 'SSType1' || type === 'SSType2' || type === 'SSType4' || type === 'SFType2')) ? 12 : 24;\n            var adjustY1 = (rowHeight - 36) / divisorY1;\n            var adjustX = -(rowHeight - 36) / 4;\n            var adjustZ = -2 * (rowHeight - 36) / 24;\n            if (rowHeight <= 36) {\n                return {\n                    adjustY1: 0,\n                    adjustX: 0,\n                    adjustY2: 0,\n                    adjustZ: 0\n                };\n            }\n            return {\n                adjustY1: adjustY1,\n                adjustX: adjustX,\n                adjustZ: adjustZ\n            };\n        }\n    };\n    /**\n     * To get connector line template.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTemplate = function (data) {\n        var setInnerChildWidthSSType2 = this.getInnerChildWidthSSType2(data);\n        var setInnerElementWidthSSType2 = this.getInnerElementWidthSSType2(data);\n        var setInnerElementLeftSSType2 = this.getInnerElementLeftSSType2(data);\n        var height = this.getHeightValue(data);\n        var isMilestoneParent = data.milestoneParent ? true : false;\n        var isMilestone = data.milestoneChild ? true : false;\n        var isVirtual = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        var connectorLine = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPosition = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPositionHeight = rowPosition.top;\n        var isMilestoneValue = 0;\n        if (this.parent.renderBaseline) {\n            var modifiedValue = (this.parent.rowHeight / 36) * 5;\n            isMilestoneValue = (data.milestoneParent && data.milestoneChild) ? 0 : data.milestoneParent ? -modifiedValue :\n                data.milestoneChild ? modifiedValue : 0;\n        }\n        var heightValue = isVirtual ? connectorLine.height : (height + isMilestoneValue);\n        var borderTopWidth = 0;\n        var addTop = 0;\n        var parentOverlapTopValue = 0;\n        var childOverlapTopValue = 0;\n        var count = 0;\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.getRowByIndex(i).style.display !== 'none') {\n                    if (count < data.parentIndex) {\n                        count++;\n                        parentOverlapTopValue = parentOverlapTopValue + this.parent.getRowByIndex(i).offsetHeight;\n                    }\n                }\n            }\n            count = 0;\n            for (var j = 0; j < this.parent.currentViewData.length; j++) {\n                if (this.parent.getRowByIndex(j).style.display !== 'none') {\n                    if (count < data.childIndex) {\n                        count++;\n                        childOverlapTopValue = childOverlapTopValue + this.parent.getRowByIndex(j).offsetHeight;\n                    }\n                }\n            }\n            if (!this.parent.enableVirtualization) {\n                heightValue = Math.abs(parentOverlapTopValue - childOverlapTopValue);\n            }\n        }\n        if (this.parent.currentViewData[data.parentIndex] && this.parent.currentViewData[data.childIndex] &&\n            this.parent.allowParentDependency) {\n            var fromRecordIsParent = this.parent.currentViewData[data.parentIndex].hasChildRecords;\n            var toRecordIsParent = this.parent.currentViewData[data.childIndex].hasChildRecords;\n            var fromRecordIsManual = this.parent.currentViewData[data.parentIndex].ganttProperties.isAutoSchedule;\n            var toRecordIsManual = this.parent.currentViewData[data.childIndex].ganttProperties.isAutoSchedule;\n            var isValid = true;\n            if (((fromRecordIsParent && fromRecordIsManual) && !toRecordIsParent) || ((toRecordIsParent && toRecordIsManual) &&\n                !fromRecordIsParent) || (fromRecordIsParent && fromRecordIsManual && toRecordIsManual && toRecordIsParent)\n                || (!fromRecordIsParent && !toRecordIsParent)) {\n                isValid = false;\n            }\n            if (isValid) {\n                if (((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    addTop = -11;\n                }\n                else if (!((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    if (data.childIndex > data.parentIndex) {\n                        if (!fromRecordIsParent && toRecordIsParent) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                    else {\n                        if ((fromRecordIsParent && !toRecordIsParent)) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                }\n                if (this.parent.currentViewData[data.parentIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = -11;\n                        borderTopWidth = 12;\n                    }\n                    else if (data.type === 'SS' || data.type === 'FF') {\n                        addTop = -5;\n                    }\n                }\n                else if (this.parent.currentViewData[data.childIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = 5;\n                        borderTopWidth = -10;\n                    }\n                    else if (data.parentIndex < data.childIndex) {\n                        if (data.type === 'SS' || data.type === 'FF') {\n                            addTop = -10;\n                        }\n                    }\n                }\n                else {\n                    if (data.parentIndex < data.childIndex && fromRecordIsManual && !toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                    else if (data.childIndex < data.parentIndex && !fromRecordIsManual && toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                }\n            }\n        }\n        if (this.getParentPosition(data)) {\n            // Create the group element\n            var type = this.getParentPosition(data);\n            var rowHeight1 = this.parent.rowHeight;\n            var adjustments = this.calculateAdjustments(rowHeight1, isMilestone, type);\n            this.transform = this.parent.enableRtl ? \"translate(\" + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + \", 0) scale(-1, 1)\" : '';\n            this.connectorId = 'ConnectorLine' + data.connectorLineId;\n            this.groupObject = this.renderer.createGroup({\n                id: this.connectorId,\n                transform: this.transform,\n                style: 'pointer-events: stroke',\n                class: cls.connectorLineContainer\n            });\n            //  Create the path element for the connector line\n            this.connectorPath = this.renderer.drawPath({\n                class: cls.connectorLineSVG,\n                d: this.connectorLinePath,\n                fill: 'transparent',\n                'stroke-width': this.lineStroke\n            });\n            // Create the path element for the arrow\n            this.arrowlinePath = this.renderer.drawPath({\n                d: this.arrowPath,\n                class: cls.connectorLineArrow\n            });\n            var outlineColor = (this.lineColor) && !(this.parent.enableCriticalPath) ? this.lineColor : '';\n            this.connectorPath.setAttribute('style', \"stroke: \" + outlineColor);\n            this.arrowlinePath.setAttribute('style', \"fill: \" + outlineColor);\n            // Append the path element to the group element\n            this.groupObject.appendChild(this.connectorPath);\n            this.groupObject.appendChild(this.arrowlinePath);\n            if (this.getParentPosition(data) === 'FSType1') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneParent ? -1 : (data.milestoneChild ? -1 : 0));\n                this.x2 = data.milestoneParent ?\n                    ((((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10) + 1) :\n                    (((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1) + ' L ' + ((this.x1 + this.x2) + adjustments['adjustZ']) + ' ' + (this.y1) + ' L ' + ((this.x1 + this.x2) + adjustments['adjustZ']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + 4) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType2') {\n                this.x1 = data.parentLeft;\n                this.x2 = data.parentWidth + (data.milestoneParent ? -1 : 0);\n                this.x3 = this.x2 + (data.milestoneParent ? 11 : 10);\n                this.x4 = data.parentWidth - ((data.parentEndPoint - data.childLeft) + 20);\n                this.y1 = (this.parent.enableVirtualization ?\n                    rowPositionHeight : ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                    (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.y2 = heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = (!this.parent.allowTaskbarOverlap ? childOverlapTopValue :\n                    (this.y1 + this.y2 - ((this.y1 + this.y2) % data.rowHeight)));\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' ' + ' L ' + (this.x1 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x3) + ' ' + this.y4 +\n                    ' L ' + ((this.x1 + this.x4) + adjustments['adjustZ']) + ' ' + this.y4 + ' L ' + ((this.x1 + this.x4) + adjustments['adjustZ']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']) + ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x4 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType3') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.point1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? childOverlapTopValue :\n                        (data.childIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x1 = (data.childLeft + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0)) - 20;\n                this.x2 = (data.parentEndPoint - data.childLeft) + 30;\n                this.y1 = this.point1 + (this.parent.renderBaseline ?\n                    (data.milestoneChild && !(data.milestoneParent) ? 11 :\n                        data.milestoneParent && !(data.milestoneChild) ? -12 : 0) : 0);\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke +\n                    this.taskLineValue;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                this.connectorLinePath = 'M ' + (this.x1 + 12) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + this.x1 + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y4 + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 + this.y3) + ' L ' + (this.x1 + this.x2 - 12) + ' ' + (this.y2 + this.y3);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + ((this.y1) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType4') {\n                this.point1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0);\n                this.x2 = data.childLeft - data.parentEndPoint - 20;\n                this.y1 = this.point1 + (data.milestoneChild ? -1 : 0);\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.lineStroke + 1 + this.taskLineValue +\n                    (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -12 :\n                        data.milestoneParent && !(data.milestoneChild) ? 11 : 0) : 0);\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 12) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x2) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x2) + ' ' + this.y2 +\n                    ' L ' + this.x1 + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 20) + adjustments['adjustX']) + ' ' + ((this.y1) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 2 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth;\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x1 = data.parentLeft - 10;\n                this.x2 = data.childLeft - data.parentLeft;\n                this.y1 = this.point2 + (data.milestoneChild ? 1 : 0);\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneParent && !(data.milestoneChild) ? 10 :\n                    data.milestoneChild && !(data.milestoneParent) ? -13 : 0) : 0);\n                this.connectorLinePath = 'M ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + this.y2 + ' L ' + (this.x1 + 10) + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 8) + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType3') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - (this.lineStroke - 1);\n                this.x1 = data.childLeft - 20;\n                this.y1 = (data.milestoneChild ? 1 : 0) + (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -11 :\n                    data.milestoneParent && !(data.milestoneChild) ? 10 : 0) : 0);\n                this.connectorLinePath = 'M ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + this.y2 + ' L ' + (this.x1 + this.x2) + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 2 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = setInnerElementLeftSSType2;\n                this.x2 = setInnerChildWidthSSType2 + 1;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y2 + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + (this.y2 + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + setInnerElementWidthSSType2 + 8) + adjustedX) + ' ' + ((this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType1') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = data.childLeft - 20;\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y2 + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y2 + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + ((this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType1') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.childEndPoint;\n                this.x2 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.x3 = data.milestoneParent ? 22 : 21;\n                this.x4 = data.milestoneChild ? 4 : 8;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + (this.x1 + this.x4) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1) + adjustedX) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y1 + this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneParent ? 22 : 21);\n                this.x3 = data.childEndPoint + (data.milestoneChild ? 9 : 8);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(data.milestoneParent) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + this.x3 + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x3 - 8) + arrowX) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + (this.x3 + arrowX) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + (this.x3 + arrowX) + ' ' + ((this.y1 + this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType3') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 4 : 8);\n                this.x3 = data.parentEndPoint - data.childEndPoint + (data.milestoneChild ? 16 : 10);\n                this.x4 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + (this.parent.renderBaseline ?\n                    (data.milestoneParent && !(data.milestoneChild) ? 10 : data.milestoneChild && !(data.milestoneParent) ? -11 : 0) : 0);\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x4 + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + (this.x1 + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneChild ? 7 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 12 : 11);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth + (this.parent.renderBaseline ?\n                    (data.milestoneParent && !(data.milestoneChild) ? 10 :\n                        data.milestoneChild && !(data.milestoneParent) ? -12 : 0) : 0) - this.lineStroke + 1;\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x1 + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + ((this.x2 - 8) + arrowX) + ' ' + (this.y1) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? -1 : 0);\n                this.point1 = (this.taskLineValue + heightValue + borderTopWidth - this.getconnectorLineGap(data) - (this.lineStroke - 1));\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x1 = data.parentLeft - 10;\n                this.x2 = this.x1 + ((data.childEndPoint - data.parentLeft) + 18);\n                this.x3 = this.x2 + (data.milestoneChild ? 16 : 11);\n                this.y1 = this.point2 + (data.milestoneChild ? 2 : 0) + (this.parent.renderBaseline ? (data.milestoneParent ? -5 : 0) : 0);\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -9 :\n                    data.milestoneParent && !(data.milestoneChild) ? 9 : 0) : 0);\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + ((this.y1) - adjustments['adjustY1']) + ' L ' + this.x3 + ' ' + ((this.y1) - adjustments['adjustY1']) + ' L ' + this.x3 + ' ' + this.y4 + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + this.x1 + ' ' + ((this.y2 + this.y3)) + ' L ' + (this.x1 + 11) + ' ' + ((this.y2 + this.y3));\n                this.arrowPath = 'M ' + ((this.x2 - 8) + arrowX) + ' ' + ((this.y1) - adjustments['adjustY1']) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + ((this.y1 - (4 + this.lineStroke)) - adjustments['adjustY1']) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + ((this.y1 + 4 + this.lineStroke) - adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType3') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = (data.parentLeft - (data.childEndPoint + (data.milestoneParent ? 23 : 20))) + 1;\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 9 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 17 : 11);\n                this.y1 = this.point2;\n                this.y2 = this.y1 + heightValue + borderTopWidth - (this.lineStroke - 1) + this.taskLineValue +\n                    (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -12 :\n                        data.milestoneParent && !(data.milestoneChild) ? 10 : 0) : 0);\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) +\n                    ' L ' + this.x3 + ' ' + this.y2 + ' L ' + (this.x3 + this.point1) + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x2 - 8) + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + (this.x2 + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x2 + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType1') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + borderTopWidth - this.getconnectorLineGap(data) + this.taskLineValue - this.lineStroke;\n                this.point2 = this.getconnectorLineGap(data);\n                this.x1 = data.parentLeft - 10;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x2 = (data.childEndPoint - data.parentLeft) + 31;\n                this.y2 = this.y1 + this.point1;\n                this.x3 = (data.childEndPoint - data.parentLeft) + 18;\n                this.y3 = this.y2 - (this.y2 % data.rowHeight);\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + (this.x1 + 11) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + this.y3 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y3 + ' L ' + (this.x1 + this.x2) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x3) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x3 - 8) + arrowX) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x3) + arrowX) + ' ' + ((this.y2 + this.point2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x3) + arrowX) + ' ' + ((this.y2 + this.point2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.x2 = (data.parentLeft - data.childEndPoint);\n                this.y2 = this.y1 + heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 1) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y2 + adjustments['adjustY1']) + ' L ' + (this.x1 + 8) + ' ' + (this.y2 + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + (this.x1 + adjustedX) + ' ' + ((this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            this.connectorPath.setAttribute('d', this.connectorLinePath);\n            this.arrowlinePath.setAttribute('d', this.arrowPath);\n        }\n        return this.groupObject.outerHTML;\n    };\n    /**\n     * @param {IConnectorLineObject} data .\n     * @param {string} type .\n     * @param {number} heightValue .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getPosition = function (data, type, heightValue) {\n        var topPosition = 0;\n        var lineHeight = 0;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var isMilestoneParent = data.milestoneParent ? true : false;\n            var isMilestone = data.milestoneChild ? true : false;\n            var midPointParent = this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1);\n            var midPoint = this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1);\n            var isParentIndex = data.parentIndexInCurrentView !== -1;\n            var isChildIndex = data.childIndexInCurrentView !== -1;\n            var lastRowIndex = this.parent.currentViewData.length - 1;\n            if (type === 'SSType1' || type === 'SSType2' || type === 'FFType1' || type === 'FFType2' || type === 'SFType2') {\n                topPosition = isParentIndex ? (data.parentIndexInCurrentView * data.rowHeight) + midPointParent : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                    (data.childIndexInCurrentView * data.rowHeight) + midPointParent : (lastRowIndex * data.rowHeight) + midPointParent;\n            }\n            else if (type === 'SSType3' || type === 'SSType4' || type === 'FSType4' || type === 'FFType3' ||\n                type === 'FFType4' || type === 'SFType4' || type === 'SFType3') {\n                topPosition = isChildIndex ? (data.childIndexInCurrentView * data.rowHeight) + midPoint : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                    (data.parentIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPoint;\n            }\n            else if (type === 'FSType3') {\n                topPosition = isChildIndex ? (data.childIndexInCurrentView * data.rowHeight) + midPointParent : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                    (data.parentIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPointParent;\n            }\n            else if (type === 'SFType1' || type === 'FSType1' || type === 'FSType2') {\n                topPosition = isParentIndex ? (data.parentIndexInCurrentView * data.rowHeight) + midPoint : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                    (data.childIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPoint;\n            }\n        }\n        return { top: topPosition, height: lineHeight };\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineTooltipTable = function () {\n        this.tooltipTable = createElement('table', { className: '.e-tooltiptable', styles: 'margin-top:0px', attrs: { 'cellspacing': '2px', 'cellpadding': '2px' } });\n        var tooltipBody = createElement('tbody');\n        tooltipBody.innerHTML = '';\n        this.tooltipTable.appendChild(tooltipBody);\n    };\n    /**\n     * @param {string} fromTaskName .\n     * @param {string} fromPredecessorText .\n     * @param {string} toTaskName .\n     * @param {string} toPredecessorText .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTooltipInnerTd = function (fromTaskName, fromPredecessorText, toTaskName, toPredecessorText) {\n        var innerTd = '<tr  id=\"fromPredecessor\"><td style=\"padding: 2px;\">' + this.parent.localeObj.getConstant('from') + '</td><td> ';\n        innerTd = innerTd + fromTaskName + ' </td><td style=\"padding: 2px;\"> ' + this.parent.localeObj.getConstant(fromPredecessorText) + ' </td> </tr>';\n        innerTd = innerTd + '<tr id=\"toPredecessor\"><td style=\"padding: 2px;\">' + this.parent.localeObj.getConstant('to') + '</td><td> ' + toTaskName;\n        innerTd = innerTd + ' </td><td style=\"padding: 2px;\"> ' + this.parent.localeObj.getConstant(toPredecessorText) + ' </td></tr></tbody><table>';\n        return innerTd;\n    };\n    /**\n     * Generate aria-label for connectorline\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.generateAriaLabel = function (data) {\n        var type = data.type;\n        var updatedRecords = this.expandedRecords;\n        var fromName = updatedRecords[data.parentIndex].ganttProperties.taskName;\n        var toName = updatedRecords[data.childIndex].ganttProperties.taskName;\n        var start = this.parent.localeObj.getConstant('start');\n        var finish = this.parent.localeObj.getConstant('finish');\n        var value = '';\n        if (type === 'FS') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + start;\n        }\n        else if (type === 'FF') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + finish;\n        }\n        else if (type === 'SS') {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + start;\n        }\n        else {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + finish;\n        }\n        return value;\n    };\n    /**\n     * To get the record based on the predecessor value\n     *\n     * @param {string} id .\n     * @returns {IGanttData} .\n     * @private\n     */\n    ConnectorLine.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var a = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'].filter(function (data) {\n                return data.ganttProperties.taskId.toString() === id.toString();\n            })[0];\n            return a;\n        }\n        else {\n            return this.parent.viewType === 'ResourceView' ? this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id.toString())] :\n                this.parent.flatData[this.parent.ids.indexOf(id.toString())];\n        }\n    };\n    /**\n     * Method to remove connector line from DOM\n     *\n     * @param {IGanttData[] | object} records .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removePreviousConnectorLines = function (records) {\n        var isObjectType;\n        if (isObject(records) === true) {\n            isObjectType = true;\n        }\n        else {\n            isObjectType = false;\n        }\n        var length = isObjectType ? Object.keys(records).length : records.length;\n        var keys = Object.keys(records);\n        for (var i = 0; i < length; i++) {\n            var data = void 0;\n            if (isObjectType) {\n                var uniqueId = keys[i];\n                data = records[uniqueId];\n            }\n            else {\n                data = records[i];\n            }\n            var predecessors = data.ganttProperties && data.ganttProperties.predecessor;\n            if (predecessors && predecessors.length > 0) {\n                for (var pre = 0; pre < predecessors.length; pre++) {\n                    var lineId = 'parent' + predecessors[pre].from + 'child' + predecessors[pre].to;\n                    this.removeConnectorLineById(lineId);\n                }\n            }\n        }\n    };\n    /**\n     * @param {string} id .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removeConnectorLineById = function (id) {\n        var element = this.parent.connectorLineModule.dependencyViewContainer.querySelector('#ConnectorLine' + id.replace(/([.])/g, '\\\\$1'));\n        if (!isNullOrUndefined(element)) {\n            remove(element);\n        }\n    };\n    return ConnectorLine;\n}());\nexport { ConnectorLine };\n","import { createElement, isNullOrUndefined, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { Splitter as SplitterLayout } from '@syncfusion/ej2-layouts';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * Splitter module is used to define the splitter position in Gantt layout.\n */\nvar Splitter = /** @class */ (function () {\n    function Splitter(ganttObj) {\n        this.isSplitterResized = false;\n        this.parent = ganttObj;\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.renderSplitter = function () {\n        var _this = this;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.parent.splitterElement = createElement('div', { className: cls.splitter });\n        this.parent.treeGridPane = createElement('div', { className: cls.treeGridPane });\n        this.parent.chartPane = createElement('div', { className: cls.ganttChartPane });\n        addClass([this.parent.chartPane], 'e-droppable');\n        if (this.parent.enableRtl) {\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n        }\n        else {\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n        }\n        this.splitterObject = new SplitterLayout({\n            height: null,\n            width: this.parent.ganttWidth.toString(),\n            enableRtl: this.parent.enableRtl,\n            separatorSize: this.parent.splitterSettings.separatorSize,\n            paneSettings: [\n                {\n                    resizable: true,\n                    size: splitterPosition,\n                    min: this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum)\n                },\n                {\n                    resizable: true\n                }\n            ],\n            orientation: 'Horizontal',\n            resizeStart: function (args) {\n                if (_this.parent.contextMenuModule && _this.parent.contextMenuModule.isOpen) {\n                    _this.parent.contextMenuModule.contextMenu.close();\n                }\n                var leftPane = args.pane[0];\n                var rightPane = args.pane[1];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterPreviousPositionChart = rightPane.scrollWidth + 1 + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResizeStart', args, function (resizeStartArgs) {\n                    callBackPromise.resolve(resizeStartArgs);\n                });\n                return callBackPromise;\n            },\n            resizing: function (args) {\n                _this.parent.trigger('splitterResizing', args);\n                if (_this.parent.timelineModule.isZoomToFit) {\n                    _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                }\n            },\n            resizeStop: function (args) {\n                _this.parent['calculateDimensions']();\n                _this.isSplitterResized = true;\n                var leftPane = args.pane[0];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                _this.parent.splitterSettings.position = _this.splitterObject.paneSettings[0].size;\n                _this.splitterObject.paneSettings[1].size = (_this.parent.ganttWidth - parseInt(_this.splitterPreviousPositionGrid, 10) - _this.parent.splitterSettings.separatorSize) + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResized', args, function (splitterResizedArgs) {\n                    if (splitterResizedArgs.cancel === true) {\n                        _this.splitterObject.paneSettings[0].size = null;\n                        _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                        _this.parent.splitterSettings.position = _this.splitterObject.paneSettings[0].size;\n                        _this.splitterObject.paneSettings[1].size = null;\n                        _this.splitterObject.paneSettings[1].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionChart);\n                    }\n                    if (isNullOrUndefined(_this.parent.projectEndDate)) {\n                        _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                    }\n                    callBackPromise.resolve(splitterResizedArgs);\n                });\n                return callBackPromise;\n            }\n        });\n        this.parent.element.appendChild(this.parent.splitterElement);\n        this.splitterObject.appendTo(this.parent.splitterElement);\n        var splitterLeftPane = this.splitterObject.element.querySelector('.e-split-bar');\n        if (splitterLeftPane) {\n            var numericValue = parseFloat(splitterPosition.replace('%', ''));\n            var ariaValueNow = Math.min(100, Math.max(0, numericValue));\n            splitterLeftPane.setAttribute('aria-valuenow', ariaValueNow.toString());\n        }\n    };\n    /**\n     * @param {SplitterSettingsModel} splitter .\n     * @returns {string} .\n     * @private\n     */\n    Splitter.prototype.calculateSplitterPosition = function (splitter) {\n        if (!isNullOrUndefined(this.splitterObject) && this.parent.enablePersistence) {\n            return this.splitterObject.paneSettings[0].size;\n        }\n        if (splitter.view === 'Grid') {\n            return this.parent.enableRtl ? '0%' : '100%';\n        }\n        else if (splitter.view === 'Chart') {\n            return this.parent.enableRtl ? '100%' : '0%';\n        }\n        else {\n            if (!isNullOrUndefined(splitter.position) && splitter.position !== '') {\n                return this.getSpliterPositionInPercentage(splitter.position);\n            }\n            else if (!isNullOrUndefined(splitter.columnIndex) && splitter.columnIndex >= 0) {\n                if ((splitter.columnIndex * 150) < this.parent.ganttWidth || !this.parent.element.classList.contains('e-device')) {\n                    return this.getSpliterPositionInPercentage(this.getTotalColumnWidthByIndex(splitter.columnIndex).toString() + 'px');\n                }\n                else {\n                    return this.getSpliterPositionInPercentage((splitter.columnIndex * 130) + 'px');\n                }\n            }\n            else {\n                var ganttWidth = this.parent.ganttWidth;\n                var width = ganttWidth - 250;\n                var widthAsString = width + 'px';\n                return (this.parent.enableRtl) ? this.getSpliterPositionInPercentage(widthAsString) : this.getSpliterPositionInPercentage('250px');\n            }\n        }\n    };\n    /**\n     * @param {string} position .\n     * @returns {string} .\n     */\n    Splitter.prototype.getSpliterPositionInPercentage = function (position) {\n        var value = !isNullOrUndefined(position) && position !== '' ? position : null;\n        if (!isNullOrUndefined(value)) {\n            if (position.indexOf('px') !== -1) {\n                var intValue = parseInt(position, 10);\n                value = (((intValue / this.parent.ganttWidth) * 100) <= 100 ? ((intValue / this.parent.ganttWidth) * 100) + '%' :\n                    '25%');\n            }\n            else {\n                if (this.parent.enableRtl) {\n                    var newPosition = 100 - parseFloat(position);\n                    value = newPosition + '%';\n                }\n                else {\n                    value = position.indexOf('%') === -1 ?\n                        position + '%' : position;\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * @param {number} index .\n     * @returns {number} .\n     */\n    Splitter.prototype.getTotalColumnWidthByIndex = function (index) {\n        var width = 0;\n        var ganttWidth = this.parent.ganttWidth;\n        var originalArray = this.parent.ganttColumns;\n        var newArray = originalArray.filter(function (obj) { return obj.visible === undefined || obj.visible === true; });\n        var deepCopiedArray = newArray.map(function (obj) { return Object.assign({}, obj); });\n        var tr = deepCopiedArray;\n        index = tr.length > index ? index : tr.length;\n        if (this.parent.enableRtl) {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n            width = ganttWidth - width;\n        }\n        else {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n        }\n        return width;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.updateSplitterPosition = function () {\n        this.splitterObject.separatorSize = this.parent.splitterSettings.separatorSize;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.splitterObject.paneSettings[0].min = this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum);\n        this.splitterObject.dataBind();\n        if (!this.isSplitterResized) {\n            this.splitterObject.paneSettings[0].size = splitterPosition;\n        }\n        this.isSplitterResized = false;\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.parent.timelineModule.updateTimelineAfterZooming(this.parent.timelineModule.timelineEndDate, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.triggerCustomResizedEvent = function () {\n        var pane1 = this.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterObject.element.querySelectorAll('.e-pane')[1];\n        var eventArgs = {\n            event: null,\n            element: this.splitterObject.element,\n            pane: [pane1, pane2],\n            index: [0, 1],\n            separator: this.splitterObject.element.querySelector('.e-split-bar'),\n            paneSize: [pane1.offsetWidth, pane2.offsetWidth]\n        };\n        this.parent.trigger('splitterResized', eventArgs);\n        if (eventArgs.cancel === true) {\n            this.splitterObject.paneSettings[0].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionGrid);\n            this.splitterObject.paneSettings[1].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionChart);\n        }\n    };\n    Splitter.prototype.destroy = function () {\n        this.splitterObject.destroy();\n        this.parent.off('destroy', this.destroy);\n    };\n    return Splitter;\n}());\nexport { Splitter };\n","import { Tooltip as TooltipComponent } from '@syncfusion/ej2-popups';\nimport { parentsUntil } from '../base/utils';\nimport * as cls from '../base/css-constants';\nimport { extend, isNullOrUndefined, getValue, EventHandler, closest, SanitizeHtmlHelper, initializeCSPTemplate, append } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * File for handling tooltip in Gantt.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(gantt) {\n        this.parent = gantt;\n        this.createTooltip();\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * To create tooltip.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function () {\n        this.toolTipObj = new TooltipComponent();\n        this.toolTipObj.target = '.e-header-cell-label, .e-gantt-child-taskbar,' +\n            '.e-gantt-parent-taskbar, .e-gantt-milestone, .e-gantt-unscheduled-taskbar' +\n            '.e-event-markers, .e-baseline-bar, .e-event-markers,' +\n            '.e-connector-line-container, .e-indicator-span, .e-notes-info, .e-gantt-manualparent-milestone,' +\n            '.e-taskbar-left-resizer, .e-taskbar-right-resizer, .e-baseline-gantt-milestone-container, .e-gantt-manualparenttaskbar';\n        this.toolTipObj.position = 'BottomCenter';\n        this.toolTipObj.openDelay = 700;\n        this.toolTipObj.enableRtl = this.parent.enableRtl;\n        this.toolTipObj.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        this.toolTipObj.cssClass = cls.ganttTooltip;\n        this.toolTipObj.animation = { open: { effect: 'None', delay: 0 }, close: { effect: 'None', delay: 0 } };\n        this.toolTipObj.afterOpen = this.updateTooltipPosition.bind(this);\n        this.toolTipObj.showTipPointer = false;\n        this.toolTipObj.beforeRender = this.tooltipBeforeRender.bind(this);\n        this.toolTipObj.afterClose = this.tooltipCloseHandler.bind(this);\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.element);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (args) {\n        var parent = this.parent;\n        if (parent.isOnEdit) {\n            args.cancel = true;\n            return;\n        }\n        var element;\n        var row = closest(args.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            element = args.target;\n        }\n        else {\n            element = parentsUntil(args.target, cls.chartRowCell);\n        }\n        var data;\n        var argsData = {\n            data: {},\n            args: args,\n            cancel: false,\n            content: ''\n        };\n        if (args.target.classList.contains('e-header-cell-label')) {\n            if (parent.timelineSettings.showTooltip) {\n                argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('timeline', data, parent, args);\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        else {\n            if (parent.tooltipSettings.showTooltip) {\n                if (element) {\n                    argsData.data = parent.ganttChartModule.getRecordByTaskBar(element);\n                    data = argsData.data;\n                }\n                if (args.target.classList.contains('e-gantt-child-taskbar') ||\n                    args.target.classList.contains('e-gantt-parent-taskbar') ||\n                    args.target.classList.contains('e-gantt-milestone') ||\n                    args.target.classList.contains('e-gantt-unscheduled-taskbar') ||\n                    args.target.classList.contains('e-taskbar-left-resizer') ||\n                    args.target.classList.contains('e-taskbar-right-resizer') ||\n                    (args.target.classList.contains('e-gantt-manualparenttaskbar') && parent.tooltipSettings.taskbar)) {\n                    var taskbarTemplateNode = void 0;\n                    if (parent.tooltipSettings.taskbar) {\n                        taskbarTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.taskbar, parent, data, 'TooltipTaskbarTemplate');\n                    }\n                    var tooltipTemplate = document.createElement('div');\n                    if (taskbarTemplateNode) {\n                        append(taskbarTemplateNode, tooltipTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = taskbarTemplateNode ? tooltipTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'taskbar'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-baseline-bar') ||\n                    args.target.classList.contains('e-baseline-gantt-milestone-container')) {\n                    var baseLineTemplateNode = void 0;\n                    if ((parent.tooltipSettings.baseline)) {\n                        baseLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.baseline, parent, data, 'TooltipBaselineTemplate');\n                    }\n                    var baselineTemplate = document.createElement('div');\n                    if (baseLineTemplateNode) {\n                        append(baseLineTemplateNode, baselineTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = baseLineTemplateNode ? baselineTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'baseline'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-event-markers')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('marker', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-connector-line-container')) {\n                    var dependencyLineTemplateNode = void 0;\n                    parent.tooltipModule.predecessorTooltipData = parent.tooltipModule.getPredecessorTooltipData(args);\n                    argsData.data = this.predecessorTooltipData;\n                    if ((parent.tooltipSettings.connectorLine)) {\n                        dependencyLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.connectorLine, parent, parent.tooltipModule.predecessorTooltipData, 'TooltipConnectorLineTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = dependencyLineTemplateNode ?\n                        dependencyLineTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent('connectorLine', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-indicator-span')) {\n                    argsData.content = this.toolTipObj.content =\n                        parent.tooltipModule.getTooltipContent('indicator', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-notes-info')) {\n                    var ganttData = this.parent.ganttChartModule.getRecordByTarget(args.event);\n                    argsData.content = this.toolTipObj.content = ganttData.ganttProperties.notes;\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparenttaskbar')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualtaskbar', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparent-milestone')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualmilestone', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (args.cancel === false) {\n            var callBackPromise_1 = new Deferred();\n            parent.trigger('beforeTooltipRender', argsData, function (argData) {\n                callBackPromise_1.resolve(argData);\n                if (argData.cancel) {\n                    args.cancel = true;\n                }\n            });\n            this.toolTipObj.content = argsData.content;\n            if (!this.parent.isAdaptive && args.event.type === 'mouseover') {\n                this.currentTarget = args.target;\n                EventHandler.add(this.currentTarget, 'mousemove', this.mouseMoveHandler.bind(this));\n            }\n            this.parent.renderTemplates();\n            return callBackPromise_1;\n        }\n    };\n    // eslint-disable-next-line\n    Tooltip.prototype.tooltipCloseHandler = function (args) {\n        this.tooltipMouseEvent = null;\n        if (!this.parent.isAdaptive && !isNullOrUndefined(this.currentTarget)) {\n            EventHandler.remove(this.currentTarget, 'mousemove', this.mouseMoveHandler);\n        }\n        this.currentTarget = null;\n    };\n    Tooltip.prototype.mouseMoveHandler = function (e) {\n        this.tooltipMouseEvent = e;\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    Tooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            if (isNullOrUndefined(this.tooltipMouseEvent) || args.target.classList.contains('e-notes-info')) {\n                return;\n            }\n            var postion = this.getPointorPosition(this.tooltipMouseEvent);\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var topEnd = containerPosition.top + this.parent.chartPane.offsetHeight;\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = postion.x;\n            var tooltipPositionY = postion.y;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                while (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                    tooltipPositionX = leftEnd - args.element.offsetWidth - 10;\n                    args.element.style.left = tooltipPositionX + 'px';\n                }\n            }\n            else {\n                tooltipPositionX = tooltipPositionX + 10;\n                args.element.style.left = tooltipPositionX + 'px';\n            }\n            if (args.event.clientY > args.element.offsetHeight) {\n                if (window.innerHeight < args.element.offsetHeight + tooltipPositionY) {\n                    tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n                }\n                if ((topEnd < (tooltipPositionY + args.element.offsetHeight + 20))) {\n                    tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n                }\n                else {\n                    tooltipPositionY = tooltipPositionY + 10;\n                }\n            }\n            else {\n                tooltipPositionY = tooltipPositionY + 10;\n            }\n            args.element.style.top = tooltipPositionY + 'px';\n        }\n    };\n    /**\n     * Method to get mouse pointor position\n     *\n     * @param {Event} e .\n     * @returns {number} .\n     */\n    Tooltip.prototype.getPointorPosition = function (e) {\n        var posX;\n        var posY;\n        if (!isNullOrUndefined(getValue('pageX', e)) || !isNullOrUndefined(getValue('pageY', e))) {\n            posX = getValue('pageX', e);\n            posY = getValue('pageY', e);\n        }\n        else if (!isNullOrUndefined(getValue('clientX', e)) || !isNullOrUndefined(getValue('clientY', e))) {\n            posX = getValue('clientX', e) + document.body.scrollLeft + document.documentElement.scrollLeft;\n            posY = getValue('clientY', e) + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n        return { x: posX, y: posY };\n    };\n    /**\n     *  Getting tooltip content for different elements\n     *\n     * @param {string} elementType .\n     * @param {IGanttData} ganttData .\n     * @param {Gantt} parent .\n     * @param {TooltipEventArgs} args .\n     * @returns {string | Function} .\n     */\n    Tooltip.prototype.getTooltipContent = function (elementType, ganttData, parent, args) {\n        var content;\n        var data;\n        var taskName;\n        if (ganttData) {\n            data = ganttData.ganttProperties;\n            var taskNameValue = data.taskName;\n            if (this.parent.enableHtmlSanitizer && typeof (taskNameValue) === 'string') {\n                taskNameValue = SanitizeHtmlHelper.sanitize(taskNameValue);\n            }\n            taskName = !isNullOrUndefined(taskNameValue) ? '<tr class = \"e-gantt-tooltip-rowcell\"><td colspan=\"3\">' +\n                (this.parent.disableHtmlEncode ? taskNameValue.replace(/</g, '&lt;').replace(/>/g, '&gt;') : taskNameValue) + '</td></tr>' : '';\n        }\n        switch (elementType) {\n            case 'milestone':\n                {\n                    var milestoneStartDate = void 0;\n                    if (args.target.className.includes('e-baseline-gantt-milestone-container') && !isNullOrUndefined(data.baselineStartDate)) {\n                        milestoneStartDate = data.baselineStartDate;\n                    }\n                    else if (!isNullOrUndefined(data.startDate)) {\n                        milestoneStartDate = data.startDate;\n                    }\n                    var sDateValue = this.parent.getFormatedDate(milestoneStartDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer && typeof (sDateValue) === 'string') {\n                        sDateValue = SanitizeHtmlHelper.sanitize(sDateValue);\n                    }\n                    var sDate_1 = !isNullOrUndefined(milestoneStartDate) ? '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        sDateValue + '</td></tr>' : '';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + sDate_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'taskbar':\n                {\n                    var scheduledTask = !ganttData.hasChildRecords || data.isAutoSchedule ? true : false;\n                    var startDateValue = this.parent.getFormatedDate(scheduledTask ? data.startDate : data.autoStartDate, this.parent.getDateFormat());\n                    var endDateValue = this.parent.getFormatedDate(scheduledTask ? data.endDate : data.autoEndDate, this.parent.getDateFormat());\n                    var durationValue = this.parent.getDurationString((scheduledTask ? data.duration : data.autoDuration), data.durationUnit);\n                    var progressValue = data.progress;\n                    if (this.parent.enableHtmlSanitizer) {\n                        startDateValue = typeof (startDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(startDateValue) : startDateValue;\n                        endDateValue = typeof (endDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(endDateValue) : endDateValue;\n                        durationValue = SanitizeHtmlHelper.sanitize(durationValue);\n                    }\n                    var startDate_1 = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'startDate' : 'subTasksStartDate') +\n                        '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + startDateValue + '</td></tr>' : '';\n                    var endDate_1 = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'endDate' : 'subTasksEndDate') +\n                        '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\">' + endDateValue + '</td></tr>' : '';\n                    var duration_1 = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td style=\"padding: 2px;\">:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationValue +\n                        '</td></tr>' : '';\n                    var progress_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('progress') + '</td><td style=\"padding: 2px;\">:</td><td>' + progressValue +\n                        '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + startDate_1 + endDate_1 + duration_1 + progress_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'baseline':\n                {\n                    var baselineStartDateValue_1 = this.parent.getFormatedDate(data.baselineStartDate, this.parent.getDateFormat());\n                    var baselineEndDateValue_1 = this.parent.getFormatedDate(data.baselineEndDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        baselineStartDateValue_1 = SanitizeHtmlHelper.sanitize(baselineStartDateValue_1);\n                        baselineEndDateValue_1 = SanitizeHtmlHelper.sanitize(baselineEndDateValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + '<tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('baselineStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            baselineStartDateValue_1 + '</td></tr><tr>' +\n                            '<td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('baselineEndDate') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            baselineEndDateValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'marker':\n                {\n                    var markerTooltipElement = parent.tooltipModule.getMarkerTooltipData(args);\n                    var markerTooltipElementValue_1 = this.parent.getFormatedDate(this.parent.dateValidationModule.getDateFromFormat(markerTooltipElement.day), this.parent.getDateFormat());\n                    var markerLabel_1 = markerTooltipElement.label ? markerTooltipElement.label : '';\n                    if (this.parent.enableHtmlSanitizer) {\n                        markerLabel_1 = SanitizeHtmlHelper.sanitize(markerLabel_1);\n                        markerTooltipElementValue_1 = SanitizeHtmlHelper.sanitize(markerTooltipElementValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td>' +\n                            markerTooltipElementValue_1 + '</td></tr><tr><td>' + (this.parent.disableHtmlEncode ? markerLabel_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : markerLabel_1) + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'connectorLine':\n                {\n                    var fromNameValue_1 = parent.tooltipModule.predecessorTooltipData.fromName;\n                    var fromIdValue_1 = parent.tooltipModule.predecessorTooltipData.fromId;\n                    var toNameValue_1 = parent.tooltipModule.predecessorTooltipData.toName;\n                    var toIdValue_1 = parent.tooltipModule.predecessorTooltipData.toId;\n                    var linkTextValue_1 = parent.tooltipModule.predecessorTooltipData.linkText;\n                    var offsetStringValue_1 = parent.tooltipModule.predecessorTooltipData.offsetString;\n                    if (this.parent.enableHtmlSanitizer) {\n                        fromNameValue_1 = SanitizeHtmlHelper.sanitize(fromNameValue_1);\n                        fromIdValue_1 = SanitizeHtmlHelper.sanitize(fromIdValue_1);\n                        toNameValue_1 = SanitizeHtmlHelper.sanitize(toNameValue_1);\n                        toIdValue_1 = SanitizeHtmlHelper.sanitize(toIdValue_1);\n                        linkTextValue_1 = SanitizeHtmlHelper.sanitize(linkTextValue_1);\n                        offsetStringValue_1 = SanitizeHtmlHelper.sanitize(offsetStringValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('from') + '</td><td>:</td>' +\n                            '<td class = \"e-gantt-tooltip-value\">' + (this.parent.disableHtmlEncode ? fromNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromNameValue_1) + ' (' +\n                            (this.parent.disableHtmlEncode ? (typeof (fromIdValue_1) === 'string' ? fromIdValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromIdValue_1) : fromIdValue_1) + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('to') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            (this.parent.disableHtmlEncode ? toNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : toNameValue_1) + ' (' + toIdValue_1 + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('taskLink') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\"> ' + linkTextValue_1 +\n                            '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('lag') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            offsetStringValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'indicator':\n                if (args.target.title.length) {\n                    var titleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (titleValue_1) === 'string') {\n                        titleValue_1 = SanitizeHtmlHelper.sanitize(titleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + titleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                }\n                break;\n            case 'timeline':\n                {\n                    var timlineTitleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (timlineTitleValue_1) === 'string') {\n                        timlineTitleValue_1 = SanitizeHtmlHelper.sanitize(timlineTitleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + timlineTitleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualtaskbar':\n                {\n                    var autoStartDateValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndDateValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var durationUnitValue = this.parent.getDurationString(data.duration, data.durationUnit);\n                    var manualStartDateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    var manualEndDateValue = this.parent.getFormatedDate(data.endDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartDateValue = SanitizeHtmlHelper.sanitize(autoStartDateValue);\n                        autoEndDateValue = SanitizeHtmlHelper.sanitize(autoEndDateValue);\n                        durationUnitValue = SanitizeHtmlHelper.sanitize(durationUnitValue);\n                        manualStartDateValue = SanitizeHtmlHelper.sanitize(manualStartDateValue);\n                        manualEndDateValue = SanitizeHtmlHelper.sanitize(manualEndDateValue);\n                    }\n                    var autoStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartDateValue + '</td></tr>';\n                    var autoEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndDateValue + '</td></tr>';\n                    var durationValue_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationUnitValue +\n                        '</td></tr>';\n                    var manualStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('startDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        manualStartDateValue + '</td></tr>';\n                    var manualEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('endDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        manualEndDateValue + '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + manualStartDate_1 + autoStartDate_1 + manualEndDate_1 + autoEndDate_1 + durationValue_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualmilestone':\n                {\n                    var autoStartValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var dateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartValue = SanitizeHtmlHelper.sanitize(autoStartValue);\n                        autoEndValue = SanitizeHtmlHelper.sanitize(autoEndValue);\n                        dateValue = SanitizeHtmlHelper.sanitize(dateValue);\n                    }\n                    var autoStart_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartValue + '</td></tr>';\n                    var autoEnd_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndValue + '</td></tr>';\n                    var date_1 = '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        dateValue + '</tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + date_1 + autoStart_1 + autoEnd_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n        }\n        return content;\n    };\n    /**\n     * To get the details of an event marker.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {EventMarkerModel} .\n     * @private\n     */\n    Tooltip.prototype.getMarkerTooltipData = function (args) {\n        var markerTooltipId = (args.target.id).match(/\\d+/g);\n        var markerTooltipElement = this.parent.eventMarkers[Number(markerTooltipId)];\n        return markerTooltipElement;\n    };\n    /**\n     * To get the details of a connector line.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {PredecessorTooltip} .\n     * @private\n     */\n    Tooltip.prototype.getPredecessorTooltipData = function (args) {\n        var predeceesorParent = args.target.id;\n        if (this.parent.enableHtmlSanitizer && typeof (predeceesorParent) === 'string') {\n            predeceesorParent = SanitizeHtmlHelper.sanitize(predeceesorParent);\n        }\n        var taskIds = predeceesorParent.match(/ConnectorLineparent(.*)child(.*)/);\n        taskIds.shift();\n        var fromTask;\n        var toTask;\n        if (this.parent.viewType === 'ResourceView') {\n            fromTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[0])];\n            toTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[1])];\n        }\n        else {\n            fromTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[0])];\n            toTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[1])];\n        }\n        var predecessor = (fromTask.ganttProperties.predecessor).filter(function (pdc) { return pdc.to === taskIds[1]; });\n        var predecessorTooltipData = {\n            fromId: this.parent.viewType === 'ResourceView' ? fromTask.ganttProperties.taskId : fromTask.ganttProperties.rowUniqueID,\n            toId: this.parent.viewType === 'ResourceView' ? toTask.ganttProperties.taskId : toTask.ganttProperties.rowUniqueID,\n            fromName: fromTask.ganttProperties.taskName,\n            toName: toTask.ganttProperties.taskName,\n            linkType: predecessor[0].type,\n            linkText: this.parent.getPredecessorTextValue(predecessor[0].type),\n            offset: predecessor[0].offset,\n            offsetUnit: predecessor[0].offsetUnit,\n            offsetString: this.parent.getDurationString(predecessor[0].offset, predecessor[0].offsetUnit)\n        };\n        return predecessorTooltipData;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string | Function} template .\n     * @param {Gantt} parent .\n     * @param {IGanttData|PredecessorTooltip} data .\n     * @param {string} propName .\n     * @returns {NodeList} .\n     * @private\n     */\n    Tooltip.prototype.templateCompiler = function (template, parent, data, propName) {\n        var tooltipFunction = parent.chartRowsModule.templateCompiler(template);\n        var templateID = parent.chartRowsModule.getTemplateID(propName);\n        var templateNode = tooltipFunction(extend({ index: 0 }, data), parent, propName, templateID, true);\n        return templateNode;\n    };\n    Tooltip.prototype.destroy = function () {\n        this.toolTipObj.destroy();\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","import { isNullOrUndefined, getValue, removeClass } from '@syncfusion/ej2-base';\n/**\n * Focus module is used to handle certain action on focus elements in keyboard navigations.\n */\nvar FocusModule = /** @class */ (function () {\n    function FocusModule(parent) {\n        this.parent = parent;\n        this.activeElement = null;\n        this.previousActiveElement = null;\n    }\n    FocusModule.prototype.getActiveElement = function (isPreviousActiveElement) {\n        return isPreviousActiveElement ? this.previousActiveElement : this.activeElement;\n    };\n    FocusModule.prototype.setActiveElement = function (element) {\n        this.previousActiveElement = this.activeElement;\n        this.activeElement = element;\n    };\n    /**\n     * To perform key interaction in Gantt\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    FocusModule.prototype.onKeyPress = function (e) {\n        var ganttObj = this.parent;\n        var ele = e.target;\n        var expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        if (isNullOrUndefined(this.parent.focusModule.getActiveElement()) && (e.action === 'expandAll' || e.action === 'collapseAll')) {\n            var focussedElement = this.parent.element.querySelector('.e-treegrid');\n            focussedElement.focus();\n        }\n        if (!this.parent.isEdit && !isNullOrUndefined(ele) && ele.closest('.e-headercell') && (e.key === 'Enter') && this.parent.sortModule\n            && this.parent.allowSorting) {\n            e.action = 'enter';\n            this.parent.treeGrid.grid.notify('key-pressed', e);\n        }\n        var targetElement = this.parent.focusModule.getActiveElement();\n        if (e.action === 'home' || e.action === 'end' || e.action === 'downArrow' || e.action === 'upArrow' || e.action === 'delete' ||\n            e.action === 'rightArrow' || e.action === 'leftArrow' || e.action === 'focusTask' || e.action === 'focusSearch' ||\n            e.action === 'expandAll' || e.action === 'collapseAll' || e.action === 'undo' || e.action === 'redo' || e.action === 'selectAll') {\n            if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                ganttObj.editModule.cellEditModule.isCellEdit === true) {\n                return;\n            }\n        }\n        if (ganttObj.isAdaptive) {\n            if (e.action === 'addRowDialog' || e.action === 'editRowDialog' || e.action === 'delete'\n                || e.action === 'addRow') {\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.type === 'Multiple') {\n                    ganttObj.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (e.action) {\n            case 'home':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    if (ganttObj.selectedRowIndex === 0) {\n                        return;\n                    }\n                    if (ganttObj.selectionModule && ganttObj.selectionModule.getCellSelectedRecords().length === 0) {\n                        ganttObj.selectionModule.selectRow(0, false, true);\n                    }\n                }\n                break;\n            case 'end':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    var currentSelectingRecord = expandedRecords[expandedRecords.length - 1];\n                    if (ganttObj.selectedRowIndex === ganttObj.flatData.indexOf(currentSelectingRecord)) {\n                        return;\n                    }\n                    if (ganttObj.selectionModule && ganttObj.selectionModule.getCellSelectedRecords().length === 0) {\n                        ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                    }\n                }\n                break;\n            case 'downArrow':\n            case 'upArrow':\n                {\n                    var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                    if (searchElement && searchElement.parentElement.classList.contains('e-input-focus')) {\n                        ganttObj.selectionModule.clearSelection();\n                    }\n                    if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                        this.upDownKeyNavigate(e);\n                        if (!isNullOrUndefined(targetElement) && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                            ganttObj.ganttChartModule.manageFocus(this.getActiveElement(), 'remove', true, e.action);\n                        }\n                        if (ganttObj.selectionSettings && ganttObj.selectionSettings.mode === 'Both' && e.target instanceof HTMLElement && e.target.classList.contains('e-cellselectionbackground')) {\n                            e.target.classList.remove('e-cellselectionbackground');\n                        }\n                    }\n                    break;\n                }\n            case 'expandAll':\n                ganttObj.ganttChartModule.expandCollapseAll('expand');\n                break;\n            case 'collapseAll':\n                ganttObj.ganttChartModule.expandCollapseAll('collapse');\n                break;\n            case 'expandRow':\n            case 'collapseRow':\n                this.expandCollapseKey(e);\n                break;\n            case 'saveRequest':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                    ganttObj.editModule.cellEditModule.isCellEdit) {\n                    var col = ganttObj.editModule.cellEditModule.editedColumn;\n                    if (col.field === ganttObj.columnMapping.duration && !isNullOrUndefined(col.edit) &&\n                        !isNullOrUndefined(col.edit.read)) {\n                        var textBox = e.target.ej2_instances[0];\n                        var textValue = e.target.value;\n                        // const ganttProp: ITaskData = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties;\n                        var tempValue = void 0;\n                        if (col.field === ganttObj.columnMapping.duration) {\n                            // tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? (col.edit.read as Function)() :\n                            //     // eslint-disable-next-line\n                            //     !isNullOrUndefined(col.valueAccessor) ? (col.valueAccessor as Function)(ganttObj.columnMapping.duration, ganttObj.editedRecords, col) :\n                            //         ganttObj.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                                tempValue = col.edit.read();\n                            }\n                            if (textValue !== tempValue.toString()) {\n                                textBox.value = textValue;\n                                textBox.dataBind();\n                            }\n                        }\n                    }\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.treeGrid.grid.saveCell();\n                    var focussedElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedElement.focus();\n                }\n                // if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isNullOrUndefined(targetElement)\n                //     && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                //     const target: EventTarget = e.target;\n                //     const taskbarElement: Element = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                //             '.e-gantt-child-taskbar,.e-gantt-milestone');\n                //     if (taskbarElement) {\n                //         this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                //     }\n                // }\n                if (!isNullOrUndefined(targetElement)\n                    && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                    var target = e.target;\n                    var taskbarElement = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                        '.e-gantt-child-taskbar,.e-gantt-milestone');\n                    if (taskbarElement) {\n                        this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                    }\n                }\n                break;\n            case 'escape':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule)) {\n                    ganttObj.editModule.cellEditModule.isCellEdit = false;\n                    if (!isNullOrUndefined(ganttObj.toolbarModule)) {\n                        ganttObj.toolbarModule.refreshToolbarItems();\n                    }\n                }\n                break;\n            case 'addRow':\n                {\n                    if (ganttObj.editModule && ganttObj.editModule.cellEditModule && ganttObj.editModule.cellEditModule.isCellEdit) {\n                        e.stopPropagation();\n                    }\n                    else if (isNullOrUndefined(document.getElementById(this.parent.element.id + '_dialog'))) {\n                        e.preventDefault();\n                        ganttObj.addRecord(undefined, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n                        var focussedElement = ganttObj.element;\n                        focussedElement.focus();\n                    }\n                    break;\n                }\n            case 'addRowDialog':\n                e.preventDefault();\n                if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowAdding) {\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.editModule.dialogModule.openAddDialog();\n                }\n                break;\n            case 'editRowDialog':\n                {\n                    e.preventDefault();\n                    var focussedTreeElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedTreeElement.focus();\n                    if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowEditing) {\n                        if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                            return;\n                        }\n                        ganttObj.editModule.dialogModule.openToolbarEditDialog();\n                    }\n                    break;\n                }\n            case 'delete':\n                if (ganttObj.selectionModule && ganttObj.editModule && ganttObj.editModule.dialogModule &&\n                    (!ganttObj.editModule.dialogModule.dialogObj || (ganttObj.editModule.dialogModule.dialogObj &&\n                        !ganttObj.editModule.dialogModule.dialogObj.visible)) && (!ganttObj.editSettings.allowTaskbarEditing\n                    || (ganttObj.editSettings.allowTaskbarEditing && !ganttObj.editModule.taskbarEditModule.touchEdit))) {\n                    if ((ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectionModule.selectedRowIndexes.length)\n                        || (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length)) {\n                        if (!isNullOrUndefined(e.target)) {\n                            if (e.target['tagName'] !== 'INPUT') {\n                                ganttObj.editModule.startDeleteAction();\n                            }\n                        }\n                        else {\n                            ganttObj.editModule.startDeleteAction();\n                        }\n                    }\n                }\n                break;\n            case 'focusTask':\n                {\n                    e.preventDefault();\n                    var selectedId = void 0;\n                    if (ganttObj.selectionModule) {\n                        var currentViewData = ganttObj.currentViewData;\n                        if (ganttObj.selectionSettings.mode !== 'Cell' &&\n                            !isNullOrUndefined(currentViewData[ganttObj.selectedRowIndex])) {\n                            selectedId = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties.rowUniqueID;\n                        }\n                        else if (ganttObj.selectionSettings.mode === 'Cell' &&\n                            ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                            var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                            selectedId = currentViewData[selectCellIndex[selectCellIndex.length - 1].rowIndex].ganttProperties.rowUniqueID;\n                        }\n                    }\n                    if (selectedId) {\n                        ganttObj.scrollToTask(selectedId.toString());\n                    }\n                    break;\n                }\n            case 'focusSearch':\n                {\n                    if (ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar')) {\n                        var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                        searchElement.setAttribute('tabIndex', '-1');\n                        searchElement.focus();\n                    }\n                    break;\n                }\n            case 'tab':\n            case 'shiftTab':\n                if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                    ganttObj.ganttChartModule.onTabAction(e);\n                }\n                break;\n            case 'contextMenu':\n                {\n                    var contextMenu = document.getElementById(this.parent.element.id +\n                        '_contextmenu').ej2_instances[0];\n                    var containerPosition = this.parent.getOffsetRect(e.target);\n                    var top_1 = containerPosition.top + (containerPosition.height / 2);\n                    var left = containerPosition.left + (containerPosition.width / 2);\n                    this.setActiveElement(e.target);\n                    contextMenu.open(top_1, left);\n                    e.preventDefault();\n                    break;\n                }\n            case 'undo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                        this.parent.undo();\n                    }\n                    break;\n                }\n            case 'redo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getRedoCollection'].length > 0) {\n                        this.parent.redo();\n                    }\n                    break;\n                }\n            case 'selectAll':\n                {\n                    e.preventDefault();\n                    var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n                    if (ganttRow.length > 0) {\n                        var firstRowIndex = ganttRow[0].getAttribute('data-rowindex');\n                        var lastRowIndex = ganttRow[ganttRow.length - 1].getAttribute('data-rowindex');\n                        if (!isNullOrUndefined(firstRowIndex)) {\n                            firstRowIndex = Number(firstRowIndex);\n                        }\n                        if (!isNullOrUndefined(lastRowIndex)) {\n                            lastRowIndex = Number(lastRowIndex);\n                        }\n                        if (!isNullOrUndefined(firstRowIndex) && !isNullOrUndefined(lastRowIndex)) {\n                            this.parent.selectionModule.selectRowsByRange(firstRowIndex, lastRowIndex);\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    var eventArgs = {\n                        requestType: 'keyPressed',\n                        action: e.action,\n                        keyEvent: e\n                    };\n                    ganttObj.trigger('actionComplete', eventArgs);\n                    break;\n                }\n        }\n    };\n    FocusModule.prototype.upDownKeyNavigate = function (e) {\n        e.preventDefault();\n        var ganttObj = this.parent;\n        var expandedRecords;\n        if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            expandedRecords = ganttObj.getExpandedRecords(ganttObj.flatData);\n        }\n        else {\n            expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        }\n        if (ganttObj.selectionModule) {\n            if (ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectedRowIndex !== -1) {\n                var selectedItem = void 0;\n                if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                    selectedItem = ganttObj.flatData[ganttObj.selectedRowIndex];\n                }\n                else {\n                    selectedItem = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n                }\n                var focussedElement = ganttObj.element.querySelector('.e-focused');\n                if (focussedElement) {\n                    removeClass([focussedElement], 'e-focused');\n                }\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var activeElement = this.parent['args'];\n                if (document.activeElement !== activeElement) {\n                    if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                        ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                    }\n                    else {\n                        ganttObj.selectionModule.selectRow(ganttObj.currentViewData.indexOf(currentSelectingRecord), false, true);\n                    }\n                }\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                var selectedCellItem = selectCellIndex[selectCellIndex.length - 1];\n                var currentCellIndex = selectedCellItem.cellIndexes[selectedCellItem.cellIndexes.length - 1];\n                var selectedItem = ganttObj.currentViewData[selectedCellItem.rowIndex];\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var cellInfo = {\n                    rowIndex: ganttObj.currentViewData.indexOf(currentSelectingRecord),\n                    cellIndex: currentCellIndex\n                };\n                ganttObj.selectionModule.selectCell(cellInfo);\n            }\n            this.parent.ganttChartModule.focusedRowIndex = this.parent.selectedRowIndex;\n        }\n    };\n    FocusModule.prototype.expandCollapseKey = function (e) {\n        var ganttObj = this.parent;\n        if (ganttObj.selectionModule && ganttObj.selectedRowIndex !== -1) {\n            var selectedRowIndex_1;\n            if (ganttObj.selectionSettings.mode !== 'Cell') {\n                selectedRowIndex_1 = ganttObj.selectedRowIndex;\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                selectedRowIndex_1 = selectCellIndex[selectCellIndex.length - 1].rowIndex;\n            }\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                selectedRowIndex_1 = this.parent.currentViewData.findIndex(function (obj) { return obj.ganttProperties.rowUniqueID ===\n                    selectedRowIndex_1.toString(); }) + 1;\n            }\n            if (e.action === 'expandRow') {\n                ganttObj.expandByIndex(selectedRowIndex_1);\n            }\n            else {\n                ganttObj.collapseByIndex(selectedRowIndex_1);\n            }\n        }\n    };\n    return FocusModule;\n}());\nexport { FocusModule };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, createElement, Complex, addClass, removeClass, Event, formatUnit, Browser, closest } from '@syncfusion/ej2-base';\nimport { Internationalization, extend, getValue, isObjectArray, isObject, setValue, isUndefined } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, L10n, EventHandler } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, KeyboardEvents, Collection, append, remove } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { TaskProcessor } from './task-processor';\nimport { GanttChart } from './gantt-chart';\nimport { Timeline } from '../renderer/timeline';\nimport { GanttTreeGrid } from './tree-grid';\nimport { SortSettings } from '../models/models';\nimport { LoadingIndicator } from '../models/models';\nimport { TaskFields, TimelineSettings, Holiday, EventMarker, DayWorkingTime, EditSettings, SelectionSettings } from '../models/models';\nimport { FilterSettings, SplitterSettings, TooltipSettings, LabelSettings } from '../models/models';\nimport { SearchSettings, ResourceFields } from '../models/models';\nimport { DateProcessor } from './date-processor';\nimport { ChartRows } from '../renderer/chart-rows';\nimport { Dependency } from '../actions/dependency';\nimport * as cls from './css-constants';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\nimport { ConnectorLine } from '../renderer/connector-line';\nimport { Splitter } from './splitter';\nimport { Tooltip } from '../renderer/tooltip';\nimport { FocusModule } from '../actions/keyboard';\nimport { isCountRequired } from './utils';\nimport { WeekWorkingTime } from '../models/week-working-time';\n/**\n *\n * Represents the Gantt chart component.\n * ```html\n * <div id='gantt'></div>\n * <script>\n *  var ganttObject = new Gantt({\n *      taskFields: { id: 'taskId', name: 'taskName', startDate: 'startDate', duration: 'duration' }\n *  });\n *  ganttObject.appendTo('#gantt');\n * </script>\n * ```\n */\nvar Gantt = /** @class */ (function (_super) {\n    __extends(Gantt, _super);\n    function Gantt(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isRowSelected = false;\n        _this.showIndicator = true;\n        _this.singleTier = 0;\n        _this.expandedRecords = [];\n        _this.isLocaleChanged = false;\n        _this.triggeredColumnName = '';\n        _this.totalUndoAction = 0;\n        _this.previousFlatData = [];\n        _this.isExpandPerformed = false;\n        _this.oldRecords = [];\n        _this.updateDuration = false;\n        _this.isConvertedMilestone = false;\n        /** @hidden */\n        _this.isCancelled = false;\n        /** @hidden */\n        _this.isCollapseAll = false;\n        /** @hidden */\n        _this.previousRecords = {};\n        /** @hidden */\n        _this.editedRecords = [];\n        /** @hidden */\n        _this.modifiedRecords = [];\n        /** @hidden */\n        _this.isOnEdit = false;\n        /** @hidden */\n        _this.isOnDelete = false;\n        /** @hidden */\n        _this.isOnAdded = false;\n        /** @hidden */\n        _this.isExpandCollapseLevelMethod = false;\n        /** @hidden */\n        _this.isFromEventMarker = false;\n        /** @hidden */\n        _this.isDynamicData = false;\n        /** @hidden */\n        _this.isConnectorLineUpdate = false;\n        /** @hidden */\n        _this.staticSelectedRowIndex = -1;\n        _this.needsID = true;\n        /** @hidden */\n        _this.showActiveElement = true;\n        /** @hidden */\n        _this.addDeleteRecord = false;\n        /** @hidden */\n        _this.enableHeaderFocus = true;\n        /** @hidden */\n        _this.enableValidation = true;\n        /**\n         * @private\n         */\n        _this.isTreeGridRendered = false;\n        /**\n         * @private\n         */\n        _this.isFromOnPropertyChange = false;\n        /**\n         * @private\n         */\n        _this.isFromRenderBaseline = false;\n        /**\n         * @private\n         */\n        _this.isGanttChartRendered = false;\n        /**\n         * @private\n         */\n        _this.isEdit = false;\n        /**\n         * To get the module name\n         *\n         * @returns {string} .\n         * @private\n         */\n        _this.eventMarkerColloction = [];\n        setValue('mergePersistData', _this.mergePersistGanttData, _this);\n        return _this;\n    }\n    Gantt.prototype.getModuleName = function () {\n        return 'gantt';\n    };\n    /**\n     * For internal use only - Initialize the event handler\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.preRender = function () {\n        this.initProperties();\n    };\n    Gantt.prototype.getCurrentDayStartTime = function (date) {\n        var dayStartTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayStartTime = this['getStartTime'](date);\n        }\n        else {\n            dayStartTime = this.defaultStartTime;\n        }\n        return dayStartTime;\n    };\n    Gantt.prototype.getCurrentDayEndTime = function (date) {\n        var dayEndTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayEndTime = this['getEndTime'](date);\n        }\n        else {\n            dayEndTime = this.defaultEndTime;\n        }\n        return dayEndTime;\n    };\n    Gantt.prototype.getStartTime = function (date) {\n        var day = date.getDay();\n        var startTime;\n        switch (day) {\n            case 0:\n                startTime = this.sundayDefaultStartTime;\n                break;\n            case 1:\n                startTime = this.mondayDefaultStartTime;\n                break;\n            case 2:\n                startTime = this.tuesdayDefaultStartTime;\n                break;\n            case 3:\n                startTime = this.wednesdayDefaultStartTime;\n                break;\n            case 4:\n                startTime = this.thursdayDefaultStartTime;\n                break;\n            case 5:\n                startTime = this.fridayDefaultStartTime;\n                break;\n            default:\n                startTime = this.saturdayDefaultStartTime;\n                break;\n        }\n        return startTime;\n    };\n    Gantt.prototype.getEndTime = function (date) {\n        var day = date.getDay();\n        var endTime;\n        switch (day) {\n            case 0:\n                endTime = this.sundayDefaultEndTime;\n                break;\n            case 1:\n                endTime = this.mondayDefaultEndTime;\n                break;\n            case 2:\n                endTime = this.tuesdayDefaultEndTime;\n                break;\n            case 3:\n                endTime = this.wednesdayDefaultEndTime;\n                break;\n            case 4:\n                endTime = this.thursdayDefaultEndTime;\n                break;\n            case 5:\n                endTime = this.fridayDefaultEndTime;\n                break;\n            default:\n                endTime = this.saturdayDefaultEndTime;\n                break;\n        }\n        return endTime;\n    };\n    Gantt.prototype.getNonWorkingRange = function (date) {\n        var day = date.getDay();\n        var nonWorkingTimeRange;\n        switch (day) {\n            case 0:\n                nonWorkingTimeRange = this.sundayNonWorkingTimeRanges;\n                break;\n            case 1:\n                nonWorkingTimeRange = this.mondayNonWorkingTimeRanges;\n                break;\n            case 2:\n                nonWorkingTimeRange = this.tuesdayNonWorkingTimeRanges;\n                break;\n            case 3:\n                nonWorkingTimeRange = this.wednesdayNonWorkingTimeRanges;\n                break;\n            case 4:\n                nonWorkingTimeRange = this.thursdayNonWorkingTimeRanges;\n                break;\n            case 5:\n                nonWorkingTimeRange = this.fridayNonWorkingTimeRanges;\n                break;\n            default:\n                nonWorkingTimeRange = this.saturdayNonWorkingTimeRanges;\n                break;\n        }\n        return nonWorkingTimeRange;\n    };\n    Gantt.prototype.getWorkingRange = function (date) {\n        var day = date.getDay();\n        var workingTimeRanges;\n        switch (day) {\n            case 0:\n                workingTimeRanges = this.sundayWorkingTimeRanges;\n                break;\n            case 1:\n                workingTimeRanges = this.mondayWorkingTimeRanges;\n                break;\n            case 2:\n                workingTimeRanges = this.tuesdayWorkingTimeRanges;\n                break;\n            case 3:\n                workingTimeRanges = this.wednesdayWorkingTimeRanges;\n                break;\n            case 4:\n                workingTimeRanges = this.thursdayWorkingTimeRanges;\n                break;\n            case 5:\n                workingTimeRanges = this.fridayWorkingTimeRanges;\n                break;\n            default:\n                workingTimeRanges = this.saturdayWorkingTimeRanges;\n                break;\n        }\n        return workingTimeRanges;\n    };\n    Gantt.prototype.getSecondsPerDay = function (date) {\n        var day = date.getDay();\n        var totalSeconds;\n        switch (day) {\n            case 0:\n                totalSeconds = this.sundaySeconds;\n                break;\n            case 1:\n                totalSeconds = this.mondaySeconds;\n                break;\n            case 2:\n                totalSeconds = this.tuesdaySeconds;\n                break;\n            case 3:\n                totalSeconds = this.wednesdaySeconds;\n                break;\n            case 4:\n                totalSeconds = this.thursdaySeconds;\n                break;\n            case 5:\n                totalSeconds = this.fridaySeconds;\n                break;\n            case 6:\n                totalSeconds = this.saturdaySeconds;\n                break;\n            default:\n                totalSeconds = this.secondsPerDay;\n                break;\n        }\n        return totalSeconds;\n    };\n    Gantt.prototype.initProperties = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.isAdaptive = Browser.isDevice;\n        this.flatData = [];\n        this.currentViewData = [];\n        this.updatedRecords = [];\n        this.ids = [];\n        this.ganttColumns = [];\n        this.updateOffsetOnTaskbarEdit = this.UpdateOffsetOnTaskbarEdit === false ?\n            this.UpdateOffsetOnTaskbarEdit : this.updateOffsetOnTaskbarEdit;\n        this.localeObj = new L10n(this.getModuleName(), this.getDefaultLocale(), this.locale);\n        this.dataOperation = new TaskProcessor(this);\n        this.nonWorkingHours = [];\n        this.mondayNonWorkingHours = [];\n        this.tuesdayNonWorkingHours = [];\n        this.wednesdayNonWorkingHours = [];\n        this.thursdayNonWorkingHours = [];\n        this.fridayNonWorkingHours = [];\n        this.saturdayNonWorkingHours = [];\n        this.sundayNonWorkingHours = [];\n        this.nonWorkingTimeRanges = [];\n        this.mondayNonWorkingTimeRanges = [];\n        this.tuesdayNonWorkingTimeRanges = [];\n        this.wednesdayNonWorkingTimeRanges = [];\n        this.thursdayNonWorkingTimeRanges = [];\n        this.fridayNonWorkingTimeRanges = [];\n        this.saturdayNonWorkingTimeRanges = [];\n        this.sundayNonWorkingTimeRanges = [];\n        this.workingTimeRanges = [];\n        this.mondayWorkingTimeRanges = [];\n        this.tuesdayWorkingTimeRanges = [];\n        this.wednesdayWorkingTimeRanges = [];\n        this.thursdayWorkingTimeRanges = [];\n        this.fridayWorkingTimeRanges = [];\n        this.saturdayWorkingTimeRanges = [];\n        this.sundayWorkingTimeRanges = [];\n        this.defaultEndTime = null;\n        this.defaultStartTime = null;\n        this.mondayDefaultStartTime = null;\n        this.mondayDefaultEndTime = null;\n        this.tuesdayDefaultStartTime = null;\n        this.tuesdayDefaultEndTime = null;\n        this.wednesdayDefaultStartTime = null;\n        this.wednesdayDefaultEndTime = null;\n        this.thursdayDefaultStartTime = null;\n        this.thursdayDefaultEndTime = null;\n        this.fridayDefaultStartTime = null;\n        this.fridayDefaultEndTime = null;\n        this.saturdayDefaultStartTime = null;\n        this.saturdayDefaultEndTime = null;\n        this.sundayDefaultStartTime = null;\n        this.sundayDefaultEndTime = null;\n        this.durationUnitTexts = {\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute'\n        };\n        this.durationUnitEditText = {\n            minute: ['m', 'min', 'minute', 'minutes'],\n            hour: ['h', 'hr', 'hour', 'hours'],\n            day: ['d', 'dy', 'day', 'days']\n        };\n        this.perDayWidth = null;\n        this.isMileStoneEdited = false;\n        this.chartVerticalLineContainer = null;\n        this.updatedConnectorLineCollection = [];\n        this.connectorLineIds = [];\n        this.predecessorsCollection = [];\n        this.isInPredecessorValidation = this.enablePredecessorValidation;\n        this.isValidationEnabled = true;\n        this.isLoad = true;\n        this.editedTaskBarItem = null;\n        this.validationDialogElement = null;\n        this.currentEditedArgs = {};\n        this.dialogValidateMode = {\n            respectLink: false,\n            removeLink: false,\n            preserveLinkWithEditing: true\n        };\n        this.secondsPerDay = this.dataOperation.getSecondsPerDay();\n        this.nonWorkingDayIndex = [];\n        this.dataOperation.getNonWorkingDayIndex();\n        this.columnMapping = {};\n        this.controlId = this.element.id;\n        this.cloneProjectStartDate = this.enablePersistence && this.cloneProjectStartDate ?\n            this.cloneProjectStartDate : null;\n        this.cloneProjectEndDate = this.enablePersistence && this.cloneProjectEndDate ?\n            this.cloneProjectEndDate : null;\n        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n        this.ganttChartModule = new GanttChart(this);\n        this.timelineModule = new Timeline(this);\n        this.chartRowsModule = new ChartRows(this);\n        this.treeGridModule = new GanttTreeGrid(this);\n        this.dateValidationModule = new DateProcessor(this);\n        this.predecessorModule = new Dependency(this);\n        this.connectorLineModule = new ConnectorLine(this);\n        this.splitterModule = new Splitter(this);\n        this.tooltipModule = new Tooltip(this);\n        this.keyConfig = {\n            home: 'home',\n            end: 'end',\n            downArrow: 'downarrow',\n            upArrow: 'uparrow',\n            collapseAll: 'ctrl+uparrow',\n            expandAll: 'ctrl+downarrow',\n            collapseRow: 'ctrl+shift+uparrow',\n            expandRow: 'ctrl+shift+downarrow',\n            saveRequest: '13',\n            escape: '27',\n            addRow: 'insert',\n            addRowDialog: 'ctrl+insert',\n            editRowDialog: 'ctrl+f2',\n            delete: 'delete',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            focusTask: 'shift+f5',\n            indentLevel: 'shift+leftarrow',\n            outdentLevel: 'shift+rightarrow',\n            focusSearch: 'ctrl+shift+70',\n            contextMenu: 'shift+F10',\n            undo: 'ctrl+z',\n            redo: 'ctrl+y',\n            selectAll: 'ctrl+a'\n        };\n        this.focusModule = new FocusModule(this);\n        if (this.zoomingLevels.length === 0) {\n            this.setProperties({ zoomingLevels: this.getZoomingLevels() }, true);\n        }\n        this.resourceFieldsMapping();\n        if (isNullOrUndefined(this.resourceFields.unit)) { //set resourceUnit as unit if not mapping\n            this.setProperties({ resourceFields: { unit: 'unit' } }, true);\n        }\n        this.taskIds = [];\n    };\n    Gantt.prototype.isUndoRedoItemPresent = function (action) {\n        if (this.undoRedoModule && this.undoRedoActions && this.undoRedoActions.indexOf(action) !== -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getDateFormat = function () {\n        if (!isNullOrUndefined(this.dateFormat)) {\n            return this.dateFormat;\n        }\n        else {\n            var ganttDateFormat = this.globalize.getDatePattern({ skeleton: 'yMd' });\n            return ganttDateFormat;\n        }\n    };\n    /**\n     * To get timezone offset.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getDefaultTZOffset = function () {\n        var janMonth = new Date(new Date().getFullYear(), 0, 1);\n        var julMonth = new Date(new Date().getFullYear(), 6, 1); //Because there is no reagions DST inbetwwen this range\n        return Math.max(janMonth.getTimezoneOffset(), julMonth.getTimezoneOffset());\n    };\n    /**\n     * To check whether the date is in DST.\n     *\n     * @param {Date} date - Defines the date to check whether it is DST.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isInDst = function (date) {\n        return date.getTimezoneOffset() < this.getDefaultTZOffset();\n    };\n    /**\n     * Method to map resource fields.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.resourceFieldsMapping = function () {\n        var resourceSettings = this.resourceFields;\n        resourceSettings.id = !isNullOrUndefined(resourceSettings.id) ? resourceSettings.id : this.resourceIDMapping;\n        resourceSettings.name = !isNullOrUndefined(resourceSettings.name) ? resourceSettings.name : this.resourceNameMapping;\n    };\n    /**\n     * To validate height and width\n     *\n     * @param {string | number} value .\n     * @returns {string} .\n     */\n    Gantt.prototype.validateDimentionValue = function (value) {\n        if (!isNullOrUndefined(value)) {\n            if (typeof (value) === 'string' && value !== 'auto' && value.indexOf('%') === -1) {\n                return value.indexOf('px') === -1 ? value + 'px' : value;\n            }\n            else if (typeof (value) === 'number') {\n                return value + 'px';\n            }\n            else {\n                return value.toString();\n            }\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To calculate dimensions of Gantt control\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.calculateDimensions = function () {\n        var settingsHeight = this.validateDimentionValue(this.height);\n        var settingsWidth = this.validateDimentionValue(this.width);\n        if (!isNullOrUndefined(this.width) && typeof (this.width) === 'string' && this.width.indexOf('%') !== -1) {\n            settingsWidth = this.width;\n        }\n        var elementStyleHeight = this.element.style.height;\n        var elementStyleWidth = this.element.style.width;\n        if (settingsWidth) {\n            this.element.style.width = settingsWidth;\n        }\n        if (settingsHeight) {\n            this.element.style.height = settingsHeight;\n        }\n        if (!settingsHeight && !elementStyleHeight) {\n            this.element.style.height = 'auto'; // old 450px\n        }\n        if (!settingsWidth && !elementStyleWidth) {\n            this.element.style.width = 'auto';\n        }\n        this.ganttHeight = this.element.offsetHeight;\n        this.ganttWidth = this.element.offsetWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.render = function () {\n        if (this.isReact) {\n            this.treeGrid.isReact = true;\n            this.treeGrid.grid.isReact = true;\n        }\n        if (this.isVue) {\n            this.treeGrid.isVue = true;\n            this.treeGrid.grid.isVue = true;\n            /* eslint-disable-next-line */\n            this.treeGrid.vueInstance = this.vueInstance;\n            /* eslint-disable-next-line */\n            this.treeGrid.grid.vueInstance = this.vueInstance;\n        }\n        this.element.setAttribute('role', 'application');\n        createSpinner({ target: this.element }, this.createElement);\n        this.trigger('load', {});\n        this.element.classList.add(cls.root);\n        if (this.isAdaptive) {\n            this.element.classList.add(cls.adaptive);\n        }\n        else {\n            this.element.classList.remove(cls.adaptive);\n        }\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.renderToolbar();\n        }\n        this.splitterModule.renderSplitter();\n        this.notify('renderPanels', null);\n        this.actionFailures();\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n        if (this.dataMap) {\n            this.dataMap.clear();\n        }\n        this.dataOperation.checkDataBinding();\n    };\n    Gantt.prototype.actionFailures = function () {\n        var failureCases = [];\n        var lettersRegex = /^[a-zA-Z\\s/]+$/;\n        var allPropertiesNull = true;\n        var fields = this.taskFields['properties'];\n        var shouldBreak = false;\n        Object.keys(fields).forEach(function (key) {\n            if (fields[key] !== null) {\n                allPropertiesNull = false;\n                shouldBreak = true;\n            }\n        });\n        var isPrimary = true;\n        for (var i = 0; i < this.columns.length; i++) {\n            if (this.columns[i]['isPrimaryKey']) {\n                isPrimary = false;\n                break;\n            }\n        }\n        if (allPropertiesNull) {\n            failureCases.push('Gantt Task Fields are not configured properly. The task fields are crucial for both the project and resource views to function properly. Please ensure that the gantt task fields are properly configured!');\n        }\n        if (this.viewType === 'ResourceView') {\n            if (!this.resourceFields.id) {\n                failureCases.push('Gantt Resource Fields are not properly configured, which is crucial for the Resource View. Please ensure that the resource fields are configured correctly!');\n            }\n        }\n        if (this.dataSource instanceof DataManager && isNullOrUndefined(this.taskFields.hasChildMapping)) {\n            failureCases.push('hasChildMapping property is not configured for load-on-demand. Please ensure its properly configured in the Gantt Task Fields!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.topTier.format) && this.timelineSettings.topTier.format !== '' && !lettersRegex.test(this.timelineSettings.topTier.format)) {\n            failureCases.push('The provided top tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.bottomTier.format) && this.timelineSettings.bottomTier.format !== '' && !lettersRegex.test(this.timelineSettings.bottomTier.format)) {\n            failureCases.push('The provided bottom  tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (isPrimary && this.viewType !== 'ResourceView') {\n            failureCases.push('Primarykey is not configured properly. The primarykey is crucial for doing CRUD operations or map taskId in column field of gantt!');\n        }\n        if (this.eventMarkers.length > 0) {\n            this.eventMarkers.forEach(function (markers) {\n                if (!markers.day) {\n                    failureCases.push('Day is not configured properly in event markers.Please ensure that the day in event markers is properly configured!');\n                }\n            });\n        }\n        /* eslint-disable-next-line */\n        function checkModule(moduleName, settings, injectedModules, failureCases) {\n            /* eslint-disable-next-line */\n            var modules;\n            if (!isNullOrUndefined(injectedModules)) {\n                modules = injectedModules.filter(function (e) { return e.prototype.getModuleName() === moduleName; });\n            }\n            if (settings && !isNullOrUndefined(modules) && modules.length === 0) {\n                failureCases.push(\"Module \" + moduleName + \" is not available in Gantt component! You either misspelled the module name or forgot to load it!\");\n            }\n        }\n        checkModule('sort', this.allowSorting, this.injectedModules, failureCases);\n        var editSettings;\n        if (this.editSettings.allowAdding || this.editSettings.allowDeleting || this.editSettings.allowEditing ||\n            this.editSettings.allowNextRowEdit || this.editSettings.allowTaskbarEditing || this.editSettings.mode ||\n            this.editSettings.newRowPosition || this.editSettings.showDeleteConfirmDialog) {\n            editSettings = true;\n        }\n        checkModule('edit', editSettings, this.injectedModules, failureCases);\n        checkModule('reorder', this.allowReordering, this.injectedModules, failureCases);\n        checkModule('excelExport', this.allowExcelExport, this.injectedModules, failureCases);\n        var dragAndDrop;\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            dragAndDrop = true;\n        }\n        checkModule('rowDragAndDrop', dragAndDrop, this.injectedModules, failureCases);\n        checkModule('criticalPath', this.enableCriticalPath, this.injectedModules, failureCases);\n        checkModule('undoRedo', this.enableUndoRedo, this.injectedModules, failureCases);\n        checkModule('resize', this.allowResizing, this.injectedModules, failureCases);\n        var toolbar;\n        if (this.toolbar && this.toolbar.length > 0) {\n            toolbar = true;\n        }\n        checkModule('toolbar', toolbar, this.injectedModules, failureCases);\n        var filter;\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            filter = true;\n        }\n        checkModule('filter', filter, this.injectedModules, failureCases);\n        checkModule('selection', this.allowSelection, this.injectedModules, failureCases);\n        var dayMarkers;\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            dayMarkers = true;\n        }\n        checkModule('dayMarkers', dayMarkers, this.injectedModules, failureCases);\n        checkModule('contextMenu', this.enableContextMenu, this.injectedModules, failureCases);\n        checkModule('columnMenu', this.showColumnMenu, this.injectedModules, failureCases);\n        checkModule('pdfExport', this.allowPdfExport, this.injectedModules, failureCases);\n        checkModule('virtualScroll', this.enableVirtualization, this.injectedModules, failureCases);\n        if (failureCases.length > 0) {\n            /* eslint-disable-next-line */\n            var failureEventArgs_1 = {\n                error: {}\n            };\n            /* eslint-disable-next-line */\n            failureCases.forEach(function (err, index) {\n                failureEventArgs_1.error[parseInt(index, 10)] = err;\n            });\n            this.trigger('actionFailure', failureEventArgs_1);\n        }\n    };\n    Gantt.prototype.hideMaskRow = function () {\n        var isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.contentMaskTable) && (isTablePresent !== 0 || this.contentMaskTable)) {\n            var maskTable = this.contentMaskTable;\n            remove(maskTable);\n            this.contentMaskTable = null;\n        }\n        isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.headerMaskTable) && (isTablePresent !== 0 || this.headerMaskTable)) {\n            var maskTable = this.headerMaskTable;\n            remove(maskTable);\n            this.headerMaskTable = null;\n        }\n        while ((this.element.querySelectorAll('.e-table-background')).length !== 0) {\n            this.element.querySelectorAll('.e-table-background')[0].remove();\n        }\n        while ((this.element.querySelectorAll('.e-temp-timeline')).length !== 0) {\n            this.element.querySelectorAll('.e-temp-timeline')[0].remove();\n        }\n        if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n            for (var i = 0; i < this.singleTier; i++) {\n                if (!isNullOrUndefined(this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)])) {\n                    this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'visible';\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.' + cls.timelineHeaderContainer))) {\n            this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'relative';\n        }\n        if (!isNullOrUndefined(this.element.getElementsByClassName(cls.chartBodyContent)[0])) {\n            this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'visible';\n        }\n    };\n    Gantt.prototype.showMaskRow = function () {\n        var ganttHeader = this.chartPane.childNodes[0].childNodes[0];\n        this.scrollLeftValue = this.chartPane.childNodes[0].childNodes[0]['scrollLeft'];\n        var ganttContent = this.chartPane.childNodes[0].childNodes[1];\n        if (this.treeGrid.element) {\n            this.ganttChartModule['setVirtualHeight']();\n        }\n        if (!this.contentMaskTable) {\n            if (ganttContent) {\n                var content = ganttContent;\n                this.renderBackGround(content);\n                if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n                    this.singleTier = this.timelineModule.isSingleTier ? 1 : 2;\n                    for (var i = 0; i < this.singleTier; i++) {\n                        this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'hidden';\n                    }\n                }\n                if (this.singleTier === 0) {\n                    this.singleTier = 2;\n                }\n                this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'hidden';\n                this.contentMaskTable = this.contentMaskTable = this.createMaskTable(content);\n            }\n            if (ganttHeader) {\n                this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'static';\n                var content = ganttHeader;\n                this.renderHeaderBackground(content);\n                this.headerMaskTable = this.headerMaskTable = this.createMaskTable(content);\n            }\n        }\n    };\n    Gantt.prototype.renderHeaderBackground = function (element) {\n        var parentElement = element;\n        // const timelineHeight: any = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        if (header) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= ((160))) + 'px; top:0px;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += ((160))) + 'px; top:0px;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    Gantt.prototype.renderBackGround = function (element) {\n        var parentElement = element;\n        // const timelineHeight: number = element.getBoundingClientRect().height;\n        var content = closest(parentElement, '.' + cls.chartBodyContainer) ? true : false;\n        if (content) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= (160)) + 'px;z-index:1;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += (160)) + 'px;z-index:1;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    /* eslint-disable-next-line */\n    Gantt.prototype.createMaskTable = function (element) {\n        var parentElement = element;\n        var shimmerContainerHeight = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        /* eslint-disable-next-line */\n        var maskTable;\n        if (header) {\n            maskTable = this.createEmptyTimeLineTable(shimmerContainerHeight);\n            maskTable.style.position = 'sticky';\n            maskTable.style.left = 0 + 'px';\n            if (this.enableRtl) {\n                maskTable.style.removeProperty('left');\n            }\n        }\n        else {\n            maskTable = this.createEmptyMaskTable(shimmerContainerHeight);\n            maskTable.style.position = 'absolute';\n            maskTable.style.zIndex = 1;\n        }\n        if (!header) {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            parentElement.insertBefore(maskTable, parentElement.firstChild);\n        }\n        else {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            var div = this.createElement('div', { className: 'e-temp-timeline' });\n            div.style.width = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] + 'px';\n            div.style.position = 'sticky';\n            if (this.enableRtl) {\n                div.style['margin-right'] = Math.abs(this.scrollLeftValue) + 'px';\n            }\n            else {\n                div.style['margin-left'] = this.scrollLeftValue + 'px';\n            }\n            div.appendChild(maskTable);\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n        return maskTable;\n    };\n    Gantt.prototype.createEmptyTimeLineTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', {\n            className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 2 + 'px;'\n            }\n        });\n        for (var i = 0; i < this.singleTier; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        this.topBottomHeader = 0;\n        for (var i = 0; i < row.length; i++) {\n            tbody.appendChild(this.applyTimelineMaskRow(row[parseInt(i.toString(), 10)]));\n            this.topBottomHeader = this.topBottomHeader + 1;\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        return table;\n    };\n    Gantt.prototype.applyTimelineMaskRow = function (row) {\n        var maskRow = row;\n        var num = 4;\n        if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166 > 4) {\n            num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166;\n        }\n        for (var i = 0; i < num; i++) {\n            maskRow.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n        }\n        for (var i = 0; i < maskRow.childNodes.length - 1; i++) {\n            maskRow.childNodes[parseInt(i.toString(), 10)]['style']['width'] = 166 + 'px';\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.topBottomHeader) {\n                case 0:\n                    {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                            maskCell.children[0]['style'].left = -20 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                        }\n                        break;\n                    }\n                case 1:\n                    {\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        var innerMaskCells = [].slice.call(maskCell.childNodes);\n                        for (var i_1 = 0; i_1 < innerMaskCells.length; i_1++) {\n                            var htmlInner = innerMaskCells[parseInt(i_1.toString(), 10)];\n                            if (i_1 === 0) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                    htmlInner.children[0]['style'].left = -14 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                }\n                            }\n                            else if (i_1 === 1) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                    htmlInner.children[0]['style'].left = -30 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                }\n                            }\n                            else {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                    htmlInner.children[0]['style'].left = -60 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                }\n                            }\n                        }\n                        break;\n                    }\n            }\n        }\n        return maskRow;\n    };\n    Gantt.prototype.createEmptyMaskTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', { className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 7 + 'px;'\n            } });\n        this.columnLoop = 0;\n        for (var i = 0; i < 6; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        for (var j = 0; j < row.length; j++) {\n            if (this.columnLoop < 4) {\n                this.columnLoop = this.columnLoop + 1;\n            }\n            else if (this.columnLoop === 4) {\n                this.columnLoop = 1;\n            }\n            tbody.appendChild(this.applyMaskRow(row[parseInt(j.toString(), 10)]));\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        var div = this.createElement('div', { className: 'e-temp-container' });\n        div.style.width = 'calc(100% - ' + 17 + 'px)';\n        div.style.overflow = 'hidden';\n        div.appendChild(table);\n        return div;\n    };\n    Gantt.prototype.applyMaskRow = function (row) {\n        var maskRow = row;\n        if (this.columnLoop < 4) {\n            var num = 2;\n            if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300 > 2) {\n                num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300;\n            }\n            for (var i = 0; i < num; i++) {\n                maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n            }\n        }\n        else {\n            maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.columnLoop) {\n                case 1:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell02\"></span>';\n                    }\n                    break;\n                case 2:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell04\"></span>';\n                    }\n                    break;\n                case 3:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                            maskCell.children[0]['style'].left = -64 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                        }\n                    }\n                    else {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                            maskCell.children[0]['style'].left = -192 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                        }\n                    }\n                    break;\n                case 4:\n                    if (this.enableRtl) {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                        maskCell.children[0]['style'].left = -388 + 'px';\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                    }\n                    break;\n            }\n        }\n        return maskRow;\n    };\n    /**\n     * Method used to show spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    /**\n     * Method used to hide spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.processTimeline = function () {\n        this.timelineModule.processTimelineUnit();\n        this.timelineModule.calculateZoomingLevelsPerDayWidth(); // To calculate the perDaywidth\n    };\n    /**\n     * @param {boolean} isChange -Defines whether task data is changed.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderGantt = function (isChange) {\n        if (isChange) {\n            this.isFromOnPropertyChange = isChange;\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n        }\n        if (this.allowParentDependency) {\n            this.predecessorModule.updateParentPredecessor();\n        }\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.predecessorModule['parentIds'] = [];\n            this.predecessorModule['parentRecord'] = [];\n            this.predecessorModule.updatePredecessors();\n            if (this.isInPredecessorValidation && this.enableValidation && this.autoCalculateDateScheduling &&\n                !(this.isLoad && !this.treeGrid.loadChildOnDemand && this.taskFields.hasChildMapping)) {\n                this.predecessorModule.updatedRecordsDateByPredecessor();\n            }\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n            this.dataOperation.updateGanttData();\n        }\n        if (isChange) {\n            if (this.dataSource instanceof Object && isCountRequired(this)) {\n                var count = getValue('count', this.dataSource);\n                this.treeGrid.dataSource = { result: this.flatData, count: count };\n            }\n            else {\n                this.treeGrid.setProperties({ dataSource: this.flatData }, false);\n            }\n            if (!isNullOrUndefined(this.selectionModule)) {\n                this.treeGrid.setProperties({ selectedRowIndex: this.selectedRowIndex }, false);\n            }\n        }\n        else {\n            this.treeGridPane.classList.remove('e-temp-content');\n            if (!isNullOrUndefined(this.treeGridPane.querySelector('.e-gantt-temp-header'))) {\n                remove(this.treeGridPane.querySelector('.e-gantt-temp-header'));\n            }\n            this.notify('dataReady', {});\n            if (this.enableContextMenu) {\n                this.notify('initiate-contextMenu', {});\n            }\n            var height = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.rowHeight === 36) ? 46 : this.rowHeight : this.rowHeight;\n            this.rowHeight = isNullOrUndefined(this.rowHeight) ? 36 : height;\n            this.renderTreeGrid();\n            this.wireEvents();\n            this.notify('initPredessorDialog', {});\n        }\n        if (!this.isFromOnPropertyChange) {\n            this.splitterModule.updateSplitterPosition();\n        }\n        if ((this.gridLines === 'Vertical' || this.gridLines === 'Both') && (!this.dayMarkersModule)) {\n            this.renderChartVerticalLines();\n        }\n    };\n    Gantt.prototype.removeCriticalPathStyles = function () {\n        var ganttChartElement = this.ganttChartModule.chartElement;\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-progressbar-inner-div'), cls.criticalChildProgressBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-critical-milestone'), cls.criticalMilestone);\n        removeClass(this.element.querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n        removeClass(this.element.querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n    };\n    Gantt.prototype.wireEvents = function () {\n        if (this.allowKeyboard) {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfig,\n                eventName: 'keydown'\n            });\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document.body, 'keydown', this.keyDownHandler, this);\n    };\n    Gantt.prototype.unwireEvents = function () {\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n            this.keyboardModule = null;\n        }\n        /* eslint-disable-next-line */\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document.body, 'keydown', this.keyDownHandler);\n    };\n    Gantt.prototype.keyDownHandler = function (e) {\n        if (e.altKey) {\n            if (e.keyCode === 74) { //alt j\n                this.ganttChartModule.manageFocus(this.treeGrid.element.childNodes[1], 'remove', false);\n                this.ganttChartModule.manageFocus(this.element, 'add', false);\n            }\n        }\n    };\n    /**\n     * Method trigger while user perform window resize.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.windowResize = function () {\n        var _this = this;\n        if (!isNullOrUndefined(this.element)) {\n            this.updateContentHeight();\n            this.ganttChartModule.updateWidthAndHeight(); // Updating chart scroll conatiner height for row mismatch\n            this.treeGridModule.ensureScrollBar();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.updateRowHeightInConnectorLine(this.updatedConnectorLineCollection);\n                this.connectorLineModule.renderConnectorLines(this.updatedConnectorLineCollection);\n            }\n            var criticalModule = this.criticalPathModule;\n            if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n            this.calculateDimensions();\n            var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n            var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n            this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterObject.paneSettings[1].size = (this.ganttWidth - parseInt(this.splitterModule.splitterPreviousPositionGrid, 10) - this.splitterSettings.separatorSize) + 'px';\n            if (this.timelineModule.isZoomedToFit) {\n                setTimeout(function () {\n                    _this.timelineModule.processZoomToFit();\n                }, 0);\n            }\n        }\n        if (this.dayMarkersModule && this.dayMarkersModule['eventMarkerRender']) {\n            this.dayMarkersModule['eventMarkerRender'].updateContainerHeight();\n        }\n        if (this.enableTimelineVirtualization) {\n            this.timelineModule.refreshTimeline();\n        }\n    };\n    Gantt.prototype.keyActionHandler = function (e) {\n        if (this.enableContextMenu && this.contextMenuModule && (e.action === 'downArrow' || e.action === 'upArrow') && document.getElementById(this.element.id + '_contextmenu') && this['args']) {\n            var firstMenuItem = this['args'];\n            if (!isNullOrUndefined(firstMenuItem)) {\n                (firstMenuItem).focus();\n            }\n        }\n        if ((e.target && (e.action === 'downArrow' || e.action === 'upArrow') && e.target === this.element.querySelector('.e-rowcell')) ||\n            (e.target && e.action === 'escape' && this.treeGrid.grid.columnMenuModule &&\n                this.treeGrid.grid.columnMenuModule['columnMenu'].element.style.display === 'block')) {\n            this.treeGrid.grid.notify('key-pressed', e);\n        }\n        else {\n            this.focusModule.onKeyPress(e);\n        }\n    };\n    /**\n     * Method for updating row height value in connector line collections\n     *\n     * @param {IConnectorLineObject[]} collection  -Defines the CollectorLine collection.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateRowHeightInConnectorLine = function (collection) {\n        if (collection && collection.length) {\n            var rowHeight = !isNullOrUndefined(this.ganttChartModule) && this.ganttChartModule.getChartRows()[0]\n                && this.ganttChartModule.getChartRows()[0].getBoundingClientRect().height;\n            if (rowHeight && !isNaN(rowHeight)) {\n                for (var count = 0; count < collection.length; count++) {\n                    collection[count].rowHeight = rowHeight;\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderToolbar = function () {\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.toolbarModule.renderToolbar();\n            this.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderTreeGrid = function () {\n        this.treeGridModule.renderTreeGrid();\n    };\n    Gantt.prototype.updateCurrentViewData = function () {\n        var _this = this;\n        this.currentViewData = this.treeGrid.getCurrentViewRecords().slice();\n        if (this.currentViewData.length > 0 && this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.isLoad = true;\n            this.flatData = [];\n            this.dataOperation.taskIds = [];\n            this.ids = [];\n            this.dataOperation.recordIndex = 0;\n            this.dataOperation.dataArray = this.currentViewData;\n            this.dataOperation.cloneDataSource();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.predecessorModule['parentIds'] = [];\n                this.predecessorModule['parentRecord'] = [];\n                this.predecessorModule.updatePredecessors();\n            }\n            /* eslint-disable-next-line */\n            var gridData = this.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.taskFields.id] === _this.flatData[0].ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            var index = data['index'];\n            for (var i = 0; i < this.flatData.length; i++) {\n                this.flatData[i].index = index;\n                index++;\n            }\n            this.currentViewData = this.flatData;\n            this.treeGrid.grid.currentViewData = this.flatData;\n            if (!isNullOrUndefined(this.treeGrid['virtualScrollModule'])) {\n                this.treeGrid['virtualScrollModule'].visualData = this.flatData;\n                this.updatedRecords = this.flatData;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} records -Defines the delete record collections.\n     * @returns {IGanttData} .\n     * @private\n     */\n    Gantt.prototype.getRecordFromFlatdata = function (records) {\n        var updatedRecord = [];\n        for (var i = 0; i < records.length; i++) {\n            updatedRecord.push(this.getTaskByUniqueID(records[i].uniqueID));\n        }\n        return updatedRecord;\n    };\n    /**\n     * @param {object} args -Update the gantt element content height.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateContentHeight = function (args) {\n        if ((!this.allowTaskbarOverlap && !this.ganttChartModule.isCollapseAll && !this.ganttChartModule.isExpandAll) && !this.isLoad) {\n            return;\n        }\n        else {\n            if (this.virtualScrollModule && this.enableVirtualization && !isNullOrUndefined(args)) {\n                var length_1 = getValue('result.length', args);\n                this.contentHeight = length_1 * this.rowHeight;\n            }\n            else {\n                var expandedRecords = this.virtualScrollModule && this.enableVirtualization ?\n                    this.currentViewData : this.getExpandedRecords(this.currentViewData);\n                this.expandedRecords = expandedRecords;\n                var height = void 0;\n                var chartRow = (!isNullOrUndefined(this.ganttChartModule) &&\n                    !isNullOrUndefined(this.ganttChartModule.getChartRows())) ? this.ganttChartModule.getChartRows()[0] : null;\n                if (!isNullOrUndefined(chartRow) && chartRow.offsetHeight > 0) {\n                    height = chartRow.offsetHeight;\n                }\n                else {\n                    height = this.rowHeight;\n                }\n                this.contentHeight = expandedRecords.length * height;\n            }\n        }\n    };\n    /**\n     * To get expand status.\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.getExpandStatus = function (data) {\n        var parentRecord = this.getParentTask(data.parentItem);\n        if (!isNullOrUndefined(parentRecord)) {\n            if (parentRecord.expanded === false) {\n                return false;\n            }\n            else if (parentRecord.parentItem) {\n                var parentData = this.getParentTask(parentRecord.parentItem);\n                if (parentData.expanded === false) {\n                    return false;\n                }\n                else {\n                    return this.getExpandStatus(this.getParentTask(parentRecord.parentItem));\n                }\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Get expanded records from given record collection.\n     *\n     * @param {IGanttData[]} records - Defines record collection.\n     * @returns {IGanttData[]} .\n     * @deprecated\n     */\n    Gantt.prototype.getExpandedRecords = function (records) {\n        var _this = this;\n        if (isNullOrUndefined(records)) {\n            return [];\n        }\n        var expandedRecords = records.filter(function (record) {\n            return _this.getExpandStatus(record) === true;\n        });\n        this.expandedRecords = expandedRecords;\n        return expandedRecords;\n    };\n    /**\n     * Getting the Zooming collections of the Gantt control\n     *\n     * @returns {ZoomTimelineSettings} .\n     * @private\n     */\n    Gantt.prototype.getZoomingLevels = function () {\n        var _WeekStartDay = this.timelineSettings.weekStartDay;\n        var zoomingLevels = [\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 50 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 10 }, timelineUnitSize: 99, level: 0,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 20 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 5 }, timelineUnitSize: 99, level: 1,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 5 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 1 }, timelineUnitSize: 99, level: 2,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 66, level: 3,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 99, level: 4,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 66, level: 5,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 99, level: 6,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: { unit: 'Month', format: 'MMM yyyy', count: 1 }, timelineUnitSize: 99, level: 7,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd', count: 1 }, timelineUnitSize: 33, level: 8,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 66, level: 9,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 99, level: 10,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 33, level: 11,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 66, level: 12,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 99, level: 13,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 66, level: 14,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 99, level: 15,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 66, level: 16,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 99, level: 17,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 66, level: 18,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 99, level: 19,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 66, level: 20,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 99, level: 21,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 30 }, timelineUnitSize: 66, level: 22,\n                timelineViewMode: 'Hour', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 15 }, timelineUnitSize: 66, level: 23,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 1 }, timelineUnitSize: 66, level: 24,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            }\n        ];\n        return zoomingLevels;\n    };\n    Gantt.prototype.displayQuarterValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 2) {\n            return 'Q1';\n        }\n        else if (month >= 3 && month <= 5) {\n            return 'Q2';\n        }\n        else if (month >= 6 && month <= 8) {\n            return 'Q3';\n        }\n        else {\n            return 'Q4';\n        }\n    };\n    Gantt.prototype.displayHalfValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 5) {\n            return 'H1';\n        }\n        else {\n            return 'H2';\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @returns {string} .\n     */\n    Gantt.prototype.getFormatedDate = function (date, format) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        if (isNullOrUndefined(format)) {\n            format = this.getDateFormat();\n        }\n        return this.globalize.formatDate(date, { format: format });\n    };\n    /**\n     * Get duration value as string combined with duration and unit values.\n     *\n     * @param {number} duration - Defines the duration.\n     * @param {string} durationUnit - Defines the duration unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getDurationString = function (duration, durationUnit) {\n        var value = this.dateValidationModule.getDurationString(duration, durationUnit);\n        return value;\n    };\n    /**\n     * Get work value as string combined with work and unit values.\n     *\n     * @param {number} work - Defines the work value.\n     * @param {string} workUnit - Defines the work unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getWorkString = function (work, workUnit) {\n        var value = this.dateValidationModule.getWorkString(work, workUnit);\n        return value;\n    };\n    Gantt.prototype.updateTreeColumns = function () {\n        var temp;\n        // let field: string;\n        var gridColumns = this.treeGrid.grid.getColumns();\n        if (this.treeColumnIndex !== -1 && this.columns[this.treeColumnIndex] &&\n            !isNullOrUndefined(this.columns[this.treeColumnIndex]['template'])) {\n            temp = this.columns[this.treeColumnIndex]['template'];\n            // field = this.columns[this.treeColumnIndex]['field'];\n        }\n        var gridColumn;\n        for (var i = 0; i < gridColumns.length; i++) {\n            gridColumn = {};\n            for (var j = 0; j < this.columns.length; j++) {\n                if (this.columns[j]['field'] === gridColumns[i].field) {\n                    for (var _i = 0, _a = Object.keys(this.columns[j]); _i < _a.length; _i++) {\n                        var prop = _a[_i];\n                        if (!isUndefined(this.columns[j][prop])) {\n                            gridColumn[prop] = gridColumns[i][prop];\n                        }\n                        gridColumn.visible = gridColumns[i].visible;\n                        gridColumn.width = gridColumns[i].width;\n                    }\n                    this.columns[j] = (gridColumn);\n                    if (this.columns[j]['type'] !== 'checkbox' && (!isNullOrUndefined(temp) && temp !== '')) {\n                        this.columns[j]['template'] = temp;\n                    }\n                }\n            }\n        }\n        if (this.columns.length > 0) {\n            this.treeGrid.setProperties({ columns: this.columns }, true);\n        }\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.treeDataBound = function (args) {\n        var _this = this;\n        if (this.isLoad && this.undoRedoModule) {\n            if (this.sortSettings.columns.length > 0) {\n                this.undoRedoModule['previousSortedColumns'] = this.sortSettings.columns;\n            }\n            else if (this.searchSettings.key !== '') {\n                this.undoRedoModule['searchString'] = this.searchSettings.key;\n            }\n        }\n        this.element.getElementsByClassName('e-chart-root-container')[0]['style'].height = '100%';\n        // let gridHeight: string = this.element.getElementsByClassName('e-gridcontent')[0]['style'].height;\n        var gridContent = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0];\n        gridContent.setAttribute('tabindex', '0');\n        var treeGridrole = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0].childNodes[0];\n        treeGridrole.setAttribute('role', 'treegrid');\n        var timelineContainer = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        // gridHeight = 'calc(100% - ' + timelineContainer + 'px)';\n        // this.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        var scrollContainer = this.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        scrollContainer['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        scrollContainer.setAttribute('tabindex', '0');\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.splitterElement.style.height = 'calc(100% - ' + this.toolbarModule.element.offsetHeight + 'px)';\n        }\n        else {\n            this.splitterElement.style.height = '100%';\n        }\n        if (this.filterSettings && this.filterSettings['properties'] && this.filterSettings['properties'].columns) {\n            this.filterSettings['properties'].columns.forEach(function (column) {\n                var searchString = column.properties.field;\n                var matchedObject = null;\n                for (var i = 0; i < _this.treeGrid.columns.length; i++) {\n                    var treeColumn = _this.treeGrid.columns[i];\n                    if (treeColumn['field'] === searchString) {\n                        matchedObject = treeColumn;\n                        break;\n                    }\n                }\n                if (matchedObject && column.properties.uid !== matchedObject['uid']) {\n                    column.properties.uid = matchedObject['uid'];\n                }\n            });\n        }\n        if (this.isLoad) {\n            if (this.enablePersistence) {\n                this.updateTreeColumns();\n            }\n            this.updateCurrentViewData();\n            if (!this.enableVirtualization) {\n                this.updateContentHeight();\n            }\n            else if (this.virtualScrollModule && this.enableVirtualization) {\n                this.ganttChartModule.virtualRender.adjustTable();\n                this.ganttChartModule.scrollObject.updateTopPosition();\n            }\n            if (!this.isTreeGridRendered) {\n                this.isTreeGridRendered = true;\n                // let toolbarHeight: number = 0;\n                // if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n                //     toolbarHeight = this.toolbarModule.element.offsetHeight;\n                // }\n                if (this.timelineModule.isSingleTier) {\n                    this.element.classList.add(cls.ganttSingleTimeline);\n                }\n                else {\n                    this.element.classList.remove(cls.ganttSingleTimeline);\n                }\n                var timelineContainer_1 = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                scrollContainer['style'].height = 'calc(100% - ' + timelineContainer_1 + 'px)';\n                this.treeGrid.setProperties({ height: '100%' }, false);\n                this.notify('tree-grid-created', {});\n                this.createGanttPopUpElement();\n                if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.hideMaskRow();\n                }\n                else {\n                    this.hideSpinner();\n                }\n                setValue('isGanttCreated', true, args);\n                this.renderComplete();\n            }\n        }\n        else {\n            this.getCurrentRecords(args);\n        }\n        if (this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.updateContentHeight();\n        }\n        if (this.enableCriticalPath && this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n        }\n        this.notify('recordsUpdated', {});\n        for (var i = 0; i < document.getElementsByClassName('e-timeline-header-table-container').length; i++) {\n            for (var j = 0; j < document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children.length; j++) {\n                var childElement = document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children[j].children[0];\n                if (childElement) {\n                    childElement.setAttribute('tabindex', '-1');\n                }\n            }\n        }\n        var criticalModule = this.criticalPathModule;\n        if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        this.initialChartRowElements = this.ganttChartModule.getChartRows();\n        this.isLoad = false;\n        this.isExpandPerformed = !this.enableVirtualization ? false : this.isExpandPerformed;\n        if (!this.isExpandPerformed) {\n            this.previousFlatData = extend([], this.flatData, [], true);\n        }\n        this.trigger('dataBound', args);\n    };\n    /**\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.getCurrentRecords = function (args) {\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.connectorLineModule.removePreviousConnectorLines(this.currentViewData);\n        }\n        this.updateCurrentViewData();\n        if (!this.enableVirtualization) {\n            this.updateContentHeight();\n        }\n        // this.chartRowsModule.refreshGanttRows();\n        if (this.virtualScrollModule && this.enableVirtualization) {\n            this.ganttChartModule.virtualRender.adjustTable();\n            this.ganttChartModule.scrollObject.updateTopPosition();\n        }\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @param {GanttModel} newProp - Defines the New GanttModel.\n     * @param {GanttModel} oldProp - Defines the old GanttModel.\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var isRefresh = false;\n        // eslint-disable-next-line\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowSelection':\n                case 'allowRowDragAndDrop':\n                case 'allowFiltering':\n                case 'showColumnMenu':\n                case 'allowResizing':\n                case 'allowReordering':\n                case 'allowSorting':\n                case 'enableImmutableMode':\n                    this.treeGrid[prop] = this[prop];\n                    this.treeGrid.dataBind();\n                    break;\n                case 'workWeek':\n                    this.dataOperation.getNonWorkingDayIndex();\n                    this.dataOperation.reUpdateGanttData();\n                    this.chartRowsModule.initiateTemplates();\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                    }\n                    this.chartRowsModule.refreshGanttRows();\n                    this.treeGrid.refreshColumns();\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'toolbar':\n                    this.notify('ui-toolbarupdate', { module: 'toolbar', properties: newProp });\n                    break;\n                case 'columnMenuItems':\n                    this.treeGrid.grid.columnMenuItems =\n                        getActualProperties(this.columnMenuItems);\n                    break;\n                case 'eventMarkers':\n                case 'highlightWeekends':\n                    this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    break;\n                case 'sortSettings':\n                    this.treeGrid.sortSettings = getActualProperties(this.sortSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'timelineSettings':\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'rowHeight':\n                case 'taskbarHeight':\n                    this.treeGrid.rowHeight = this.rowHeight;\n                    this.treeGrid.dataBind();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    if (this.taskFields.dependency) {\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'timezone':\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableCriticalPath':\n                    if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                        this.hideMaskRow();\n                    }\n                    else {\n                        this.hideSpinner();\n                    }\n                    if (this.enableCriticalPath && this.criticalPathModule) {\n                        this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n                        var criticalModule = this.criticalPathModule;\n                        if (criticalModule.criticalPathCollection) {\n                            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                        }\n                    }\n                    else {\n                        this.removeCriticalPathStyles();\n                    }\n                    break;\n                case 'filterSettings':\n                    if (isNullOrUndefined(newProp.filterSettings)) {\n                        this.filterSettings.columns = [];\n                    }\n                    this.treeGrid.filterSettings = getActualProperties(this.filterSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'gridLines':\n                    this.treeGrid.gridLines = this.gridLines;\n                    this.treeGrid.dataBind();\n                    this.renderChartGridLines();\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule.toolTipObj) {\n                        this.tooltipModule.toolTipObj.destroy();\n                    }\n                    this.tooltipModule.createTooltip();\n                    break;\n                case 'splitterSettings':\n                    this.splitterModule.updateSplitterPosition();\n                    break;\n                case 'selectionSettings':\n                    this.treeGrid.selectionSettings = getActualProperties(this.selectionSettings);\n                    this.treeGrid.grid.selectionSettings.enableToggle = this.selectionSettings.enableToggle;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'searchSettings':\n                    if (newProp.searchSettings.key !== ('' || undefined)) {\n                        this.treeGrid.grid.searchSettings = getActualProperties(this.searchSettings);\n                        this.treeGrid.grid.dataBind();\n                    }\n                    this.treeGrid.searchSettings = getActualProperties(this.searchSettings);\n                    this.treeGrid.dataBind();\n                    if (this.toolbarModule) {\n                        this.toolbarModule.updateSearchTextBox();\n                    }\n                    break;\n                case 'labelSettings':\n                case 'renderBaseline':\n                case 'baselineColor':\n                    this.isFromRenderBaseline = true;\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isFromRenderBaseline = false;\n                    break;\n                case 'resourceIDMapping':\n                case 'resourceNameMapping':\n                case 'resources':\n                    this.dataOperation.reUpdateResources();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    break;\n                case 'includeWeekend':\n                case 'allowUnscheduledTasks':\n                case 'holidays':\n                    this.isLoad = true;\n                    if (prop === 'holidays') {\n                        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n                        this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    }\n                    this.dataOperation.reUpdateGanttData();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isLoad = false;\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                        this.treeGrid.refreshColumns();\n                        this.chartRowsModule.refreshGanttRows();\n                    }\n                    break;\n                case 'dayWorkingTime':\n                case 'weekWorkingTime':\n                    isRefresh = true;\n                    break;\n                case 'addDialogFields':\n                case 'editDialogFields':\n                    if (this.editModule && this.editModule.dialogModule) {\n                        this.editModule.dialogModule.processDialogFields();\n                    }\n                    break;\n                case 'columns':\n                    this.treeGridModule.treeGridColumns = [];\n                    this.treeGridModule.validateGanttColumns();\n                    this.treeGrid.columns = this.treeGridModule.treeGridColumns;\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    break;\n                case 'width':\n                case 'height':\n                    this.reUpdateDimention(prop);\n                    break;\n                case 'editSettings':\n                    this.treeGrid.editSettings.allowAdding = this.editSettings.allowAdding;\n                    this.treeGrid.editSettings.allowDeleting = this.editSettings.allowDeleting;\n                    this.treeGrid.editSettings.showDeleteConfirmDialog = this.editSettings.showDeleteConfirmDialog;\n                    this.treeGrid.editSettings.allowEditing = this.editSettings.allowEditing;\n                    this.treeGrid.editSettings.allowNextRowEdit = this.editSettings.allowNextRowEdit;\n                    if (!isNullOrUndefined(this.editModule)) {\n                        this.editModule.reUpdateEditModules();\n                    }\n                    if (!isNullOrUndefined(this.toolbarModule)) {\n                        this.toolbarModule.refreshToolbarItems();\n                    }\n                    break;\n                case 'connectorLineBackground':\n                case 'connectorLineWidth':\n                    if (this.taskFields.dependency) {\n                        this.connectorLineModule.initPublicProp();\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'treeColumnIndex':\n                    this.treeGrid.treeColumnIndex = this.treeColumnIndex;\n                    break;\n                case 'projectStartDate':\n                case 'projectEndDate':\n                    this.timelineModule.isZoomToFit = false;\n                    this.dataOperation.calculateProjectDates();\n                    this.updateProjectDates(this.cloneProjectStartDate, this.cloneProjectEndDate, this.isTimelineRoundOff);\n                    break;\n                case 'selectedRowIndex':\n                    if (!isNullOrUndefined(this.selectionModule)) {\n                        this.selectionModule.selectRowByIndex();\n                    }\n                    break;\n                case 'dataSource':\n                    if (this.isReact) {\n                        this['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n                    }\n                    this.closeGanttActions();\n                    if (this.dataSource instanceof Object && isCountRequired(this)) {\n                        // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n                        this.treeGrid.hasChildMapping = 'isParent';\n                        var count = getValue('count', this.dataSource);\n                        this.treeGrid.dataSource = { result: this.flatData, count: count };\n                    }\n                    else {\n                        this.treeGrid.hasChildMapping = null;\n                    }\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableContextMenu':\n                case 'contextMenuItems':\n                    if (this.enableContextMenu || prop === 'contextMenuItems') {\n                        this.notify('reRender-contextMenu', { module: 'contextMenu', enable: true });\n                    }\n                    else {\n                        this.treeGrid.contextMenuItems = [];\n                    }\n                    this.treeGrid.dataBind();\n                    break;\n                case 'currencyCode':\n                case 'locale':\n                case 'enableRtl':\n                case 'readOnly':\n                case 'viewType':\n                case 'taskFields':\n                case 'allowTaskbarDragAndDrop':\n                case 'allowTaskbarOverlap':\n                case 'allowParentDependency':\n                case 'enableMultiTaskbar':\n                    if (prop === 'locale') {\n                        this.isLocaleChanged = true;\n                    }\n                    if (prop === 'taskFields') {\n                        if (!isNullOrUndefined(newProp.taskFields.child)) {\n                            return;\n                        }\n                    }\n                    if (prop !== 'allowTaskbarDragAndDrop') {\n                        isRefresh = true;\n                    }\n                    break;\n                case 'validateManualTasksOnLinking':\n                    this.validateManualTasksOnLinking = newProp.validateManualTasksOnLinking;\n                    break;\n                case 'showOverAllocation':\n                    this.updateOverAllocationCotainer();\n                    break;\n            }\n        }\n        if (isRefresh) {\n            if (this.isLoad && this.contentMaskTable) {\n                this.contentMaskTable = null;\n            }\n            this.refresh();\n        }\n    };\n    Gantt.prototype.updateOverAllocationCotainer = function () {\n        if (this.showOverAllocation) {\n            this.ganttChartModule.renderOverAllocationContainer();\n        }\n        else {\n            var rangeContainer = this.element.querySelector('.' + cls.rangeContainer);\n            if (rangeContainer) {\n                rangeContainer.innerHTML = '';\n            }\n        }\n    };\n    /**\n     * Returns the properties to be maintained in persisted state.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getPersistData = function () {\n        var keyEntity = ['sortSettings',\n            'filterSettings', 'columns', 'searchSettings', 'selectedRowIndex', 'treeColumnIndex', 'currentZoomingLevel', 'cloneProjectStartDate', 'cloneProjectEndDate', 'splitterSettings'];\n        var ignoreOnPersist = {\n            filterSettings: ['type', 'mode', 'showFilterBarStatus', 'immediateModeDelay', 'ignoreAccent', 'hierarchyMode'],\n            searchSettings: ['fields', 'operator', 'ignoreCase'],\n            sortSettings: [], columns: [], selectedRowIndex: []\n        };\n        var ignoreOnColumn = ['filter', 'edit', 'filterBarTemplate', 'headerTemplate', 'template',\n            'commandTemplate', 'commands', 'dataSource'];\n        for (var i = 0; i < keyEntity.length; i++) {\n            var currentObject = this[keyEntity[i]];\n            for (var k = 0, val = ignoreOnPersist[keyEntity[i]]; (!isNullOrUndefined(val) && k < val.length); k++) {\n                var objVal = val[k];\n                delete currentObject[objVal];\n            }\n        }\n        this.ignoreInArrays(ignoreOnColumn, this.columns);\n        return this.addOnPersist(keyEntity);\n    };\n    Gantt.prototype.ignoreInArrays = function (ignoreOnColumn, columns) {\n        for (var i = 0; i < columns.length; i++) {\n            this.ignoreInColumn(ignoreOnColumn, columns[i]);\n        }\n    };\n    Gantt.prototype.ignoreInColumn = function (ignoreOnColumn, column) {\n        for (var i = 0; i < ignoreOnColumn.length; i++) {\n            delete column[ignoreOnColumn[i]];\n            column.filter = {};\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.destroy = function () {\n        this.notify('destroy', {});\n        this.unwireEvents();\n        if (!isNullOrUndefined(this.validationDialogElement) && !this.validationDialogElement.isDestroyed) {\n            this.validationDialogElement.destroy();\n        }\n        var modules = ['ganttChartModule', 'timelineModule', 'chartRowsModule',\n            'treeGridModule', 'ganttDataUpdatesModule', 'dateValidationModule', 'tooltipModule'];\n        for (var i = 0; i < modules.length; i++) {\n            if (this[modules[i]]) {\n                this[modules[i]] = null;\n            }\n        }\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n        if (this.editModule && this.editModule.dialogModule) {\n            this.editModule.dialogModule.destroy();\n        }\n        if (this.splitterModule) {\n            this.splitterModule['destroy']();\n        }\n        if (this.toolbarModule && this.toolbarModule.toolbar) {\n            this.toolbarModule.toolbar.destroy();\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule)) {\n            if (!isNullOrUndefined(this.dayMarkersModule['eventMarkerRender']) && !isNullOrUndefined(this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer)) {\n                this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer = null;\n            }\n            if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender)) {\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender.nonworkingContainer)) {\n                    this.dayMarkersModule.nonworkingDayRender.nonworkingContainer = null;\n                }\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender['weekendContainer'])) {\n                    this.dayMarkersModule.nonworkingDayRender['weekendContainer'] = null;\n                }\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender['holidayContainer'])) {\n                    this.dayMarkersModule.nonworkingDayRender['holidayContainer'] = null;\n                }\n            }\n        }\n        if (this.connectorLineModule) {\n            this.connectorLineModule.dependencyViewContainer = null;\n            this.connectorLineModule.svgObject = null;\n            this.connectorLineModule.renderer = null;\n            this.connectorLineModule.tooltipTable = null;\n        }\n        this.treeGridPane = null;\n        this.chartPane = null;\n        this.initialChartRowElements = null;\n        _super.prototype.destroy.call(this);\n        this.chartVerticalLineContainer = null;\n        this.element.innerHTML = '';\n        removeClass([this.element], cls.root);\n        this.element.innerHTML = '';\n        this.isTreeGridRendered = false;\n        this.resetTemplates();\n    };\n    /**\n     * Method to get taskbarHeight.\n     *\n     * @returns {number} .\n     * @public\n     */\n    Gantt.prototype.getTaskbarHeight = function () {\n        return this.chartRowsModule.taskBarHeight;\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} .\n     * @hidden\n     */\n    Gantt.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.isDestroyed) {\n            return modules;\n        }\n        if (this.allowSorting) {\n            modules.push({\n                member: 'sort',\n                args: [this]\n            });\n        }\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            modules.push({\n                member: 'filter',\n                args: [this]\n            });\n        }\n        if (this.allowReordering) {\n            modules.push({\n                member: 'reorder',\n                args: [this]\n            });\n        }\n        if (this.allowExcelExport) {\n            modules.push({\n                member: 'excelExport',\n                args: [this]\n            });\n        }\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            modules.push({\n                member: 'rowDragAndDrop',\n                args: [this]\n            });\n        }\n        if (this.enableCriticalPath) {\n            modules.push({\n                member: 'criticalPath',\n                args: [this]\n            });\n        }\n        if (this.enableUndoRedo) {\n            modules.push({\n                member: 'undoRedo',\n                args: [this]\n            });\n        }\n        if (this.allowResizing) {\n            modules.push({\n                member: 'resize',\n                args: [this]\n            });\n        }\n        if (this.toolbar && this.toolbar.length > 0) {\n            modules.push({\n                member: 'toolbar',\n                args: [this]\n            });\n        }\n        if (this.editSettings.allowAdding || this.editSettings.allowEditing || this.editSettings.allowDeleting\n            || this.editSettings.allowTaskbarEditing || this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'edit',\n                args: [this]\n            });\n        }\n        if (this.allowSelection) {\n            modules.push({\n                member: 'selection',\n                args: [this]\n            });\n        }\n        if (this.tooltipSettings.showTooltip) {\n            modules.push({\n                member: 'tooltip',\n                args: [this]\n            });\n        }\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            modules.push({\n                member: 'dayMarkers',\n                args: [this]\n            });\n        }\n        if (this.enableContextMenu) {\n            modules.push({\n                member: 'contextMenu',\n                args: [this]\n            });\n        }\n        if (this.showColumnMenu) {\n            modules.push({\n                member: 'columnMenu',\n                args: [this]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'pdfExport',\n                args: [this]\n            });\n        }\n        if (this.enableVirtualization) {\n            modules.push({\n                member: 'virtualScroll',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to be sorted.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Gantt.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        if (this.sortModule && this.allowSorting) {\n            this.sortModule.sortColumn(columnName, direction, isMultiSort);\n        }\n    };\n    Gantt.prototype.mergePersistGanttData = function () {\n        if (!this.treeGrid) {\n            this.treeGrid = new TreeGrid();\n        }\n        var persist1 = 'mergePersistGridData';\n        this.treeGrid.grid[persist1].apply(this);\n    };\n    Gantt.prototype.mergeColumns = function (storedColumn, columns) {\n        var persist2 = 'mergeColumns';\n        this.treeGrid.grid[persist2].apply(this, [storedColumn, columns]);\n    };\n    Gantt.prototype.setFrozenCount = function () {\n        var persist3 = 'setFrozenCount';\n        this.treeGrid.grid[\"\" + persist3].apply(this);\n    };\n    Gantt.prototype.splitFrozenCount = function (columns) {\n        var persist4 = 'splitFrozenCount';\n        this.treeGrid.grid[\"\" + persist4].apply(this, [columns]);\n    };\n    Gantt.prototype.isFrozenGrid = function () {\n        return this.treeGrid.grid.isFrozenGrid();\n    };\n    /**\n     * Clears all the sorted columns of the Gantt.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSorting = function () {\n        this.sortModule.clearSorting();\n    };\n    /**\n     * To validate and render chart horizontal and vertical lines in the Gantt\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.renderChartGridLines = function () {\n        var className = 'e-chart-row-border';\n        var verticalLines = this.chartVerticalLineContainer;\n        var chartRowsTD = document.getElementById(this.element.id + 'GanttTaskTableBody').querySelectorAll('td');\n        if (this.gridLines === 'Vertical') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (window.getComputedStyle(verticalLines).display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Horizontal') {\n            if (!isNullOrUndefined(verticalLines)) {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && !chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Both') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (window.getComputedStyle(verticalLines).display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && !chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'None') {\n            if (!isNullOrUndefined(verticalLines) && window.getComputedStyle(verticalLines).display !== 'none') {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateGridLineContainerHeight = function () {\n        if (this.chartVerticalLineContainer) {\n            this.chartVerticalLineContainer.style.height = formatUnit(this.getContentHeight());\n        }\n    };\n    /**\n     * To get actual height of grid lines, holidays, weekend and event markers.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getContentHeight = function () {\n        var scrollHeight = this.ganttChartModule.scrollElement.offsetHeight - 16; //16 is horizontal scrollbar height\n        var contentHeight = this.ganttChartModule.chartBodyContent.offsetHeight;\n        var height = contentHeight < scrollHeight ? contentHeight : scrollHeight;\n        return height;\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @param {boolean} currentProp - Update current property change in the Gantt chart.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.reUpdateDimention = function (currentProp) {\n        var toolbarHeight = 0;\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.toolbarModule.toolbar.refresh();\n            this.toolbarModule.refreshToolbarItems();\n            toolbarHeight = this.toolbarModule.element.offsetHeight;\n        }\n        this.treeGrid.height = this.ganttHeight - toolbarHeight -\n            this.treeGrid.grid.getHeaderContent().offsetHeight;\n        this.splitterModule.splitterObject.height = (this.ganttHeight - toolbarHeight).toString();\n        if (!isNullOrUndefined(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer.style.height = this.ganttHeight + 'px';\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (weekendContainer) {\n                weekendContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.height = this.ganttHeight + 'px';\n            }\n        }\n        if (currentProp === 'width') {\n            this.splitterModule.splitterObject.width = this.ganttWidth.toString();\n        }\n        this.ganttChartModule.scrollObject.\n            setHeight(this.ganttHeight - this.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * To render vertical lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.renderChartVerticalLines = function () {\n        if (!this.element.contains(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer = createElement('div', {\n                id: this.element.id + 'line-container',\n                styles: 'position:absolute;height:100%;'\n            });\n            this.ganttChartModule.chartBodyContent.insertBefore(this.chartVerticalLineContainer, this.ganttChartModule.chartBodyContent.lastChild);\n        }\n        this.chartVerticalLineContainer.innerHTML = '';\n        var headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[1];\n        if (isNullOrUndefined(headerTable)) {\n            headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[0];\n        }\n        var thElements = headerTable.getElementsByTagName('th');\n        var thLength = thElements.length;\n        var thWidth;\n        var leftPos = 0;\n        var containerDiv = createElement('div');\n        for (var n = 0; n < thLength; n++) {\n            leftPos = n === 0 ? -1 : (leftPos + parseFloat(thWidth));\n            thWidth = thElements[n].style.width;\n            var divElement = createElement('div', {\n                className: 'e-line-container-cell',\n                styles: (this.enableRtl ? 'right:' + (leftPos + 1) : 'left:' + (leftPos !== -1 ? (leftPos + 0.3) : leftPos)) + 'px'\n            });\n            containerDiv.appendChild(divElement);\n        }\n        this.chartVerticalLineContainer.innerHTML = containerDiv.innerHTML;\n    };\n    /**\n     * Method to get default localized text of the Gantt.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.getDefaultLocale = function () {\n        var ganttLocale = {\n            emptyRecord: 'No records to display',\n            id: 'ID',\n            name: 'Name',\n            startDate: 'Start Date',\n            endDate: 'End Date',\n            duration: 'Duration',\n            progress: 'Progress',\n            dependency: 'Dependency',\n            notes: 'Notes',\n            criticalPath: 'Critical Path',\n            undo: 'Undo',\n            redo: 'Redo',\n            baselineStartDate: 'Baseline Start Date',\n            baselineEndDate: 'Baseline End Date',\n            taskMode: 'Task Mode',\n            changeScheduleMode: 'Change Schedule Mode',\n            subTasksStartDate: 'SubTasks Start Date',\n            subTasksEndDate: 'SubTasks End Date',\n            scheduleStartDate: 'Schedule Start Date',\n            scheduleEndDate: 'Schedule End Date',\n            auto: 'Auto',\n            manual: 'Manual',\n            type: 'Type',\n            offset: 'Offset',\n            resourceName: 'Resources',\n            resourceID: 'Resource ID',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute',\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            generalTab: 'General',\n            customTab: 'Custom Columns',\n            writeNotes: 'Write Notes',\n            addDialogTitle: 'New Task',\n            editDialogTitle: 'Task Information',\n            add: 'Add',\n            edit: 'Edit',\n            update: 'Update',\n            delete: 'Delete',\n            cancel: 'Cancel',\n            search: 'Search',\n            task: ' task',\n            tasks: ' tasks',\n            zoomIn: 'Zoom in',\n            zoomOut: 'Zoom out',\n            zoomToFit: 'Zoom to fit',\n            excelExport: 'Excel export',\n            csvExport: 'CSV export',\n            pdfExport: 'PDF export',\n            expandAll: 'Expand all',\n            collapseAll: 'Collapse all',\n            nextTimeSpan: 'Next timespan',\n            prevTimeSpan: 'Previous timespan',\n            saveButton: 'Save',\n            taskBeforePredecessorFS: 'You moved \"{0}\" to start before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFS: 'You moved \"{0}\" away from \"{1}\" and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSS: 'You moved \"{0}\" to start before \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSS: 'You moved \"{0}\" to start after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorFF: 'You moved \"{0}\" to finish before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFF: 'You moved \"{0}\" to finish after \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSF: 'You moved \"{0}\" away from \"{1}\" to starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSF: 'You moved \"{0}\" to finish after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            okText: 'Ok',\n            confirmDelete: 'Are you sure you want to Delete Record?',\n            from: 'From',\n            to: 'To',\n            taskLink: 'Task Link',\n            lag: 'Lag',\n            start: 'Start',\n            finish: 'Finish',\n            enterValue: 'Enter the value',\n            taskInformation: 'Task Information',\n            deleteTask: 'Delete Task',\n            deleteDependency: 'Delete Dependency',\n            convert: 'Convert',\n            save: 'Save',\n            above: 'Above',\n            below: 'Below',\n            child: 'Child',\n            milestone: 'Milestone',\n            toTask: 'To Task',\n            toMilestone: 'To Milestone',\n            eventMarkers: 'Event markers',\n            leftTaskLabel: 'Left task label',\n            rightTaskLabel: 'Right task label',\n            timelineCell: 'Timeline cell',\n            confirmPredecessorDelete: 'Are you sure you want to remove dependency link?',\n            unit: 'Unit',\n            work: 'Work',\n            taskType: 'Task Type',\n            unassignedTask: 'Unassigned Task',\n            group: 'Group',\n            indent: 'Indent',\n            outdent: 'Outdent',\n            segments: 'Segments',\n            splitTask: 'Split Task',\n            mergeTask: 'Merge Task',\n            left: 'Left',\n            right: 'Right',\n            FF: 'FF',\n            FS: 'FS',\n            SF: 'SF',\n            SS: 'SS'\n        };\n        return ganttLocale;\n    };\n    /**\n     * To remove sorted records of particular column.\n     *\n     * @param {string} columnName - Defines the sorted column name.\n     * @returns {void} .\n     */\n    Gantt.prototype.removeSortColumn = function (columnName) {\n        this.sortModule.removeSortColumn(columnName);\n    };\n    /**\n     *\n     * @param {object} args -Defines the edited event args.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.actionBeginTask = function (args) {\n        this.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific date.\n     *\n     * @param  {string} date - Defines the date to which the Gantt chart should scroll.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToDate = function (date) {\n        var tempDate = this.dateValidationModule.getDateFromFormat(date);\n        var left = this.dataOperation.getTaskLeft(tempDate, false);\n        this.ganttChartModule.updateScrollLeft(left);\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific task id.\n     *\n     * @param  {string} taskId - Defines the task id of data.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToTask = function (taskId) {\n        if (this.ids.indexOf(taskId) !== -1) {\n            var left = this.flatData[this.ids.indexOf(taskId)].ganttProperties.left;\n            this.ganttChartModule.updateScrollLeft(left);\n        }\n    };\n    /**\n     * To update the horizontal (left) and vertical (top) scroll positions of the Gantt chart.\n     *\n     * @param  {number} left - Defines the scroll left value of chart side.\n     * @param  {number} top - Defines the scroll top value of chart side.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateChartScrollOffset = function (left, top) {\n        if (!isNullOrUndefined(left)) {\n            left = this.ganttChartModule.scrollElement.scrollWidth <= left ?\n                this.ganttChartModule.scrollElement.scrollWidth : left;\n            this.ganttChartModule.scrollObject.setScrollLeft(left, this.enableRtl ? -1 : 0);\n        }\n        if (!isNullOrUndefined(top)) {\n            top = this.ganttChartModule.scrollElement.scrollHeight <= top ? this.ganttChartModule.scrollElement.scrollHeight : top;\n            this.ganttChartModule.scrollObject.setScrollTop(top);\n        }\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IParent} cloneParent - Defines the clone parent item.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getParentTask = function (cloneParent) {\n        if (isNullOrUndefined(cloneParent)) {\n            return null;\n        }\n        if (!this.autoCalculateDateScheduling && this.dataMap && this.dataMap.size > 0 && !this.taskFields.hasChildMapping &&\n            this.isLoad) {\n            var parent_1 = this.dataMap.get(cloneParent.uniqueID);\n            if (parent_1) {\n                return parent_1;\n            }\n        }\n        else {\n            var parent_2 = this.flatData.find(function (val) { return cloneParent.uniqueID === val.uniqueID; });\n            if (parent_2) {\n                return parent_2;\n            }\n        }\n        return null;\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IGanttData} ganttRecord -Defines the Gantt record.\n     * @param {number} level -Defines the selected record level.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getRootParent = function (ganttRecord, level) {\n        if (ganttRecord.level === level) {\n            return ganttRecord;\n        }\n        return this.getRootParent(this.getParentTask(ganttRecord.parentItem), level);\n    };\n    /**\n     * Filters TreeGrid row by column name with the given options.\n     *\n     * @param  {string} fieldName - Defines the field name of the column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean | number[] | string[] | Date[] | boolean[]} filterValue - Defines the value\n     *  used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, TreeGrid filters the records with exact match.if false, it filters case\n     * insensitive records (uppercase and lowercase letters treated the same).\n     * @param  {boolean} ignoreAccent - If ignoreAccent set to true,\n     * then filter ignores the diacritic characters or accents while filtering.\n     * @returns {void} .\n     */\n    Gantt.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent) {\n        this.treeGrid.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent);\n    };\n    /**\n     * Export Gantt data to Excel file(.xlsx).\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.excelExport = function (excelExportProperties, isMultipleExport, \n    /* eslint-disable-next-line */\n    workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.excelExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to CSV file.\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.csvExport = function (excelExportProperties, \n    /* eslint-disable-next-line */\n    isMultipleExport, workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.csvExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to PDF document.\n     *\n     * @param  {PdfExportProperties} pdfExportProperties - Defines the export properties of the Gantt.\n     * @param  {isMultipleExport} isMultipleExport - Define to enable multiple export.\n     * @param  {pdfDoc} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @param  {boolean} isBlob - If the 'isBlob' parameter is set to true, the method returns PDF data as a blob instead of exporting it as a down-loadable PDF file. The default value is false.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        return this.pdfExportModule ? this.pdfExportModule.export(pdfExportProperties, isMultipleExport, pdfDoc, isBlob)\n            : null;\n    };\n    /**\n     * Clears the filtered columns in Gantt.\n     *\n     * Can also be used to clear filtering of a specific column in Gantt.\n     *\n     * @param {string[]} fields - Defines the specific column to remove filter.\n     * @returns {void} .\n     */\n    Gantt.prototype.clearFiltering = function (fields) {\n        this.treeGrid.grid.clearFiltering(fields);\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.removeFilteredColsByField = function (field) {\n        this.treeGrid.removeFilteredColsByField(field, false);\n    };\n    /**\n     * Method to set holidays and non working days in date time and date picker controls\n     *\n     * @param {RenderDayCellEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderWorkingDayCell = function (args) {\n        var includeWeekend = false;\n        var isCustomManual = false;\n        includeWeekend = (this.taskMode !== 'Auto' && this.taskMode !== 'Custom') ? true : (this.includeWeekend || !this.autoCalculateDateScheduling) ? true : false;\n        if (this.taskMode === 'Custom' && this.taskFields.manual) {\n            var editModule = this.editModule;\n            if (editModule && editModule.cellEditModule && editModule.cellEditModule.isCellEdit) {\n                isCustomManual = editModule.cellEditModule.currentEditedRowData[this.taskFields.manual];\n            }\n            else if (editModule && editModule.dialogModule && editModule.dialogModule['isEdit']) {\n                isCustomManual = editModule.dialogModule['editedRecord'][this.taskFields.manual];\n            }\n            includeWeekend = isCustomManual || this.includeWeekend || !this.autoCalculateDateScheduling;\n        }\n        var nonWorkingDays = !includeWeekend ? this.nonWorkingDayIndex : [];\n        var holidays = this.totalHolidayDates;\n        if (nonWorkingDays.length > 0 && nonWorkingDays.indexOf(args.date.getDay()) !== -1) {\n            args.isDisabled = true;\n        }\n        else if (holidays.length > 0) {\n            var tempDate = new Date(args.date.getTime());\n            tempDate.setHours(0, 0, 0);\n            if (holidays.indexOf(tempDate.getTime()) !== -1) {\n                if (!this.autoCalculateDateScheduling || (this.isLoad && !this.treeGrid.loadChildOnDemand &&\n                    this.taskFields.hasChildMapping)) {\n                    args.isDisabled = false;\n                }\n                else {\n                    args.isDisabled = true;\n                }\n            }\n        }\n    };\n    /**\n     * Updates the Gantt timeline to the previous time span by one unit.\n     *\n     * @param {string} mode - Render previous span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.previousTimeSpan = function (mode) {\n        if (this.isReact) {\n            this['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('PreviousTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'PreviousTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('prevTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To update timeline at end point with one unit.\n     *\n     * @param {string} mode - Render next span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.nextTimeSpan = function (mode) {\n        if (this.isReact) {\n            this['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('NextTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'NextTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('nextTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param  {Date} startDate - Defines start date of project.\n     * @param  {Date} endDate - Defines end date of project.\n     * @param  {boolean} isTimelineRoundOff - Defines project start date and end date need to be round off or not.\n     * @param {string} isFrom - Defines whether the call originates from a public method action or a taskbar editing action.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateProjectDates = function (startDate, endDate, isTimelineRoundOff, isFrom) {\n        this.timelineModule.totalTimelineWidth = 0;\n        this.cloneProjectStartDate = startDate;\n        this.cloneProjectEndDate = endDate;\n        this.isTimelineRoundOff = isTimelineRoundOff;\n        this.timelineModule.refreshTimelineByTimeSpan();\n        this.dataOperation.reUpdateGanttDataPosition();\n        if (!this.pdfExportModule || (this.pdfExportModule && !this.pdfExportModule.isPdfExport) ||\n            (this.pdfExportModule && this.pdfExportModule.isPdfExport && this.pdfExportModule.helper.exportProps &&\n                this.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n                !this.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.timelineModule.updateChartByNewTimeline();\n            var browserZoomLevel = (window.outerWidth / window.innerWidth);\n            // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser-Task(919516)\n            if (this.timelineModule.isZoomToFit && !this.enableTimelineVirtualization && browserZoomLevel < 1) {\n                var clientWidthDifference = void 0;\n                if (this.enableVirtualization) {\n                    clientWidthDifference = Math.abs(this.timelineModule.totalTimelineWidth - this.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth) + 1;\n                }\n                else {\n                    clientWidthDifference = Math.abs(this.timelineModule.totalTimelineWidth -\n                        this.ganttChartModule.chartBodyContent.parentElement.clientWidth);\n                }\n                this.ganttChartModule.chartBodyContent.style.width =\n                    formatUnit(this.timelineModule.totalTimelineWidth - clientWidthDifference);\n            }\n            else {\n                this.ganttChartModule.chartBodyContent.style.width = formatUnit(this.timelineModule.totalTimelineWidth);\n            }\n            this.ganttChartModule.updateLastRowBottomWidth();\n            if (this.taskFields.dependency) {\n                this.ganttChartModule.reRenderConnectorLines();\n            }\n            if (isFrom !== 'beforeAdd') {\n                this.notify('selectRowByIndex', {});\n            }\n        }\n    };\n    /**\n     * Splits the taskbar of a specified task into segments based on the given date.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} splitDate - Defines in which date the taskbar must be split up.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.splitTask = function (taskId, splitDate) {\n        this.isEdit = true;\n        this.chartRowsModule.splitTask(taskId, splitDate);\n    };\n    /**\n     * Merge the split taskbar with the given segment indexes.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} segmentIndexes - Defines the object array of indexes which must be merged.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.mergeTask = function (taskId, segmentIndexes) {\n        this.chartRowsModule.mergeTask(taskId, segmentIndexes);\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param  {string} fromFName - Defines origin field name.\n     * @param  {string} toFName - Defines destination field name.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.reorderColumns = function (fromFName, toFName) {\n        this.treeGrid.reorderColumns(fromFName, toFName);\n    };\n    /**\n     * Method to clear edited collections in gantt set edit flag value\n     *\n     * @param {boolean} isStart -Defines whether to initiate edit action.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.initiateEditAction = function (isStart) {\n        this.isOnEdit = isStart;\n        this.previousRecords = {};\n        this.editedRecords = [];\n    };\n    /**\n     *\n     * @param {string} field Method to update value in Gantt record and make clone record for this\n     * @param {IGanttData | ITaskData} record .\n     * @param {boolean} isTaskData .\n     * @returns {void} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Gantt.prototype.setRecordValue = function (field, value, record, isTaskData) {\n        value = isUndefined(value) ? null : value;\n        var resultIf = (this.isOnEdit || this.isOnDelete) ? true : false;\n        if (resultIf) {\n            this.makeCloneData(field, record, isTaskData);\n            var ganttData = isTaskData ? record : record.ganttProperties;\n            var id = ganttData.rowUniqueID;\n            var task_1 = this.getRecordByID(id);\n            var isValid = false;\n            isValid = (isNullOrUndefined(value) ||\n                (!isNullOrUndefined(value) && !isNullOrUndefined(record[\"\" + field]) &&\n                    (value instanceof Date ? value.getTime() !== record[\"\" + field].getTime() :\n                        record[\"\" + field] !== value))) ? true : isValid;\n            if (task_1 && ((this.editedRecords.indexOf(task_1) === -1 && isValid) || this.editedRecords.length === 0)) {\n                if (this.editModule['draggedRecord'] && this.editModule['draggedRecord'].ganttProperties.taskId === ganttData.taskId) {\n                    this.editedRecords.splice(0, 0, task_1);\n                }\n                else {\n                    this.editedRecords.push(task_1);\n                }\n                if (this.undoRedoModule) {\n                    if (this.undoRedoModule['changedRecords'].indexOf(task_1) === -1) {\n                        this.undoRedoModule['changedRecords'].push(extend({}, {}, task_1, true));\n                    }\n                    var currentAction = this.undoRedoModule['getUndoCollection'].length > 0 ? this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['action'] : null;\n                    if (this.editModule && this.editSettings.allowEditing && !this.undoRedoModule['isUndoRedoPerformed'] && !this.isOnDelete && !this.isOnAdded && currentAction !== 'outdent' && currentAction !== 'indent' &&\n                        currentAction !== 'RowDragAndDrop' && currentAction !== 'TaskbarDragAndDrop') {\n                        var oldRecord = this.previousFlatData.filter(function (data) {\n                            return data.ganttProperties.taskId === task_1.ganttProperties.taskId;\n                        })[0];\n                        if (oldRecord && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords']) {\n                            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords'].push(oldRecord);\n                        }\n                    }\n                }\n                if (this.enableImmutableMode) {\n                    this.modifiedRecords.push(task_1);\n                }\n            }\n        }\n        setValue(field, value, record);\n    };\n    Gantt.prototype.makeCloneData = function (field, record, isTaskData) {\n        var cloneData;\n        /* eslint-disable-next-line */\n        var value = getValue(field, record);\n        /* eslint-disable-next-line */\n        var prevValue;\n        /* eslint-disable-next-line */\n        var clonedValue;\n        if (isTaskData) {\n            field = 'ganttProperties.' + field;\n        }\n        if (isNullOrUndefined(this.previousRecords[record.uniqueID])) {\n            var tempData = {};\n            this.previousRecords[record.uniqueID] = tempData;\n        }\n        /* eslint-disable-next-line */\n        cloneData = this.previousRecords[record.uniqueID];\n        /* eslint-disable-next-line */\n        prevValue = getValue(field, cloneData);\n        if (isUndefined(prevValue)) {\n            if (value instanceof Date) {\n                clonedValue = new Date(value.getTime());\n            }\n            else if (isObjectArray(value)) {\n                clonedValue = extend([], value, [], true);\n            }\n            else if (isObject(value)) {\n                clonedValue = extend({}, {}, value, true);\n            }\n            else {\n                clonedValue = value;\n            }\n            if (!isUndefined(clonedValue)) {\n                setValue(field, clonedValue, cloneData);\n            }\n            else {\n                setValue(field, null, cloneData);\n            }\n        }\n    };\n    Gantt.prototype.closeGanttActions = function () {\n        if (this.editModule) {\n            if (this.editModule.cellEditModule && this.editModule.cellEditModule.isCellEdit) {\n                this.treeGrid.closeEdit();\n                this.editModule.cellEditModule.isCellEdit = false;\n                if (!isNullOrUndefined(this.toolbarModule)) {\n                    this.toolbarModule.refreshToolbarItems();\n                }\n            }\n            else if (this.editModule.dialogModule && this.editModule.dialogModule.dialogObj &&\n                this.editModule.dialogModule.dialogObj.visible) {\n                this.editModule.dialogModule.dialogObj.hide();\n                this.editModule.dialogModule.dialogClose();\n            }\n        }\n    };\n    /**\n     * Method to get task by uniqueId value.\n     *\n     * @param {string} id - Defines the task id.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getTaskByUniqueID = function (id) {\n        var value = this.flatData.filter(function (val) {\n            return val.uniqueID === id;\n        });\n        if (value.length > 0) {\n            return value[0];\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get record by id value.\n     *\n     * @param {string} id - Defines the id of record.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        return this.flatData[this.ids.indexOf(id.toString())];\n    };\n    /**\n     * Method to set splitter position.\n     *\n     * @param {string|number} value - Define value to splitter settings property.\n     * @param {string} type - Defines name of internal splitter settings property.\n     * @returns {void} .\n     */\n    Gantt.prototype.setSplitterPosition = function (value, type) {\n        var tempSplitterSettings = {};\n        tempSplitterSettings[type] = value;\n        var splitterPosition = this.splitterModule.calculateSplitterPosition(tempSplitterSettings);\n        switch (type) {\n            case 'view':\n                this.splitterSettings.view = tempSplitterSettings[type];\n                break;\n            case 'columnIndex':\n                this.splitterModule['isSplitterResized'] = true;\n                this.splitterSettings.columnIndex = tempSplitterSettings[type];\n                break;\n            case 'position':\n                this.splitterModule['isSplitterResized'] = true;\n                this.splitterSettings.position = tempSplitterSettings[type];\n                break;\n            default:\n                break;\n        }\n        var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n        this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterObject.paneSettings[0].size = splitterPosition;\n        this.splitterModule.splitterObject.paneSettings[1].size = (parseFloat('99.75%') - parseFloat(splitterPosition)) + '%';\n        this.splitterModule.triggerCustomResizedEvent();\n    };\n    /**\n     * Expand the records by index value.\n     *\n     * @param {number[] | number} index - Defines the index of rows to be expand.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByIndex = function (index) {\n        if (typeof index === 'number') {\n            var args = this.contructExpandCollapseArgs(null, index);\n            this.ganttChartModule.isExpandCollapseFromChart = true;\n            this.ganttChartModule.expandGanttRow(args);\n        }\n        else {\n            for (var i = 0; i < index.length; i++) {\n                if (typeof index[i] === 'number') {\n                    var ind = index[i];\n                    var args = this.contructExpandCollapseArgs(null, ind);\n                    this.ganttChartModule.isExpandCollapseFromChart = true;\n                    this.ganttChartModule.expandGanttRow(args);\n                }\n            }\n        }\n    };\n    /**\n     * Expand the record by task id.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByID = function (id) {\n        if (this.enableVirtualization) {\n            this.isExpandPerformed = true;\n        }\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.expandGanttRow(args);\n    };\n    /**\n     * Collapse the record by index value.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByIndex = function (index) {\n        var args = this.contructExpandCollapseArgs(null, index);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Collapse the record by id value.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByID = function (id) {\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Method to add record.\n     *\n     * @param {Object[] | IGanttData | Object} data - Defines record to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        if (this.editModule && this.editSettings.allowAdding) {\n            if (this.viewType === 'ResourceView') {\n                this.editModule.addRowPosition = rowPosition;\n                this.editModule.addRowIndex = rowIndex;\n                var resources = void 0;\n                if (!isNullOrUndefined(data)) {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        resources = data.ganttProperties.resourceInfo;\n                    }\n                    else {\n                        resources = data[this.taskFields.resourceInfo];\n                    }\n                }\n                var id = void 0;\n                var parentTask = void 0;\n                if (!isNullOrUndefined(resources) && resources.length) {\n                    for (var i = 0; i < resources.length; i++) {\n                        id = (typeof resources[i] === 'object') ? resources[i][this.resourceFields.id] :\n                            resources[0];\n                        parentTask = this.flatData[this.getTaskIds().indexOf('R' + id)];\n                        if (parentTask) {\n                            break;\n                        }\n                    }\n                    if (parentTask && (parentTask.level === 0 || parentTask.childRecords.length)) {\n                        var dropChildRecord = parentTask.childRecords[rowIndex];\n                        if (this.viewType === 'ResourceView' && this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                            this.editModule.addRecord(data, rowPosition, rowIndex);\n                        }\n                        else if (dropChildRecord) {\n                            var position = rowPosition === 'Above' || rowPosition === 'Below' ? rowPosition :\n                                'Child';\n                            if (position === 'Child') {\n                                this.editModule.addRecord(data, position, this.getTaskIds().indexOf('R' + id));\n                            }\n                            else {\n                                this.editModule.addRecord(data, position, this.flatData.indexOf(dropChildRecord));\n                            }\n                        }\n                        else {\n                            this.editModule.addRecord(data, 'Child', this.getTaskIds().indexOf('R' + id));\n                        }\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                else {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        this.editModule.addRecord(data, rowPosition, rowIndex);\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                this.editModule.addRowPosition = null;\n                this.editModule.addRowIndex = null;\n            }\n            else {\n                this.editModule.addRecord(data, rowPosition, rowIndex);\n                if (rowPosition === 'Bottom') {\n                    this.selectedRowIndex = rowIndex;\n                }\n            }\n            if (rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') {\n                this.currentSelection = !isNullOrUndefined(data) ? data : this.currentSelection;\n            }\n        }\n    };\n    /**\n     * Method to update record by ID.\n     *\n     * @param  {Object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByID = function (data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.updateDuration = true;\n            this.editModule.updateRecordByID(data);\n            this.updateDuration = false;\n        }\n    };\n    /**\n     * To update existing taskId with new unique Id.\n     *\n     * @param {number | string} currentId - Defines the current Id of the record.\n     * @param {number | string} newId - Defines the new Id of the record.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateTaskId = function (currentId, newId) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.updateTaskId(currentId, newId);\n        }\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    Gantt.prototype.expandAtLevel = function (level) {\n        if (this.enableVirtualization) {\n            this.isExpandCollapseLevelMethod = true;\n        }\n        this.ganttChartModule.expandAtLevel(level);\n    };\n    /**\n     * To indent the level of selected task to the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.indent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.indent();\n        }\n    };\n    /**\n     * To outdent the level of selected task from the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.outdent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.outdent();\n        }\n    };\n    /**\n     * To retrieve the collection of previously recorded actions. This method returns an object as a collection that holds the following details.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     * @public\n     */\n    Gantt.prototype.getUndoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getUndoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * To retrieve the collection of actions to reapply.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     *\n     * @public\n     */\n    Gantt.prototype.getRedoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getRedoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * Clears the stack collection for undo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearUndoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getUndoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     * Clears the stack collection for redo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearRedoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getRedoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_redo'], false);\n            }\n        }\n    };\n    /**\n     * Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.undo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['undoAction']();\n        }\n    };\n    /**\n     * Initiates a redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.redo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['redoAction']();\n        }\n    };\n    /**\n     * To render the critical path tasks in Gantt.\n     *\n     * @returns {void} .\n     * @param {boolean} isCritical - To checks whether to render critical path or not .\n     * @public\n     */\n    Gantt.prototype.showCriticalPath = function (isCritical) {\n        if (this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(isCritical);\n            var criticalModule = this.criticalPathModule;\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To get all the critical tasks in Gantt.\n     *\n     * @returns {IGanttData[]} .\n     * @public\n     */\n    Gantt.prototype.getCriticalTasks = function () {\n        if (!isNullOrUndefined(this.criticalPathModule) && this.enableCriticalPath) {\n            return this.criticalPathModule.getCriticalTasks();\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To perform Zoom in action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomIn = function () {\n        this.timelineModule.processZooming(true);\n    };\n    /**\n     * To perform zoom out action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomOut = function () {\n        this.timelineModule.processZooming(false);\n    };\n    /**\n     * To show all project task in available chart width.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.fitToProject = function () {\n        this.timelineModule.processZoomToFit();\n        this.ganttChartModule.updateScrollLeft(0);\n    };\n    /**\n     * Reorder the rows based on given indexes and position.\n     *\n     * @param {number[]} fromIndexes - Defines the indexes of the dragged records.\n     * @param {number} toIndex - Defines the index where the dragged rows will be dropped.\n     * @param {string} position - Defines the position of the dropped row.\n     * @returns {void} .\n     */\n    Gantt.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex, position);\n    };\n    /**\n     * Method to update record by Index.\n     *\n     * @param  {number} index - Defines the index of data to modify.\n     * @param  {object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByIndex = function (index, data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            var tasks = this.taskFields;\n            var record = this.updatedRecords.length > 0 ?\n                !isNullOrUndefined(this.updatedRecords[index]) ? this.updatedRecords[index] : null : null;\n            if (!isNullOrUndefined(record)) {\n                data[tasks.id] = record[tasks.id];\n                this.editModule.updateRecordByID(data);\n            }\n        }\n    };\n    /**\n     * To add dependency for Task.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to add.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addPredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.addPredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * To remove dependency from task.\n     *\n     * @param  {number} id - Defines the ID of the task from which the dependency will be removed.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.removePredecessor = function (id) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.removePredecessor(ganttRecord);\n        }\n    };\n    /**\n     * To modify current dependency values of Task by task id.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to update.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updatePredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.updatePredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * Method to open Add dialog.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openAddDialog = function () {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowAdding) {\n            this.editModule.dialogModule.openAddDialog();\n        }\n    };\n    /**\n     * Method to open Edit dialog.\n     *\n     * @param {number } taskId - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openEditDialog = function (taskId) {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowEditing) {\n            this.editModule.dialogModule.openEditDialog(taskId);\n        }\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param {string | number} id .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.contructExpandCollapseArgs = function (id, index) {\n        var chartRow;\n        var record;\n        var rowIndex;\n        if (isNullOrUndefined(index) && id) {\n            record = this.getRecordByID(id.toString());\n            chartRow = this.getRowByID(id);\n            if (!isNullOrUndefined(chartRow)) {\n                rowIndex = getValue('rowIndex', chartRow);\n            }\n        }\n        else if (!isNullOrUndefined(index)) {\n            chartRow = this.getRowByIndex(index);\n            rowIndex = getValue('rowIndex', chartRow);\n            record = this.currentViewData[rowIndex];\n        }\n        var gridRow = this.treeGrid.getRows()[rowIndex];\n        return { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n    };\n    /**\n     * Method to get chart row value by index.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByIndex = function (index) {\n        try {\n            var gridRows = this.element.querySelectorAll('.e-chart-row');\n            if (!isNullOrUndefined(index)) {\n                return gridRows[index];\n            }\n            else {\n                return null;\n            }\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    /**\n     * Method to get the row element by task id.\n     *\n     * @param {string | number} id - Defines the id of task.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByID = function (id) {\n        var _this = this;\n        var record = this.getRecordByID(id.toString());\n        var index;\n        if (this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            index = this.updatedRecords.map(function (item) { return item[_this.taskFields.id]; }).indexOf(record.ganttProperties.taskId);\n        }\n        else {\n            index = this.enableVirtualization ? this.currentViewData.indexOf(record) : this.updatedRecords.indexOf(record);\n        }\n        if (index !== -1) {\n            return this.getRowByIndex(index);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp .\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getUnscheduledTaskClass = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp -Defines the Gantt propertie.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isUnscheduledTask = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Gantt.prototype.createGanttPopUpElement = function () {\n        var popup = this.createElement('div', { className: 'e-ganttpopup', styles: 'display:none;' });\n        var content = this.createElement('div', { className: 'e-content', attrs: { tabIndex: '-1' } });\n        append([content, this.createElement('div', { className: 'e-uptail e-tail' })], popup);\n        content.appendChild(this.createElement('span'));\n        append([content, this.createElement('div', { className: 'e-downtail e-tail' })], popup);\n        document.getElementById(this.element.id + 'GanttChart').appendChild(popup);\n    };\n    /**\n     * Method to get predecessor value as string.\n     *\n     * @param {string} type .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    Gantt.prototype.getPredecessorTextValue = function (type) {\n        var textValue;\n        switch (type) {\n            case 'SS':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('start');\n                break;\n            case 'FF':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'SF':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'FS':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('start');\n                break;\n        }\n        return textValue;\n    };\n    /**\n     * Method to perform search action in Gantt.\n     *\n     * @param {string} keyVal - Defines key value to search.\n     * @returns {void} .\n     */\n    Gantt.prototype.search = function (keyVal) {\n        if (this.filterModule) {\n            this.searchSettings.key = keyVal;\n            this.dataBind();\n        }\n    };\n    /**\n     * Method to get offset rect value\n     *\n     * @param {HTMLElement} element .\n     * @returns {number} .\n     * @hidden\n     */\n    Gantt.prototype.getOffsetRect = function (element) {\n        var box = element.getBoundingClientRect();\n        var scrollTop = window.pageYOffset || document.documentElement.scrollTop\n            || document.body.scrollTop;\n        var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n            document.body.scrollLeft;\n        var clientTop = document.documentElement.clientTop || document.body.clientTop || 0;\n        var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n        var top = box.top + scrollTop - clientTop;\n        var left = this.enableRtl ? box.right + scrollLeft - clientLeft : box.left + scrollLeft - clientLeft;\n        return { top: Math.round(top), left: Math.round(left), width: box.width, height: box.height };\n    };\n    /**\n     * Method to expand all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandAll = function () {\n        this.ganttChartModule.expandCollapseAll('expand');\n    };\n    /**\n     * Method to update data source.\n     *\n     * @returns {void} .\n     * @param {object[]} dataSource - Defines a collection of data.\n     * @param {object} args - Defines the projectStartDate and projectEndDate values.\n     * @public\n     */\n    Gantt.prototype.updateDataSource = function (dataSource, args) {\n        this.isDynamicData = true;\n        if (!isNullOrUndefined(args)) {\n            for (var _i = 0, _a = Object.keys(args); _i < _a.length; _i++) { // eslint-disable-line\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'projectStartDate':\n                        this.setProperties({ projectStartDate: args[prop] }, true);\n                        break;\n                    case 'projectEndDate':\n                        this.setProperties({ projectEndDate: args[prop] }, true);\n                        break;\n                }\n            }\n        }\n        this.dataSource = dataSource;\n    };\n    /**\n     * Method to collapse all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseAll = function () {\n        this.ganttChartModule.expandCollapseAll('collapse');\n    };\n    /**\n     * Gets the columns from the TreeGrid.\n     *\n     * @returns {Column[]} .\n     * @public\n     */\n    Gantt.prototype.getGridColumns = function () {\n        return this.treeGrid.getColumns();\n    };\n    /**\n     * Method to column from given column collection based on field value\n     *\n     * @param {string} field .\n     * @param {ColumnModel[]} columns .\n     * @returns {ColumnModel} .\n     * @private\n     */\n    Gantt.prototype.getColumnByField = function (field, columns) {\n        var column = columns.filter(function (value) {\n            return value.field === field;\n        });\n        return column.length > 0 ? column[0] : null;\n    };\n    /**\n     * Gets the Gantt columns.\n     *\n     * @returns {ColumnModel[]} .\n     * @public\n     */\n    Gantt.prototype.getGanttColumns = function () {\n        return this.ganttColumns;\n    };\n    /**\n     * Shows a column by its column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.showColumn = function (keys, showBy) {\n        this.treeGrid.showColumns(keys, showBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * Hides one or more columns in the Gantt chart based on the specified column names or header texts.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.hideColumn = function (keys, hideBy) {\n        this.treeGrid.hideColumns(keys, hideBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * To set scroll top for chart scroll container.\n     *\n     * @param {number} scrollTop - Defines scroll top value for scroll container.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.setScrollTop = function (scrollTop) {\n        this.ganttChartModule.scrollObject.setScrollTop(scrollTop);\n    };\n    /**\n     * Cancels the current edit operation and reverts the changes made during editing.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.cancelEdit = function () {\n        this.isCancelled = true;\n        this.closeGanttActions();\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCell = function (cellIndex, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCell(cellIndex, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCells = function (rowCellIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCells(rowCellIndexes);\n        }\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRow = function (index, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRow(index, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRows = function (records) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRows(records);\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string } taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.deleteRecord = function (taskDetail) {\n        if (this.editModule) {\n            this.editModule.deleteRecord(taskDetail);\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     */\n    Gantt.prototype.enableItems = function (items, isEnable) {\n        if (this.toolbarModule) {\n            this.toolbarModule.enableItems(items, isEnable);\n        }\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearSelection();\n        }\n    };\n    /**\n     * @param {ITaskAddedEventArgs | IActionBeginEventArgs} args .\n     * @returns {ITaskAddedEventArgs | IActionBeginEventArgs} .\n     * @hidden\n     */\n    Gantt.prototype.updateDataArgs = function (args) {\n        if (!Array.isArray(args.data)) {\n            var customData = [];\n            customData.push(args.data);\n            setValue('data', customData, args);\n        }\n        return args;\n    };\n    /**\n     * Method to convert task data to milestone data.\n     *\n     * @param {string} id - Defines id of record.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.convertToMilestone = function (id) {\n        var rowData = this.getRecordByID(id);\n        if (!isNullOrUndefined(rowData)) {\n            var data = extend({}, {}, rowData.taskData, true);\n            var taskfields = this.taskFields;\n            if (data[taskfields.startDate]) {\n                this.setRecordValue(taskfields.startDate, rowData.ganttProperties.startDate, data, true);\n            }\n            if (!isNullOrUndefined(taskfields.duration)) {\n                data[taskfields.duration] = 0;\n            }\n            else {\n                data[taskfields.startDate] = new Date(rowData.ganttProperties.startDate);\n                data[taskfields.endDate] = new Date(rowData.ganttProperties.endDate);\n            }\n            if (!isNullOrUndefined(taskfields.milestone)) {\n                if (data[taskfields.milestone] === false) {\n                    data[taskfields.milestone] = true;\n                }\n            }\n            if (!isNullOrUndefined(taskfields.progress)) {\n                data[taskfields.progress] = 0;\n            }\n            if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                data[taskfields.child] = [];\n            }\n            if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                data[taskfields.parentID] = null;\n            }\n            if (!isNullOrUndefined(taskfields.segments)) {\n                data[taskfields.segments] = null;\n            }\n            var taskType = !isNullOrUndefined(rowData.ganttProperties.taskType) ? rowData.ganttProperties.taskType\n                : this.taskType;\n            if (taskType === 'FixedWork') {\n                if (!isNullOrUndefined(data[taskfields.work])) {\n                    data[taskfields.work] = 0;\n                }\n                else {\n                    rowData.ganttProperties.work = 0;\n                }\n            }\n            if (!isNullOrUndefined(this.contextMenuModule) &&\n                this.contextMenuModule.isOpen &&\n                this.contextMenuModule.item === 'Milestone') {\n                if (!isNullOrUndefined(taskfields.dependency)) {\n                    data[taskfields.dependency] = null;\n                }\n                var position = this.editSettings.newRowPosition;\n                this.addRecord(data, position, this.selectedRowIndex);\n            }\n            else {\n                if (!rowData.hasChildRecords && !rowData.ganttProperties.isMilestone) {\n                    this.isConvertedMilestone = true;\n                    this.updateRecordByID(data);\n                    this.isConvertedMilestone = false;\n                }\n            }\n        }\n    };\n    /**\n     * To change the mode of a record.\n     *\n     * @param {object} data - Use to change the TaskMode either manual, auto or custom.\n     * @returns {void} .\n     */\n    Gantt.prototype.changeTaskMode = function (data) {\n        if (this.undoRedoModule && !this.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'TaskMode';\n            details['modifiedRecords'] = extend([], [data], [], true);\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var tasks = this.taskFields;\n        var ganttData = this.getRecordByID(data[tasks.id]);\n        var ganttProp = ganttData.ganttProperties;\n        this.isOnEdit = true;\n        this.setRecordValue('isAutoSchedule', !ganttProp.isAutoSchedule, ganttProp, true);\n        if (!isNullOrUndefined(this.taskFields.manual)) {\n            this.setRecordValue('taskData.' + tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n            this.setRecordValue(tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n        }\n        this.editModule.updateTaskScheduleModes(ganttData);\n        var args = {\n            data: ganttData\n        };\n        this.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * @returns {string[]} .\n     * @private\n     */\n    Gantt.prototype.getTaskIds = function () {\n        return this.taskIds;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.setTaskIds = function (data) {\n        if (this.viewType !== 'ProjectView') {\n            var id = data.ganttProperties.taskId;\n            id = data.level === 0 ? 'R' + id : 'T' + id;\n            this.taskIds.push(id);\n        }\n    };\n    /**\n     * To render the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.renderTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To reset the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.resetTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableImmutableMode\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowParentDependency\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"disableHtmlEncode\", void 0);\n    __decorate([\n        Complex({}, LoadingIndicator)\n    ], Gantt.prototype, \"loadingIndicator\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableVirtualMaskRow\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"loadChildOnDemand\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"updateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"UpdateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoCalculateDateScheduling\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoFocusTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableAdaptiveUI\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowSorting\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enablePredecessorValidation\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showColumnMenu\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"columnMenuItems\", void 0);\n    __decorate([\n        Property(['Sorting', 'Add', 'ColumnReorder', 'ColumnResize', 'ColumnState', 'Delete', 'Edit', 'Filtering', 'Indent', 'Outdent', 'NextTimeSpan', 'PreviousTimeSpan', 'RowDragAndDrop', 'TaskbarDragAndDrop', 'Search', 'ZoomIn', 'ZoomOut', 'ZoomToFit'])\n    ], Gantt.prototype, \"undoRedoActions\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"timezone\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"collapseAllParentTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"highlightWeekends\", void 0);\n    __decorate([\n        Property(0)\n    ], Gantt.prototype, \"treeColumnIndex\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('day')\n    ], Gantt.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"dateFormat\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"renderBaseline\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowTaskbarDragAndDrop\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowTaskbarOverlap\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Gantt.prototype, \"gridLines\", void 0);\n    __decorate([\n        Complex({}, LabelSettings)\n    ], Gantt.prototype, \"labelSettings\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"parentTaskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"timelineTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"milestoneTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"baselineColor\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"width\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableTimelineVirtualization\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property(['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'])\n    ], Gantt.prototype, \"workWeek\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"includeWeekend\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowUnscheduledTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showInlineNotes\", void 0);\n    __decorate([\n        Property(36)\n    ], Gantt.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceIDMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceNameMapping\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"resources\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"segmentData\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"connectorLineBackground\", void 0);\n    __decorate([\n        Property(1)\n    ], Gantt.prototype, \"connectorLineWidth\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"columns\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"addDialogFields\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"editDialogFields\", void 0);\n    __decorate([\n        Property(-1)\n    ], Gantt.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Property('hour')\n    ], Gantt.prototype, \"workUnit\", void 0);\n    __decorate([\n        Property('FixedUnit')\n    ], Gantt.prototype, \"taskType\", void 0);\n    __decorate([\n        Property('ProjectView')\n    ], Gantt.prototype, \"viewType\", void 0);\n    __decorate([\n        Collection([{ from: 8, to: 12 }, { from: 13, to: 17 }], DayWorkingTime)\n    ], Gantt.prototype, \"dayWorkingTime\", void 0);\n    __decorate([\n        Collection([], WeekWorkingTime)\n    ], Gantt.prototype, \"weekWorkingTime\", void 0);\n    __decorate([\n        Collection([], Holiday)\n    ], Gantt.prototype, \"holidays\", void 0);\n    __decorate([\n        Collection([], EventMarker)\n    ], Gantt.prototype, \"eventMarkers\", void 0);\n    __decorate([\n        Complex({}, TaskFields)\n    ], Gantt.prototype, \"taskFields\", void 0);\n    __decorate([\n        Complex({}, ResourceFields)\n    ], Gantt.prototype, \"resourceFields\", void 0);\n    __decorate([\n        Complex({}, TimelineSettings)\n    ], Gantt.prototype, \"timelineSettings\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"zoomingLevels\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Gantt.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, EditSettings)\n    ], Gantt.prototype, \"editSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], Gantt.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], Gantt.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowRowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"readOnly\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableContextMenu\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableCriticalPath\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableUndoRedo\", void 0);\n    __decorate([\n        Property(10)\n    ], Gantt.prototype, \"undoRedoStepsCount\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"validateManualTasksOnLinking\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableMultiTaskbar\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showOverAllocation\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Gantt.prototype, \"taskMode\", void 0);\n    __decorate([\n        Complex({}, FilterSettings)\n    ], Gantt.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], Gantt.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Complex({}, SplitterSettings)\n    ], Gantt.prototype, \"splitterSettings\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeExcelExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStartHelper\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEdited\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"endEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEditing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResized\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeTooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onTaskbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"recordDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforePdfExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTimelineCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfColumnHeaderQueryCellInfo\", void 0);\n    Gantt = __decorate([\n        NotifyPropertyChanges\n    ], Gantt);\n    return Gantt;\n}(Component));\nexport { Gantt };\n","/**\n * public Enum for `PdfHorizontalOverflowType`.\n *\n * @private\n */\nexport var PdfHorizontalOverflowType;\n(function (PdfHorizontalOverflowType) {\n    /**\n     * Specifies the type of `NextPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"NextPage\"] = 0] = \"NextPage\";\n    /**\n     * Specifies the type of `LastPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"LastPage\"] = 1] = \"LastPage\";\n})(PdfHorizontalOverflowType || (PdfHorizontalOverflowType = {}));\n","import { isNullOrUndefined as isNOU, getValue, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { TreeGrid, Edit } from '@syncfusion/ej2-treegrid';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * To handle cell edit action on default columns and custom columns\n */\nvar CellEdit = /** @class */ (function () {\n    function CellEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.isCellEdit = false;\n        this.isResourceCellEdited = false;\n        this.parent = ganttObj;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Bind all editing related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    CellEdit.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.editSettings.allowEditing = this.parent.editSettings.allowEditing;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        this.parent.treeGrid.editSettings.mode = 'Cell';\n        this.parent.treeGrid.cellEdit = this.ensureEditCell.bind(this);\n        if (this.parent.editSettings.allowEditing) {\n            TreeGrid.Inject(Edit);\n        }\n    };\n    /**\n     * Ensure current cell was editable or not\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void | Deferred} .\n     */\n    CellEdit.prototype.ensureEditCell = function (args) {\n        var _this = this;\n        var data = args.rowData;\n        var field = args.columnName;\n        this.editedColumn = this.parent.getColumnByField(field, this.parent.ganttColumns);\n        var taskSettings = this.parent.taskFields;\n        if (this.parent.readOnly) {\n            args.cancel = true;\n            return;\n        }\n        if (this.parent.editSettings.mode === 'Dialog') {\n            args.cancel = true;\n            return;\n        }\n        if (data.hasChildRecords && !this.parent.allowParentDependency && ((field === taskSettings.endDate &&\n            ((!isNullOrUndefined(data[taskSettings.manual]) && data[taskSettings.manual] === false) ||\n                this.parent.taskMode === 'Auto')) || field === taskSettings.duration || field === taskSettings.dependency ||\n            field === taskSettings.progress || field === taskSettings.work ||\n            field === taskSettings.type || field === 'taskType')) {\n            if ((field === taskSettings.dependency && !this.parent.allowParentDependency) || field !== taskSettings.dependency) {\n                args.cancel = true;\n            }\n        }\n        else {\n            var callBackPromise_1 = new Deferred();\n            var parentReference_1 = this.parent;\n            this.currentEditedRowData = args.rowData;\n            this.parent.trigger('cellEdit', args, function (arg) {\n                if (arg.columnName === parentReference_1.taskFields.progress && arg.rowData.hasChildRecords) {\n                    arg.cancel = true;\n                }\n                if (data.level === 0 && _this.parent.viewType === 'ResourceView') {\n                    arg.cancel = true;\n                }\n                callBackPromise_1.resolve(arg);\n                if (!arg.cancel) {\n                    if (arg.columnName === _this.parent.taskFields.notes) {\n                        _this.openNotesEditor(arg);\n                    }\n                    else {\n                        _this.isCellEdit = true;\n                        if (!isNOU(_this.parent.toolbarModule)) {\n                            _this.parent.toolbarModule.refreshToolbarItems();\n                        }\n                    }\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    /**\n     * To render edit dialog and to focus on notes tab\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.openNotesEditor = function (args) {\n        var taskSettings = this.parent.taskFields;\n        var data = args.rowData;\n        var field = args.columnName;\n        if ((field === taskSettings.notes && !this.parent.showInlineNotes)) {\n            args.cancel = true;\n            var columnTypes = this.parent.editModule.dialogModule.updatedEditFields.map(function (x) { return x.type; });\n            var index = columnTypes.indexOf('Notes');\n            if (index !== -1) {\n                this.parent.editModule.dialogModule.openEditDialog(data.ganttProperties.rowUniqueID);\n                var tabObj = document.getElementById(this.parent.element.id + '_Tab').ej2_instances[0];\n                tabObj.selectedItem = index;\n            }\n        }\n        if (field === taskSettings.notes && this.parent.showInlineNotes === true) {\n            this.isCellEdit = true;\n        }\n    };\n    // private isValueChange(args: Record<string, unknown>, field: string): boolean {\n    //     const data: IGanttData = getValue('data', args);\n    //     const editedValue: Record<string, unknown> = data[`${field}`];\n    //     const previousValue: Record<string, unknown> = getValue('previousData', args);\n    //     if ((isNOU(editedValue) && !isNOU(previousValue)) || (!isNOU(editedValue) && isNOU(previousValue))) {\n    //         return true;\n    //     } else if (!isNOU(editedValue) && !isNOU(previousValue)) {\n    //         if (editedValue instanceof Date) {\n    //             return editedValue.getTime() !== data.taskData[field as string].getTime() ? true : false;\n    //         } else if (field === this.parent.taskFields.resourceInfo) {\n    //             return editedValue !== previousValue ? true : false;\n    //         } else if (editedValue !== data.taskData[field as string]) {\n    //             return true;\n    //         }\n    //     }\n    //     return false;\n    // }\n    /**\n     * Initiate cell save action on Gantt with arguments from TreeGrid\n     *\n     * @param {object} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.initiateCellEdit = function (args, editedObj) {\n        var isValid = true;\n        if (args['name'] === 'actionComplete' && args['previousData'] === args['data'][args['column'].field]) {\n            isValid = false;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (isValid) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'CellEditing';\n                action['editedColumn'] = args['column'].field;\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n            }\n        }\n        var column = getValue('column', args);\n        var data = getValue('data', args);\n        var editedArgs = {};\n        editedArgs.action = 'CellEditing';\n        editedArgs.data = this.parent.getTaskByUniqueID(data.uniqueID);\n        var previousValue = getValue('previousData', args);\n        var editedValue = this.parent.allowUnscheduledTasks ? data[column.field] : ((isNullOrUndefined(data[column.field])\n            || data[column.field] === '') && (this.parent.taskFields.duration === column.field ||\n            this.parent.taskFields.startDate === column.field || this.parent.taskFields.endDate === column.field)) ? previousValue\n            : data[column.field];\n        if (!isNOU(data)) {\n            data[column.field] = previousValue;\n            editedArgs.data[column.field] = previousValue;\n            this.parent.initiateEditAction(true);\n            if (this.parent.weekWorkingTime.length > 0 && editedValue && (column.field === this.parent.taskFields.startDate ||\n                column.field === this.parent.taskFields.baselineStartDate)) {\n                var sDate = column.field === this.parent.taskFields.startDate ? data.ganttProperties.startDate :\n                    data.ganttProperties.baselineStartDate;\n                var prevDay = this.parent['getStartTime'](sDate);\n                if (prevDay / 3600 === sDate.getHours()) {\n                    var dayStartTime = this.parent['getStartTime'](editedValue);\n                    this.parent.dataOperation.setTime(dayStartTime, editedValue);\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n                else {\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n            }\n            else {\n                this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n            }\n            if (column.field === this.parent.taskFields.name) {\n                this.taskNameEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.startDate) {\n                this.startDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.endDate) {\n                this.endDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.duration) {\n                this.durationEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.resourceInfo) {\n                this.resourceEdited(editedArgs, editedObj, data);\n            }\n            else if (column.field === this.parent.taskFields.progress) {\n                this.progressEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.baselineStartDate\n                || column.field === this.parent.taskFields.baselineEndDate) {\n                this.baselineEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.dependency) {\n                this.dependencyEdited(editedArgs, previousValue);\n            }\n            else if (column.field === this.parent.taskFields.notes) {\n                this.notedEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.work) {\n                this.workEdited(editedArgs);\n            }\n            else if ((column.field === this.parent.taskFields.type || column.field === 'taskType') &&\n                !isNOU(this.parent.taskFields.work)) {\n                this.typeEdited(editedArgs, editedObj);\n            }\n            else if (column.field === this.parent.taskFields.manual) {\n                this.taskmodeEdited(editedArgs);\n            }\n            else {\n                this.parent.setRecordValue('taskData.' + column.field, editedArgs.data[column.field], editedArgs.data);\n                this.parent.editModule.initiateSaveAction(editedArgs);\n            }\n        }\n        else {\n            this.parent.editModule.endEditAction(args);\n        }\n        this.isCellEdit = false;\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn)) {\n            this.parent.editModule.cellEditModule.editedColumn = null;\n        }\n        if (!isNOU(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * To update task name cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskNameEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.name, args.data[this.parent.taskFields.name], args.data);\n        this.parent.setRecordValue('taskName', args.data[this.parent.taskFields.name], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task notes cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.notedEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.notes, args.data[this.parent.taskFields.notes], args.data);\n        this.parent.setRecordValue('notes', args.data[this.parent.taskFields.notes], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task schedule mode cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskmodeEdited = function (args) {\n        this.parent.setRecordValue('isAutoSchedule', !args.data[this.parent.taskFields.manual], args.data.ganttProperties, true);\n        this.parent.editModule.updateTaskScheduleModes(args.data);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task start date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.startDateEdited = function (args) {\n        var ganttData = args.data;\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.startDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        currentValue = this.parent.dateValidationModule.checkStartDate(currentValue, ganttData.ganttProperties, ganttData.ganttProperties.isMilestone);\n        if (isNOU(currentValue)) {\n            if (!ganttData.hasChildRecords) {\n                this.parent.setRecordValue('startDate', null, ganttProb, true);\n                if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                    this.parent.setRecordValue('duration', null, ganttProb, true);\n                }\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                // if (this.parent.allowUnscheduledTasks && isNOU(this.parent.taskFields.endDate)) {\n                //     this.parent.setRecordValue('endDate', null, ganttProb, true);\n                // }\n            }\n        }\n        else if (ganttProb.endDate || !isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(ganttData);\n        }\n        else if (isNOU(ganttProb.endDate) && isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n        }\n        this.parent.setRecordValue('isMilestone', ganttProb.duration === 0 ? true : false, ganttProb, true);\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        this.updateEditedRecord(args);\n    };\n    CellEdit.prototype.validateEndDateWithSegments = function (ganttProp) {\n        var ganttSegments = [];\n        var segments = ganttProp.segments;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[parseInt(i.toString(), 10)];\n            var endDate = segment.endDate;\n            endDate = (!isNullOrUndefined(ganttProp.endDate)) && endDate.getTime() <\n                ganttProp.endDate.getTime() && i !== segments.length - 1 ? endDate : ganttProp.endDate;\n            segment.duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n            if (segments.length > 0 && endDate.getTime() < segment.startDate.getTime()\n                && endDate.getTime() <= ganttProp.endDate.getTime()) {\n                segments[i - 1].duration = this.parent.dataOperation.getDuration(segments[i - 1].startDate, ganttProp.endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                continue;\n            }\n            ganttSegments.push(segment);\n        }\n        return ganttSegments;\n    };\n    /**\n     * To update task end date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.endDateEdited = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.endDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        if (isNOU(currentValue)) {\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                this.parent.setRecordValue('duration', null, ganttProb, true);\n            }\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](currentValue);\n            if ((currentValue.getHours() === 0 && dayEndTime !== 86400)) {\n                this.parent.dateValidationModule.setTime(dayEndTime, currentValue);\n            }\n            currentValue = this.parent.dateValidationModule.checkEndDate(currentValue, ganttProb, ganttProb.isMilestone);\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!isNOU(ganttProb.startDate) && isNOU(ganttProb.duration)) {\n                if (this.parent.dateValidationModule.compareDates(ganttProb.endDate, ganttProb.startDate) === -1) {\n                    this.parent.setRecordValue('endDate', new Date(ganttProb.startDate.getTime()), ganttProb, true);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProb.endDate);\n                    this.parent.dateValidationModule.setTime(dayEndTime, ganttProb.endDate);\n                }\n            }\n            else if (!isNOU(ganttProb.duration) && isNOU(ganttProb.startDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(ganttProb.endDate, ganttProb.duration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments)) {\n                ganttProb.segments = this.validateEndDateWithSegments(ganttProb);\n            }\n            if (this.compareDatesFromRecord(ganttProb) <= 0) {\n                this.parent.dateValidationModule.calculateDuration(args.data);\n            }\n            else {\n                this.parent.editModule.revertCellEdit(args);\n            }\n            this.updateDates(args);\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            if (ganttProb.isMilestone) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0) {\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), args.data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(args.data, 'segments');\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'endDate');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update duration cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.durationEdited = function (args) {\n        var regex = /^[^\\d.-]+$/;\n        if (regex.test(args.data[this.parent.taskFields.duration])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.duration + \" field is invalid. Please ensure the \" + this.parent.taskFields.duration + \" field contains only valid numeric values.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        if (parseInt(args.data[this.parent.taskFields.duration], 10) < 0) {\n            args.data[this.parent.taskFields.duration] = 0;\n        }\n        var ganttProb = args.data.ganttProperties;\n        var durationString = args.data[this.parent.taskFields.duration];\n        this.parent.dataOperation.updateDurationValue(durationString, ganttProb);\n        this.updateDates(args);\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'duration');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update start date, end date based on duration\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateDates = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var endDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.endDate);\n        var startDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.startDate);\n        var currentDuration = ganttProb.duration;\n        if (isNOU(currentDuration)) {\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n            if (args.data[this.parent.taskFields.duration] !== null) {\n                this.parent.setRecordValue('endDate', null, ganttProb, true);\n            }\n        }\n        else {\n            if (isNOU(startDate) && !isNOU(endDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(endDate, currentDuration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (currentDuration !== 0 && ganttProb.isMilestone) {\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, false, args.data, true);\n                }\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments) && ganttProb.segments.length > 0) {\n                this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), ganttProb, true);\n                this.parent.dataOperation.updateMappingData(args.data, 'segments');\n            }\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(args.data);\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n    };\n    /**\n     * To update progress cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.progressEdited = function (args) {\n        var ganttRecord = args.data;\n        this.parent.setRecordValue('progress', (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), ganttRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.progress, (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), args.data);\n        if (!ganttRecord.ganttProperties.isAutoSchedule) {\n            this.parent.setRecordValue('autoWidth', this.parent.dataOperation.calculateWidth(ganttRecord, false), ganttRecord.ganttProperties, true);\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.updateSegmentProgress(args.data.ganttProperties);\n        }\n        if (!args.data.hasChildRecords) {\n            var width = ganttRecord.ganttProperties.isAutoSchedule ? ganttRecord.ganttProperties.width :\n                ganttRecord.ganttProperties.autoWidth;\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(width, ganttRecord.ganttProperties.progress), ganttRecord.ganttProperties, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update baselines with new baseline start date and baseline end date\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.baselineEdited = function (args) {\n        var ganttRecord = args.data.ganttProperties;\n        var baseLineStartDate = args.data[this.parent.taskFields.baselineStartDate];\n        var baseLineEndDate = args.data[this.parent.taskFields.baselineEndDate];\n        var dayEndTime = this.parent['getCurrentDayEndTime'](baseLineEndDate);\n        if (baseLineEndDate && baseLineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.parent.dateValidationModule.setTime(dayEndTime, baseLineEndDate);\n        }\n        this.parent.setRecordValue('baselineStartDate', this.parent.dateValidationModule.checkBaselineStartDate(baseLineStartDate, ganttRecord), ganttRecord, true);\n        this.parent.setRecordValue('baselineEndDate', this.parent.dateValidationModule.checkBaselineEndDate(baseLineEndDate), ganttRecord, true);\n        if (ganttRecord.baselineStartDate && ganttRecord.baselineEndDate) {\n            this.parent.setRecordValue('baselineLeft', this.parent.dataOperation.calculateBaselineLeft(ganttRecord), ganttRecord, true);\n            this.parent.setRecordValue('baselineWidth', this.parent.dataOperation.calculateBaselineWidth(ganttRecord), ganttRecord, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task's resource cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @param {IGanttData} previousData .\n     * @returns {void} .\n     */\n    CellEdit.prototype.resourceEdited = function (args, editedObj, previousData) {\n        var resourceSettings = this.parent.resourceFields;\n        var editedResourceId = editedObj[this.parent.taskFields.resourceInfo];\n        if (editedResourceId) {\n            this.isResourceCellEdited = true;\n            var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n            var editedResouceLength = tempResourceInfo.length;\n            var previousResource = previousData.ganttProperties.resourceInfo;\n            var index = void 0;\n            var editedResources = [];\n            var resourceData = this.parent.resources;\n            var newIndex = void 0;\n            var _loop_1 = function (count) {\n                if (previousResource) {\n                    var previousResourceLength = previousResource.length;\n                    for (newIndex = 0; newIndex < previousResourceLength; newIndex++) {\n                        if (previousResource[newIndex][resourceSettings.id] === editedResourceId[count]) {\n                            index = newIndex;\n                            break;\n                        }\n                        else {\n                            index = -1;\n                        }\n                    }\n                }\n                if (!isNOU(index) && index !== -1) {\n                    editedResources.push(previousResource[parseInt(index.toString(), 10)]);\n                }\n                else {\n                    var resource = resourceData.filter(function (resourceInfo) {\n                        return (editedResourceId[count] === resourceInfo[resourceSettings.id]);\n                    });\n                    var ganttDataResource = extend({}, resource[0]);\n                    ganttDataResource[resourceSettings.unit] = 100;\n                    editedResources.push(ganttDataResource);\n                }\n            };\n            for (var count = 0; count < editedResouceLength; count++) {\n                _loop_1(count);\n            }\n            args.data.ganttProperties.resourceInfo = editedResources;\n            this.parent.dataOperation.updateMappingData(args.data, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'resource');\n            if (this.parent.viewType === 'ResourceView') {\n                this.parent.editModule.dialogModule.isResourceUpdate = true;\n                this.parent.editModule.dialogModule.previousResource = previousResource;\n            }\n            this.updateDates(args);\n            this.updateEditedRecord(args);\n        }\n    };\n    /**\n     * To update task's predecessor cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @param {object} cellEditArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.dependencyEdited = function (editedArgs, cellEditArgs) {\n        var specialCharacterPattern = /[!@#$%^&*()_=[\\]{};:<>|./?-]/;\n        if (specialCharacterPattern.test(editedArgs.data[this.parent.taskFields.dependency])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.dependency + \" field is invalid. Please ensure that the \" + this.parent.taskFields.dependency + \" field does not contain any special characters.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        this.parent.predecessorModule.updateUnscheduledDependency(editedArgs.data);\n        var FF = this.parent.localeObj.getConstant('FF');\n        var FS = this.parent.localeObj.getConstant('FS');\n        var SS = this.parent.localeObj.getConstant('SS');\n        var SF = this.parent.localeObj.getConstant('SF');\n        var value = '';\n        if (!isNullOrUndefined(editedArgs.data[this.parent.taskFields.dependency])) {\n            var splitString_1 = editedArgs.data[this.parent.taskFields.dependency].split(',');\n            splitString_1.map(function (splitvalue, index) {\n                if (splitvalue.includes(FF)) {\n                    value += splitvalue.replace(FF, 'FF');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(FS)) {\n                    value += splitvalue.replace(FS, 'FS');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SS)) {\n                    value += splitvalue.replace(SS, 'SS');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SF)) {\n                    value += splitvalue.replace(SF, 'SF');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else {\n                    value += splitvalue;\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n            });\n        }\n        if (!this.parent.connectorLineEditModule.updatePredecessor(editedArgs.data, value, editedArgs)) {\n            this.parent.editModule.revertCellEdit(cellEditArgs);\n        }\n    };\n    /**\n     * To update task's work cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.workEdited = function (editedArgs) {\n        var ganttProb = editedArgs.data.ganttProperties;\n        if (editedArgs.data[this.parent.taskFields.work] < 0 || isNullOrUndefined(editedArgs.data[this.parent.taskFields.work])) {\n            editedArgs.data[this.parent.taskFields.work] = 0;\n        }\n        this.parent['updateDuration'] = true;\n        var workValue = editedArgs.data[this.parent.taskFields.work];\n        this.parent.setRecordValue('work', workValue, ganttProb, true);\n        this.parent.editModule.updateResourceRelatedFields(editedArgs.data, 'work');\n        this.updateDates(editedArgs);\n        this.updateEditedRecord(editedArgs);\n        this.parent['updateDuration'] = false;\n    };\n    /**\n     * To update task type cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     */\n    CellEdit.prototype.typeEdited = function (args, editedObj) {\n        var key = this.parent.taskFields.type || 'taskType';\n        var ganttProb = args.data.ganttProperties;\n        var taskType = editedObj[\"\" + key];\n        this.parent.setRecordValue('taskType', taskType, ganttProb, true);\n        // To validate the work column as well, if duartion column value is 0, when FixedDuration type\n        if (ganttProb.taskType === 'FixedDuration' && ganttProb.duration === 0) {\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'work');\n        }\n        //this.parent.dataOperation.updateMappingData(args.data, 'taskType');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To compare start date and end date from Gantt record\n     *\n     * @param {ITaskData} ganttRecord .\n     * @returns {number} .\n     */\n    CellEdit.prototype.compareDatesFromRecord = function (ganttRecord) {\n        var sDate = this.parent.dateValidationModule.getValidStartDate(ganttRecord);\n        var eDate = this.parent.dateValidationModule.getValidEndDate(ganttRecord);\n        return this.parent.dateValidationModule.compareDates(sDate, eDate);\n    };\n    /**\n     * To start method save action with edited cell value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateEditedRecord = function (args) {\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To remove all public private properties\n     *\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.destroy = function () {\n        // Destroy Method\n        this.parent.editModule.cellEditModule = undefined;\n    };\n    return CellEdit;\n}());\nexport { CellEdit };\n","import { getValue, isNullOrUndefined, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport * as cls from '../base/css-constants';\n/**\n * File for handling taskbar editing tooltip in Gantt.\n */\nvar EditTooltip = /** @class */ (function () {\n    function EditTooltip(gantt, taskbarEdit) {\n        this.parent = gantt;\n        this.taskbarEdit = taskbarEdit;\n    }\n    /**\n     * To create tooltip.\n     *\n     * @param {string} opensOn .\n     * @param {boolean} mouseTrail .\n     * @param {string} target .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.createTooltip = function (opensOn, mouseTrail, target) {\n        var _this = this;\n        this.toolTipObj = new Tooltip({\n            opensOn: opensOn,\n            position: 'TopRight',\n            enableRtl: this.parent.enableRtl,\n            mouseTrail: mouseTrail,\n            cssClass: cls.ganttTooltip,\n            windowCollision: true,\n            target: target ? target : null,\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        this.toolTipObj.target = '.e-connectorpoint-left, .e-connectorpoint-right';\n        this.toolTipObj.beforeRender = function (args) {\n            var argsData = {\n                data: _this.taskbarEdit.taskBarEditRecord,\n                args: args,\n                content: _this.toolTipObj.content\n            };\n            _this.parent.trigger('beforeTooltipRender', argsData);\n        };\n        this.toolTipObj.afterOpen = function (args) {\n            _this.updateTooltipPosition(args);\n        };\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.chartPane);\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    EditTooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = args.element.offsetLeft;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth)) {\n                tooltipPositionX += leftEnd - (tooltipPositionX + args.element.offsetWidth);\n            }\n            args.element.style.left = tooltipPositionX + 'px';\n            args.element.style.visibility = 'visible';\n            if (args.target && this.parent.tooltipSettings.editing) {\n                var top_1 = args.target.getBoundingClientRect().top + window.scrollY;\n                var tooltipPositionY = void 0;\n                if (args.target.classList.contains('e-connectorpoint-left') ||\n                    args.target.classList.contains('e-connectorpoint-right')) {\n                    tooltipPositionY = top_1 - (args.element.offsetHeight) - 14;\n                }\n                else {\n                    tooltipPositionY = top_1 - (args.element.offsetHeight) - 8;\n                }\n                this.toolTipHeight = args.element.style.top = tooltipPositionY + 'px';\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar edit tooltip.\n     *\n     * @param {boolean} bool .\n     * @param {number} segmentIndex .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.showHideTaskbarEditTooltip = function (bool, segmentIndex) {\n        if (bool && this.parent.tooltipSettings.showTooltip) {\n            this.createTooltip('Custom', false);\n            this.parent.tooltipModule.toolTipObj.close();\n            this.updateTooltip(segmentIndex);\n            if (this.parent.tooltipSettings.editing) {\n                this.toolTipObj.openDelay = 500;\n            }\n            if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointLeft));\n            }\n            else if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointRight));\n            }\n            else {\n                this.toolTipObj.open(this.taskbarEdit.taskBarEditElement);\n            }\n        }\n        else if (!isNullOrUndefined(this.toolTipObj)) {\n            this.toolTipObj.destroy();\n            this.toolTipObj = null;\n        }\n    };\n    /**\n     * To update tooltip content and position.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.updateTooltip = function (segmentIndex) {\n        var ganttProp = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        var taskWidth = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.width :\n            ganttProp.segments[segmentIndex].width;\n        var progressWidth = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.progressWidth :\n            ganttProp.segments[segmentIndex].progressWidth;\n        var left = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.left : ganttProp.left +\n            ganttProp.segments[segmentIndex].left;\n        if (!isNullOrUndefined(this.toolTipObj)) {\n            if (this.taskbarEdit.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskbarEdit.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                if (this.parent.tooltipSettings.editing) {\n                    this.toolTipObj.openDelay = 500;\n                }\n                this.toolTipObj.offsetY = -3;\n            }\n            else {\n                if (this.parent.tooltipSettings.editing) {\n                    this.toolTipObj.openDelay = 500;\n                }\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                if (ganttProp.segments && ganttProp.segments.length > 0 && this.taskbarEdit['mainElement'] && this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    var segments = this.taskbarEdit['mainElement'].querySelectorAll('.e-segmented-taskbar');\n                    this.toolTipObj.refresh(segments[segmentIndex]);\n                }\n                else {\n                    this.toolTipObj.refresh(this.taskbarEdit.taskBarEditElement);\n                }\n                if (this.taskbarEdit.taskBarEditAction === 'LeftResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'RightResizing' ||\n                    this.taskbarEdit.taskBarEditAction === 'ParentResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -(progressWidth);\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -(taskWidth - progressWidth);\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'MilestoneDrag') {\n                    this.toolTipObj.offsetX = -(this.parent.chartRowsModule.milestoneHeight / 2);\n                }\n                else if (taskWidth > 5) {\n                    this.toolTipObj.offsetX = -(taskWidth + left - this.taskbarEdit.tooltipPositionX);\n                }\n                if (this.parent.tooltipSettings.editing && document.getElementsByClassName('e-gantt-tooltip')[0] && this.toolTipHeight) {\n                    document.getElementsByClassName('e-gantt-tooltip')[0].style.top = this.toolTipHeight;\n                }\n            }\n        }\n    };\n    /**\n     * To get updated tooltip text.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.getTooltipText = function (segmentIndex) {\n        var tooltipString = '';\n        var instance = this.parent.globalize;\n        var editRecord = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        if (!isNullOrUndefined(editRecord.segments) && editRecord.segments.length > 0 && segmentIndex !== -1\n            && this.taskbarEdit.taskBarEditAction !== 'ProgressResizing') {\n            editRecord = editRecord.segments[segmentIndex];\n        }\n        if (this.parent.tooltipSettings.editing) {\n            var templateNode = this.parent.tooltipModule.templateCompiler(this.parent.tooltipSettings.editing, this.parent, this.taskbarEdit.taskBarEditRecord, 'TooltipEditingTemplate');\n            if (getValue('tooltipEle', this.toolTipObj)) {\n                this.parent.renderTemplates();\n            }\n            tooltipString = templateNode[0];\n        }\n        else {\n            var startDate = void 0;\n            var endDate = void 0;\n            var duration = void 0;\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.startDate)) {\n                startDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('startDate') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.startDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.endDate)) {\n                endDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('endDate') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.endDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.duration)) {\n                duration = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('duration') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getDurationString(editRecord.duration, editRecord.durationUnit) + '</td></tr>';\n            }\n            switch (this.taskbarEdit.taskBarEditAction) {\n                case 'ProgressResizing':\n                    {\n                        var progress = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('progress') +\n                            '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' + editRecord.progress + '</td></tr>';\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            progress + '</tbody></table>';\n                        break;\n                    }\n                case 'LeftResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            startDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'RightResizing':\n                case 'ParentResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            endDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'ChildDrag':\n                case 'ParentDrag':\n                case 'MilestoneDrag':\n                case 'ManualParentDrag':\n                    {\n                        var sDate = '';\n                        var eDate = '';\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.startDate)) {\n                            sDate = startDate;\n                        }\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.endDate)) {\n                            eDate = endDate;\n                        }\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' + sDate + eDate + '</tbody></table>';\n                        break;\n                    }\n                case 'ConnectorPointLeftDrag':\n                case 'ConnectorPointRightDrag':\n                    {\n                        tooltipString = this.parent.connectorLineModule.tooltipTable;\n                        if (isNullOrUndefined(this.toolTipObj)) {\n                            this.parent.connectorLineModule.tooltipTable.innerHTML =\n                                this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                        }\n                        break;\n                    }\n            }\n        }\n        if (typeof tooltipString === 'string') {\n            var contentTemp = function () {\n                return tooltipString;\n            };\n            return initializeCSPTemplate(contentTemp);\n        }\n        else {\n            return tooltipString;\n        }\n    };\n    return EditTooltip;\n}());\nexport { EditTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, createElement, extend, addClass, remove, removeClass, closest, merge, classList, getValue } from '@syncfusion/ej2-base';\nimport { parentsUntil } from '../base/utils';\nimport { DateProcessor } from '../base/date-processor';\nimport * as cls from '../base/css-constants';\nimport { EditTooltip } from '../renderer/edit-tooltip';\n/**\n * File for handling taskbar editing operation in Gantt.\n */\nvar TaskbarEdit = /** @class */ (function (_super) {\n    __extends(TaskbarEdit, _super);\n    function TaskbarEdit(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.leftValue = 0;\n        _this.previousLeftValue = 0;\n        _this.isMouseDragged = false;\n        _this.dependencyCancel = false;\n        _this.isDragged = false;\n        _this.editElement = null;\n        _this.elementOffsetLeft = 0;\n        _this.elementOffsetTop = 0;\n        _this.elementOffsetWidth = 0;\n        _this.elementOffsetHeight = 0;\n        _this.segmentIndex = -1;\n        _this.currentItemTop = 0;\n        _this.currentItemPrevTop = 0;\n        _this.topValue = 0;\n        _this.draggedRecordMarginTop = '0px';\n        _this.isClonedElement = false;\n        _this.updatePosition = false;\n        _this.tooltipValue = 0;\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.wireEvents();\n        _this.editTooltip = new EditTooltip(_this.parent, _this);\n        return _this;\n    }\n    TaskbarEdit.prototype.wireEvents = function () {\n        this.parent.on('chartMouseDown', this.mouseDownHandler, this);\n        this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        this.parent.on('chartMouseLeave', this.mouseLeaveHandler, this);\n        this.parent.on('chartMouseMove', this.mouseMoveAction, this);\n        this.parent.on('chartMouseClick', this.mouseClickHandler, this);\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.initPublicProp = function () {\n        this.taskBarEditElement = null;\n        this.taskBarEditRecord = null;\n        this.taskBarEditAction = null;\n        this.connectorSecondElement = null;\n        this.connectorSecondRecord = null;\n        this.connectorSecondAction = null;\n        this.highlightedSecondElement = null;\n        this.fromPredecessorText = null;\n        this.toPredecessorText = null;\n        this.finalPredecessor = null;\n        this.drawPredecessor = false;\n        this.roundOffDuration = true;\n        this.dragMouseLeave = false;\n        this.isMouseDragged = false;\n        this.previousItemProperty = ['left', 'progress', 'duration', 'isMilestone', 'startDate', 'endDate', 'width', 'progressWidth',\n            'autoLeft', 'autoDuration', 'autoStartDate', 'autoEndDate', 'autoWidth', 'segments'];\n        this.tapPointOnFocus = false;\n        this.touchEdit = false;\n    };\n    TaskbarEdit.prototype.mouseDownHandler = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing && !this.parent.readOnly) {\n            this.canDrag = false;\n            if (this.taskBarEditElement) {\n                var targetElement = this.getElementByPosition(e);\n                var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n                if ((element && element.innerHTML === this.taskBarEditElement.innerHTML ||\n                    this.taskBarEditElement.classList.contains('e-segmented-taskbar') || this.taskBarEditElement.classList.contains('collpse-parent-border'))) {\n                    this.updateTaskBarEditElement(e);\n                    this.canDrag = true;\n                    e.preventDefault();\n                }\n            }\n            else if (!this.parent.isAdaptive) {\n                this.updateTaskBarEditElement(e);\n            }\n        }\n    };\n    TaskbarEdit.prototype.mouseClickHandler = function (e) {\n        if (!this.parent.editSettings.allowTaskbarEditing) {\n            return;\n        }\n        var targetElement = this.getElementByPosition(e);\n        var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n        if (this.parent.selectionModule && this.parent.selectionModule.enableSelectMultiTouch) {\n            if (this.tapPointOnFocus) {\n                this.updateTaskBarEditElement(e);\n            }\n            return;\n        }\n        if (this.tapPointOnFocus && !isNullOrUndefined(this.taskBarEditElement) && element &&\n            element.innerHTML !== this.taskBarEditElement.innerHTML) {\n            this.connectorSecondRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondElement = element;\n            this.fromPredecessorText = 'Finish';\n            if (this.validateConnectorPoint()) {\n                this.taskBarEditingAction(e, true);\n            }\n            this.showHideActivePredecessors(false);\n            this.initPublicProp();\n        }\n        else if (targetElement.classList.contains(cls.connectorPointLeftHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else if (targetElement.classList.contains(cls.connectorPointRightHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointRightDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else {\n            if (this.tapPointOnFocus) {\n                this.showHideActivePredecessors(false);\n                this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n            }\n            this.updateTaskBarEditElement(e);\n        }\n    };\n    TaskbarEdit.prototype.showHideActivePredecessors = function (show) {\n        var ganttProp = this.taskBarEditRecord.ganttProperties;\n        var predecessors = ganttProp.predecessor;\n        var id = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n        if (predecessors) {\n            for (var i = 0; i < predecessors.length; i++) {\n                var predecessor = predecessors[i];\n                if (id.toString() === predecessor.from || id.toString() === predecessor.to) {\n                    this.applyActiveColor(predecessor.from, predecessor.to, show);\n                }\n            }\n        }\n        var chartContent = this.parent.ganttChartModule.chartBodyContainer;\n        if (show) {\n            addClass([this.taskBarEditElement], [cls.activeChildTask]);\n            addClass([chartContent], [cls.touchMode]);\n        }\n        else {\n            removeClass([this.taskBarEditElement], [cls.activeChildTask]);\n            removeClass([chartContent], [cls.touchMode]);\n        }\n        this.touchEdit = show;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    TaskbarEdit.prototype.applyActiveColor = function (from, to, enable) {\n        var taskId = this.parent.viewType === 'ProjectView' ? this.taskBarEditRecord.ganttProperties.taskId.toString() :\n            this.taskBarEditRecord.ganttProperties.rowUniqueID.toString();\n        var ganttRecord = (taskId === from) ? this.parent.connectorLineModule.getRecordByID(to) :\n            this.parent.connectorLineModule.getRecordByID(from);\n        var $tr = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(ganttRecord)];\n        if (!isNullOrUndefined($tr)) {\n            var $taskbar = $tr.querySelector('.' + cls.taskBarMainContainer);\n            var $connectorElement = this.parent.element.querySelector('#ConnectorLineparent' + from + 'child' + to);\n            if (enable) {\n                addClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    addClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n            else {\n                removeClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    removeClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.validateConnectorPoint = function () {\n        var parentRecord = this.taskBarEditRecord.ganttProperties;\n        var childRecord = this.connectorSecondRecord.ganttProperties;\n        var isValid = true;\n        var parentId = this.parent.viewType === 'ResourceView' ? parentRecord.taskId : parentRecord.rowUniqueID;\n        var childId = this.parent.viewType === 'ResourceView' ? childRecord.taskId : childRecord.rowUniqueID;\n        if (this.connectorSecondRecord.hasChildRecords) {\n            isValid = false;\n        }\n        else if (childRecord.predecessor) {\n            for (var i = 0; i < childRecord.predecessor.length; i++) {\n                var predecessor = childRecord.predecessor[i];\n                if (predecessor.from === parentId.toString() &&\n                    predecessor.to === childId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.connectorSecondRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n                else if (predecessor.from === childId.toString() &&\n                    predecessor.to === parentId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.taskBarEditRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n            }\n        }\n        return isValid;\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.mouseLeaveHandler = function (e) {\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ProgressResizing' || this.taskBarEditAction === 'LeftResizing' ||\n            this.taskBarEditAction === 'RightResizing') {\n            this.dragMouseLeave = false;\n        }\n        else {\n            this.dragMouseLeave = true;\n        }\n    };\n    /**\n     * To update taskbar edited elements on mouse down action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateTaskBarEditElement = function (e) {\n        var target = this.getElementByPosition(e);\n        var cloneTaskBar;\n        var element;\n        if (target.classList.contains(cls.manualParentRightResizer) || target.classList.contains(cls.manualParentMainContainer)\n            || target.classList.contains(cls.manualParentTaskBar)) {\n            element = parentsUntil(target, cls.manualParentMainContainer);\n        }\n        else if (target.classList.contains(cls.manualParentMilestone)) {\n            element = parentsUntil(target, cls.manualParentMilestone);\n        }\n        else {\n            element = parentsUntil(target, cls.taskBarMainContainer);\n            if (!isNullOrUndefined(element) && !target.classList.contains('e-connectorpoint-left') &&\n                !target.classList.contains('e-connectorpoint-right')) {\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (!isNullOrUndefined(currentRecord.ganttProperties.segments) && currentRecord.ganttProperties.segments.length > 0) {\n                    if (target.classList.contains('e-progressbar-handler-after')) {\n                        for (var i = 0; i < currentRecord.ganttProperties.segments.length; i++) {\n                            if (currentRecord.ganttProperties.segments[i].showProgress) {\n                                element = element.querySelectorAll('.e-segmented-taskbar')[i];\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        element = parentsUntil(target, cls.childTaskBarInnerDiv);\n                    }\n                }\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && element) {\n            this.showHideTaskBarEditingElements(element, this.editElement);\n            this.editElement = element;\n            this.realTaskbarElement = this.editElement;\n            var index = this.editElement.getAttribute('data-segment-index');\n            if (!isNullOrUndefined(index)) {\n                this.segmentIndex = Number(index);\n            }\n            else {\n                this.segmentIndex = -1;\n            }\n            this.taskBarEditRecord = this.parent.ganttChartModule.getRecordByTaskBar(this.editElement);\n            if (e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'click') {\n                this.taskBarEditAction = this.getTaskBarAction(e);\n                var index_1 = this.editElement.getAttribute('data-segment-index');\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                var ganttprop = currentRecord.ganttProperties;\n                var parentleft = this.editElement.parentElement.offsetLeft;\n                this.currentData = currentRecord;\n                var resizeElement = createElement('div', { styles: 'height:100%;border-style:dashed;border-bottom:none;border-top:none;border-width:1px;position:absolute;z-index:10000' });\n                addClass([resizeElement], 'e-taskbar-resize-div');\n                resizeElement.style.setProperty('width', ganttprop.width + 'px');\n                var currentindex = this.editElement.getAttribute('data-segment-index');\n                if (!isNullOrUndefined(ganttprop.segments) && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    resizeElement.style.setProperty('left', ((!isNullOrUndefined(ganttprop.segments) ? parentleft + 'px' : (ganttprop.left) + 'px')));\n                }\n                else {\n                    resizeElement.style.setProperty('left', (((!isNullOrUndefined(ganttprop.segments) && ganttprop.segments.length > 1) ? parentleft + ganttprop.segments[Number(currentindex)].left + 'px' : (ganttprop.left) + 'px')));\n                }\n                var resizeTable = this.parent.createElement('table');\n                var resizetableBody = this.parent.createElement('tbody');\n                resizetableBody.appendChild(resizeElement);\n                resizeTable.appendChild(resizetableBody);\n                var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar');\n                var createTable = null;\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                }\n                else {\n                    if (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' &&\n                        this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                    }\n                    else {\n                        cloneTaskBar = this.editElement.cloneNode(true);\n                    }\n                }\n                if (!Check) {\n                    addClass([cloneTaskBar], 'e-clone-taskbar');\n                    cloneTaskBar.style.setProperty('position', 'absolute');\n                    if (currentRecord.hasChildRecords && !currentRecord.ganttProperties.isAutoSchedule) {\n                        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n                        var taskbarPosition = this.parent.getOffsetRect(this.editElement);\n                        if (this.editElement.classList.contains('e-manualparent-main-container')) {\n                            cloneTaskBar.style.setProperty('left', (currentRecord.ganttProperties.left - currentRecord.ganttProperties.autoLeft) + 'px');\n                        }\n                        else {\n                            cloneTaskBar.style.setProperty(this.parent.enableRtl ?\n                                'right' : 'left', Math.abs(taskbarPosition.left - containerPosition.left + Math.abs(this.parent.ganttChartModule.scrollElement.scrollLeft)) + 'px');\n                        }\n                    }\n                    cloneTaskBar.style.setProperty('top', 0 + 'px');\n                    createTable = this.parent.createElement('table');\n                    var tableBody = this.parent.createElement('tbody');\n                    tableBody.appendChild(cloneTaskBar);\n                    createTable.appendChild(tableBody);\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    var segmentedTasks = cloneTaskBar.getElementsByClassName('e-segmented-taskbar');\n                    this.cloneTaskbarElement = segmentedTasks[Number(index_1)];\n                }\n                else {\n                    this.cloneTaskbarElement = cloneTaskBar;\n                }\n                this.taskBarEditElement = this.cloneTaskbarElement;\n                this.taskbarElement = createTable;\n                this.taskbarResizer = resizeTable;\n                this.currentIndex = index_1;\n                this.roundOffDuration = true;\n                if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') &&\n                    isNullOrUndefined(this.parent.taskFields.dependency)) {\n                    this.taskBarEditAction = null;\n                }\n                this.updateMouseDownProperties(e);\n                if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n                    if (this.taskBarEditRecord.level === 0) {\n                        return;\n                    }\n                    else if (this.parent.enableMultiTaskbar) {\n                        var parentRecord = this.parent.getTaskByUniqueID(this.taskBarEditRecord.parentItem.uniqueID);\n                        if (!isNullOrUndefined(parentRecord) && !parentRecord.expanded) {\n                            this.prevZIndex = (this.taskBarEditElement).style.zIndex;\n                            (this.taskBarEditElement).style.zIndex = '1000';\n                            if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')) {\n                                addClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (this.taskBarEditElement) {\n                    this.showHideTaskBarEditingElements(element, this.editElement);\n                }\n                this.initPublicProp();\n            }\n            else {\n                this.showHideTaskBarEditingElements(element, this.editElement);\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar editing elements.\n     *\n     * @param {Element} element .\n     * @param {Element} secondElement .\n     * @param {boolean} fadeConnectorLine .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.showHideTaskBarEditingElements = function (element, secondElement, fadeConnectorLine) {\n        secondElement = secondElement ? secondElement : this.editElement;\n        var isShowProgressResizer = this.parent.taskFields.progress ? true : false;\n        var isShowConnectorPoints = true;\n        if (this.parent.readOnly) {\n            return;\n        }\n        var record = element ? this.parent.ganttChartModule.getRecordByTaskBar(element) :\n            secondElement ? this.parent.ganttChartModule.getRecordByTaskBar(secondElement) : null;\n        if (this.parent.enableMultiTaskbar && element) {\n            var parentRecord = this.parent.getParentTask(record.parentItem);\n            if (!isNullOrUndefined(parentRecord)) {\n                if (!parentRecord.expanded) {\n                    isShowProgressResizer = false;\n                    isShowConnectorPoints = false;\n                }\n            }\n        }\n        if (element) {\n            if (element.querySelector('.' + cls.taskBarLeftResizer)) {\n                addClass([element.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                addClass([element.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                if (isShowProgressResizer) {\n                    var progressElement = (record && record.ganttProperties.segments &&\n                        record.ganttProperties.segments.length > 0) ?\n                        this.parent.getRowByIndex(this.parent.enableVirtualization ? this.parent.currentViewData.indexOf(record)\n                            : this.parent.flatData.indexOf(record)).\n                            querySelectorAll('.' + cls.childProgressResizer)[0] :\n                        element.querySelector('.' + cls.childProgressResizer);\n                    if (!isNullOrUndefined(progressElement)) {\n                        addClass([progressElement], [cls.progressResizeGripper]);\n                        progressElement.style.top = '3px';\n                    }\n                }\n            }\n            else if (this.parent.isAdaptive && isShowProgressResizer) {\n                var record_1 = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (record_1.hasChildRecords) {\n                    addClass([element], [cls.activeParentTask]);\n                }\n            }\n            addClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (element.querySelector('.' + cls.connectorPointLeft)\n                    || element.parentElement.querySelector('.' + cls.connectorPointLeft))\n                && isShowConnectorPoints) {\n                var connectorElement = !isNullOrUndefined(element.querySelector('.' + cls.connectorPointLeft)) ?\n                    element : element.parentElement;\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointLeft))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointLeftHover]);\n                }\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointRight))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointRightHover]);\n                }\n            }\n        }\n        else if (!fadeConnectorLine) {\n            removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n        }\n        if (secondElement && element !== secondElement) {\n            if (secondElement.querySelector('.' + cls.taskBarLeftResizer)) {\n                removeClass([secondElement.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                removeClass([secondElement.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                var progressElement = (record && record.ganttProperties.segments && record.ganttProperties.segments.length > 0) ?\n                    this.parent.getRowByIndex(this.parent.enableVirtualization ? this.parent.currentViewData.indexOf(record) :\n                        this.parent.flatData.indexOf(record)) : secondElement;\n                if (progressElement && progressElement.querySelector('.' + cls.childProgressResizer)) {\n                    removeClass([progressElement.querySelector('.' + cls.childProgressResizer)], [cls.progressResizeGripper]);\n                }\n            }\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (secondElement.querySelector('.' + cls.connectorPointLeft)\n                    || secondElement.parentElement.querySelector('.' + cls.connectorPointLeft))) {\n                var connectorElement = !isNullOrUndefined(secondElement.querySelector('.' + cls.connectorPointLeft)) ?\n                    secondElement : secondElement.parentElement;\n                var leftConnector = connectorElement.querySelector('.' + cls.connectorPointLeft);\n                var rightConnector = connectorElement.querySelector('.' + cls.connectorPointRight);\n                if (leftConnector) {\n                    removeClass([leftConnector], [cls.connectorPointLeftHover]);\n                }\n                if (rightConnector) {\n                    removeClass([rightConnector], [cls.connectorPointRightHover]);\n                }\n            }\n            else if (this.parent.isAdaptive) {\n                var record_2 = this.parent.ganttChartModule.getRecordByTaskBar(secondElement);\n                if (record_2 && record_2.hasChildRecords) {\n                    removeClass([secondElement], [cls.activeParentTask]);\n                }\n            }\n            this.editElement = null;\n        }\n    };\n    /**\n     * To get taskbar edit actions.\n     *\n     * @param {PointerEvent} e .\n     * @returns {string} .\n     * @private\n     */\n    TaskbarEdit.prototype.getTaskBarAction = function (e) {\n        var mouseDownElement = this.getElementByPosition(e);\n        var data = this.taskBarEditRecord;\n        var action = '';\n        if (mouseDownElement.classList.contains(cls.taskBarLeftResizer)) {\n            action = 'LeftResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.taskBarRightResizer)) {\n            action = 'RightResizing';\n        }\n        else if ((mouseDownElement.classList.contains(cls.childProgressResizer) ||\n            closest(mouseDownElement, '.' + cls.childProgressResizer)) && (this.parent.taskFields.progress)) {\n            action = 'ProgressResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointLeft)) {\n            action = 'ConnectorPointLeftDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointRight)) {\n            action = 'ConnectorPointRightDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentRightResizer)) {\n            action = 'ParentResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentTaskBar) ||\n            mouseDownElement.classList.contains(cls.manualParentMainContainer) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestone)) {\n            action = 'ManualParentDrag';\n        }\n        else if (data) {\n            action = data.hasChildRecords ? data[this.parent.taskFields.manual] ? '' : 'ParentDrag'\n                : data.ganttProperties.isMilestone ? 'MilestoneDrag' : 'ChildDrag';\n        }\n        return action;\n    };\n    /**\n     * To update property while perform mouse down.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseDownProperties = function (event) {\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n            if (this.parent.enableRtl) {\n                this.mouseDownX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseDownX = (e.pageX - containerPosition.left) +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseDownX;\n            this.mouseDownY = this.dragMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            this.fromPredecessorText = this.taskBarEditAction === 'ConnectorPointLeftDrag' ? 'start' : 'finish';\n            this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.taskBarEditRecord.ganttProperties.taskName, this.fromPredecessorText, '', '');\n        }\n    };\n    TaskbarEdit.prototype.isMouseDragCheck = function () {\n        if (!this.isMouseDragged && this.taskBarEditAction && ((this.mouseDownX !== this.mouseMoveX) &&\n            ((this.mouseDownX + 3) < this.mouseMoveX || (this.mouseDownX - 3) > this.mouseMoveX)\n            || (this.mouseDownY !== this.mouseMoveY) &&\n                ((this.mouseDownY + 3) < this.mouseMoveY || (this.mouseDownY - 3) > this.mouseMoveY))) {\n            this.isMouseDragged = true;\n            this.parent.initiateEditAction(true);\n            var item = this.taskBarEditRecord.ganttProperties;\n            this.previousItem = this.parent.timelineModule.extendFunction(item, this.previousItemProperty);\n            if (this.taskBarEditAction !== 'ConnectorPointLeftDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                !(this.parent.viewType === 'ResourceView' && this.taskBarEditAction === 'ParentDrag')) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            this.taskBarEditElement.setAttribute('aria-grabbed', 'true');\n        }\n    };\n    /* eslint-disable-next-line */\n    TaskbarEdit.prototype.removeFirstBorder = function (element) {\n        var canremove = this.parent.rowDragAndDropModule['dropPosition'] === 'bottomSegment';\n        if (this.parent.element.getElementsByClassName('e-firstrow-border').length > 0 && element &&\n            (element.getAttribute('data-rowindex') !== 0 || canremove)) {\n            this.parent.element.getElementsByClassName('e-firstrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removeLastBorder = function (element) {\n        var isEmptyRow = element && (element.classList.contains('e-emptyrow') || element.classList.contains('e-columnheader')\n            || element.classList.contains('e-detailrow'));\n        var islastRowIndex;\n        if (this.parent.enableVirtualization) {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRows()[this.parent.treeGrid.getCurrentViewRecords().length - 1].getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        else {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRowByIndex(this.parent.treeGrid.getCurrentViewRecords().length - 1).getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        var canremove = islastRowIndex || this.parent.rowDragAndDropModule['dropPosition'] === 'topSegment';\n        if (this.parent.element.getElementsByClassName('e-lastrow-border').length > 0 && element && (islastRowIndex || canremove)) {\n            this.parent.element.getElementsByClassName('e-lastrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removetopOrBottomBorder = function () {\n        var border = [].slice.call(this.parent.element.querySelectorAll('.e-dropbottom, .e-droptop'));\n        if (border.length) {\n            this.addRemoveClasses(border, false, 'e-dropbottom');\n            this.addRemoveClasses(border, false, 'e-droptop');\n        }\n    };\n    TaskbarEdit.prototype.topOrBottomBorder = function (target) {\n        var rowElement;\n        if (this.parent.enableVirtualization) {\n            var gridElement = this.parent.treeGrid.getRows().filter(function (data) {\n                return data.getAttribute('data-rowindex') === target.getAttribute('data-rowindex');\n            })[0];\n            var index = this.parent.treeGrid.getRows().indexOf(gridElement);\n            rowElement = this.parent.getRowByIndex(index).children;\n        }\n        else {\n            rowElement = this.parent.getRowByIndex(parseInt(target.getAttribute('data-rowindex'), 10)).children;\n        }\n        if (rowElement) {\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'above') {\n                this.addRemoveClasses(rowElement, true, 'e-droptop');\n                if (this.parent.element.getElementsByClassName('e-lastrow-dragborder').length > 0) {\n                    this.parent.element.getElementsByClassName('e-lastrow-dragborder')[0].remove();\n                }\n            }\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'below') {\n                this.addRemoveClasses(rowElement, true, 'e-dropbottom');\n            }\n        }\n    };\n    TaskbarEdit.prototype.removeChildBorder = function () {\n        var borderElem = [].slice.call(this.parent.element.querySelectorAll('.e-childborder'));\n        if (borderElem.length > 0) {\n            this.addRemoveClasses(borderElem, false, 'e-childborder');\n        }\n    };\n    TaskbarEdit.prototype.addRemoveClasses = function (cells, add, className) {\n        for (var i = 0, len = cells.length; i < len; i++) {\n            if (add) {\n                cells[parseInt(i.toString(), 10)].classList.add(className);\n            }\n            else {\n                cells[parseInt(i.toString(), 10)].classList.remove(className);\n            }\n        }\n    };\n    TaskbarEdit.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-clone-taskbar')[0];\n        var errorelem = document.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                ele.style.paddingTop = this.parent.taskbarHeight + 'px';\n            }\n            dragelem.appendChild(ele);\n        }\n    };\n    TaskbarEdit.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    TaskbarEdit.prototype.ensurePosition = function (draggedRecords, currentRecord) {\n        var _this = this;\n        draggedRecords.filter(function (draggedRecord) {\n            if (draggedRecord.hasChildRecords && !isNullOrUndefined(draggedRecord.childRecords)) {\n                var valid = draggedRecord.childRecords.indexOf(currentRecord);\n                if (valid === -1) {\n                    _this.ensurePosition(draggedRecord.childRecords, currentRecord);\n                }\n                else {\n                    _this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                    _this.addErrorElem();\n                    return;\n                }\n            }\n        });\n    };\n    /**\n     * To handle mouse move action in chart\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseMoveAction = function (event) {\n        var _this = this;\n        if (this.parent.isAdaptive) {\n            if (!this.canDrag) {\n                return;\n            }\n            else {\n                this.multipleSelectionEnabled();\n            }\n        }\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        if (this.parent.enableRtl) {\n            this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n        }\n        else {\n            this.mouseMoveX = e.pageX - containerPosition.left +\n                this.parent.ganttChartModule.scrollObject.previousScroll.left;\n        }\n        this.mouseMoveY = e.pageY - containerPosition.top +\n            this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.dragMouseLeave = false;\n        var cancel = false;\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag') {\n            var ganttRowElement = void 0;\n            if (this.parent.enableVirtualization) {\n                var index = this.parent.currentViewData.indexOf(this.taskBarEditRecord);\n                ganttRowElement = this.parent.getRowByIndex(index);\n            }\n            else {\n                ganttRowElement = this.parent.getRowByIndex(this.taskBarEditRecord.index);\n            }\n            var eventArgs = {\n                cancel: cancel,\n                cloneElement: this.taskbarElement,\n                data: this.taskBarEditRecord,\n                target: event.target,\n                rows: ganttRowElement\n            };\n            this.parent.trigger('rowDrag', eventArgs);\n            cancel = eventArgs['cancel'];\n        }\n        if (!cancel) {\n            this.isMouseDragCheck();\n        }\n        if (this.isMouseDragged && this.taskBarEditAction) {\n            event.preventDefault();\n            if (!isNullOrUndefined(this.taskbarElement) && !isNullOrUndefined(this.editElement) && (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointLeftDrag') && !(this.parent.viewType === 'ResourceView' && this.currentData.hasChildRecords)) {\n                var currentElement = this.editElement.parentElement;\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') &&\n                    !isNullOrUndefined(this.currentIndex) && !isNullOrUndefined(this.currentIndex) ? Number(this.currentIndex) === 0 : false) {\n                    this.taskbarElement.childNodes[0].childNodes[0].style.setProperty('top', currentElement.parentElement.offsetTop + 'px');\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.parentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                else {\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                if (this.taskBarEditAction !== 'ProgressResizing') {\n                    if (this.parent.enableTimelineVirtualization &&\n                        this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-scroll-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                    else {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-rows-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                }\n            }\n            if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag')) {\n                var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                var xValue = void 0;\n                if (this.parent.enableRtl) {\n                    xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                }\n                else {\n                    xValue = Math.abs(taskbarPosition.left - pointerLeft - 1);\n                }\n                if (!this.isClonedElement && !this.parent.enableRtl) {\n                    xValue = xValue - this.parent.ganttChartModule.scrollElement.scrollLeft;\n                    this.isClonedElement = true;\n                }\n                var rowPositionHeight = 0;\n                this.parent.rowDragAndDropModule['dropPosition'] = undefined;\n                var target = void 0;\n                var yValue = void 0;\n                if (event.type === 'touchmove' || event.type === 'touchstart' || event.type === 'touchend') {\n                    yValue = event['changedTouches'][0].pageY;\n                }\n                else {\n                    yValue = event.y;\n                }\n                if (this.parent.enableRtl) {\n                    target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth, yValue);\n                    if (target.classList.contains('e-taskbar-resize-div')) {\n                        target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth - target['offsetWidth'], yValue);\n                    }\n                }\n                else {\n                    target = document.elementFromPoint(xValue, yValue);\n                }\n                var draggedTreeGridRowElement = void 0;\n                if (this.parent.enableVirtualization) {\n                    if (!this.draggedTreeGridRowElement) {\n                        var currentElement = this.editElement.parentElement;\n                        draggedTreeGridRowElement = currentElement.parentElement;\n                        this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                else {\n                    draggedTreeGridRowElement = this.parent.treeGrid.getRows()[this.parent.flatData.indexOf(this.taskBarEditRecord)];\n                    this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                    if (this.parent.enableMultiTaskbar) {\n                        if (this.taskBarEditRecord.parentItem &&\n                            !isNullOrUndefined(this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId))) {\n                            this.draggedTreeGridRowHeight = this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId).offsetHeight;\n                            if (this.parent.viewType === 'ProjectView' && this.draggedTreeGridRowHeight === 0) {\n                                var nestedParent = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                                while (nestedParent.parentItem) {\n                                    nestedParent = this.parent.getRecordByID(nestedParent.parentItem.taskId);\n                                    this.draggedTreeGridRowHeight = this.parent.getRowByID(nestedParent['TaskID']).offsetHeight;\n                                }\n                            }\n                        }\n                        else {\n                            var currentElement = this.editElement.parentElement;\n                            this.draggedTreeGridRowElement = currentElement.parentElement;\n                            this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                        }\n                    }\n                    else {\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                var chartRowElement_1;\n                if (target) {\n                    chartRowElement_1 = closest(target, 'tr.' + cls.chartRow);\n                }\n                if (chartRowElement_1) {\n                    var droppedTreeGridRowElement = void 0;\n                    if (this.parent.enableVirtualization) {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows().filter(function (data) {\n                            return data.getAttribute('data-rowindex') === chartRowElement_1.getAttribute('data-rowindex');\n                        })[0];\n                    }\n                    else {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows()[parseInt(chartRowElement_1.getAttribute('data-rowindex'), 10)];\n                    }\n                    this.removeFirstBorder(droppedTreeGridRowElement);\n                    this.removeLastBorder(droppedTreeGridRowElement);\n                    if (!isNullOrUndefined(droppedTreeGridRowElement) && droppedTreeGridRowElement.getAttribute('data-uid') === this.draggedTreeGridRowElement.getAttribute('data-uid')\n                        || !parentsUntil(target, 'e-chart-rows-container')) {\n                        this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                        this.addErrorElem();\n                    }\n                    var tObj = this.parent;\n                    var rowTop = 0;\n                    var toolHeight = tObj.toolbarModule ?\n                        this.parent.toolbarModule.element.offsetHeight : 0;\n                    var positionOffSet = this.parent.getOffsetRect(tObj.element);\n                    var contentHeight = tObj.treeGrid.getHeaderContent().offsetHeight + positionOffSet.top + toolHeight;\n                    var scrollTop = tObj.treeGrid.getContent().firstElementChild.scrollTop;\n                    if (!isNullOrUndefined(droppedTreeGridRowElement)) {\n                        rowPositionHeight = droppedTreeGridRowElement.offsetTop - scrollTop;\n                    }\n                    if (this.parent.enableVirtualization) {\n                        rowTop = this.parent.getOffsetRect(droppedTreeGridRowElement).top;\n                    }\n                    else {\n                        rowTop = rowPositionHeight + contentHeight;\n                    }\n                    var rowBottom = rowTop + this.draggedTreeGridRowHeight;\n                    var difference = rowBottom - rowTop;\n                    var divide = difference / 3;\n                    var topRowSegment = rowTop + divide;\n                    var middleRowSegment = topRowSegment + divide;\n                    var bottomRowSegment = middleRowSegment + divide;\n                    var posy = (event.type === 'mousemove') ? event.pageY : ((!isNullOrUndefined(event['changedTouches'])) ? event['changedTouches'][0].pageY : null);\n                    var isTopSegment = posy <= topRowSegment;\n                    var isMiddleRowSegment = (posy > topRowSegment && posy <= middleRowSegment);\n                    var isBottomRowSegment = (posy > middleRowSegment && posy <= bottomRowSegment);\n                    if (isTopSegment || isMiddleRowSegment || isBottomRowSegment) {\n                        var rowElement = void 0;\n                        if (this.parent.enableVirtualization) {\n                            var index = this.parent.treeGrid.getRows().indexOf(droppedTreeGridRowElement);\n                            rowElement = this.parent.getRowByIndex(index);\n                        }\n                        else {\n                            rowElement = this.parent.getRowByIndex(parseInt(droppedTreeGridRowElement.getAttribute('data-rowindex'), 10));\n                        }\n                        var rowIndex = getValue('rowIndex', rowElement);\n                        var droppedTreeGridRecord = this.parent.flatData[rowIndex];\n                        var isValid = true;\n                        if (this.parent.viewType === 'ResourceView' && !this.taskBarEditRecord.hasChildRecords && !droppedTreeGridRecord.hasChildRecords &&\n                            !isNullOrUndefined(droppedTreeGridRecord.parentItem) &&\n                            this.taskBarEditRecord.parentItem.taskId === droppedTreeGridRecord.parentItem.taskId) {\n                            isValid = false;\n                        }\n                        if (droppedTreeGridRecord) {\n                            this.ensurePosition([this.taskBarEditRecord], droppedTreeGridRecord);\n                        }\n                        if (isValid) {\n                            if (isTopSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'above';\n                                this.removeChildBorder();\n                                this.removeErrorElem();\n                                this.removetopOrBottomBorder();\n                                this.topOrBottomBorder(rowElement);\n                            }\n                            if (isMiddleRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'child';\n                                this.removetopOrBottomBorder();\n                                this.addRemoveClasses(rowElement.children, true, 'e-childborder');\n                            }\n                            if (isBottomRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'below';\n                                this.removetopOrBottomBorder();\n                                this.removeErrorElem();\n                                this.removeChildBorder();\n                                this.removeFirstBorder(droppedTreeGridRowElement);\n                                this.topOrBottomBorder(droppedTreeGridRowElement);\n                            }\n                        }\n                    }\n                }\n            }\n            var args_1 = {\n                cancel: false,\n                requestType: 'taskbarediting',\n                taskBarEditAction: this.taskBarEditAction,\n                data: this.taskBarEditRecord\n            };\n            if (this.segmentIndex !== -1) {\n                args_1.requestType = 'mergeSegment';\n            }\n            this.parent.trigger('actionBegin', args_1, function (arg) {\n                if (args_1.taskBarEditAction === 'ConnectorPointRightDrag' || args_1.taskBarEditAction === 'ConnectorPointLeftDrag'\n                    || args_1.taskBarEditAction === 'LeftResizing' || args_1.taskBarEditAction === 'RightResizing'\n                    || args_1.taskBarEditAction === 'ProgressResizing' || args_1.taskBarEditAction === 'ChildDrag' || args_1.taskBarEditAction === 'ParentDrag' ||\n                    args_1.taskBarEditAction === 'MilestoneDrag' || args_1.taskBarEditAction === 'ManualParentDrag' || args_1.taskBarEditAction === 'ParentResizing') {\n                    _this.parent.showIndicator = false;\n                    if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('Edit')) {\n                        if (_this.parent.undoRedoModule['redoEnabled']) {\n                            _this.parent.undoRedoModule['disableRedo']();\n                        }\n                        var action = {};\n                        if (_this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                        else if (_this.parent.editModule['createArray']) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer' && _this.parent.showIndicator) {\n                    _this.parent.showMaskRow();\n                }\n                else if (_this.parent.showIndicator) {\n                    _this.parent.showSpinner();\n                }\n                if (arg.cancel === false) {\n                    _this.taskBarEditingAction(event, false);\n                }\n            });\n        }\n        else if (!this.parent.isAdaptive && !this.taskBarEditAction) {\n            this.updateTaskBarEditElement(event);\n        }\n    };\n    /**\n     * Method to update taskbar editing action on mous move.\n     *\n     * @param {PointerEvent} e .\n     * @param {boolean} isMouseClick .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditingAction = function (e, isMouseClick) {\n        var _this = this;\n        var args = {};\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        if (this.taskBarEditRecord !== null) {\n            args.editingFields = this.taskBarEditRecord.ganttProperties;\n            args.data = this.taskBarEditRecord;\n            if (this.parent.viewType === 'ResourceView' && args.data.level === 0) {\n                return;\n            }\n            args.recordIndex = recordIndex;\n            args.taskBarEditAction = this.taskBarEditAction;\n            args.roundOffDuration = this.roundOffDuration;\n            args.cancel = false;\n            args.previousData = this.previousItem;\n            args.segmentIndex = this.segmentIndex;\n            this.roundOffDuration = args.roundOffDuration;\n            this.targetElement = args.target = closest(e.target, '.e-gantt-child-taskbar');\n            this.updateMouseMoveProperties(e);\n            if (!this.oldData) {\n                this.oldData = extend([], [], [this.taskBarEditRecord], true)[0];\n            }\n            var segmentIndex = this.segmentIndex !== -1 ? this.segmentIndex : null;\n            if (this.taskBarEditAction === 'ProgressResizing') {\n                this.mainElement = parentsUntil(this.taskBarEditElement, cls.taskBarMainContainer);\n                if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                    segmentIndex = -1;\n                    for (var i = 0; i < this.taskBarEditRecord.ganttProperties.segments.length; i++) {\n                        var resizeGripper = document.getElementsByClassName('e-child-progress-resizer e-progress-resize-gripper')[0]['style'];\n                        var currentWidth = (this.parent.enableRtl ? parseInt(resizeGripper['right'], 10) - 8 : parseInt(resizeGripper['left'], 10) + 8);\n                        if (currentWidth < this.taskBarEditRecord.ganttProperties.segments[i].width && i === 0) {\n                            segmentIndex = i;\n                        }\n                        if (this.taskBarEditRecord.ganttProperties.segments[i + 1] &&\n                            currentWidth < this.taskBarEditRecord.ganttProperties.segments[i + 1].width +\n                                this.taskBarEditRecord.ganttProperties.segments[i + 1].left && currentWidth >\n                            this.taskBarEditRecord.ganttProperties.segments[i + 1].left) {\n                            segmentIndex = i + 1;\n                        }\n                    }\n                }\n                this.performProgressResize(e, segmentIndex);\n            }\n            else if (this.taskBarEditAction === 'LeftResizing') {\n                this.enableLeftResizing(e);\n            }\n            else if (this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ParentResizing') {\n                this.enableRightResizing(e);\n            }\n            else if (this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag') {\n                this.enableDragging(e);\n            }\n            else if (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.updateConnectorLineSecondProperties(e);\n                this.triggerDependencyEvent(e);\n                this.drawFalseLine();\n            }\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                var parentClientRect = this.parent.getOffsetRect(this.parent.chartPane);\n                var coordinates = this.getCoordinate(e);\n                var position = { top: coordinates.pageY, left: coordinates.pageX };\n                var pos = { left: Math.abs(position.left - parentClientRect.left), top: position.top - parentClientRect.top };\n                if (this.parent.viewType === 'ResourceView' && this.parent.enableMultiTaskbar) {\n                    var parentRecord = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                    if (!this.parent.allowTaskbarOverlap && this.taskBarEditRecord.parentItem && !parentRecord.expanded) {\n                        var reduceHeight = 0;\n                        if (parseInt(this.editElement['style'].marginTop, 10) > this.parent.rowHeight) {\n                            for (var i = 0; i < parentRecord.childRecords.length; i++) {\n                                if (parentRecord.childRecords[i].ganttProperties.taskId !==\n                                    this.taskBarEditRecord.ganttProperties.taskId) {\n                                    reduceHeight = reduceHeight + this.parent.rowHeight;\n                                }\n                                else {\n                                    break;\n                                }\n                            }\n                            pos.top = pos.top - reduceHeight;\n                        }\n                    }\n                }\n                this.topValue = pos.top;\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (this.parent.enableRtl) {\n                    this.leftValue = pos.left - Math.abs(xValue - (this.parent.getOffsetRect(this.taskBarEditElement).left)) -\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                else {\n                    this.leftValue = pos.left - (xValue - this.parent.getOffsetRect(this.taskBarEditElement).left) +\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                if (this.previousLeftValue === 0) {\n                    if (!this.parent.enableRtl) {\n                        this.leftValue = this.leftValue - this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                    }\n                    else {\n                        this.leftValue = this.leftValue - (this.parent.ganttChartModule.scrollObject.previousScroll.left);\n                        if (this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                            this.leftValue = this.leftValue - 60;\n                        }\n                    }\n                }\n                this.previousLeftValue = xValue;\n            }\n            else {\n                this.leftValue = this.taskBarEditRecord.ganttProperties.left;\n            }\n            this.currentSegmentIndex = segmentIndex;\n            this.setItemPosition();\n            this.updateEditedItem();\n            this.tooltipValue = (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') ? e['changedTouches'][0].pageX : e.pageX;\n            if ((!this.taskBarEditRecord.ganttProperties.segments || segmentIndex !== -1)) {\n                this.editTooltip.updateTooltip(segmentIndex);\n            }\n            if (isMouseClick) {\n                this.taskBarEditedAction(e);\n            }\n            this.parent.trigger('taskbarEditing', args, function (arg) {\n                if (arg.cancel && _this.taskBarEditRecord !== null) {\n                    _this.tapPointOnFocus = false;\n                    merge(_this.taskBarEditRecord.ganttProperties, arg.previousData);\n                }\n            });\n        }\n    };\n    /**\n     * To update property while perform mouse move.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseMoveProperties = function (event) {\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            if (this.parent.enableRtl) {\n                this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseMoveX = e.pageX - containerPosition.left +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseMoveX;\n            this.mouseMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        var isConnectorLineEdit = (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') ?\n            true : false;\n        if (((this.taskBarEditRecord.ganttProperties.width > 3 || this.taskBarEditRecord.ganttProperties.isMilestone) && !(this.taskBarEditAction === 'ProgressResizing' &&\n            (this.taskBarEditRecord.ganttProperties.progress === 0 || this.taskBarEditRecord.ganttProperties.progress === 100))) ||\n            isConnectorLineEdit) {\n            var mouseX = 0;\n            if (this.parent.enableRtl) {\n                mouseX = Math.abs(Math.abs(this.mouseMoveX) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left) +\n                    containerPosition.left);\n            }\n            else {\n                mouseX = this.mouseMoveX - this.parent.ganttChartModule.scrollObject.previousScroll.left +\n                    containerPosition.left;\n            }\n            var mouseY = this.mouseMoveY - this.parent.ganttChartModule.scrollObject.previousScroll.top +\n                containerPosition.top;\n            if ((mouseX + 20) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX + 40) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth && this.parent.enableRtl &&\n                this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                this.parent.ganttChartModule.scrollObject.previousScroll.left = -1;\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX - 20) < containerPosition.left) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('left');\n            }\n            else if (((mouseY + 80) >\n                containerPosition.top + this.parent.ganttChartModule.chartBodyContainer.offsetHeight)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('bottom');\n            }\n            else if (((mouseY - 20) < containerPosition.top)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('top');\n            }\n            else {\n                this.stopScrollTimer();\n            }\n        }\n        else {\n            this.stopScrollTimer();\n        }\n    };\n    /**\n     * To start the scroll timer.\n     *\n     * @param {string} direction .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.startScrollTimer = function (direction) {\n        var _this = this;\n        this.stopScrollTimer();\n        var leftSign = 0;\n        this.scrollTimer = window.setInterval(function () {\n            if (Math.sign(_this.timerCount) === -1) {\n                leftSign = -1;\n                _this.timerCount = Math.abs(_this.timerCount);\n            }\n            if (direction === 'right') {\n                var timelineWidth = _this.parent.enableTimelineVirtualization ?\n                    _this.parent.timelineModule.wholeTimelineWidth : _this.parent.timelineModule.totalTimelineWidth;\n                _this.timerCount = (_this.timerCount + 1) >= timelineWidth ?\n                    timelineWidth : (_this.timerCount + 1);\n            }\n            else if (direction === 'bottom') {\n                _this.timerCount = _this.timerCount + 1;\n            }\n            else {\n                _this.timerCount = (_this.timerCount - 1) < 0 ? 0 : (_this.timerCount - 1);\n            }\n            if (direction === 'bottom' || direction === 'top') {\n                _this.parent.ganttChartModule.scrollObject.setScrollTop(_this.timerCount);\n            }\n            else {\n                _this.parent.ganttChartModule.scrollObject.setScrollLeft(_this.timerCount, leftSign);\n            }\n            if (_this.taskBarEditAction === 'ConnectorPointLeftDrag'\n                || _this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                _this.drawFalseLine();\n            }\n        }, 0);\n    };\n    /**\n     * To stop the scroll timer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.stopScrollTimer = function () {\n        window.clearInterval(this.scrollTimer);\n        this.scrollTimer = null;\n    };\n    /**\n     * To update left and width while perform taskbar drag operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.enableDragging = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var timelineWidth = this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') &&\n            !this.taskBarEditElement.classList.contains('e-segment-first')) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left - differenceWidth;\n            }\n            else {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left + differenceWidth;\n            }\n            var previousSegment = segments[this.segmentIndex - 1];\n            var nextSegment = segments[this.segmentIndex + 1];\n            var left = void 0;\n            if (this.taskBarEditElement.classList.contains('e-segment-inprogress')) {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    ((segment.width + segment.left) > (nextSegment.left)) ? nextSegment.left - segment.width : segment.left;\n            }\n            else {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    (item.left + segment.width + segment.left) >= timelineWidth ?\n                        (timelineWidth - segment.width) : segment.left;\n            }\n            segment.left = left;\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = this.mouseDownX - this.mouseMoveX;\n                if (differenceWidth > 0) {\n                    this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                }\n            }\n            else {\n                differenceWidth = this.mouseMoveX - this.mouseDownX;\n                this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n            }\n            var left = item.left < 0 ? 0 : (item.left + item.width) >= timelineWidth ?\n                (timelineWidth - item.width) : item.left;\n            this.parent.setRecordValue('left', left, item, true);\n        }\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.validateProgressWidth = function (item, progressWidth, totalTaskWidth) {\n        var reduceWidth = 0;\n        if (this.currentSegmentIndex !== -1 && item.segments) {\n            var startIndex = this.currentSegmentIndex >= this.segmentIndex ? 0 : this.currentSegmentIndex !== 0 ?\n                this.currentSegmentIndex : -1;\n            var endIndex = this.currentSegmentIndex >= this.segmentIndex ? this.currentSegmentIndex : this.segmentIndex;\n            if (startIndex !== -1) {\n                for (var i = startIndex; i < endIndex; i++) {\n                    reduceWidth = (item.segments[i + 1].left) - (item.segments[i].left + item.segments[i].width);\n                    progressWidth = progressWidth - reduceWidth;\n                }\n            }\n        }\n        if (item.segments && item.segments.length > 0) {\n            totalTaskWidth = this.splitTasksDuration(item.segments) * this.parent.perDayWidth;\n        }\n        return { progressWidth: progressWidth, totalTaskWidth: totalTaskWidth };\n    };\n    /**\n     * To update left and width while perform progress resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.performProgressResize = function (e, segmentIndex) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var diffrenceWidth = 0;\n        var prevProgress = item.progressWidth;\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width)) && item.left > 0) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX >= (item.left + item.width)) {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n            }\n        }\n        else {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width))) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX <= item.left) {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n            }\n        }\n        var widthValue = item.progressWidth > item.width ?\n            item.width : item.progressWidth;\n        widthValue = item.progressWidth < 0 ? 0 : item.progressWidth;\n        if (segmentIndex !== -1 || !segmentIndex) {\n            this.parent.setRecordValue('progressWidth', widthValue, item, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', prevProgress, item, true);\n        }\n        this.progressValue = widthValue;\n        var diff = item.width - item.progressWidth;\n        if (diff <= 4) {\n            this.progressBorderRadius = 4 - diff;\n        }\n        else {\n            this.progressBorderRadius = 0;\n        }\n    };\n    /**\n     * To update left and width while perform taskbar left resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableLeftResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') && item.segments.length > 1) {\n            this.enableSplitTaskLeftResize(item);\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    if (item.left > 0) {\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                    }\n                }\n                else {\n                    if (this.mouseMoveX > (item.left + item.width)) {\n                        differenceWidth = this.mouseDownX - this.mouseMoveX;\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    if ((item.left) < (item.left + item.width) &&\n                        ((this.previousItem.left + differenceWidth) <= (this.previousItem.left + this.previousItem.width))) {\n                        this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                    }\n                }\n                else {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', 3, item, true);\n                }\n            }\n            if (item.segments && item.segments.length === 1) {\n                item.segments[0].width = item.width;\n            }\n            this.updateEditPosition(e, item);\n            this.parent.setRecordValue('left', (this.previousItem.left + this.previousItem.width - item.width), item, true);\n        }\n    };\n    TaskbarEdit.prototype.enableSplitTaskLeftResize = function (item) {\n        var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n        var segment = segments[this.segmentIndex];\n        var differenceWidth = 0;\n        //when decrease the left and increase the width\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX < (item.left + segment.width + segment.left)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                // when resize other than 0th segment\n                if (segment.left > 0) {\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = segment.width + differenceWidth;\n                    if (this.segmentIndex !== 0) {\n                        var previousSegment = segments[this.segmentIndex - 1];\n                        if ((item.left + segment.left) < (item.left + previousSegment.left + previousSegment.width)) {\n                            var difference = (item.left + previousSegment.left + previousSegment.width) - (item.left + segment.left);\n                            segment.width -= difference;\n                            segment.left = segment.left + difference;\n                        }\n                    }\n                }\n                else if (segment.left <= 0 && this.segmentIndex === 0) {\n                    this.parent.setRecordValue('left', item.left - differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width + differenceWidth, item, true);\n                    segment.width = segment.width + differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_1 = segments[i];\n                        segment_1.left = segment_1.left + differenceWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > (item.left + segment.width + segment.left)) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = this.parent.perDayWidth;\n                }\n            }\n        }\n        else {\n            // when increase left value and decrease width of segment\n            if (this.mouseMoveX < (item.left + segment.width + segment.left - this.parent.perDayWidth)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                // when decrease the first segment width\n                if (this.segmentIndex === 0 && segment.left <= 0) {\n                    this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                    segment.width = segment.width - differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_2 = segments[i];\n                        segment_2.left = segment_2.left - differenceWidth;\n                    }\n                    // when decrease remaining segments\n                }\n                else if ((segment.left) < (segment.left + segment.width) &&\n                    ((segment.left + differenceWidth) <= (segment.left + segment.width))) {\n                    segment.left = segment.left + differenceWidth;\n                    segment.width = segment.width - differenceWidth;\n                }\n                // when mouse move goes beyond one day width of task bar.\n            }\n            else {\n                if (this.mouseMoveX < (item.left + segment.left + segment.width)) {\n                    if (segment.width > this.parent.perDayWidth) {\n                        differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                            (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                        this.previousMouseMove = this.mouseMoveX;\n                        var singleDayDifference = (segment.width - differenceWidth) < this.parent.perDayWidth ?\n                            this.parent.perDayWidth > segment.width ?\n                                this.parent.perDayWidth - segment.width : segment.width - this.parent.perDayWidth : 0;\n                        differenceWidth -= singleDayDifference;\n                        if (this.segmentIndex === 0) {\n                            this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                            this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                            segment.width = segment.width - differenceWidth;\n                            for (var i = 1; i < item.segments.length; i++) {\n                                var segment_3 = segments[i];\n                                segment_3.left = segment_3.left - differenceWidth;\n                            }\n                        }\n                        else {\n                            segment.left = segment.left + differenceWidth;\n                            segment.width = segment.width - differenceWidth;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent.setRecordValue('segments', segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * Update mouse position and edited item value\n     *\n     * @param {PointerEvent} e .\n     * @param {ITaskData} item .\n     * @returns {void} .\n     */\n    TaskbarEdit.prototype.updateEditPosition = function (e, item) {\n        this.updateIsMilestone(item);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(item.width, item.progress), item, true);\n    };\n    /**\n     *  To update milestone property.\n     *\n     * @param {ITaskData} item .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateIsMilestone = function (item) {\n        if (item.width <= 3) {\n            this.parent.setRecordValue('width', 3, item, true);\n            this.parent.setRecordValue('isMilestone', true, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, this.taskBarEditRecord, true);\n            }\n        }\n        else {\n            this.parent.setRecordValue('width', item.width, item, true);\n            this.parent.setRecordValue('isMilestone', false, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, false, this.taskBarEditRecord, true);\n            }\n        }\n    };\n    /**\n     * To update left and width while perform taskbar right resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableRightResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') && item.segments.length > 1) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > (item.left + segment.left) && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width - differenceWidth;\n                }\n                else {\n                    if (this.mouseMoveX < (item.left + segment.left)) {\n                        var segmentWidth = (this.parent.timelineModule.isSingleTier &&\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Minutes')) ||\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes') ?\n                            this.parent.timelineModule.customTimelineSettings.timelineUnitSize :\n                            this.parent.perDayWidth;\n                        segment.width = segmentWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > segment.left) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width + differenceWidth;\n                }\n            }\n            var width = void 0;\n            var nextSegment = this.segmentIndex !== segments.length - 1 ? segments[this.segmentIndex + 1] : null;\n            if (!isNullOrUndefined(nextSegment)) {\n                if (!this.taskBarEditElement.classList.contains('e-segment-last')) {\n                    width = (segment.left + segment.width) > nextSegment.left ? (nextSegment.left - segment.left) : segment.width;\n                }\n                segment.width = width;\n            }\n            if (this.segmentIndex === item.segments.length - 1) {\n                if (this.segmentIndex === 0) {\n                    this.parent.setRecordValue('width', segment.width, item, true);\n                }\n            }\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > item.left && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                }\n                else {\n                    if (this.mouseMoveX < item.left) {\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > item.left) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                }\n            }\n            if (item.segments && item.segments.length === 1) {\n                item.segments[0].width = item.width;\n            }\n            this.updateEditPosition(e, item);\n        }\n    };\n    /**\n     * To updated startDate and endDate while perform taskbar edit operation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateEditedItem = function () {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var left;\n        var projectStartDate;\n        var endDate;\n        var startDate;\n        switch (this.taskBarEditAction) {\n            case 'ProgressResizing':\n                {\n                    var progressWidth = item.progressWidth;\n                    var totalTaskWidth = item.width;\n                    var updatedValues = this.validateProgressWidth(item, progressWidth, totalTaskWidth);\n                    this.parent.setRecordValue('progress', this.getProgressPercent(updatedValues.totalTaskWidth, updatedValues.progressWidth), item, true);\n                    break;\n                }\n            case 'LeftResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n                    projectStartDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.endDate)) {\n                        endDate = this.parent.dateValidationModule.getValidEndDate(item);\n                        this.parent.setRecordValue('endDate', endDate, item, true);\n                    }\n                    startDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                    this.parent.setRecordValue('startDate', new Date(startDate.getTime()), item, true);\n                    if (this.parent.dateValidationModule.compareDates(item.startDate, item.endDate) === 0\n                        && isNullOrUndefined(item.isMilestone) && item.isMilestone === false && item.duration === 0) {\n                        this.parent.setRecordValue('duration', 1, item, true);\n                    }\n                    if (item.isMilestone) {\n                        this.parent.setRecordValue('endDate', new Date(startDate.getTime()), item, true);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitLeftResize(item);\n                }\n                break;\n            case 'RightResizing':\n            case 'ParentResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n                    var tempEndDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.startDate)) {\n                        startDate = this.parent.dateValidationModule.getValidStartDate(item);\n                        this.parent.setRecordValue('startDate', startDate, item, true);\n                    }\n                    var tempdate = isNullOrUndefined(item.startDate) ? startDate : item.startDate;\n                    endDate = item.isMilestone ? tempdate :\n                        this.parent.dateValidationModule.checkEndDate(tempEndDate, this.taskBarEditRecord.ganttProperties);\n                    this.parent.setRecordValue('endDate', new Date(endDate.getTime()), item, true);\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitRightResizing(item);\n                }\n                break;\n            case 'ParentDrag':\n            case 'ChildDrag':\n            case 'MilestoneDrag':\n            case 'ManualParentDrag':\n                if (this.segmentIndex === -1 || this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop)) {\n                    this.updateChildDrag(item);\n                }\n                else {\n                    this.setSplitTaskDrag(item);\n                }\n                break;\n        }\n        if (!isNullOrUndefined(this.taskBarEditRecord.ganttProperties.segments)) {\n            this.parent.chartRowsModule.updateSegment(this.taskBarEditRecord.ganttProperties.segments, this.taskBarEditRecord.ganttProperties.taskId);\n        }\n    };\n    TaskbarEdit.prototype.updateChildDrag = function (item) {\n        var left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left, item.isMilestone, item);\n        var endDate;\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n            item.segments[0].startDate = projectStartDate;\n            item.segments[0].endDate = this.parent.dataOperation.getEndDate(item.segments[0].startDate, item.segments[0].duration, item.durationUnit, item, false);\n            this.parent.setRecordValue('segments', item.segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n            this.parent.chartRowsModule.incrementSegments(item.segments, 0, this.taskBarEditRecord);\n            this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, item.segments, this.taskBarEditRecord, true);\n        }\n        else {\n            if (!isNullOrUndefined(item.endDate) && isNullOrUndefined(item.startDate)) {\n                endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.taskBarEditRecord.ganttProperties);\n                this.parent.setRecordValue('endDate', endDate, item, true);\n            }\n            else {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n                if (!isNullOrUndefined(item.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(this.taskBarEditRecord);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.updateSplitLeftResize = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.segmentIndex === 0 ? this.getRoundOffStartLeft(item, this.roundOffDuration) :\n            this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        var startDate = this.parent.dataOperation.checkStartDate(projectStartDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.startDate = new Date(startDate.getTime());\n        segment.duration = duration;\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', segment.startDate, item, true);\n        }\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var segmentOffsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    TaskbarEdit.prototype.updateSplitRightResizing = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n        var tempEndDate = this.getDateByLeft(left);\n        var endDate = this.parent.dataOperation.checkEndDate(tempEndDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.endDate = new Date(endDate.getTime());\n        segment.duration = duration;\n        // update next segment offset duration\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var segmentOffset = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffset;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n    };\n    TaskbarEdit.prototype.sumOfDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            duration += segment.duration;\n        }\n        return duration;\n    };\n    TaskbarEdit.prototype.setSplitTaskDrag = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        projectStartDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n        segment.startDate = projectStartDate;\n        var segmentDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, item.durationUnit, item, false);\n        if (item.segments[this.segmentIndex + 1] && segmentDate.getTime() > item.segments[this.segmentIndex + 1].startDate.getTime()) {\n            segment.endDate = item.segments[this.segmentIndex + 1].startDate;\n        }\n        else {\n            segment.endDate = segmentDate;\n        }\n        segment.duration = this.parent.dataOperation.getDuration(segment.startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'endDate');\n        }\n        //set offset if previous record present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (segment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            segment.offsetDuration = offsetDuration;\n        }\n        //set next record  offset if present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (nextSegment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            nextSegment.offsetDuration = offsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * To get roundoff enddate.\n     *\n     * @param {ITaskData} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffEndLeft = function (ganttRecord, isRoundOff) {\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var totalLeft = ganttRecord.width + ganttRecord.left;\n        if (this.segmentIndex !== -1 && ganttRecord.segments.length > 1) {\n            var segment = ganttRecord.segments[this.segmentIndex];\n            totalLeft = totalLeft - ganttRecord.width + segment.width + segment.left;\n        }\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainingLeft = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var positionValue = remainingLeft / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (positionValue > 0.5) {\n                    totalLeft = totalLeft - remainingLeft + this.parent.perDayWidth;\n                }\n                else if (positionValue < 0.5) {\n                    totalLeft = (totalLeft - remainingLeft) + (this.parent.perDayWidth / 2);\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                var inHour = (this.parent.perDayWidth / 24);\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Hour') / (1000 * 60 * 60)));\n                remainingLeft = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inHour;\n                }\n            }\n            else if (tierMode === 'Minutes') {\n                var inMinutes = (this.parent.perDayWidth / (24 * 60));\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Minutes') / (1000 * 60)));\n                remainingLeft = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inMinutes;\n                }\n            }\n            else {\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + this.parent.perDayWidth;\n                }\n            }\n        }\n        return totalLeft;\n    };\n    /**\n     * To get roundoff startdate.\n     *\n     * @param {ITaskData | ITaskSegment} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffStartLeft = function (ganttRecord, isRoundOff) {\n        var left = isNullOrUndefined(ganttRecord) ? ganttRecord.left\n            : ganttRecord.left;\n        if (this.segmentIndex !== -1 && isNullOrUndefined(ganttRecord.segments)) {\n            left = ganttRecord.left + this.taskBarEditRecord.ganttProperties.left;\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left, isNullOrUndefined(ganttRecord) ? ganttRecord.isMilestone : null, ganttRecord), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainDays = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var remainDaysInDecimal = remainDays / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (remainDaysInDecimal <= 0.5) {\n                    left = left - remainDays;\n                }\n                else if (remainDaysInDecimal > 0.5) {\n                    left = (left - remainDays) + this.parent.perDayWidth / 2;\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Hour') / (1000 * 60 * 60)));\n                remainDays = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                left = left - remainDays;\n            }\n            else if (tierMode === 'Minutes') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Minutes') / (1000 * 60)));\n                remainDays = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                left = left - remainDays;\n            }\n            else {\n                left = left - remainDays;\n            }\n        }\n        return left;\n    };\n    /**\n     * To get date by left value.\n     *\n     * @param {number} left .\n     * @param {boolean} isMilestone .\n     * @param {ITaskData} property .\n     * @returns {Date} .\n     * @private\n     */\n    TaskbarEdit.prototype.getDateByLeft = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            //  pStartDate.setDate(pStartDate.getDate() -1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            // else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) && this.parent.isInDst(pStartDate)) {\n            //     pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            // }\n        }\n        return pStartDate;\n    };\n    /**\n     * To set item position.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.setItemPosition = function () {\n        if (!isNullOrUndefined(this.editElement)) {\n            var currentElement = this.editElement.parentElement;\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction === 'ChildDrag') {\n                currentElement.style.position = null;\n            }\n            else {\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n            }\n        }\n        var item = this.taskBarEditRecord.ganttProperties;\n        var position = this.parent.enableRtl ? 'right' : 'left';\n        var segment = !isNullOrUndefined(item.segments) ? item.segments[this.segmentIndex] : null;\n        var width = this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone ?\n            this.parent.chartRowsModule.milestoneHeight : item.width;\n        var rightResizer = this.parent.isAdaptive ? (width - 2) : (width - 10);\n        if (!isNullOrUndefined(segment)) {\n            rightResizer = this.parent.isAdaptive ? (segment.width - 2) : (segment.width - 10);\n        }\n        this.taskBarEditElement.style.setProperty('opacity', '.75');\n        var taskBarMainContainer;\n        if (this.parent.allowTaskbarDragAndDrop && !item.isAutoSchedule && this.taskBarEditRecord.hasChildRecords) {\n            taskBarMainContainer = this.taskBarEditElement;\n        }\n        else {\n            taskBarMainContainer = (!this.taskBarEditElement.classList.contains(cls.taskBarMainContainer)) ? ((this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'LeftResizing') && this.segmentIndex === 0) ? this.taskBarEditElement.parentElement : closest(this.taskBarEditElement, 'tr.' + cls.chartRow)\n                .querySelector('.' + cls.taskBarMainContainer) : this.taskBarEditElement;\n        }\n        var segmentedTaskBarContainer = (this.taskBarEditElement.classList.contains('e-segmented-taskbar') ||\n            this.taskBarEditElement.querySelector('.e-segmented-taskbar')) ? true : false;\n        var traceChildProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceChildProgressBar);\n        var traceChildTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceChildTaskBar);\n        var childProgressResizer = segmentedTaskBarContainer ? parentsUntil(this.taskBarEditElement, cls.taskBarMainContainer).querySelector('.' + cls.childProgressResizer) : this.taskBarEditElement.querySelector('.' + cls.childProgressResizer);\n        var taskBarRightResizer = this.taskBarEditElement.querySelector('.' + cls.taskBarRightResizer);\n        var traceParentTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceParentTaskBar);\n        var traceParentProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceParentProgressBar);\n        var traceConnectorPointRight = this.taskBarEditElement.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var segmentConnectorPointRight = taskBarMainContainer.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var manualParentTaskbar = this.taskBarEditElement;\n        var manualTaskbar = this.taskBarEditElement.querySelector('.' + cls.manualParentTaskBar);\n        var manualParentRight = this.taskBarEditElement.querySelector('.' + cls.manualParentRightResizer);\n        var manualParentLeft = this.taskBarEditElement.querySelector('.' + cls.manualParentLeftResizer);\n        var resizeLine = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (this.parent.allowTaskbarDragAndDrop && !this.updatePosition) {\n            this.leftValue = this.leftValue + 30;\n            this.updatePosition = true;\n        }\n        if (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n            this.taskBarEditAction !== 'ConnectorPointLeftDrag') {\n            if (this.taskBarEditAction !== 'ParentResizing' && this.taskBarEditAction !== 'ManualParentDrag') {\n                if (segmentedTaskBarContainer && !isNullOrUndefined(item.segments)\n                    && (this.taskBarEditAction === 'RightResizing' || this.segmentIndex !== 0)) {\n                    if (!isNullOrUndefined(resizeLine)) {\n                        if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag' &&\n                            this.taskBarEditAction !== 'ParentDrag')) {\n                            resizeLine.style.width = (segment.width) + 'px';\n                        }\n                    }\n                    this.taskBarEditElement.style.width = (segment.width) + 'px';\n                    if (this.parent.enableRtl) {\n                        this.taskBarEditElement.style.right = (segment.left) + 'px';\n                    }\n                    else {\n                        this.taskBarEditElement.style.left = (segment.left) + 'px';\n                        if (!isNullOrUndefined(resizeLine)) {\n                            if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag'\n                                && this.taskBarEditAction !== 'ParentDrag')) {\n                                resizeLine.style.left = (segment.left + this.editElement.parentElement.offsetLeft) + 'px';\n                            }\n                        }\n                    }\n                }\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left)) + 'px');\n                taskBarMainContainer.style.width = (width) + 'px';\n                if (segmentedTaskBarContainer && segmentConnectorPointRight) {\n                    segmentConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n                if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'LeftResizing' &&\n                    this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    var addTop = this.parent.taskbarHeight / 2;\n                    taskBarMainContainer.style.setProperty('top', (this.topValue + addTop) + 'px');\n                    taskBarMainContainer.style.zIndex = '4';\n                }\n                if (this.taskBarEditAction === 'LeftResizing' && this.segmentIndex === 0) {\n                    this.taskBarEditElement.style.setProperty('opacity', '.75');\n                    var parent_1 = this.taskBarEditElement.parentElement;\n                    var segmentedTasks = parent_1.getElementsByClassName('e-segmented-taskbar');\n                    for (var i = 0; i < item.segments.length; i++) {\n                        var segment_4 = item.segments[i];\n                        var segmentElement = segmentedTasks[i];\n                        segmentElement.style.width = (segment_4.width) + 'px';\n                        if (item.segments.length === 1) {\n                            resizeLine.style.width = (segment_4.width) + 'px';\n                            resizeLine.style.setProperty(position, (item.left) + 'px');\n                        }\n                        else {\n                            if (i === 0) {\n                                resizeLine.style.width = (segment_4.width) + 'px';\n                                resizeLine.style.setProperty(position, (segment_4.left + item.left) + 'px');\n                            }\n                            if (this.parent.enableRtl) {\n                                segmentElement.style.right = (segment_4.left) + 'px';\n                            }\n                            else {\n                                segmentElement.style.left = (segment_4.left) + 'px';\n                            }\n                        }\n                    }\n                }\n                if (this.taskBarEditAction === 'ChildDrag' && (this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop))) {\n                    resizeLine.style.width = (width) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    taskBarMainContainer.style.setProperty('opacity', '.75');\n                }\n            }\n            if (traceConnectorPointRight) {\n                if (this.parent.enableRtl) {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width - 2)) + 'px';\n                }\n                else {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'LeftResizing') {\n                traceConnectorPointRight.style.left = (width - 2) + 'px';\n            }\n            if (childProgressResizer && traceChildProgressBar && (this.taskBarEditAction === 'LeftResizing' || this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag')) {\n                childProgressResizer.style.display = 'none';\n                traceChildProgressBar.style.display = 'none';\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'ProgressResizing') {\n                traceConnectorPointRight.style.display = 'none';\n            }\n            if (this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone) {\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left - (width / 2))) + 'px');\n                resizeLine.style.setProperty(position, (item.left - (width / 2)) + 'px');\n                resizeLine.style.width = (width) + 'px';\n            }\n            else if (this.taskBarEditAction === 'ProgressResizing') {\n                if (this.segmentIndex === -1) {\n                    traceChildTaskBar.style.setProperty(position, (item.left + item.progressWidth - 10) + 'px');\n                    if (!isNullOrUndefined(traceChildProgressBar)) {\n                        traceChildProgressBar.style.width = item.progressWidth + 'px';\n                        traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                        traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                        var width_1 = this.parent.enableRtl ? item.progressWidth + 8 : item.progressWidth - 8;\n                        childProgressResizer.style.setProperty(position, width_1 + 'px');\n                    }\n                }\n                else {\n                    this.updateSegmentProgress(this.taskBarEditRecord.ganttProperties);\n                    var progressElements = taskBarMainContainer.querySelectorAll('.e-gantt-child-progressbar');\n                    for (var count = 0; count < progressElements.length; count++) {\n                        if (item.segments[count] && item.segments[count].progressWidth && this.segmentIndex !== count) {\n                            progressElements[count]['style'].display = 'block';\n                            progressElements[count].style.width = item.segments[count].progressWidth + 'px';\n                        }\n                    }\n                    traceChildProgressBar.style.width = item.segments[this.segmentIndex].progressWidth + 'px';\n                    traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                    traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                    var width_2 = this.parent.enableRtl ? this.progressValue + 8 : this.progressValue - 8;\n                    childProgressResizer.style.setProperty(position, width_2 + 'px');\n                }\n            }\n            else if (this.taskBarEditAction === 'RightResizing' && !isNullOrUndefined(traceChildTaskBar)) {\n                resizeLine.style.width = (width) + 'px';\n                traceChildTaskBar.style.width = (width) + 'px';\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentDrag') {\n                resizeLine.style.setProperty(position, item.left + 'px');\n                resizeLine.style.width = (width) + 'px';\n                resizeLine.style.width = (item.width) + 'px';\n                if (!isNullOrUndefined(traceParentTaskBar)) {\n                    traceParentTaskBar.style.width = (width) + 'px';\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceParentProgressBar.style.width = (item.progressWidth) + 'px';\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentResizing') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty('width', (item.width) + 'px');\n                manualTaskbar.style.setProperty('width', (item.width) + 'px');\n                this.editElement.parentElement.style.setProperty('width', (item.width) + 'px');\n            }\n            else if (this.taskBarEditAction === 'ManualParentDrag') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty(position, item.left - item.autoLeft + 'px');\n                if (this.parent.allowTaskbarDragAndDrop) {\n                    manualParentTaskbar.style.setProperty(position, this.leftValue + 'px');\n                    manualParentTaskbar.style.setProperty('top', (this.topValue) + 'px');\n                    manualParentTaskbar.style.zIndex = '4';\n                }\n            }\n            else {\n                if (!isNullOrUndefined(traceChildTaskBar) && !segmentedTaskBarContainer) {\n                    traceChildTaskBar.style.width = (item.width) + 'px';\n                    traceChildTaskBar.style.left = (item.left) + 'px';\n                    this.taskBarEditElement.style.width = (item.width) + 'px';\n                    this.taskBarEditElement.style.left = ((this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left))) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n                if (segmentedTaskBarContainer) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (segment.width) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, segment.width - 10 + 'px');\n                    }\n                }\n            }\n        }\n        if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag')) {\n            var resizeValue = this.parent.enableRtl ? parseInt(resizeLine.style.right, 10) : parseInt(resizeLine.style.left, 10);\n            if (this.parent.enableRtl) {\n                resizeLine.style.right = (resizeValue - 30) + 'px';\n            }\n            else {\n                resizeLine.style.left = (resizeValue + 30) + 'px';\n            }\n        }\n    };\n    /**\n     * To handle mouse up event in chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseUpHandler = function (e) {\n        var mouseDragged = this.isMouseDragged;\n        this.previousMouseMove = null;\n        this.leftValue = 0;\n        this.previousLeftValue = 0;\n        this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n        if (this.taskBarEditAction && this.isMouseDragged) {\n            if ((!this.dragMouseLeave && this.taskBarEditedAction) || (this.parent.allowTaskbarDragAndDrop)) {\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    var coordinates = this.getCoordinate(e);\n                    this['droppedTarget'] = document.elementFromPoint(coordinates.pageX, coordinates.pageY);\n                }\n                else {\n                    if (this.taskBarEditRecord.hasChildRecords && !this.taskBarEditRecord.ganttProperties.isAutoSchedule) {\n                        var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                        var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                        var xValue = void 0;\n                        if (this.parent.enableRtl) {\n                            xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                        }\n                        else {\n                            xValue = Math.abs(Math.abs(taskbarPosition.left - pointerLeft - 1) -\n                                this.parent.ganttChartModule.scrollElement.scrollLeft);\n                        }\n                        this['droppedTarget'] = document.elementFromPoint(xValue, e.y);\n                    }\n                    else {\n                        this['droppedTarget'] = document.elementFromPoint(e.x, e.y);\n                    }\n                    if (this['droppedTarget'] && this['droppedTarget'].classList.contains('e-span-label')) {\n                        this['droppedTarget'] = document.elementFromPoint(e.x + this['droppedTarget']['offsetWidth'], e.y);\n                    }\n                }\n                this.previousIds = this.parent.ids.slice();\n                this.previousFlatData = this.parent.flatData.slice();\n                this.taskBarEditedAction(e);\n                this.isMouseDragged = false;\n            }\n            else {\n                this.parent.isOnEdit = false;\n                this.cancelTaskbarEditActionInMouseLeave();\n                var criticalModule = this.parent.criticalPathModule;\n                if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                    criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                }\n            }\n        }\n        if (this.parent.enableMultiTaskbar && !isNullOrUndefined(this.taskBarEditElement)) {\n            if (!isNullOrUndefined(this.taskBarEditElement.querySelector('.e-gantt-child-taskbar'))) {\n                if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar').classList.contains('e-collapsed-taskbar-drag')) {\n                    removeClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                    this.taskBarEditElement.style.zIndex = this.prevZIndex;\n                    this.prevZIndex = '';\n                }\n            }\n        }\n        if (!this.parent.isAdaptive || mouseDragged) {\n            this.initPublicProp();\n        }\n        this.stopScrollTimer();\n    };\n    /**\n     * To perform taskbar edit operation.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditedAction = function (event) {\n        var args = {};\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var item = this.taskBarEditRecord;\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        var x2 = this.mouseMoveX;\n        var e = this.getCoordinate(event);\n        var resMouseY = e.pageY - this.parent.ganttChartModule.chartBodyContainer.offsetTop;\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && !this.drawPredecessor) {\n            this.dependencyCancel = true;\n        }\n        var parentRecord = [];\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && this.drawPredecessor && (!this.connectorSecondRecord.hasChildRecords ||\n            this.connectorSecondRecord.hasChildRecords && this.parent.allowParentDependency)) {\n            parentRecord.push(extend([], [], [this.taskBarEditRecord], true)[0]);\n            if (this.parent.undoRedoModule) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            this.parent.connectorLineEditModule.updatePredecessor(this.connectorSecondRecord, this.finalPredecessor);\n        }\n        else {\n            if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') || (this.oldData && JSON.stringify(item.ganttProperties) === JSON.stringify(this.oldData.ganttProperties))) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent['totalUndoAction']--;\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n                    }\n                }\n            }\n            else {\n                if (this.parent.undoRedoModule && this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            if (x1 !== x2 || (Math.abs(y1 - resMouseY) >= (this.parent.rowHeight - this.parent.taskbarHeight) / 2)) {\n                if (item !== null) {\n                    args.editingFields = item.ganttProperties;\n                    args.data = item;\n                    args.recordIndex = recordIndex;\n                    args.previousData = this.previousItem;\n                    args.taskBarEditAction = this.taskBarEditAction;\n                    args.action = 'TaskbarEditing';\n                    args.roundOffDuration = this.roundOffDuration;\n                    args.target = this.targetElement;\n                    this.taskbarEditedArgs = args;\n                    this.taskbarEdited(args);\n                }\n            }\n        }\n        this.parent['isProjectDateUpdated'] = false;\n    };\n    /**\n     * To cancel the taskbar edt action.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.cancelTaskbarEditActionInMouseLeave = function () {\n        this.parent.editModule.reUpdatePreviousRecords(true);\n    };\n    TaskbarEdit.prototype.updateSegmentProgress = function (taskData) {\n        var segments = taskData.segments;\n        var fixedWidth = true;\n        var totalTaskWidth = this.splitTasksDuration(segments) * this.parent.perDayWidth;\n        var progress = Math.ceil((taskData.progressWidth / totalTaskWidth) * 100);\n        var totalProgressWidth = (totalTaskWidth * progress) / 100;\n        var tempWidth = totalProgressWidth;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            if (i !== 0) {\n                if (segment.left <= tempWidth) {\n                    var newWidth = (tempWidth - segment.left);\n                    totalProgressWidth = newWidth;\n                }\n                else {\n                    totalProgressWidth = 0;\n                }\n            }\n            delete segment.progressWidth;\n            if (totalProgressWidth > 0 && totalProgressWidth > segment.width) {\n                totalProgressWidth = totalProgressWidth - segment.width;\n                segment.progressWidth = segment.width;\n                segment.showProgress = false;\n            }\n            else if (fixedWidth) {\n                segment.progressWidth = totalProgressWidth;\n                segment.showProgress = true;\n                totalProgressWidth = totalProgressWidth - segment.width;\n                fixedWidth = false;\n            }\n        }\n    };\n    /**\n     * To trigger taskbar edited event.\n     *\n     * @param {ITaskbarEditedEventArgs} arg .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskbarEdited = function (arg) {\n        var args = extend({}, arg);\n        var ganttRecord = args.data;\n        var taskData = ganttRecord.ganttProperties;\n        var draggedRecIndex = this.parent.flatData.indexOf(ganttRecord);\n        if (this.parent.allowTaskbarDragAndDrop && this.dragMoveY > 0 && ((this.parent.viewType === 'ResourceView' &&\n            !ganttRecord.hasChildRecords) || this.parent.viewType === 'ProjectView')) {\n            if (this.parent.rowDragAndDropModule) {\n                var flatRecordCol = this.parent.currentViewData;\n                if (this.taskBarEditRecord.parentItem && flatRecordCol[this.taskBarEditRecord.parentItem.index] &&\n                    ((this.parent.editedRecords.indexOf(flatRecordCol[this.taskBarEditRecord.parentItem.index]) === -1))) {\n                    this.parent.editedRecords.push(flatRecordCol[this.taskBarEditRecord.parentItem.index]);\n                }\n                this.removeChildBorder();\n                this.removeErrorElem();\n                this.removetopOrBottomBorder();\n                var droppedRecord = void 0;\n                this.updatePosition = false;\n                this.draggedRecordMarginTop = this.taskBarEditElement.style.marginTop;\n                var row = void 0;\n                if (!isNullOrUndefined(this.droppedTarget)) {\n                    row = closest(this.droppedTarget, 'tr.' + cls.chartRow);\n                }\n                if (row) {\n                    var recordIndex = parseInt(row.getAttribute('data-rowindex'), 10);\n                    droppedRecord = this.parent.flatData[recordIndex];\n                    var droppedParentRecordIndex = this.parent.getRootParent(droppedRecord, 0).index;\n                    var draggedParentRecordIndex = this.parent.getRootParent(this.taskBarEditRecord, 0).index;\n                    var e = {\n                        cancel: false,\n                        data: this.taskBarEditRecord,\n                        fromIndex: this.taskBarEditRecord.index,\n                        dropIndex: droppedRecord.index,\n                        dropPosition: this.parent.rowDragAndDropModule['dropPosition'],\n                        dropRecord: droppedRecord\n                    };\n                    this.parent.trigger('rowDrop', e);\n                    if (!e['cancel'] && droppedRecord && recordIndex !== draggedRecIndex && ((droppedParentRecordIndex !== draggedParentRecordIndex ||\n                        (this.taskBarEditRecord.hasChildRecords && droppedRecord.hasChildRecords)) ||\n                        !this.taskBarEditRecord.hasChildRecords)) {\n                        var droppedRecordIndex = this.parent.flatData.indexOf(droppedRecord);\n                        var position = void 0;\n                        if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(this.parent.rowDragAndDropModule['dropPosition'])) {\n                            position = this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        else {\n                            position = (droppedRecord.hasChildRecords || (!droppedRecord.parentItem &&\n                                droppedRecord.childRecords.length === 0)) ? 'child' : this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        if (this.parent.rowDragAndDropModule) {\n                            if (this.parent.viewType === 'ResourceView' && (position === 'child' && !droppedRecord.hasChildRecords) && !isNullOrUndefined(droppedRecord.parentItem)) {\n                                position = 'Invalid';\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                            }\n                            if (position) {\n                                this.parent.rowDragAndDropModule.reorderRows([draggedRecIndex], droppedRecordIndex, position);\n                            }\n                        }\n                        this.dragMoveY = 0;\n                    }\n                }\n                this.isClonedElement = false;\n            }\n            if (this.parent.showOverAllocation) {\n                this.parent.ganttChartModule.renderOverAllocationContainer();\n            }\n        }\n        if (args.taskBarEditAction === 'ProgressResizing') {\n            if (args.previousData.progress !== taskData.progress) {\n                var progressWidth = args.data.ganttProperties.progressWidth;\n                var totalTaskWidth = args.data.ganttProperties.width;\n                /* eslint-disable-next-line */\n                var updatedValues = this.validateProgressWidth(args.data.ganttProperties, progressWidth, totalTaskWidth);\n                this.parent.setRecordValue('progress', this.getProgressPercent(updatedValues.totalTaskWidth, updatedValues.progressWidth), taskData, true);\n                if (ganttRecord.parentItem) {\n                    this.parent.editModule.updateParentProgress(ganttRecord.parentItem);\n                }\n                if (!isNullOrUndefined(taskData.segments)) {\n                    this.updateSegmentProgress(taskData);\n                }\n            }\n        }\n        else {\n            var segments = args.data.ganttProperties.segments;\n            if (!isNullOrUndefined(segments) && segments.length > 0\n                && ((this.taskBarEditAction === 'LeftResizing' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'ChildDrag' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'RightResizing'))) {\n                var segment = segments[this.segmentIndex];\n                var ganttProp = this.taskBarEditRecord.ganttProperties;\n                var previousSegment = this.segmentIndex === 0 ? null\n                    : segments[this.segmentIndex - 1];\n                var nextSegment = this.segmentIndex === segments.length - 1 ? null\n                    : segments[this.segmentIndex + 1];\n                var sDate = !isNullOrUndefined(nextSegment) ?\n                    new Date(nextSegment.startDate.getTime()) : this.parent.cloneProjectEndDate;\n                var eDate = !isNullOrUndefined(previousSegment) ?\n                    new Date(previousSegment.endDate.getTime()) : this.parent.cloneProjectStartDate;\n                var cStartDate = new Date(segment.startDate.getTime());\n                var cEndDate = new Date(segment.endDate.getTime());\n                if (this.parent.timelineModule.topTier === 'Day' && this.parent.timelineModule.bottomTier === 'Hour') {\n                    cStartDate.setHours(cStartDate.getHours() - 1);\n                    cEndDate.setHours(cEndDate.getHours() + 1);\n                }\n                else {\n                    cStartDate.setDate(cStartDate.getDate());\n                    cEndDate.setDate(cEndDate.getDate());\n                }\n                if (this.parent.includeWeekend) {\n                    sDate.setHours(0, 0, 0, 0);\n                    eDate.setHours(0, 0, 0, 0);\n                    cStartDate.setDate(cStartDate.getDate() - 1);\n                    cEndDate.setDate(cEndDate.getDate() + 1);\n                    cStartDate.setHours(0, 0, 0, 0);\n                    cEndDate.setHours(0, 0, 0, 0);\n                    if (cStartDate.getTime() <= eDate.getTime() && !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment)) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime() && this.segmentIndex !== segments.length - 1) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime()) {\n                        segment.endDate.setDate(this.parent.cloneProjectEndDate.getDate() - 1);\n                        segment.startDate = this.parent.dataOperation.getStartDate(segment.endDate, segment.duration, ganttProp.durationUnit, ganttProp);\n                        // eslint-disable-next-line\n                        for (var i = segments.length - 2; i >= 0; i++) {\n                            var segment_5 = segments[i];\n                            var eDate_1 = segment_5.endDate;\n                            eDate_1.setDate(eDate_1.getDate() - segment_5.offsetDuration);\n                            segment_5.endDate = eDate_1;\n                            segment_5.startDate = this.parent.dataOperation.getStartDate(segment_5.endDate, segment_5.duration, ganttProp.durationUnit, ganttProp);\n                        }\n                    }\n                }\n                else {\n                    //Hits while dragging taskbar toward right & taskbar rightside resizing:\n                    if (cEndDate.getTime() <= sDate.getTime() && this.segmentIndex !== segments.length - 1 && !this.parent.includeWeekend &&\n                        this.parent.dataOperation.getDuration((this.parent.dataOperation.checkStartDate(cEndDate, taskData, false)), sDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    //Hits while dragging taskbar toward left & taskbar leftside resizing:\n                    else if (cStartDate.getTime() >= eDate.getTime() &&\n                        !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment) &&\n                        !this.parent.includeWeekend && this.parent.dataOperation.getDuration((this.parent.dataOperation.checkEndDate(cStartDate, taskData, false)), eDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                }\n            }\n            this.parent.dataOperation.updateWidthLeft(args.data);\n        }\n        this.isDragged = false;\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To get progress in percentage.\n     *\n     * @param {number} parentwidth .\n     * @param {number} progresswidth .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getProgressPercent = function (parentwidth, progresswidth) {\n        return Math.ceil(((progresswidth / parentwidth) * 100));\n    };\n    /**\n     * false line implementation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.drawFalseLine = function () {\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var x2 = this.mouseMoveX;\n        var y2 = this.mouseMoveY;\n        var length = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n        var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n        var transform = 'rotate(' + (this.parent.enableRtl ? -angle : angle) + 'deg)';\n        var left;\n        var width = 0;\n        if (!isNullOrUndefined(document.querySelectorAll('.e-chart-row')[0])) {\n            width = document.querySelectorAll('.e-chart-row')[0].offsetWidth;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            if (this.parent.enableRtl) {\n                left = ((width - (this.elementOffsetLeft + (this.parent.chartRowsModule.connectorPointWidth / 2)))) -\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft - (this.parent.chartRowsModule.connectorPointWidth / 2)) -\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n        }\n        if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            if (this.parent.enableRtl) {\n                left = (width - (this.elementOffsetLeft + this.elementOffsetWidth +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2))) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft + this.elementOffsetWidth) +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n        }\n        var top = ((this.elementOffsetTop) + (this.elementOffsetHeight / 2) +\n            this.parent.ganttChartModule.chartBodyContainer.offsetTop) - this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.removeFalseLine(false);\n        this.falseLine = createElement('div', {\n            className: cls.falseLine, id: 'ganttfalseline' + this.parent.element.id,\n            styles: 'position: absolute;transform:' + transform + ';' +\n                'border-top-width: 1px;border-top-style: dashed;z-index: 5;width:' + (length - 3) + 'px;' +\n                'top:' + top + 'px;'\n        });\n        if (this.parent.enableRtl) {\n            this.falseLine.style.left = 'auto';\n            this.falseLine.style.right = left + 'px';\n            this.falseLine.style.transformOrigin = '100% 0%';\n        }\n        else {\n            this.falseLine.style.right = 'auto';\n            this.falseLine.style.left = left + 'px';\n            this.falseLine.style.transformOrigin = '0% 100%';\n        }\n        this.parent.ganttChartModule.chartBodyContainer.appendChild(this.falseLine);\n    };\n    /**\n     *\n     * @param {boolean} isRemoveConnectorPointDisplay .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.removeFalseLine = function (isRemoveConnectorPointDisplay) {\n        if (this.falseLine) {\n            remove(this.falseLine);\n            this.falseLine = null;\n            if (isRemoveConnectorPointDisplay) {\n                this.elementOffsetLeft = 0;\n                this.elementOffsetTop = 0;\n                this.elementOffsetWidth = 0;\n                this.elementOffsetHeight = 0;\n                removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateConnectorLineSecondProperties = function (e) {\n        var target = this.getElementByPosition(e);\n        var element = parentsUntil(target, cls.taskBarMainContainer);\n        var isBigger = document.body.className.includes('e-bigger');\n        this.connectorSecondAction = null;\n        var scrollTop = 0;\n        if (parentsUntil(target, cls.connectorPointLeft)) {\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.toPredecessorText = 'Start';\n        }\n        else if (parentsUntil(target, cls.connectorPointRight)) {\n            this.connectorSecondAction = 'ConnectorPointRightDrag';\n            this.toPredecessorText = 'Finish';\n        }\n        else {\n            this.connectorSecondAction = null;\n            this.toPredecessorText = null;\n        }\n        if (this.taskBarEditElement !== element && this.taskBarEditElement !== this.highlightedSecondElement) {\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                var top_1 = this.parent.virtualScrollModule.getTopPosition();\n                scrollTop = top_1;\n            }\n            if ((this.parent.virtualScrollModule && this.parent.enableVirtualization &&\n                !this.elementOffsetLeft) || !this.parent.enableVirtualization) {\n                if (!this.parent.allowParentDependency) {\n                    this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                    this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                        this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                }\n                else {\n                    if (this.taskBarEditElement.children[0].classList.contains('e-manualparent-main-container')) {\n                        this.elementOffsetLeft = this.realTaskbarElement.children[0]['offsetLeft'] +\n                            this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = ((this.realTaskbarElement.parentElement.offsetTop + this.realTaskbarElement.offsetHeight / 3 - 5) + this.taskBarEditElement.children[0]['offsetTop']) + scrollTop;\n                    }\n                    else {\n                        this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                            this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                    }\n                }\n                this.elementOffsetWidth = this.realTaskbarElement.offsetWidth + ((isBigger) ? 20 : 0);\n                this.elementOffsetHeight = this.realTaskbarElement.offsetHeight;\n            }\n            this.showHideTaskBarEditingElements(element, this.highlightedSecondElement, true);\n        }\n        if (isNullOrUndefined(this.connectorSecondAction) && !isNullOrUndefined(this.connectorSecondElement) &&\n            (!this.connectorSecondRecord.hasChildRecords || this.connectorSecondRecord.hasChildRecords &&\n                this.parent.allowParentDependency)) {\n            this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointAllowBlock]);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointAllowBlock]);\n        }\n        this.connectorSecondElement = this.connectorSecondAction ? element : null;\n        this.highlightedSecondElement = element;\n        this.connectorSecondRecord = isNullOrUndefined(this.connectorSecondElement) ?\n            null : this.parent.ganttChartModule.getRecordByTaskBar(this.connectorSecondElement);\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.triggerDependencyEvent = function (e, mouseUp) {\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        var zoomedPageY;\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            zoomedPageY = e.pageY / zoom1;\n        }\n        var fromItem = this.taskBarEditRecord.ganttProperties;\n        var toItem = this.connectorSecondRecord ? this.connectorSecondRecord.ganttProperties : null;\n        var predecessor;\n        var currentTarget;\n        var target = this.getElementByPosition(e);\n        var element = target;\n        var uniqueId = this.parent.viewType === 'ResourceView' ? fromItem.taskId : fromItem.rowUniqueID;\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'F' : 'S');\n        }\n        else if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'S' : 'F');\n        }\n        if (this.connectorSecondAction) {\n            if (this.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                predecessor += this.parent.enableRtl ? 'F' : 'S';\n                currentTarget = this.parent.enableRtl ? 'finish' : 'start';\n            }\n            else if (this.connectorSecondAction === 'ConnectorPointRightDrag') {\n                predecessor += this.parent.enableRtl ? 'S' : 'F';\n                currentTarget = this.parent.enableRtl ? 'start' : 'finish';\n            }\n        }\n        if (isNullOrUndefined(toItem)) {\n            this.drawPredecessor = false;\n            return;\n        }\n        if (toItem.predecessorsName) {\n            this.finalPredecessor = toItem.predecessorsName + ',' + predecessor;\n        }\n        else {\n            this.finalPredecessor = predecessor;\n        }\n        var isValidLink = this.parent.connectorLineEditModule.validatePredecessorRelation(this.connectorSecondRecord, this.finalPredecessor);\n        // eslint-disable-next-line\n        var predecessorArray = this.parent.predecessorModule.calculatePredecessor(predecessor, this.connectorSecondRecord);\n        var args = {};\n        args.fromItem = fromItem;\n        args.toItem = toItem;\n        args.newPredecessorString = this.finalPredecessor;\n        args.predecessor = predecessorArray && predecessorArray[0];\n        args.isValidLink = isValidLink;\n        args.requestType = 'ValidateDependency';\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer' && args.requestType !== 'ValidateDependency') {\n            this.parent.showMaskRow();\n        }\n        else if (args.requestType !== 'ValidateDependency') {\n            this.parent.showSpinner();\n        }\n        args.isValidLink = !isValidLink && args.isValidLink ? false : args.isValidLink;\n        if (args.isValidLink) {\n            if (!this.editTooltip.toolTipObj && !this.parent.isAdaptive) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            if (!isNullOrUndefined(this.editTooltip.toolTipObj)) {\n                this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                var table = this.parent.connectorLineModule.tooltipTable.querySelector('#toPredecessor').querySelectorAll('td');\n                table[1].innerText = toItem.taskName;\n                table[2].innerText = this.parent.localeObj.getConstant(currentTarget);\n                if (!isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement) &&\n                    !isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement.parentElement)) {\n                    var tooltipElement = this.parent.connectorLineModule.tooltipTable.parentElement.parentElement;\n                    if (tooltipElement.offsetTop + tooltipElement.offsetHeight > zoomedPageY) {\n                        tooltipElement.style.top = (e.pageY - tooltipElement.offsetHeight - 20) + 'px';\n                    }\n                }\n            }\n            this.drawPredecessor = true;\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (target.classList.contains(cls.connectorPointLeft) ||\n                    target.classList.contains(cls.connectorPointRight)) {\n                    this.showHideActivePredecessors(true);\n                }\n            }\n            else {\n                addClass([element], [cls.connectorPointAllowBlock]);\n            }\n            this.drawPredecessor = false;\n        }\n    };\n    // Get XY coordinates for touch and non-touch device\n    TaskbarEdit.prototype.getCoordinate = function (event) {\n        var coordinates = {};\n        var e = event;\n        coordinates.pageX = e.pageX;\n        coordinates.pageY = e.pageY;\n        if (event && event.type !== 'click') {\n            var e_1 = event;\n            if (e_1.type === 'touchmove' || e_1.type === 'touchstart' || e_1.type === 'touchend') {\n                coordinates.pageX = e_1.changedTouches[0].pageX;\n                coordinates.pageY = e_1.changedTouches[0].pageY;\n            }\n        }\n        return coordinates;\n    };\n    // Get current target element by mouse position\n    // window.pageXOffset && window.pageYOffset is used to find the accurate element position in IPad/IPhone\n    TaskbarEdit.prototype.getElementByPosition = function (event) {\n        if (!this.parent.isAdaptive) {\n            return event.target;\n        }\n        else {\n            var e = this.getCoordinate(event);\n            return document.elementFromPoint((e.pageX - window.pageXOffset), (e.pageY - window.pageYOffset));\n        }\n    };\n    TaskbarEdit.prototype.multipleSelectionEnabled = function () {\n        if (this.parent.selectionModule &&\n            this.parent.selectionSettings.mode !== 'Cell'\n            && this.parent.selectionSettings.type === 'Multiple') {\n            this.parent.selectionModule.hidePopUp();\n        }\n    };\n    TaskbarEdit.prototype.unWireEvents = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartMouseDown', this.mouseDownHandler);\n        this.parent.off('chartMouseUp', this.mouseUpHandler);\n        this.parent.off('chartMouseLeave', this.mouseLeaveHandler);\n        this.parent.off('chartMouseMove', this.mouseMoveAction);\n        this.parent.off('chartMouseClick', this.mouseClickHandler);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.destroy = function () {\n        this.unWireEvents();\n        this.stopScrollTimer();\n        this.parent.editModule.taskbarEditModule = undefined;\n    };\n    return TaskbarEdit;\n}(DateProcessor));\nexport { TaskbarEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { remove, extend, isNullOrUndefined, createElement, getValue, setValue, closest, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Tab } from '@syncfusion/ej2-navigations';\nimport { Grid, Edit, Toolbar as GridToolbar, Page, getObject, Sort, RowDD, Group, Aggregate, ColumnChooser, ContextMenu, ColumnMenu, Resize, Reorder, DetailRow, Search, Print, PdfExport, ExcelExport, Filter } from '@syncfusion/ej2-grids';\nimport { ForeignKey, getActualProperties } from '@syncfusion/ej2-grids';\nimport { RichTextEditor, Toolbar as RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Image, Table, EmojiPicker, FileManager, FormatPainter, MarkdownEditor } from '@syncfusion/ej2-richtexteditor';\nimport { TextBox, NumericTextBox, MaskedTextBox, FormValidator } from '@syncfusion/ej2-inputs';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { DropDownList, ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { isScheduledTask } from '../base/utils';\nimport { TreeGrid, Selection as TreeGridSelection, Filter as TreeGridFilter, Edit as TreeGridEdit, VirtualScroll, Sort as TreeGridSort, Page as TreeGridPage, Aggregate as TreeGridAggregate, Reorder as TreeGridReorder, Resize as TreeGridResize, Toolbar as TreeGridToolbar, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { getUid } from '../base/utils';\n/**\n *\n * @hidden\n */\nvar DialogEdit = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {Gantt} parent .\n     * @returns {void} .\n     */\n    function DialogEdit(parent) {\n        this.isFromDialogPredecessor = false;\n        this.isTriggered = false;\n        this.taskFieldColumn = [];\n        this.customFieldColumn = [];\n        this.processedId = [];\n        /**\n         * @private\n         */\n        this.updatedEditFields = null;\n        this.updatedAddFields = null;\n        this.addedRecord = null;\n        this.dialogEditValidationFlag = false;\n        this.ganttResources = [];\n        this.isValidData = true;\n        this.isResourceTabUpdated = false;\n        /**\n         * @private\n         */\n        this.previousResource = [];\n        /**\n         * @private\n         */\n        this.isResourceUpdate = false;\n        this.parent = parent;\n        this.localeObj = this.parent.localeObj;\n        this.beforeOpenArgs = { cancel: false };\n        this.types = this.getPredecessorType();\n        this.rowData = {};\n        this.editedRecord = {};\n        this.inputs = {\n            booleanedit: CheckBox,\n            dropdownedit: DropDownList,\n            datepickeredit: DatePicker,\n            datetimepickeredit: DateTimePicker,\n            maskededit: MaskedTextBox,\n            numericedit: NumericTextBox,\n            stringedit: TextBox,\n            defaultedit: TextBox\n        };\n        this.processDialogFields();\n        this.wireEvents();\n    }\n    DialogEdit.prototype.wireEvents = function () {\n        this.parent.on('chartDblClick', this.dblClickHandler, this);\n    };\n    DialogEdit.prototype.dblClickHandler = function (e) {\n        var ganttData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (!isNullOrUndefined(ganttData) && this.parent.editModule && this.parent.editSettings.allowEditing) {\n            this.openEditDialog(ganttData);\n        }\n    };\n    /**\n     * Method to validate add and edit dialog fields property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.processDialogFields = function () {\n        if (isNullOrUndefined(this.parent.editDialogFields) ||\n            this.parent.editDialogFields && this.parent.editDialogFields.length === 0) {\n            this.updatedEditFields = this.getDefaultDialogFields();\n            this.updatedEditFields = this.validateDialogFields(this.updatedEditFields);\n        }\n        else {\n            this.updatedEditFields = this.validateDialogFields(this.parent.editDialogFields);\n        }\n        if (isNullOrUndefined(this.parent.addDialogFields) ||\n            this.parent.addDialogFields && this.parent.addDialogFields.length === 0) {\n            this.updatedAddFields = this.getDefaultDialogFields();\n            this.updatedAddFields = this.validateDialogFields(this.updatedAddFields);\n        }\n        else {\n            this.updatedAddFields = this.validateDialogFields(this.parent.addDialogFields);\n        }\n    };\n    DialogEdit.prototype.validateDialogFields = function (dialogFields) {\n        var newDialogFields = [];\n        var emptyCustomColumn = 0;\n        for (var i = 0; i < dialogFields.length; i++) {\n            var fieldItem = getActualProperties(dialogFields[i]);\n            if (fieldItem.type === 'General' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                fieldItem.fields = this.getGeneralColumnFields();\n            }\n            if (fieldItem.type === 'Dependency' && isNullOrUndefined(this.parent.taskFields.dependency)\n                || fieldItem.type === 'Resources' && isNullOrUndefined(this.parent.taskFields.resourceInfo)\n                || fieldItem.type === 'Notes' && isNullOrUndefined(this.parent.taskFields.notes)) {\n                continue;\n            }\n            if (fieldItem.type === 'Custom' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                emptyCustomColumn += 1;\n                fieldItem.fields = this.getCustomColumnFields();\n            }\n            if (emptyCustomColumn > 1) {\n                continue;\n            }\n            newDialogFields.push(fieldItem);\n        }\n        return newDialogFields;\n    };\n    /**\n     * Method to get general column fields\n     *\n     * @returns {string[]} .\n     */\n    DialogEdit.prototype.getGeneralColumnFields = function () {\n        var fields = [];\n        for (var _i = 0, _a = Object.keys(this.parent.columnMapping); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'dependency' || key === 'resourceInfo' || key === 'notes') {\n                continue;\n            }\n            fields.push(this.parent.columnMapping[key]);\n        }\n        return fields;\n    };\n    /**\n     * Method to get custom column fields\n     *\n     * @returns {void} .\n     */\n    DialogEdit.prototype.getCustomColumnFields = function () {\n        var fields = [];\n        for (var i = 0; i < this.parent.customColumns.length; i++) {\n            fields.push(this.parent.customColumns[i]);\n        }\n        return fields;\n    };\n    /**\n     * Get default dialog fields when fields are not defined for add and edit dialogs\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getDefaultDialogFields = function () {\n        var dialogFields = [];\n        var fieldItem = {};\n        var taskFields = this.parent.taskFields;\n        var columnMapping = this.parent.columnMapping;\n        if (Object.keys(columnMapping).length !== 0) {\n            fieldItem.type = 'General';\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('dependency', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.dependency.valueOf()].visible !== false) {\n                fieldItem.type = 'Dependency';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('resourceInfo', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.resourceInfo.valueOf()].visible !== false) {\n                fieldItem.type = 'Resources';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('notes', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.notes.valueOf()].visible !== false) {\n                fieldItem.type = 'Notes';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('segments', taskFields))) {\n            fieldItem = {};\n            fieldItem.type = 'Segments';\n            dialogFields.push(fieldItem);\n        }\n        if (this.parent.customColumns.length > 0) {\n            fieldItem = {};\n            fieldItem.type = 'Custom';\n            dialogFields.push(fieldItem);\n        }\n        return dialogFields;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openAddDialog = function () {\n        this.isEdit = false;\n        this.editedRecord = this.composeAddRecord();\n        this.isFromAddDialog = true;\n        this.createDialog();\n    };\n    /**\n     *\n     * @returns {Date} .\n     * @private\n     */\n    DialogEdit.prototype.getMinimumStartDate = function () {\n        var minDate = DataUtil.aggregates.min(this.parent.flatData, 'ganttProperties.startDate');\n        if (!isNullOrUndefined(minDate)) {\n            minDate = new Date(minDate.getTime());\n        }\n        else {\n            minDate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        }\n        minDate = this.parent.dateValidationModule.checkStartDate(minDate);\n        return new Date(minDate.getTime());\n    };\n    /**\n     * @returns {IGanttData} .\n     * @private\n     */\n    DialogEdit.prototype.composeAddRecord = function () {\n        var tempData = {};\n        tempData.ganttProperties = {};\n        var columns = this.parent.ganttColumns;\n        var taskSettings = this.parent.taskFields;\n        var id = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < columns.length; i++) {\n            var field = columns[i].field;\n            if (field === taskSettings.id) {\n                tempData[field] = id;\n                tempData.ganttProperties.rowUniqueID = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.startDate) {\n                if (isNullOrUndefined(tempData[taskSettings.endDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.startDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.endDate) {\n                if (isNullOrUndefined(tempData[taskSettings.startDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.endDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.duration) {\n                tempData[field] = 1;\n                tempData.ganttProperties.duration = tempData[field];\n                tempData.ganttProperties.durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n            }\n            else if (columns[i].field === taskSettings.name) {\n                tempData[field] = this.localeObj.getConstant('addDialogTitle') + ' ' + id;\n                tempData.ganttProperties.taskName = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.progress) {\n                tempData[field] = 0;\n                tempData.ganttProperties.progress = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.work) {\n                tempData[field] = 0;\n                tempData.ganttProperties.work = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.type) {\n                tempData[field] = this.parent.taskType;\n                tempData.ganttProperties.taskType = tempData[field];\n            }\n            else {\n                tempData[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        tempData.ganttProperties.isAutoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                tempData[taskSettings.manual] === true ? false : true;\n        return tempData;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openToolbarEditDialog = function () {\n        var gObj = this.parent;\n        if (gObj.editModule && gObj.editSettings.allowEditing) {\n            if (this.parent.ganttChartModule.focusedRowIndex > -1 && gObj.selectionModule) {\n                gObj.selectionModule.selectRow(this.parent.ganttChartModule.focusedRowIndex, false, false);\n            }\n            var selectedRowId = gObj.selectionModule ?\n                (gObj.selectionSettings.mode === 'Row' || gObj.selectionSettings.mode === 'Both') &&\n                    gObj.selectionModule.selectedRowIndexes.length === 1 ?\n                    gObj.updatedRecords[gObj.selectionModule.selectedRowIndexes[0]].ganttProperties.rowUniqueID :\n                    gObj.selectionSettings.mode === 'Cell' &&\n                        gObj.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        gObj.updatedRecords[gObj.selectionModule.getSelectedRowCellIndexes()[0].rowIndex].ganttProperties.rowUniqueID :\n                        null : null;\n            if (!isNullOrUndefined(selectedRowId)) {\n                this.openEditDialog(selectedRowId);\n            }\n        }\n    };\n    /**\n     * @param { number | string | object} taskId .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openEditDialog = function (taskId) {\n        var ganttObj = this.parent;\n        if (!isNullOrUndefined(taskId)) {\n            if (!isNullOrUndefined(taskId['ganttProperties'])) {\n                if (typeof taskId['ganttProperties']['taskId'] === 'string') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n            if (isNullOrUndefined(taskId['ganttProperties']) && !isNullOrUndefined(taskId)) {\n                if (isNaN(Number(taskId)) || this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n        }\n        if (typeof taskId === 'object' && !isNullOrUndefined(taskId)) {\n            this.rowIndex = this.parent.currentViewData.indexOf(taskId);\n            if (this.rowIndex > -1) {\n                this.rowData = taskId;\n            }\n        }\n        else if (!isNullOrUndefined(taskId)) {\n            this.rowIndex = ganttObj.ids.indexOf(taskId.toString());\n            if (this.rowIndex > -1) {\n                this.rowData = ganttObj.flatData[this.rowIndex];\n            }\n        }\n        else if (ganttObj.selectedRowIndex > -1) {\n            this.rowData = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n            this.rowIndex = ganttObj.selectedRowIndex;\n        }\n        this.isEdit = true;\n        if (this.parent.viewType === 'ResourceView' && this.rowData.level === 0) {\n            return;\n        }\n        if (Object.keys(this.rowData).length !== 0) {\n            this.editedRecord = extend({}, {}, this.rowData, true);\n            this.isFromEditDialog = true;\n            this.createDialog();\n        }\n    };\n    DialogEdit.prototype.createDialog = function () {\n        var _this = this;\n        var ganttObj = this.parent;\n        var dialogModel = {};\n        this.beforeOpenArgs.dialogModel = dialogModel;\n        this.beforeOpenArgs.rowData = this.editedRecord;\n        this.beforeOpenArgs.rowIndex = this.rowIndex;\n        var dialogMaxWidth = this.parent.isAdaptive ? '' : '600px';\n        var dialog = this.parent.createElement('div', { id: ganttObj.element.id + '_dialog', styles: 'max-width:' + dialogMaxWidth });\n        dialog.classList.add('e-gantt-dialog');\n        ganttObj.element.appendChild(dialog);\n        dialogModel.animationSettings = { effect: 'None' };\n        dialogModel.header = this.localeObj.getConstant(this.isEdit ? 'editDialogTitle' : 'addDialogTitle');\n        dialogModel.isModal = true;\n        dialogModel.enableRtl = this.parent.enableRtl;\n        dialogModel.allowDragging = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? false : true;\n        dialogModel.showCloseIcon = true;\n        var position = this.parent.isAdaptive ? { X: 'top', Y: 'left' } : { X: 'center', Y: 'center' };\n        dialogModel.position = position;\n        //dialogModel.width = '750px';\n        dialogModel.height = this.parent.isAdaptive ? '100%' : 'auto';\n        dialogModel.target = document.body;\n        dialogModel.close = this.dialogClose.bind(this);\n        dialogModel.closeOnEscape = true;\n        /* eslint-disable-next-line */\n        dialogModel.beforeClose = function (args) {\n            if (args.closedBy === 'escape') {\n                if (args.event.name === 'key-pressed' && args.event.target.nodeName === 'INPUT') {\n                    args.cancel = true;\n                }\n            }\n        };\n        dialogModel.open = function (args) {\n            var dialogElement = getValue('element', args);\n            var generalTabElement = dialogElement.querySelector('#' + _this.parent.element.id + 'GeneralTabContainer');\n            if (generalTabElement && generalTabElement.scrollHeight > generalTabElement.offsetHeight) {\n                generalTabElement.classList.add('e-scroll');\n            }\n            if (_this.tabObj.selectedItem === 0) {\n                _this.tabObj.select(0);\n            }\n            if (_this.parent.isAdaptive) {\n                dialogElement.style.maxHeight = 'none';\n            }\n            if (_this.parent.focusModule) {\n                _this.parent.focusModule.setActiveElement(dialogElement);\n            }\n        };\n        dialogModel.locale = this.parent.locale;\n        dialogModel.buttons = [{\n                buttonModel: {\n                    content: this.localeObj.getConstant('saveButton'), cssClass: 'e-primary'\n                },\n                click: this.buttonClick.bind(this)\n            }, {\n                buttonModel: { cssClass: 'e-flat', content: this.localeObj.getConstant('cancel') },\n                click: this.buttonClick.bind(this)\n            }];\n        this.createTab(dialogModel, dialog);\n    };\n    DialogEdit.prototype.buttonClick = function (e) {\n        var target = e.target;\n        target.style.pointerEvents = 'none';\n        if ((this.localeObj.getConstant('cancel')).toLowerCase() === e.target.innerText.trim().toLowerCase()) {\n            if (this.dialog && !this.dialogObj.isDestroyed) {\n                this.CustomformObj = null;\n                this.formObj = null;\n                this.storeValidTab = null;\n                this.customFieldColumn = [];\n                this.taskFieldColumn = [];\n                this.dialogObj.hide();\n                this.dialogClose();\n            }\n        }\n        else {\n            if (this.CustomformObj) {\n                if (!this.CustomformObj.validate()) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.formObj) {\n                /* eslint-disable-next-line */\n                var formValid = this.formObj.validate();\n                if (!formValid) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.storeDependencyTab || this.firstOccuringTab === 'Dependency') {\n                /* eslint-disable-next-line */\n                var dependencyTab = void 0;\n                if (this.firstOccuringTab === 'Dependency') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    dependencyTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    dependencyTab = this.storeDependencyTab.querySelector('.e-gridform');\n                }\n                if (dependencyTab) {\n                    var dependencyTabValid = dependencyTab['ej2_instances'][0].validate();\n                    if (!dependencyTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            if (this.storeResourceTab || this.firstOccuringTab === 'Resources') {\n                /* eslint-disable-next-line */\n                var resourceTab = void 0;\n                if (this.firstOccuringTab === 'Resources') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    resourceTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    resourceTab = this.storeResourceTab.querySelector('.e-gridform');\n                }\n                if (resourceTab) {\n                    var resourceTabValid = resourceTab['ej2_instances'][0].validate();\n                    if (!resourceTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            this.initiateDialogSave();\n            this.parent['updateDuration'] = false;\n            this.CustomformObj = null;\n            this.formObj = null;\n            this.storeValidTab = null;\n            this.customFieldColumn = [];\n            this.taskFieldColumn = [];\n            target.style.pointerEvents = 'auto';\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.dialogClose = function () {\n        if (this.dialog) {\n            this.resetValues();\n        }\n        if (!isNullOrUndefined(this.parent.focusModule) &&\n            !isNullOrUndefined(this.parent.focusModule.getActiveElement(true))) {\n            this.parent.focusModule.getActiveElement(true).focus();\n        }\n    };\n    DialogEdit.prototype.resetValues = function () {\n        this.isEdit = false;\n        this.isAddNewResource = false;\n        this.editedRecord = {};\n        this.parent['triggeredColumnName'] = '';\n        this.rowData = {};\n        this.rowIndex = -1;\n        this.addedRecord = null;\n        this.ganttResources = [];\n        this.dialogEditValidationFlag = false;\n        if (this.dialog && !this.dialogObj.isDestroyed) {\n            this.destroyDialogInnerElements();\n            this.dialogObj.destroy();\n            remove(this.dialog);\n        }\n    };\n    DialogEdit.prototype.destroyDialogInnerElements = function () {\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.destroyCustomField(element);\n                }\n                else if (id === 'Dependency') {\n                    var gridObj = element.ej2_instances[0];\n                    gridObj.destroy();\n                }\n                else if (id === 'Notes') {\n                    var rte = element.ej2_instances[0];\n                    rte.destroy();\n                }\n                else if (id === 'Resources') {\n                    var treeGridObj = element.ej2_instances[0];\n                    treeGridObj.destroy();\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.destroyCustomField(element);\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.destroyCustomField = function (element) {\n        var childNodes = element.childNodes;\n        var ganttObj = this.parent;\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (!isNullOrUndefined(controlObj)) {\n                    var column = ganttObj.columnByField[fieldName];\n                    if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                        var destroy = column.edit.destroy;\n                        if (typeof destroy === 'string') {\n                            destroy = getObject(destroy, window);\n                            destroy();\n                        }\n                        else {\n                            column.edit.destroy();\n                        }\n                    }\n                    else {\n                        controlObj.destroy();\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.destroy = function () {\n        this.resetValues();\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartDblClick', this.dblClickHandler);\n        this.parent.editModule.dialogModule = undefined;\n    };\n    /**\n     * Method to get current edit dialog fields value\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getEditFields = function () {\n        if (this.isEdit) {\n            return this.updatedEditFields;\n        }\n        else {\n            return this.updatedAddFields;\n        }\n    };\n    DialogEdit.prototype.createTab = function (dialogModel, dialog) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var tabModel = {};\n        var tabItems = [];\n        var dialogSettings = this.getEditFields();\n        var tabElement;\n        var tasks = ganttObj.taskFields;\n        var length = dialogSettings.length;\n        tabModel.items = tabItems;\n        tabModel.locale = this.parent.locale;\n        tabModel.enableRtl = this.parent.enableRtl;\n        this.beforeOpenArgs.tabModel = tabModel;\n        var count = 0;\n        var index = 0;\n        if (length > 0) {\n            for (var i = 0; i < length; i++) {\n                var dialogField = dialogSettings[i];\n                var tabItem = {};\n                if (dialogField.type === 'General') {\n                    if (Object.keys(ganttObj.columnMapping).length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('generalTab');\n                    }\n                    tabItem.content = 'General';\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Segments') {\n                    if (isNullOrUndefined(tasks.segments)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('segments');\n                    }\n                    tabItem.content = 'Segments';\n                    this.beforeOpenArgs[tabItem.content] = this.getSegmentsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Dependency') {\n                    if (isNullOrUndefined(tasks.dependency)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('dependency');\n                    }\n                    tabItem.content = 'Dependency';\n                    this.beforeOpenArgs[tabItem.content] = this.getPredecessorModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Resources') {\n                    if (isNullOrUndefined(tasks.resourceInfo)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('resourceName');\n                    }\n                    tabItem.content = 'Resources';\n                    this.beforeOpenArgs[tabItem.content] = this.getResourcesModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Notes') {\n                    if (isNullOrUndefined(tasks.notes)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('notes');\n                    }\n                    tabItem.content = 'Notes';\n                    this.beforeOpenArgs[tabItem.content] = this.getNotesModel(dialogField.fields);\n                }\n                else {\n                    if (isNullOrUndefined(dialogField.fields) || dialogField.fields.length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('customTab'); // eslint-disable-next-line\n                        count++;\n                    }\n                    tabItem.content = 'Custom' + '' + index++;\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                tabItem.header = { text: dialogField.headerText };\n                tabItems.push(tabItem);\n            }\n        }\n        this.beforeOpenArgs.requestType = this.isEdit ? 'beforeOpenEditDialog' : 'beforeOpenAddDialog';\n        this.parent.trigger('actionBegin', this.beforeOpenArgs, function (arg) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (!arg.cancel) {\n                _this.renderTabItems();\n                tabModel.selected = _this.tabSelectedEvent.bind(_this);\n                tabModel.height = _this.parent.isAdaptive ? '100%' : 'auto';\n                tabModel.overflowMode = 'Scrollable';\n                _this.tabObj = new Tab(tabModel);\n                _this.tabObj.isStringTemplate = true;\n                tabElement = _this.parent.createElement('div', { id: ganttObj.element.id + '_Tab' });\n                _this.tabObj.appendTo(tabElement);\n                dialogModel.content = tabElement;\n                _this.dialog = dialog;\n                _this.dialogObj = new Dialog(dialogModel);\n                _this.dialogObj.isStringTemplate = true;\n                _this.dialogObj.appendTo(_this.dialog);\n                var actionCompleteArgs = {\n                    action: 'OpenDialog',\n                    requestType: _this.isEdit ? 'openEditDialog' : 'openAddDialog',\n                    data: _this.beforeOpenArgs.rowData,\n                    element: _this.dialog,\n                    cancel: false\n                };\n                var columns = _this.parent.treeGrid.grid.getColumns();\n                /* eslint-disable-next-line */\n                var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n                if (isValidateColumn) {\n                    _this.CustomformObj = null;\n                    _this.formObj = null;\n                    _this.storeValidTab = null;\n                    _this.customFieldColumn = [];\n                    _this.taskFieldColumn = [];\n                    _this.changeFormObj(actionCompleteArgs.element);\n                }\n                _this.parent.trigger('actionComplete', actionCompleteArgs, function (actionCompleteArg) {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.hideMaskRow();\n                    }\n                    else {\n                        _this.parent.hideSpinner();\n                    }\n                    if (actionCompleteArg.cancel) {\n                        _this.resetValues();\n                    }\n                });\n            }\n            else {\n                arg.cancel = false;\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.hideMaskRow();\n                }\n                else {\n                    _this.parent.hideSpinner();\n                }\n            }\n        });\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.changeFormObj = function (actionCompleteArgs) {\n        if (!this.storeColumn) {\n            this.storeColumn = this.parent.treeGrid.grid.getColumns();\n        }\n        if (!this.taskfields) {\n            this.taskfields = this.parent.taskFields['properties'];\n        }\n        if (!this.storeValidTab) {\n            this.storeValidTab = this.getFilteredDialogFields();\n        }\n        if (this.customFieldColumn.length === 0 || this.taskFieldColumn.length === 0) {\n            this.validateColumn(this.storeColumn, this.taskfields, this.storeValidTab);\n        }\n        if (this.isFromAddDialog && this.parent.addDialogFields && this.parent.addDialogFields.length > 0) {\n            var firstFieldType = this.parent.addDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        else if (this.isFromEditDialog && this.parent.editDialogFields && this.parent.editDialogFields.length > 0) {\n            var firstFieldType = this.parent.editDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        if (!this.CustomformObj || !this.formObj) {\n            var customFieldColumns = this.customFieldColumn;\n            var taskFieldColumns = this.taskFieldColumn;\n            if (!this.CustomformObj && customFieldColumns && customFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < customFieldColumns.length; i++) {\n                    var customColumn = customFieldColumns[i]; // Rename the variable\n                    if (customColumn.visible && customColumn.validationRules) {\n                        validationRulesArray[customColumn.field] = customColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.CustomformObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'Custom0TabContainer');\n                    if (this.CustomformObj) {\n                        this.CustomformObj = this.createFormObj(this.CustomformObj, validationRulesArray);\n                    }\n                }\n            }\n            if (!this.formObj && taskFieldColumns && taskFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < taskFieldColumns.length; i++) {\n                    var taskColumn = taskFieldColumns[i]; // Rename the variable\n                    if (taskColumn.visible && taskColumn.validationRules) {\n                        validationRulesArray[taskColumn.field] = taskColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.formObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'GeneralTabContainer');\n                    if (this.formObj) {\n                        this.formObj = this.createFormObj(this.formObj, validationRulesArray);\n                    }\n                }\n            }\n        }\n        this.isFromAddDialog = false;\n        this.isFromEditDialog = false;\n    };\n    DialogEdit.prototype.getFilteredDialogFields = function () {\n        var dialogFields = this.isFromAddDialog\n            ? this.parent.addDialogFields\n            : this.parent.editDialogFields;\n        if (dialogFields.length !== 0) {\n            return dialogFields.filter(function (obj) { return obj.type === 'General' || obj.type === 'Custom'; });\n        }\n        return null;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.validateColumn = function (storeColumn, taskfields, storeValidTab) {\n        var _this = this;\n        if (storeValidTab) {\n            storeValidTab.forEach(function (element) {\n                /* eslint-disable-next-line */\n                var targetArray = element.type === 'General' ? _this.taskFieldColumn : _this.customFieldColumn;\n                element.fields.forEach(function (field) {\n                    var columnValue = _this.parent.getColumnByField(field, storeColumn);\n                    if (columnValue !== null) {\n                        targetArray.push(columnValue);\n                    }\n                    else {\n                        targetArray.push(_this.parent.columnByField[field]);\n                    }\n                });\n            });\n        }\n        else {\n            /* eslint-disable-next-line */\n            storeColumn.forEach(function (column) {\n                if (_this.parent.customColumns.indexOf(column.field) !== -1) {\n                    _this.customFieldColumn.push(column);\n                }\n                else {\n                    _this.taskFieldColumn.push(column);\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.createFormObj = function (form, rules) {\n        var _this = this;\n        return new FormValidator(form, {\n            rules: rules,\n            locale: this.parent.locale,\n            validationComplete: function (args) {\n                _this.validationComplete(args);\n            },\n            customPlacement: function (inputElement, error) {\n                var nameAttribute = inputElement.getAttribute('name');\n                if (nameAttribute) {\n                    var columnName = nameAttribute;\n                    _this.valErrorPlacement(inputElement, error, columnName);\n                }\n            }\n        });\n    };\n    DialogEdit.prototype.valErrorPlacement = function (inputElement, error, columnName) {\n        var id = columnName + \"-tooltip\";\n        var elem = this.getElemTable(inputElement);\n        if (!elem) {\n            this.createTooltip(inputElement, error, id);\n        }\n        else {\n            var tooltipContent = elem.querySelector('.e-tip-content');\n            if (tooltipContent) {\n                tooltipContent.innerHTML = error.outerHTML;\n            }\n        }\n    };\n    DialogEdit.prototype.createTooltip = function (inputElement, errorMessage, id, display) {\n        if (display === void 0) { display = 'block'; }\n        var existingTooltip = document.getElementById(id);\n        if (existingTooltip) {\n            existingTooltip.remove();\n        }\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            parentElement.style.position = 'relative';\n        }\n        var tooltipContainer = document.createElement('div');\n        tooltipContainer.className = 'e-tooltip-wrap e-lib e-control e-popup e-griderror';\n        tooltipContainer.style.display = display;\n        tooltipContainer.style.zIndex = '1000';\n        var labelId = id + \"-label\";\n        var tooltipLabel = document.createElement('div');\n        tooltipLabel.id = labelId;\n        tooltipLabel.className = 'sr-only';\n        var tooltipContent = document.createElement('div');\n        tooltipContent.className = 'e-tip-content';\n        var errorMessageElement = document.createElement('div');\n        errorMessageElement.className = 'error-message';\n        errorMessageElement.appendChild(errorMessage.cloneNode(true));\n        var arrow = document.createElement('div');\n        arrow.className = 'e-arrow-tip e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-outer e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-inner e-tip-top';\n        tooltipContainer.setAttribute('aria-labelledby', labelId);\n        tooltipContent.appendChild(errorMessageElement);\n        tooltipContainer.appendChild(tooltipContent);\n        tooltipContainer.appendChild(arrow);\n        tooltipContainer.style.top = '125%';\n        tooltipContainer.style.left = '50%';\n        tooltipContainer.style.transform = 'translateX(-50%)';\n        if (parentElement) {\n            parentElement.appendChild(tooltipLabel);\n            parentElement.appendChild(tooltipContainer);\n        }\n    };\n    DialogEdit.prototype.getElemTable = function (inputElement) {\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            return parentElement.querySelector('.e-tooltip-wrap');\n        }\n        return null;\n    };\n    DialogEdit.prototype.validationComplete = function (args) {\n        var elem = this.getElemTable(args.element);\n        if (elem) {\n            if (args.status === 'failure') {\n                elem.style.display = '';\n            }\n            else {\n                elem.style.display = 'none';\n            }\n        }\n    };\n    DialogEdit.prototype.tabSelectedEvent = function (args) {\n        var ganttObj = this.parent;\n        var id = args.selectedContent.childNodes[0].id;\n        var dialogModule = this.parent.editModule.dialogModule;\n        var dialog = dialogModule.dialog;\n        var hasEditedBatchCell = dialog.getElementsByClassName('e-editedbatchcell').length > 0;\n        var hasEditedOrAddedRow = dialog.getElementsByClassName('e-editedrow').length > 0 ||\n            dialog.getElementsByClassName('e-addedrow').length > 0;\n        if (dialogModule.storeResourceTab && hasEditedBatchCell) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Resources' +\n                'TabContainer_gridcontrol').ej2_instances[0].saveCell();\n        }\n        else if (dialogModule.storeDependencyTab && hasEditedOrAddedRow) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Dependency' +\n                'TabContainer').ej2_instances[0].editModule.batchSave();\n        }\n        if (id === ganttObj.element.id + 'DependencyTabContainer') {\n            this.storeDependencyTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.storeResourceTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'Custom0TabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (id === ganttObj.element.id + 'GeneralTabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (this.parent.isAdaptive || this.parent.enableAdaptiveUI) {\n            this.responsiveTabContent(id, ganttObj);\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.resourceSelection(id);\n        }\n        else if (id === ganttObj.element.id + 'NotesTabContainer') {\n            document.getElementById(id).ej2_instances[0].refresh();\n            // const notesTabElement: HTMLElement = document.querySelector('#' + this.parent.element.id + 'NotesTabContainer') as HTMLInputElement;\n        }\n        else if (id === ganttObj.element.id + 'SegmentsTabContainer') {\n            if (isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate)) {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], false);\n            }\n            else {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], true);\n            }\n        }\n    };\n    DialogEdit.prototype.responsiveTabContent = function (id, ganttObj) {\n        var dialogContent = document.getElementById(ganttObj.element.id + '_dialog_dialog-content');\n        var dialogContentHeight = dialogContent.clientHeight;\n        dialogContentHeight -= dialogContent.querySelector('.e-tab-header').offsetHeight;\n        var grid = document.querySelector('#' + id);\n        if (grid.classList.contains('e-grid')) {\n            dialogContentHeight -= grid.ej2_instances[0].getHeaderContent().offsetHeight;\n            var toolbar_1 = grid.querySelector('.e-toolbar');\n            if (toolbar_1) {\n                dialogContentHeight -= toolbar_1.offsetHeight;\n            }\n        }\n        grid.parentElement.style.height = dialogContentHeight + 'px';\n    };\n    DialogEdit.prototype.getFieldsModel = function (fields) {\n        var fieldsModel = {};\n        var columnByField = this.parent.columnByField;\n        for (var i = 0; i < fields.length; i++) {\n            if (fields[i] === this.parent.taskFields.dependency ||\n                fields[i] === this.parent.taskFields.resourceInfo ||\n                fields[i] === this.parent.taskFields.notes) {\n                continue;\n            }\n            if (!isNullOrUndefined(columnByField[fields[i]])) {\n                var fieldName = fields[i];\n                this.createInputModel(columnByField[fieldName], fieldsModel);\n            }\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.createInputModel = function (column, fieldsModel) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var locale = this.parent.locale;\n        var taskSettings = this.parent.taskFields;\n        var common = {\n            placeholder: column.headerText,\n            floatLabelType: 'Auto'\n        };\n        if (!isNullOrUndefined(this.parent.taskFields.id) && !isNullOrUndefined(this.parent.columnMapping.id)\n            && !isNullOrUndefined(this.numericOrString)) {\n            if (taskSettings.id === column.field) {\n                column.editType = this.numericOrString;\n            }\n        }\n        switch (column.editType) {\n            case 'booleanedit':\n                {\n                    var checkboxModel = {\n                        label: column.headerText,\n                        locale: locale,\n                        enableRtl: this.parent.enableRtl\n                    };\n                    fieldsModel[column.field] = checkboxModel;\n                    break;\n                }\n            case 'defaultedit':\n            case 'stringedit':\n                {\n                    var textBox = common;\n                    textBox.enableRtl = this.parent.enableRtl;\n                    if (column.field === ganttObj.columnMapping.duration ||\n                        column.field === ganttObj.columnMapping.id || column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        textBox.change = function (args) {\n                            if (!_this.isTriggered) {\n                                if ((column.field === _this.parent.taskFields.duration ||\n                                    column.field === _this.parent.taskFields.work) && !_this.isTriggered) {\n                                    _this.isTriggered = true;\n                                    _this.parent['triggeredColumnName'] = column.field;\n                                }\n                                _this.validateScheduleFields(args, column, ganttObj);\n                            }\n                        };\n                    }\n                    fieldsModel[column.field] = common;\n                    break;\n                }\n            case 'numericedit':\n                {\n                    var numeric = common;\n                    numeric.enableRtl = this.parent.enableRtl;\n                    if (taskSettings.progress === column.field) {\n                        numeric.min = 0;\n                        numeric.max = 100;\n                    }\n                    numeric.change = function (args) {\n                        if (!_this.isTriggered) {\n                            if ((column.field === _this.parent.taskFields.duration ||\n                                column.field === _this.parent.taskFields.work) && !_this.isTriggered) {\n                                _this.isTriggered = true;\n                                _this.parent['triggeredColumnName'] = column.field;\n                            }\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        }\n                    };\n                    fieldsModel[column.field] = numeric;\n                    break;\n                }\n            case 'datepickeredit':\n                {\n                    var datePickerObj = common;\n                    datePickerObj.format = this.parent.getDateFormat();\n                    datePickerObj.enableRtl = this.parent.enableRtl;\n                    datePickerObj.strictMode = true;\n                    datePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        datePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        datePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = datePickerObj;\n                    break;\n                }\n            case 'datetimepickeredit':\n                {\n                    var dateTimePickerObj = common;\n                    dateTimePickerObj.format = this.parent.getDateFormat();\n                    dateTimePickerObj.enableRtl = this.parent.enableRtl;\n                    dateTimePickerObj.strictMode = true;\n                    dateTimePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        dateTimePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        dateTimePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = dateTimePickerObj;\n                    break;\n                }\n            case 'dropdownedit':\n                if (column.field === ganttObj.columnMapping.type || column.field === ganttObj.columnMapping.manual) {\n                    var dataKey = 'dataSource';\n                    var fieldsKey = 'fields';\n                    var types = [\n                        { 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }\n                    ];\n                    common[dataKey] = types;\n                    common[fieldsKey] = { value: 'Value' };\n                    var dropDownListObj = common;\n                    dropDownListObj.enableRtl = this.parent.enableRtl;\n                    dropDownListObj.change = function (args) {\n                        if (column.field === taskSettings.manual) {\n                            _this.editedRecord.ganttProperties.isAutoSchedule = !args.value;\n                        }\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                }\n                fieldsModel[column.field] = common;\n                break;\n            case 'maskededit':\n                fieldsModel[column.field] = common;\n                break;\n        }\n        if (!isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.params)) {\n            extend(fieldsModel[column.field], column.edit.params);\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.validateScheduleFields = function (args, column, ganttObj) {\n        var _a;\n        var dialog;\n        if (!isNullOrUndefined(ganttObj.editModule.dialogModule.dialog)) {\n            dialog = ganttObj.editModule.dialogModule.dialog;\n        }\n        var targetId = null;\n        var inputElement;\n        var currentData = ganttObj.editModule.dialogModule.editedRecord;\n        var cellValue = null;\n        var colName = null;\n        var formObject;\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var strViewType = this.parent.viewType;\n        if (!isNullOrUndefined(args.element)) {\n            inputElement = args.element;\n            targetId = inputElement.getAttribute('id');\n        }\n        else if (!isNullOrUndefined(args.container)) {\n            inputElement = args.container;\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        else if (!isNullOrUndefined(args.event) && !isNullOrUndefined(args.event.path) &&\n            !isNullOrUndefined(args.event.path)[1]) {\n            inputElement = args.event.path[1];\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        if (isNullOrUndefined(inputElement)) {\n            cellValue = args.value;\n            colName = column.field;\n        }\n        else {\n            cellValue = inputElement.value;\n            colName = targetId.replace(ganttObj.element.id, '');\n            if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                var customFn = function (args) {\n                    if (strViewType === 'ResourceView') {\n                        return ids.indexOf('T' + args['value']) === -1 && ids.indexOf('R' + args['value']) === -1;\n                    }\n                    else {\n                        return ids.indexOf(args['value']) === -1;\n                    }\n                };\n                var options = {\n                    rules: (_a = {},\n                        _a[this.parent.taskFields.id] = { required: true, minLength: [customFn, 'ID is already present, please enter new value'] },\n                        _a)\n                };\n                /* eslint-disable-next-line */\n                formObject = new FormValidator('#' + this.parent.element.id + 'GeneralTabContainer', options);\n            }\n        }\n        if (colName.search('Segments') === 0) {\n            colName = colName.replace('SegmentsTabContainer', '');\n            this.validateSegmentFields(ganttObj, colName, cellValue, args);\n            this.isTriggered = false;\n            return true;\n        }\n        else {\n            this.validateScheduleValuesByCurrentField(colName, cellValue, this.editedRecord);\n            var ganttProp = currentData.ganttProperties;\n            var tasks = ganttObj.taskFields;\n            if (!isNullOrUndefined(tasks.startDate) && tasks.startDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'startDate');\n            }\n            if (tasks.endDate === colName && !isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(args.value) &&\n                ganttProp.startDate.getTime() > args.value) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.endDate) && tasks.endDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.duration) && tasks.duration !== colName || ganttProp.duration >= 0) {\n                this.updateScheduleFields(dialog, ganttProp, 'duration');\n            }\n            if (!isNullOrUndefined(tasks.work) && (tasks.work !== colName || ganttProp.taskType !== 'FixedWork')) {\n                this.updateScheduleFields(dialog, ganttProp, 'work');\n            }\n            this.dialogEditValidationFlag = false;\n            this.isTriggered = false;\n            return true;\n        }\n    };\n    DialogEdit.prototype.updateScheduleFields = function (dialog, ganttProp, ganttField) {\n        var ganttObj = this.parent;\n        var ganttId = ganttObj.element.id;\n        var columnName = getValue(ganttField, ganttObj.columnMapping);\n        var col = ganttObj.columnByField[columnName];\n        var tempValue;\n        var taskField = this.parent.taskFields;\n        if (col.editType === 'stringedit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var textBox = element.ej2_instances[0];\n                if (textBox) {\n                    tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? col.edit.read() :\n                        !isNullOrUndefined(col.valueAccessor) ?\n                            col.valueAccessor(columnName, ganttObj.editModule.dialogModule.editedRecord, col) :\n                            this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                    if (textBox.value !== tempValue.toString() && taskField.duration === columnName) {\n                        textBox.value = tempValue;\n                        textBox.dataBind();\n                    }\n                    else if (taskField.startDate === columnName || taskField.endDate === columnName) {\n                        textBox.value = taskField.startDate === columnName ? ganttProp.startDate.toString() : ganttProp.endDate.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'datepickeredit' || col.editType === 'datetimepickeredit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var picker = col.editType === 'datepickeredit' ?\n                    element.ej2_instances[0] :\n                    element.ej2_instances[0];\n                if (picker) {\n                    tempValue = ganttProp[ganttField];\n                    if (((isNullOrUndefined(picker.value)) && !isNullOrUndefined(tempValue)) ||\n                        (isNullOrUndefined(tempValue) && !isNullOrUndefined(picker.value)) ||\n                        (picker.value !== tempValue && !isNullOrUndefined(picker.value) && !isNullOrUndefined(tempValue)\n                            && picker.value.toString() !== tempValue.toString())) {\n                        picker.value = tempValue;\n                        picker.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'numericedit') {\n            var numericTextBox = dialog.querySelector('#' + ganttId + columnName).ej2_instances[0];\n            tempValue = ganttProp[ganttField];\n            if (!isNullOrUndefined(tempValue) && numericTextBox.value !== tempValue) {\n                numericTextBox.value = tempValue;\n                numericTextBox.dataBind();\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.validateDuration = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        if (!this.dialogEditValidationFlag) {\n            if (!isNullOrUndefined(ganttProp.startDate) && !isScheduledTask(ganttProp) && isNullOrUndefined(ganttProp.duration)) {\n                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp) || !isNullOrUndefined(ganttProp.startDate)) {\n                if (ganttData.ganttProperties.isMilestone && ganttData.ganttProperties.duration !== 0) {\n                    var updatedStartDate = this.parent.dateValidationModule.checkStartDate(ganttProp.startDate);\n                    this.parent.setRecordValue('startDate', updatedStartDate, ganttProp, true);\n                    if (this.parent.taskFields.startDate) {\n                        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n                    }\n                }\n                this.parent.dateValidationModule.calculateEndDate(ganttData);\n            }\n            else if (!isScheduledTask(ganttProp) && !isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.dateValidationModule.calculateStartDate(ganttData);\n            }\n            var milestone = ganttProp.duration === 0 ? true : false;\n            this.parent.setRecordValue('isMilestone', milestone, ganttProp, true);\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.startDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                if (this.parent.allowUnscheduledTasks && isNullOrUndefined(tasks.endDate)) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                }\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(tasks.endDate)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                else {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.endDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else {\n                    if (!isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 0) {\n                        ganttProp.segments = this.parent.editModule.cellEditModule.validateEndDateWithSegments(ganttProp);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    /**\n     *\n     * @param {string} columnName .\n     * @param {string} value .\n     * @param {IGanttData} currentData .\n     * @returns {boolean} .\n     * @private\n     */\n    DialogEdit.prototype.validateScheduleValuesByCurrentField = function (columnName, value, currentData) {\n        var ganttObj = this.parent;\n        var ganttProp = currentData.ganttProperties;\n        var taskSettings = ganttObj.taskFields;\n        if (taskSettings.duration === columnName) {\n            if (!isNullOrUndefined(value) && value !== '' && (parseInt(value, 10) >= 0 || parseFloat(value) >= 0)) {\n                ganttObj.dataOperation.updateDurationValue(value, ganttProp);\n                this.parent.setRecordValue(taskSettings.duration, value, currentData);\n                this.parent.setRecordValue('taskData.' + taskSettings.duration, ganttProp.duration, currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n                this.validateDuration(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    if ((ganttProp.startDate && ganttProp.endDate && ganttProp.startDate.getTime() > ganttProp.endDate.getTime()) || value.indexOf('-') !== -1) {\n                        this.parent.setRecordValue('duration', 0, ganttProp, true);\n                        if (ganttProp.endDate) {\n                            this.parent.setRecordValue('startDate', ganttProp.endDate, ganttProp, true);\n                        }\n                    }\n                    else {\n                        if (value === '') {\n                            this.parent.setRecordValue('duration', null, ganttProp, true);\n                            if (ganttProp.endDate && ganttProp.startDate) {\n                                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                            }\n                        }\n                        else {\n                            var regex = /^[^\\d.-]+$/;\n                            if (regex.test(value)) {\n                                var err = \"The provided value for the \" + taskSettings.duration + \" field is invalid. Please ensure the \" + taskSettings.duration + \" field contains only valid numeric values.\";\n                                this.parent.trigger('actionFailure', { error: err });\n                            }\n                            this.parent.setRecordValue('duration', ganttProp.duration, ganttProp, true);\n                        }\n                    }\n                }\n            }\n            this.parent.editModule.updateResourceRelatedFields(currentData, 'duration');\n        }\n        if (taskSettings.startDate === columnName) {\n            if (value !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp);\n                this.parent.setRecordValue('startDate', startDate, ganttProp, true);\n                this.validateStartDate(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks && !(currentData.hasChildRecords)) {\n                    this.parent.setRecordValue('startDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.endDate === columnName) {\n            if (value !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                if (!isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(endDate) &&\n                    ganttProp.startDate.getTime() > endDate.getTime()) {\n                    endDate = ganttProp.endDate;\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, ganttProp);\n                if (isNullOrUndefined(ganttProp.startDate) || endDate.getTime() >= (ganttProp.startDate).getTime()) {\n                    this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                }\n                this.validateEndDate(currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.work === columnName) {\n            if (!isNullOrUndefined(value) && value !== '') {\n                this.parent.setRecordValue('work', value, ganttProp, true);\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n                this.validateDuration(currentData);\n            }\n        }\n        if (columnName === taskSettings.type) {\n            this.parent.setRecordValue('taskType', value, ganttProp, true);\n            // To validate the work column as well, if duartion column value is 0, when FixedDuration type\n            if (value && value === 'FixedDuration' && ganttProp.duration === 0) {\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n            }\n        }\n        if (taskSettings.manual === columnName) {\n            this.parent.editModule.updateTaskScheduleModes(currentData);\n        }\n        return true;\n    };\n    DialogEdit.prototype.getSegmentsModel = function (fields) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [];\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                fields.push(this.parent.taskFields.startDate);\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                fields.push(this.parent.taskFields.endDate);\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                fields.push(this.parent.taskFields.duration);\n            }\n            if (!isNullOrUndefined(taskSettings.id)) {\n                fields.push(this.parent.taskFields.id);\n            }\n        }\n        var segmentInputModel = {};\n        segmentInputModel.editSettings = {\n            allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal', newRowPosition: 'Bottom'\n        };\n        segmentInputModel.locale = this.parent.locale;\n        segmentInputModel.dataSource = [];\n        segmentInputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        segmentInputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var gridColumns = [];\n        var _loop_1 = function (i) {\n            var gridColumn = {};\n            var generalTabString = 'General';\n            switch (fields[i]) {\n                case this_1.parent.taskFields.id:\n                    gridColumn = {\n                        field: fields[i], visible: false, isPrimaryKey: true\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.startDate:\n                case this_1.parent.taskFields.endDate:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant((fields[i] === this_1.parent.taskFields.startDate) ? 'startDate' : 'endDate'), editType: 'stringedit', width: '200px',\n                        edit: {\n                            write: function (args) {\n                                var datePickerModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString]) &&\n                                    !isNullOrUndefined(_this.beforeOpenArgs[generalTabString][fields[i]])) {\n                                    datePickerModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    datePickerModel = columnModel[fields[i]];\n                                }\n                                var value = args.rowData[args.column.field];\n                                setValue('value', value, datePickerModel);\n                                var datePicker = new _this.inputs[_this.parent.columnByField[fields[i]].editType](datePickerModel);\n                                datePicker.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value;\n                            }\n                        },\n                        format: this_1.parent.getDateFormat()\n                    };\n                    if (fields[i] === this_1.parent.taskFields.startDate) {\n                        gridColumn.validationRules = { required: true };\n                    }\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.duration:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant(fields[i].toLocaleLowerCase()), editType: 'stringedit',\n                        width: '100px', edit: {\n                            write: function (args) {\n                                var inputTextModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString]) &&\n                                    !isNullOrUndefined(_this.beforeOpenArgs[generalTabString][fields[i]])) {\n                                    inputTextModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    inputTextModel = columnModel[fields[i]];\n                                }\n                                inputTextModel.floatLabelType = 'Never';\n                                var value = args.rowData[args.column.field];\n                                if (!isNullOrUndefined(value)) {\n                                    setValue('value', value, inputTextModel);\n                                }\n                                else {\n                                    setValue('value', null, inputTextModel);\n                                }\n                                setValue('value', value, inputTextModel);\n                                var inputModel = new TextBox(inputTextModel);\n                                inputModel.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value.toString();\n                            }\n                        }\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < fields.length; i++) {\n            _loop_1(i);\n        }\n        segmentInputModel.columns = gridColumns;\n        segmentInputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return segmentInputModel;\n    };\n    DialogEdit.prototype.getGridColumnByField = function (fieldName, columns) {\n        var column;\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                column = columns[i];\n            }\n        }\n        return column;\n    };\n    DialogEdit.prototype.updateSegmentField = function (columnName, args, segment) {\n        var dialog = this.parent.editModule.dialogModule.dialog;\n        var gridModel = getValue('Segments', this.beforeOpenArgs);\n        var col = this.getGridColumnByField(columnName, gridModel.columns);\n        var ganttId = this.parent.element.id;\n        var tempValue = segment[columnName];\n        var inputValue;\n        if (col.editType === 'stringedit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        else if (col.editType === 'datepickeredit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        if ((!isNullOrUndefined(inputValue.value)) && (!isNullOrUndefined(tempValue)) &&\n            (inputValue.value.toString() !== tempValue.toString())) {\n            inputValue.value = tempValue;\n            inputValue.dataBind();\n        }\n    };\n    DialogEdit.prototype.validateSegmentFields = function (ganttObj, columnName, cellValue, args) {\n        var taskSettings = this.parent.taskFields;\n        if (!isNullOrUndefined(taskSettings.duration) && taskSettings.duration.toLowerCase() === columnName.toLowerCase()) {\n            if (!isNullOrUndefined(cellValue) && cellValue !== '') {\n                this.selectedSegment[taskSettings.duration] = Number(cellValue);\n                var endDate = ganttObj.dataOperation.getEndDate(this.selectedSegment[taskSettings.startDate], Number(cellValue), this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                endDate = ganttObj.dataOperation.checkEndDate(endDate, this.editedRecord.ganttProperties, false);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate) && taskSettings.startDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate);\n                this.selectedSegment[taskSettings.startDate] = startDate;\n                if (!isNullOrUndefined(taskSettings.endDate)) {\n                    this.selectedSegment.endDate = this.parent.dataOperation.getEndDate(startDate, this.selectedSegment[taskSettings.duration], this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                }\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.endDate) && taskSettings.endDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.editedRecord.ganttProperties);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n                this.selectedSegment[taskSettings.duration] = this.parent.dataOperation.getDuration(this.selectedSegment[taskSettings.startDate], this.selectedSegment[taskSettings.endDate], this.editedRecord.ganttProperties.durationUnit, true, false, true);\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            this.updateSegmentField(taskSettings.startDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            this.updateSegmentField(taskSettings.endDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            this.updateSegmentField(taskSettings.duration, args, this.selectedSegment);\n        }\n    };\n    DialogEdit.prototype.getPredecessorModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['ID', 'Name', 'Type', 'Offset', 'UniqueId'];\n        }\n        var inputModel = {};\n        inputModel.editSettings = { allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal' };\n        inputModel.locale = this.parent.locale;\n        inputModel.dataSource = [];\n        inputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        inputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var columns = [];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i].toLowerCase() === 'id') {\n                column = {\n                    field: 'id', headerText: this.localeObj.getConstant('id'), allowEditing: false, width: '70px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'name') {\n                column = {\n                    field: 'name', headerText: this.localeObj.getConstant('name'), editType: 'stringedit', width: '250px',\n                    validationRules: { required: true }\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'type') {\n                column = {\n                    field: 'type', headerText: this.localeObj.getConstant('type'), editType: 'dropdownedit',\n                    dataSource: this.types, foreignKeyField: 'id', foreignKeyValue: 'text',\n                    defaultValue: 'FS', validationRules: { required: true }, width: '150px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'offset') {\n                column = {\n                    field: 'offset', headerText: this.localeObj.getConstant('offset'), editType: 'stringedit',\n                    defaultValue: this.parent.dataOperation.getDurationString(0, this.beforeOpenArgs.rowData.ganttProperties.durationUnit),\n                    validationRules: { required: true }, width: '100px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'uniqueid') {\n                column = {\n                    field: 'uniqueId', isPrimaryKey: true, visible: false, defaultValue: getUid().toString()\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getResourcesModel = function (fields) {\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [resourceSettings.id, resourceSettings.name, resourceSettings.unit, resourceSettings.group];\n        }\n        var inputModel = {\n            allowFiltering: true,\n            treeColumnIndex: -1,\n            childMapping: '',\n            editSettings: { allowEditing: true, mode: 'Cell' },\n            locale: this.parent.locale,\n            allowSelection: true,\n            rowHeight: this.parent.isAdaptive ? 48 : null,\n            filterSettings: { type: 'Menu' },\n            selectionSettings: { checkboxOnly: true, checkboxMode: 'Default', persistSelection: true, type: 'Multiple' }\n        };\n        var columns = [\n            { type: 'checkbox', allowEditing: false, allowSorting: false, allowFiltering: false, width: 60 }\n        ];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i] === resourceSettings.id) {\n                column = {\n                    field: resourceSettings.id,\n                    headerText: this.localeObj.getConstant('id'), isPrimaryKey: true, width: '100px',\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.name) {\n                column = {\n                    field: resourceSettings.name, headerText: this.localeObj.getConstant('name'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.unit) {\n                column = {\n                    field: resourceSettings.unit,\n                    headerText: this.localeObj.getConstant('unit'),\n                    editType: 'numericedit',\n                    edit: { params: { min: 0 } }\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.group && !isNullOrUndefined(resourceSettings.group)) {\n                column = {\n                    field: resourceSettings.group,\n                    headerText: this.localeObj.getConstant('group'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '196px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getNotesModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['Bold', 'Italic', 'Underline', 'StrikeThrough',\n                'FontName', 'FontSize', 'FontColor', 'BackgroundColor',\n                'LowerCase', 'UpperCase', '|',\n                'Alignments', 'OrderedList', 'UnorderedList',\n                'Outdent', 'Indent', '|', 'CreateTable',\n                'CreateLink', '|', 'ClearFormat', 'Print',\n                '|', 'Undo', 'Redo'];\n        }\n        var inputModel = {\n            placeholder: this.localeObj.getConstant('writeNotes'),\n            toolbarSettings: {\n                items: fields\n            },\n            height: (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : 'auto',\n            locale: this.parent.locale\n        };\n        return inputModel;\n    };\n    DialogEdit.prototype.createDivElement = function (className, id) {\n        return createElement('div', { className: className, id: id });\n    };\n    DialogEdit.prototype.createFormElement = function (className, id) {\n        return createElement('form', { className: className, id: id });\n    };\n    DialogEdit.prototype.createInputElement = function (className, id, fieldName, type) {\n        return createElement(type || 'input', {\n            className: className, attrs: {\n                type: 'text', id: id, name: fieldName,\n                title: fieldName\n            }\n        });\n    };\n    DialogEdit.prototype.renderTabItems = function () {\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var isCustomTab = false;\n        var items = tabModel.items;\n        var index = 0;\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            if (item.content instanceof HTMLElement) {\n                continue;\n            }\n            else if (item.content === 'General') {\n                item.content = this.renderGeneralTab(item.content);\n            }\n            else if (item.content === 'Dependency') {\n                if (this.editedRecord.hasChildRecords && !this.parent.allowParentDependency) {\n                    item.disabled = true;\n                }\n                item.content = this.renderPredecessorTab(item.content);\n            }\n            else if (item.content === 'Resources') {\n                item.content = this.renderResourceTab(item.content);\n            }\n            else if (item.content === ('Custom' + '' + index)) {\n                isCustomTab = true;\n                item.content = this.renderCustomTab(item.content, isCustomTab);\n                index++;\n            }\n            else if (item.content === 'Notes') {\n                item.content = this.renderNotesTab(item.content);\n            }\n            else if (item.content === 'Segments') {\n                if (this.editedRecord.hasChildRecords) {\n                    item.disabled = true;\n                }\n                item.content = this.renderSegmentsTab(item.content);\n            }\n        }\n    };\n    DialogEdit.prototype.segmentGridActionBegin = function (args) {\n        var _a, _b;\n        var taskFields = this.parent.taskFields;\n        var itemName = 'Segments';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit' || args.requestType === 'save') {\n            var gridData = gridModel.dataSource;\n            var selectedItem = getValue('rowData', args);\n            var startDate = this.beforeOpenArgs.rowData.ganttProperties.startDate;\n            if (!isNullOrUndefined(startDate)) {\n                if (args.requestType === 'add') {\n                    var arg = {};\n                    var sDate = getValue(this.parent.taskFields.startDate, selectedItem);\n                    var eDate = this.parent.taskFields.endDate ? getValue(this.parent.taskFields.endDate, selectedItem) : null;\n                    var duration = void 0;\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        duration = getValue(this.parent.taskFields.duration, selectedItem);\n                    }\n                    var startDate_1 = !isNullOrUndefined(gridData) && gridData.length > 0 ?\n                        (!isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData[0][taskFields.endDate])) ?\n                            new Date(getValue(taskFields.endDate, gridData[0]).getTime()) :\n                            new Date(getValue(taskFields.startDate, gridData[0]).getTime()) :\n                        !isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate) &&\n                            new Date(this.beforeOpenArgs.rowData.ganttProperties.startDate.getTime());\n                    startDate_1.setHours(0, 0, 0, 0);\n                    if (!isNullOrUndefined(gridData) && gridData.length > 0) {\n                        startDate_1.setDate(startDate_1.getDate() + 2);\n                    }\n                    sDate = this.parent.dataOperation.checkStartDate(startDate_1);\n                    eDate = this.parent.dateValidationModule.getDateFromFormat(sDate);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](eDate);\n                    if (eDate.getHours() === 0 && dayEndTime !== 86400) {\n                        this.parent.dateValidationModule.setTime(dayEndTime, eDate);\n                    }\n                    eDate = !isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData) && gridData.length <= 0 ?\n                        this.beforeOpenArgs.rowData.ganttProperties.endDate : eDate;\n                    var rowData = this.beforeOpenArgs.rowData.ganttProperties;\n                    if (sDate.getTime() === eDate.getTime()) {\n                        duration = 1;\n                    }\n                    else {\n                        duration = this.parent.dataOperation.getDuration(sDate, eDate, rowData.durationUnit, true, false, true);\n                    }\n                    if (!isNullOrUndefined(taskFields['duration'])) {\n                        arg = (_a = {},\n                            _a[taskFields['startDate']] = sDate,\n                            _a[taskFields['endDate']] = eDate,\n                            _a[taskFields['duration']] = duration,\n                            _a);\n                    }\n                    else {\n                        arg = (_b = {},\n                            _b[taskFields['startDate']] = sDate,\n                            _b[taskFields['endDate']] = eDate,\n                            _b);\n                    }\n                    args.rowData = arg;\n                }\n            }\n            if (args.requestType === 'save') {\n                var dataSource = gridModel.dataSource;\n                var taskIdField_1 = this.parent.taskFields.id;\n                var newId_1 = dataSource.length;\n                while (dataSource.some(function (item) { return item[taskIdField_1] === newId_1; })) {\n                    newId_1++;\n                }\n                if (isNullOrUndefined(args.data[taskIdField_1])) {\n                    args.data[taskIdField_1] = newId_1;\n                    args.rowData[taskIdField_1] = newId_1;\n                }\n            }\n            this.selectedSegment = args.rowData;\n            // if (args.requestType === 'save') {\n            //     // let duration: string = 'duration';\n            //     // let tempDuration: Object = this.parent.dataOperation.getDurationValue(args.data[duration]);\n            //     // args.data[duration] = getValue('duration', tempDuration);\n            //     this.selectedSegment = !isNullOrUndefined(this.editedRecord.ganttProperties.segments[args.rowIndex]) ?\n            //         this.editedRecord.ganttProperties.segments[args.rowIndex] : !isNullOrUndefined(gridData[args.rowIndex]) ?\n            //             gridData[args.rowIndex] : gridData;\n            // }\n        }\n    };\n    DialogEdit.prototype.getDialogTabIndex = function (tabName) {\n        var indexValue;\n        if (!this.isEdit) {\n            this.parent.addDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        else {\n            this.parent.editDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        return indexValue;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.setInjected = function (dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection) {\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            Grid.Inject(Filter);\n                            break;\n                        case 'allowSorting':\n                            Grid.Inject(Sort);\n                            break;\n                        case 'allowPaging':\n                            Grid.Inject(Page);\n                            break;\n                        case 'allowGrouping':\n                            Grid.Inject(Group);\n                            break;\n                        case 'editSettings':\n                            Grid.Inject(Edit);\n                            break;\n                        case 'aggregates':\n                            Grid.Inject(Aggregate);\n                            break;\n                        case 'showColumnChooser':\n                            Grid.Inject(ColumnChooser);\n                            break;\n                        case 'showColumnMenu':\n                            Grid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            Grid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            Grid.Inject(Resize);\n                            break;\n                        case 'allowReordering':\n                            Grid.Inject(Reorder);\n                            break;\n                        case 'detailTemplate':\n                            Grid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            Grid.Inject(RowDD);\n                            break;\n                        case 'searchSettings':\n                            Grid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            Grid.Inject(Selection);\n                            break;\n                        case 'enableVirtualization':\n                            Grid.Inject(VirtualScroll);\n                            break;\n                        case 'toolbar':\n                            toolbar = allProperty['toolbar'];\n                            toolbar.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        Grid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        Grid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        Grid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        Grid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            toolbarCollection = gridModel.toolbar;\n                            Grid.Inject(GridToolbar);\n                            break;\n                        case 'columns':\n                            columnCollection = gridModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.renderSegmentsTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        if (this.isEdit) {\n            preData = isNullOrUndefined(ganttData.taskData[this.parent.taskFields['segments']]) ? [] : ganttData.taskData[this.parent.taskFields['segments']];\n        }\n        /* eslint-disable-next-line */\n        preData.map(function (item, index) {\n            if (isNullOrUndefined(item[_this.parent.taskFields['id']])) {\n                item[_this.parent.taskFields['id']] = index;\n            }\n        });\n        gridModel.dataSource = preData;\n        gridModel.actionBegin = this.segmentGridActionBegin.bind(this);\n        var tabIndex = this.getDialogTabIndex('Segments');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        var toolbarCollection = [];\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n        }\n        this.setInjected(dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection);\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = toolbarCollection.concat(gridModel.toolbar);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderGeneralTab = function (itemName, isCustomTab) {\n        var ganttObj = this.parent;\n        /* eslint-disable-next-line */\n        var addFields = [];\n        var divElement;\n        var itemModel = this.beforeOpenArgs[itemName];\n        if (isCustomTab) {\n            divElement = this.createDivElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        else {\n            divElement = this.createFormElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        var table;\n        var tbody;\n        if (this.parent.enableAdaptiveUI) {\n            divElement.style.height = '100%';\n            table = createElement('table', { className: 'e-table' });\n            table.style.width = '100%';\n            tbody = createElement('tbody');\n        }\n        var getId = divElement.id;\n        for (var _i = 0, _a = Object.keys(itemModel); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.parent.columnByField[key].visible === false) {\n                continue;\n            }\n            var column = this.parent.columnByField[key];\n            var inputModel = itemModel[key];\n            if (this.parent.enableAdaptiveUI) {\n                tbody.appendChild(this.renderInputElements(inputModel, column));\n            }\n            else {\n                divElement.appendChild(this.renderInputElements(inputModel, column));\n            }\n            addFields.push(key);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            table.appendChild(tbody);\n            divElement.appendChild(table);\n        }\n        if (getId !== divElement.id) {\n            divElement.id = getId;\n        }\n        var tabIndex = this.getDialogTabIndex('General');\n        var fields = [];\n        if (!this.isEdit && !isNullOrUndefined(this.parent.addDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.addDialogFields[tabIndex].fields)) {\n            fields = this.parent.addDialogFields[tabIndex].fields;\n        }\n        else if (this.isEdit && !isNullOrUndefined(this.parent.editDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.editDialogFields[tabIndex].fields)) {\n            fields = this.parent.editDialogFields[tabIndex].fields;\n        }\n        if (!isNullOrUndefined(fields)) {\n            var templateFields = fields.filter(function (item) { return !addFields.includes(item); });\n            if (!isNullOrUndefined(templateFields)) {\n                var template = templateFields;\n                for (var i = 0; i <= template.length - 1; i++) {\n                    var scriptElement = document.getElementById(template[i]);\n                    if (!isNullOrUndefined(scriptElement)) {\n                        var templateContent = scriptElement.innerHTML;\n                        var div = createElement('div');\n                        div.innerHTML = templateContent;\n                        divElement.appendChild(div.children[0]);\n                    }\n                }\n            }\n        }\n        return divElement;\n    };\n    DialogEdit.prototype.isCheckIsDisabled = function (column) {\n        var disabled = false;\n        var stringOrNumber;\n        if (column.allowEditing === false || column.isPrimaryKey || this.parent.readOnly) {\n            if (this.parent.customColumns.indexOf(column.field) !== -1) {\n                disabled = true;\n            }\n            else {\n                if (column.field === this.parent.taskFields.baselineStartDate || column.field === this.parent.taskFields.baselineEndDate ||\n                    column.field === this.parent.taskFields.work || column.field === this.parent.taskFields.type ||\n                    column.field === this.parent.taskFields.id || column.field === this.parent.taskFields.name ||\n                    column.field === this.parent.taskFields.duration || column.field === this.parent.taskFields.progress ||\n                    column.field === this.parent.taskFields.startDate || column.field === this.parent.taskFields.endDate) {\n                    for (var i = 0; i < this.parent.currentViewData['length']; i++) {\n                        if (!isNullOrUndefined(this.parent.currentViewData[i].ganttProperties.taskId)) {\n                            stringOrNumber = this.parent.currentViewData[i].ganttProperties.taskId;\n                            break;\n                        }\n                    }\n                    if (typeof (stringOrNumber) === 'string') {\n                        disabled = false;\n                    }\n                    else {\n                        disabled = true;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (column.field === this.parent.taskFields.id) {\n                disabled = true;\n            }\n            if (this.editedRecord.hasChildRecords) {\n                if ((column.field === this.parent.taskFields.endDate &&\n                    ((!isNullOrUndefined(this.editedRecord[this.parent.taskFields.manual]) &&\n                        this.editedRecord[this.parent.taskFields.manual] === false) ||\n                        this.parent.taskMode === 'Auto')) || column.field === this.parent.taskFields.duration ||\n                    column.field === this.parent.taskFields.progress || column.field === this.parent.taskFields.work ||\n                    column.field === this.parent.taskFields.type) {\n                    disabled = true;\n                }\n            }\n        }\n        return disabled;\n    };\n    DialogEdit.prototype.isParentValid = function (data) {\n        if (data.length > 0) {\n            for (var i = 0; i < data.length; i++) {\n                if (data[i].uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                    break;\n                }\n                if (data[i].hasChildRecords) {\n                    this.isParentValid(data[i].childRecords);\n                }\n                if (!this.isValidData) {\n                    break;\n                }\n            }\n        }\n        return this.isValidData;\n    };\n    DialogEdit.prototype.renderPredecessorTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        var dependencyColumn = this.parent.columnByField[this.parent.taskFields.dependency];\n        if (dependencyColumn.allowEditing === false || dependencyColumn.isPrimaryKey || this.parent.readOnly) {\n            gridModel.editSettings.allowEditing = false;\n            gridModel.editSettings.allowAdding = false;\n            gridModel.editSettings.allowDeleting = false;\n        }\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        this.taskNameCollection();\n        if (this.isEdit) {\n            preData = this.predecessorEditCollection(ganttData);\n            this.updatePredecessorDropDownData(ganttData);\n        }\n        var predecessorLength;\n        if (ganttData[this.parent.taskFields.dependency]) {\n            predecessorLength = ganttData[this.parent.taskFields.dependency].split(',').length;\n        }\n        if (this.preTableCollection.length === 0 || this.preTableCollection.length === predecessorLength) {\n            gridModel.editSettings.allowAdding = false;\n        }\n        gridModel.actionComplete = this.gridActionComplete.bind(this);\n        gridModel.dataSource = preData;\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        gridModel.actionBegin = this.gridActionBegin.bind(this);\n        var columns = gridModel.columns;\n        columns[1].edit = {\n            write: function (args) {\n                if (getValue('requestType', args) === 'add') {\n                    setValue('rowData.uniqueId', getUid(), args);\n                }\n                var field = 'name';\n                var autoObj = new ComboBox({\n                    dataSource: new DataManager(_this.idCollection),\n                    popupHeight: '180px',\n                    allowCustom: false,\n                    enableRtl: _this.parent.enableRtl,\n                    fields: { value: 'text' },\n                    value: args.rowData[field],\n                    change: function (arg) {\n                        var tr = closest(arg.element, 'tr');\n                        var idInput = tr.querySelector('#' + _this.parent.element.id + 'DependencyTabContainerid');\n                        if (idInput) {\n                            if (!isNullOrUndefined(arg.itemData) && !isNullOrUndefined(arg.item)) {\n                                idInput.value = arg.itemData.id;\n                            }\n                            else {\n                                idInput.value = '';\n                            }\n                        }\n                    },\n                    autofill: true\n                });\n                autoObj.appendTo(args.element);\n            },\n            read: function (args) {\n                var ej2Instance = args.ej2_instances[0];\n                return ej2Instance.value;\n            }\n        };\n        var tabIndex = this.getDialogTabIndex('Dependency');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var toolbarCollection = [];\n        var allProperty;\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n        }\n        this.setInjected(dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection);\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = gridModel.toolbar.concat(toolbarCollection);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('e-dependent-div', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.updateColumns = function (existingColumns, newColumns) {\n        var columnMap = {};\n        existingColumns.forEach(function (column) {\n            if (typeof column === 'object') {\n                columnMap[column.field] = column;\n            }\n        });\n        newColumns.forEach(function (newColumn) {\n            if (typeof newColumn === 'object') {\n                var field = newColumn.field;\n                if (columnMap[field]) {\n                    Object.assign(columnMap[field], newColumn);\n                }\n                else {\n                    existingColumns.push(newColumn);\n                }\n            }\n        });\n        return existingColumns;\n    };\n    DialogEdit.prototype.gridActionBegin = function (args) {\n        var _this = this;\n        var itemName = 'Dependency';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit') {\n            var isEdit_1 = args.requestType === 'add' ? false : true;\n            this.idCollection = extend([], [], this.preTableCollection, true);\n            var gridData_1 = gridModel.dataSource;\n            var _loop_2 = function (i) {\n                // eslint-disable-next-line\n                this_2.idCollection.forEach(function (data, index) {\n                    if (data.id === getValue('id', gridData_1[i])) {\n                        var selectedItem = getValue('rowData', args);\n                        if (isEdit_1 && getValue('id', selectedItem) === data.id) {\n                            return;\n                        }\n                        _this.idCollection.splice(_this.idCollection.indexOf(data), 1);\n                    }\n                });\n            };\n            var this_2 = this;\n            for (var i = 0; i <= gridData_1.length; i++) {\n                _loop_2(i);\n            }\n        }\n    };\n    DialogEdit.prototype.gridActionComplete = function (args) {\n        if (args.requestType === 'save') {\n            var dialogElement = this.parent.editModule.dialogModule.dialog.querySelector('#' + this.parent.element.id + 'DependencyTabContainer');\n            if (!isNullOrUndefined(dialogElement)) {\n                if (!isNullOrUndefined(args['rows']) && args['rows'].length === this.preTableCollection.length) {\n                    /* eslint-disable-next-line */\n                    var gridObj = dialogElement['ej2_instances'][0];\n                    if (gridObj) {\n                        gridObj.editSettings.allowAdding = false;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.updateResourceCollection = function (args, resourceTreeGridId) {\n        if (!isNullOrUndefined(args.data) && Object.keys(args.data).length) {\n            var treeGridId = document.querySelector('#' + resourceTreeGridId);\n            var resourceTreeGrid = treeGridId.ej2_instances[0];\n            if (!isNullOrUndefined(resourceTreeGrid) && resourceTreeGrid.getSelectedRecords().length > 0) {\n                var tempRecords = resourceTreeGrid.getSelectedRecords();\n                var index = void 0;\n                var selectedItems = [];\n                for (index = 0; index < tempRecords.length; index++) {\n                    var record = tempRecords[index];\n                    if (!isNullOrUndefined(record.taskData) &&\n                        !isNullOrUndefined(record.taskData[this.parent.resourceFields.unit]) &&\n                        !isNullOrUndefined(args.data[this.parent.resourceFields.unit]) &&\n                        (record.taskData[this.parent.resourceFields.id] === args.data[this.parent.resourceFields.id])) {\n                        record.taskData[this.parent.resourceFields.unit] = args.data[this.parent.resourceFields.unit];\n                    }\n                    selectedItems.push(tempRecords[index].taskData);\n                }\n                this.ganttResources = extend([], selectedItems);\n            }\n            else {\n                this.ganttResources = [];\n            }\n        }\n        else {\n            this.ganttResources = [];\n        }\n    };\n    DialogEdit.prototype.renderResourceTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        var ganttData = this.beforeOpenArgs.rowData;\n        if (((this.beforeOpenArgs.requestType === 'beforeOpenEditDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo])) || (this.beforeOpenArgs.requestType === 'beforeOpenAddDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo]))) &&\n            (typeof (this.editedRecord[this.parent.taskFields.resourceInfo]) === 'object')) {\n            this.parent.setRecordValue('resourceInfo', this.parent.dataOperation.setResourceInfo(this.editedRecord), ganttData.ganttProperties, true);\n        }\n        var rowResource = ganttData.ganttProperties.resourceInfo;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var resourceTreeGridId = ganttObj.element.id + '' + itemName + 'TabContainer';\n        var resourceData = [];\n        resourceData = extend([], [], ganttObj.resources, true);\n        this.parent.dataOperation.updateResourceUnit(resourceData);\n        if (!isNullOrUndefined(rowResource)) {\n            var count = void 0;\n            var rowResourceLength = rowResource.length;\n            var index = void 0;\n            var resourceDataLength = resourceData.length;\n            for (count = 0; count < rowResourceLength; count++) {\n                for (index = 0; index < resourceDataLength; index++) {\n                    if (rowResource[count][resourceSettings.id] === resourceData[index][resourceSettings.id]) {\n                        resourceData[index][resourceSettings.unit] = rowResource[count][resourceSettings.unit];\n                    }\n                }\n            }\n        }\n        inputModel.dataSource = resourceData;\n        var resourceInfo = ganttData.ganttProperties.resourceInfo;\n        if (this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        else if (!this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        /* eslint-disable-next-line */\n        inputModel.actionBegin = function (args) {\n            if (args.rowData && args.columnName === _this.parent.resourceFields.unit && _this.editedRecord.ganttProperties.resourceInfo) {\n                for (var i = 0; i < _this.editedRecord.ganttProperties.resourceInfo.length; i++) {\n                    if (_this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.id] ===\n                        args.rowData[_this.parent.resourceFields.id]) {\n                        _this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.unit] = args.value;\n                    }\n                }\n            }\n        };\n        inputModel.rowSelected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        inputModel.rowDeselected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        var divElement = this.createDivElement('e-resource-div', resourceTreeGridId);\n        var tabIndex = this.getDialogTabIndex('Resources');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbars;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            TreeGrid.Inject(TreeGridFilter);\n                            break;\n                        case 'allowSorting':\n                            TreeGrid.Inject(TreeGridSort);\n                            break;\n                        case 'allowPaging':\n                            TreeGrid.Inject(TreeGridPage);\n                            break;\n                        case 'editSettings':\n                            TreeGrid.Inject(TreeGridEdit);\n                            break;\n                        case 'aggregates':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnChooser':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnMenu':\n                            TreeGrid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            TreeGrid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            TreeGrid.Inject(TreeGridResize);\n                            break;\n                        case 'allowReordering':\n                            TreeGrid.Inject(TreeGridReorder);\n                            break;\n                        case 'detailTemplate':\n                            TreeGrid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            TreeGrid.Inject(TreeGridRowDD);\n                            break;\n                        case 'searchSettings':\n                            TreeGrid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            TreeGrid.Inject(TreeGridSelection);\n                            break;\n                        case 'toolbar':\n                            toolbars = allProperty['toolbar'];\n                            toolbars.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        TreeGrid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        TreeGrid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        TreeGrid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        TreeGrid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            if (!isNullOrUndefined(toolbars)) {\n                                inputModel.toolbar = [];\n                                inputModel.toolbar = inputModel.toolbar.concat(toolbars);\n                            }\n                            TreeGrid.Inject(TreeGridToolbar);\n                            break;\n                        case 'enableVirtualization':\n                            TreeGrid.Inject(VirtualScroll);\n                            break;\n                        case 'columns':\n                            columnCollection = inputModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        TreeGrid.Inject(TreeGridSelection, TreeGridFilter, TreeGridEdit, VirtualScroll, TreeGridToolbar);\n        inputModel = __assign({}, inputModel, allProperty);\n        var columnCollections = this.updateColumns(columnCollection, inputModel.columns);\n        inputModel.columns = columnCollections;\n        var isColumnMenu = false;\n        if (inputModel.showColumnMenu) {\n            isColumnMenu = inputModel.showColumnMenu;\n            inputModel.showColumnMenu = false;\n        }\n        var treeGridObj = new TreeGrid(inputModel);\n        var resourceColumn = this.parent.columnByField[this.parent.taskFields.resourceInfo];\n        if (resourceColumn.allowEditing === false || resourceColumn.isPrimaryKey || this.parent.readOnly) {\n            treeGridObj.allowSelection = false;\n            treeGridObj.allowFiltering = false;\n            treeGridObj.editSettings.allowEditing = false;\n        }\n        treeGridObj.dataBound = function () {\n            if (isColumnMenu) {\n                treeGridObj.showColumnMenu = true;\n            }\n            if (_this.parent.editDialogFields.length >= 1 && _this.parent.editDialogFields[0].type === 'Resources') {\n                var id = _this.parent.element.id + 'ResourcesTabContainer';\n                _this.resourceSelection(id);\n            }\n        };\n        treeGridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.resourceSelection = function (id) {\n        var _this = this;\n        var resourceTreeGrid = document.querySelector('#' + id).ej2_instances[0];\n        this.parent['triggeredColumnName'] = '';\n        var currentViewData = resourceTreeGrid.getCurrentViewRecords();\n        var resources = this.ganttResources;\n        if (resources && resources.length > 0) {\n            currentViewData.forEach(function (data, index) {\n                for (var i = 0; i < resources.length; i++) {\n                    if (data.taskData[_this.parent.resourceFields.id] === resources[i][_this.parent.resourceFields.id] &&\n                        !isNullOrUndefined(resourceTreeGrid.selectionModule) &&\n                        resourceTreeGrid.getSelectedRowIndexes().indexOf(index) === -1) {\n                        resourceTreeGrid.selectRow(index);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.renderCustomTab = function (itemName, isCustomTab) {\n        return this.renderGeneralTab(itemName, isCustomTab);\n    };\n    DialogEdit.prototype.renderNotesTab = function (itemName) {\n        var ganttObj = this.parent;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        var ganttProp = this.editedRecord.ganttProperties;\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        var tabIndex = this.getDialogTabIndex('Notes');\n        var dialogField;\n        var toolbarCollection = [];\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'toolbarSettings':\n                            for (var j = 0; j < allProperty['toolbarSettings'].items.length; j++) {\n                                /* eslint-disable-next-line */\n                                var key = allProperty['toolbarSettings'].items[j];\n                                if (key) {\n                                    switch (key) {\n                                        case 'Image':\n                                            RichTextEditor.Inject(Image);\n                                            break;\n                                        case 'CreateTable':\n                                            RichTextEditor.Inject(Table);\n                                            break;\n                                        case 'EmojiPicker':\n                                            RichTextEditor.Inject(EmojiPicker);\n                                            break;\n                                        case 'FileManager':\n                                            RichTextEditor.Inject(FileManager);\n                                            break;\n                                        case 'FormatPainter':\n                                            RichTextEditor.Inject(FormatPainter);\n                                            break;\n                                        default:\n                                            break;\n                                    }\n                                }\n                            }\n                            if (!isNullOrUndefined(allProperty['toolbarSettings'].items)) {\n                                toolbarCollection = inputModel.toolbarSettings.items;\n                            }\n                            RichTextEditor.Inject(RTEToolbar);\n                            break;\n                        case 'editorMode':\n                            RichTextEditor.Inject(MarkdownEditor);\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        RichTextEditor.Inject(RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Table);\n        inputModel.value = ganttProp.notes;\n        var notesColumn = this.parent.columnByField[this.parent.taskFields.notes];\n        if (notesColumn.allowEditing === false || notesColumn.isPrimaryKey || this.parent.readOnly) {\n            inputModel.enabled = false;\n        }\n        inputModel = __assign({}, inputModel, allProperty);\n        inputModel.toolbarSettings.items = toolbarCollection.concat(inputModel.toolbarSettings.items);\n        var rteObj = new RichTextEditor(inputModel);\n        rteObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderInputElements = function (inputModel, column) {\n        var _this = this;\n        var ganttId = this.parent.element.id;\n        var ganttData = this.editedRecord;\n        var divElement = this.createDivElement('e-edit-form-column');\n        var inputElement;\n        var tr;\n        var td;\n        if (this.parent.enableAdaptiveUI) {\n            tr = createElement('tr');\n            td = createElement('td');\n            divElement.style.width = '100%';\n        }\n        var editArgs = { column: column, data: ganttData };\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var create = column.edit.create;\n            if (typeof create === 'string') {\n                create = getObject(create, window);\n                inputElement = create(editArgs);\n            }\n            else {\n                inputElement = column.edit.create(editArgs);\n            }\n            inputElement.className = '';\n            inputElement.setAttribute('type', 'text');\n            inputElement.setAttribute('id', ganttId + '' + column.field);\n            inputElement.setAttribute('name', column.field);\n            inputElement.setAttribute('title', column.field);\n            divElement.appendChild(inputElement);\n        }\n        else {\n            inputElement = this.createInputElement('', ganttId + '' + column.field, column.field);\n            divElement.appendChild(inputElement);\n        }\n        inputModel.enabled = !isNullOrUndefined(inputModel.enabled) ? inputModel.enabled : !this.isCheckIsDisabled(column);\n        if (column.field === this.parent.taskFields.duration) {\n            if (!isNullOrUndefined(column.valueAccessor)) {\n                if (typeof column.valueAccessor === 'string') {\n                    var valueAccessor = getObject(column.valueAccessor, window);\n                    inputModel.value = valueAccessor(column.field, ganttData, column);\n                }\n                else {\n                    inputModel.value = column.valueAccessor(column.field, ganttData, column);\n                }\n            }\n            else if (isNullOrUndefined(column.edit)) {\n                var ganttProp = ganttData.ganttProperties;\n                inputModel.value = this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n            }\n        }\n        else {\n            if (column.editType === 'booleanedit') {\n                if (ganttData[column.field] === true) {\n                    inputModel.checked = true;\n                }\n                else {\n                    inputModel.checked = false;\n                }\n            }\n            else {\n                if (!this.parent.taskFields[column.field] && column.editType === 'numericedit' && (ganttData[column.field] === '' || ganttData[column.field] === 0)) {\n                    inputModel.value = 0;\n                }\n                else {\n                    inputModel.value = ganttData[column.field];\n                }\n            }\n        }\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var write = column.edit.write;\n            var inputObj = void 0;\n            if (typeof write === 'string') {\n                write = getObject(write, window);\n                inputObj = write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            else {\n                inputObj = column.edit.write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            if (column.field === this.parent.taskFields.duration) {\n                inputObj.change = function (args) {\n                    _this.validateScheduleFields(args, column, _this.parent);\n                };\n            }\n        }\n        else {\n            var inputObj = new this.inputs[column.editType](inputModel);\n            inputObj.appendTo(inputElement);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            td.appendChild(divElement);\n            tr.appendChild(td);\n            return tr;\n        }\n        else {\n            return divElement;\n        }\n    };\n    DialogEdit.prototype.taskNameCollection = function () {\n        var flatData = this.parent.flatData;\n        this.preTaskIds = [];\n        this.preTableCollection = [];\n        for (var i = 0; i < flatData.length; i++) {\n            var data = flatData[i];\n            if (this.parent.allowParentDependency) {\n                var currentFlatData = data;\n                if (data.parentUniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                }\n                else {\n                    do {\n                        if (currentFlatData.parentItem) {\n                            currentFlatData = this.parent.flatData[this.parent.ids.indexOf(currentFlatData.parentItem.taskId)];\n                            if (currentFlatData.uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                                this.isValidData = false;\n                                break;\n                            }\n                        }\n                    } while (currentFlatData.parentItem);\n                }\n                if (data.hasChildRecords && this.isValidData) {\n                    this.isValidData = this.isParentValid(data.childRecords);\n                }\n                if (!this.isValidData) {\n                    this.isValidData = true;\n                    continue;\n                }\n            }\n            else {\n                if (data.hasChildRecords) {\n                    continue;\n                }\n            }\n            var taskId = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId.toString()\n                : data.ganttProperties.rowUniqueID.toString();\n            var tempObject = {\n                id: taskId,\n                text: (taskId + '-' + data.ganttProperties.taskName),\n                value: taskId\n            };\n            this.preTaskIds.push(tempObject.id);\n            this.preTableCollection.push(tempObject);\n        }\n    };\n    DialogEdit.prototype.predecessorEditCollection = function (ganttData) {\n        var preDataCollection = [];\n        var ganttProp = ganttData.ganttProperties;\n        if (this.isEdit && !isNullOrUndefined(this.parent.taskFields.dependency) && !isNullOrUndefined(ganttData) &&\n            !isNullOrUndefined(ganttProp.predecessor)) {\n            var predecessor = ganttProp.predecessor;\n            var idCollection = this.preTableCollection;\n            for (var i = 0; i < predecessor.length; i++) {\n                var from = predecessor[i].from.toString();\n                var preData = {};\n                var taskID = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n                if (taskID.toString() !== from) {\n                    preData.id = from;\n                    for (var index = 0; index < idCollection.length; index++) {\n                        if (idCollection[index].value === from) {\n                            preData.name = idCollection[index].text;\n                            break;\n                        }\n                    }\n                    preData.type = predecessor[i].type;\n                    var offset = predecessor[i].offset;\n                    var offsetUnit = predecessor[i].offsetUnit;\n                    preData.offset = this.parent.dataOperation.getDurationString(offset, offsetUnit);\n                    preData.uniqueId = getUid();\n                    preDataCollection.push(preData);\n                }\n            }\n        }\n        return preDataCollection;\n    };\n    DialogEdit.prototype.updatePredecessorDropDownData = function (ganttData) {\n        var index = -1;\n        var id = this.parent.viewType === 'ResourceView' ? ganttData.ganttProperties.taskId.toString()\n            : ganttData.ganttProperties.rowUniqueID.toString();\n        index = this.preTaskIds.indexOf(id);\n        this.preTableCollection.splice(index, 1);\n        this.preTaskIds.splice(index, 1);\n        this.validSuccessorTasks(ganttData, this.preTaskIds, this.preTableCollection);\n    };\n    DialogEdit.prototype.validSuccessorTasks = function (data, ids, idCollection) {\n        var _this = this;\n        var ganttProp = data.ganttProperties;\n        if (ganttProp.predecessor && ganttProp.predecessor.length > 0) {\n            var predecessor = ganttProp.predecessor;\n            var fromId_1 = this.parent.viewType === 'ResourceView' ? ganttProp.taskId.toString() : ganttProp.rowUniqueID.toString();\n            predecessor.forEach(function (item) {\n                if (item.from.toString() === fromId_1) {\n                    var toId = item.to;\n                    var idIndex = -1;\n                    idIndex = ids.indexOf(toId);\n                    if (idIndex > -1) {\n                        ids.splice(idIndex, 1);\n                        idCollection.splice(idIndex, 1);\n                    }\n                    var ganttData = _this.parent.connectorLineModule.getRecordByID(toId);\n                    var isIdInclude = true;\n                    for (var _i = 0, _a = _this.processedId; _i < _a.length; _i++) {\n                        var item_1 = _a[_i];\n                        if (item_1.id === ganttData.ganttProperties.taskId) {\n                            if (Array.isArray(item_1.value) && Array.isArray(ganttData.ganttProperties.predecessor)) {\n                                if (item_1.value.length === ganttData.ganttProperties.predecessor.length) {\n                                    var arraysMatch = true;\n                                    for (var i = 0; i < item_1.value.length; i++) {\n                                        if (item_1.value[i] !== ganttData.ganttProperties.predecessor[i]) {\n                                            arraysMatch = false;\n                                            break;\n                                        }\n                                    }\n                                    if (arraysMatch) {\n                                        isIdInclude = false;\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (isIdInclude) {\n                        _this.processedId.push({ id: ganttData.ganttProperties.taskId, value: ganttData.ganttProperties.predecessor });\n                        _this.validSuccessorTasks(ganttData, ids, idCollection);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.getPredecessorType = function () {\n        var typeText = [this.parent.getPredecessorTextValue('SS'), this.parent.getPredecessorTextValue('SF'),\n            this.parent.getPredecessorTextValue('FS'), this.parent.getPredecessorTextValue('FF')];\n        var types = [\n            { id: 'FS', text: typeText[2], value: typeText[2] },\n            { id: 'FF', text: typeText[3], value: typeText[3] },\n            { id: 'SS', text: typeText[0], value: typeText[0] },\n            { id: 'SF', text: typeText[1], value: typeText[1] }\n        ];\n        return types;\n    };\n    DialogEdit.prototype.initiateDialogSave = function () {\n        if (this.isEdit) {\n            this.parent.initiateEditAction(true);\n        }\n        else {\n            this.addedRecord = {};\n        }\n        if (this.currentResources) {\n            this.currentResources = null;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            if (this.isEdit) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'DialogEdit';\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                if (this.parent.viewType === 'ResourceView') {\n                    var isValid = false;\n                    if (!this.rowData.ganttProperties.resourceInfo) {\n                        if (this.ganttResources.length > 0) {\n                            isValid = true;\n                        }\n                    }\n                    else if (this.ganttResources.length !== this.rowData.ganttProperties.resourceInfo.length) {\n                        isValid = true;\n                    }\n                    else {\n                        for (var i = 0; i < this.rowData.ganttProperties.resourceInfo.length; i++) {\n                            if (this.ganttResources[i][this.parent.resourceFields.id] !==\n                                this.rowData.ganttProperties.resourceInfo[i][this.parent.resourceFields.id]) {\n                                isValid = true;\n                                break;\n                            }\n                        }\n                    }\n                    if (isValid) {\n                        var indexes = {};\n                        indexes['deletedIndexes'] = [];\n                        var id_1 = 'T' + this.rowData.ganttProperties.taskId;\n                        var rowItems_1 = [];\n                        this.parent.taskIds.reduce(function (e, i) {\n                            if (i === id_1) {\n                                if (this.ganttResources.length === 0) {\n                                    rowItems_1.push(this.parent.flatData[this.parent.taskIds.indexOf(i)]);\n                                }\n                                else {\n                                    var parent_1 = this.parent.getTaskByUniqueID(this.parent.flatData[this.parent.taskIds.indexOf(i)].parentUniqueID);\n                                    for (var j = 0; j < this.ganttResources.length; j++) {\n                                        if (parent_1.ganttProperties.taskId !==\n                                            this.ganttResources[j][this.parent.resourceFields.id] &&\n                                            rowItems_1.indexOf(this.parent.flatData[this.parent.taskIds.indexOf(i)]) === -1) {\n                                            rowItems_1.push(this.parent.flatData[this.parent.taskIds.indexOf(i)]);\n                                        }\n                                    }\n                                }\n                            }\n                        }.bind(this), []);\n                        this.parent.undoRedoModule['findPosition'](extend([], [], rowItems_1, true), indexes, 'deletedIndexes');\n                        if (this['indexes']) {\n                            this['indexes']['deletedIndexes'][this['indexes']['deletedIndexes'].length] = indexes['deletedIndexes'][0];\n                        }\n                        else {\n                            this['indexes'] = indexes;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent['updateDuration'] = true;\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.updateGeneralTab(element, false);\n                }\n                else if (id === 'Dependency') {\n                    this.isFromDialogPredecessor = true;\n                    this.updatePredecessorTab(element);\n                    this.isFromDialogPredecessor = false;\n                }\n                else if (id === 'Notes') {\n                    this.updateNotesTab(element);\n                }\n                else if (id === 'Resources') {\n                    this.updateResourceTab(element);\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.updateCustomTab(element);\n                }\n                else if (id === 'Segments') {\n                    this.updateSegmentsData(element);\n                }\n            }\n        }\n        if (!this.disableUndo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n            if (this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n            this.parent['totalUndoAction']--;\n        }\n        if (this.isEdit) {\n            /**\n             * If any update on edited task do it here\n             */\n            this.parent.editModule['editedRecord'] = this.rowData;\n            this.parent.dataOperation.updateWidthLeft(this.rowData);\n            var editArgs = {\n                data: this.rowData,\n                action: 'DialogEditing'\n            };\n            this.parent.editModule.initiateUpdateAction(editArgs);\n        }\n        else {\n            this.parent.editModule['editedRecord'] = this.addedRecord;\n            if (this.parent.viewType === 'ResourceView') {\n                var newRecords = extend({}, this.addedRecord, true);\n                if (newRecords[this.parent.taskFields.resourceInfo].length) {\n                    for (var i = 0; i < newRecords[this.parent.taskFields.resourceInfo].length; i++) {\n                        var id = newRecords[this.parent.taskFields.resourceInfo][i].toString();\n                        var parentRecordIndex = this.parent.getTaskIds().indexOf('R' + id.toString());\n                        if (parentRecordIndex !== -1) {\n                            this.parent.editModule.addRecord(this.addedRecord, 'Child', parentRecordIndex);\n                            break;\n                        }\n                    }\n                }\n                else {\n                    this.parent.editModule.addRecord(this.addedRecord, 'Bottom');\n                }\n            }\n            else {\n                this.parent.editModule.addRecord(this.addedRecord, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n            }\n        }\n        return true;\n    };\n    DialogEdit.prototype.compareObjects = function (prevSegments, currentSegments) {\n        if (!isNullOrUndefined(prevSegments)) {\n            return prevSegments.every(function (obj1, index) {\n                var obj2 = currentSegments[index];\n                var key = Object.keys(obj1);\n                for (var i = 0; i < key.length; i++) {\n                    if (key[i] === 'startDate' || key[i] === 'endDate') {\n                        if (obj1[key[i]].getTime() !== obj2[key[i]].getTime()) {\n                            return true;\n                        }\n                    }\n                    else if (key[i] === 'duration' && obj1[key[i]] !== obj2[key[i]]) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n        }\n        return false;\n    };\n    DialogEdit.prototype.updateSegmentTaskData = function (dataSource) {\n        var taskSettings = this.parent.taskFields;\n        if (!this.isEdit) {\n            this.addedRecord[taskSettings.segments] = dataSource;\n        }\n        else {\n            var prevSegments = this.rowData.ganttProperties.segments;\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, dataSource, this.rowData);\n            var currentSegments = this.parent.dataOperation.setSegmentsInfo(this.rowData, true);\n            if (this.parent.enableUndoRedo && (prevSegments && currentSegments && (prevSegments.length !== currentSegments.length)) ||\n                (!prevSegments && currentSegments) || ((prevSegments && !currentSegments)) ||\n                this.compareObjects(prevSegments, currentSegments)) {\n                this.disableUndo = true;\n            }\n            this.parent.setRecordValue('segments', currentSegments, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(this.rowData, false), this.rowData.ganttProperties, true);\n            if (dataSource.length <= 0) {\n                this.validateDuration(this.rowData);\n            }\n        }\n    };\n    DialogEdit.prototype.updateSegmentsData = function (segmentForm) {\n        var gridObj = segmentForm.ej2_instances[0];\n        var isEdit = gridObj.isEdit;\n        var dataSource;\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        if (isEdit && gridObj.currentViewData.length !== gridObj.dataSource['length']) {\n            dataSource = gridObj.dataSource;\n        }\n        else {\n            dataSource = gridObj.currentViewData;\n        }\n        this.updateSegmentTaskData(dataSource);\n    };\n    DialogEdit.prototype.updateGeneralTab = function (generalForm, isCustom) {\n        var ganttObj = this.parent;\n        var childNodes = generalForm.childNodes;\n        var tasksData = {};\n        if (!this.isEdit) {\n            tasksData = this.addedRecord;\n        }\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]') || div.querySelector('textarea[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit' && fieldName === this.parent.taskFields.id) {\n                    var valueString = controlObj.value.toString();\n                    controlObj.value = valueString;\n                }\n                var column = ganttObj.columnByField[fieldName];\n                if (fieldName === this.parent.taskFields.duration ?\n                    parseInt(this.rowData[fieldName], 10) !== parseInt(controlObj.value, 10) :\n                    this.rowData[fieldName] !== controlObj.value) {\n                    this.disableUndo = true;\n                }\n                if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                    var read = column.edit.read;\n                    if (typeof read === 'string') {\n                        read = getObject(read, window);\n                        tasksData[fieldName] = read(inputElement, controlObj.value);\n                    }\n                    else {\n                        tasksData[fieldName] = column.edit.read(inputElement, controlObj.value);\n                    }\n                }\n                else if (!isNullOrUndefined(column) && column.editType === 'booleanedit') {\n                    if (inputElement instanceof HTMLInputElement && inputElement.checked === true) {\n                        tasksData[fieldName] = true;\n                    }\n                    else {\n                        tasksData[fieldName] = false;\n                    }\n                }\n                else {\n                    if (fieldName === this.parent.taskFields.duration) {\n                        var numericValue = parseFloat(String(controlObj.value));\n                        tasksData[fieldName] = numericValue;\n                    }\n                    else {\n                        if (this.parent.weekWorkingTime.length > 0 && controlObj.value && (fieldName === this.parent.taskFields.startDate ||\n                            fieldName === this.parent.taskFields.baselineStartDate)) {\n                            var sDate = fieldName === this.parent.taskFields.startDate ? this.beforeOpenArgs.rowData['ganttProperties'].startDate : this.beforeOpenArgs.rowData['ganttProperties'].baselineStartDate;\n                            var prevDay = this.parent['getStartTime'](sDate);\n                            if (prevDay / 3600 === sDate.getHours()) {\n                                var dayStartTime = this.parent['getStartTime'](controlObj.value);\n                                this.parent.dataOperation.setTime(dayStartTime, controlObj.value);\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                            else {\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                        }\n                        else {\n                            tasksData[fieldName] = controlObj.value;\n                        }\n                    }\n                    if (this.parent.enableHtmlSanitizer && typeof (controlObj.value) === 'string') {\n                        controlObj.value = SanitizeHtmlHelper.sanitize(controlObj.value);\n                        tasksData[fieldName] = controlObj.value;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (!isCustom) {\n                this.updateScheduleProperties(this.editedRecord, this.rowData);\n            }\n            ganttObj.editModule.validateUpdateValues(tasksData, this.rowData, true);\n        }\n    };\n    DialogEdit.prototype.updateScheduleProperties = function (fromRecord, toRecord) {\n        this.parent.setRecordValue('startDate', fromRecord.ganttProperties.startDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('endDate', fromRecord.ganttProperties.endDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('duration', fromRecord.ganttProperties.duration, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('work', fromRecord.ganttProperties.work, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('type', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskType', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceNames', fromRecord.ganttProperties.resourceNames, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceInfo', fromRecord.ganttProperties.resourceInfo, toRecord.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.startDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.endDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.duration);\n            this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, this.rowData, true);\n            if (this.rowData.ganttProperties.duration === 0) {\n                this.parent.setRecordValue('isMilestone', true, toRecord.ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('isMilestone', false, this.rowData.ganttProperties, true);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.work)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.work);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.manual)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.manual);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.type)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'type');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.resourceInfo)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'resourceInfo');\n        }\n    };\n    DialogEdit.prototype.getMatchingPrefix = function (preData, idArray) {\n        var parts = preData.name.split('-');\n        var current = '';\n        for (var i = 0; i < parts.length; i++) {\n            current = current === '' ? parts[i] : current + '-' + parts[i];\n            if (idArray.indexOf(current) !== -1) {\n                return [current];\n            }\n        }\n        return [];\n    };\n    DialogEdit.prototype.updatePredecessorTab = function (preElement) {\n        var gridObj = preElement.ej2_instances[0];\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        var dataSource = gridObj.dataSource;\n        var predecessorName = [];\n        var newValues = [];\n        var predecessorString = '';\n        var ids = [];\n        var parentRecord = [];\n        for (var i = 0; i < dataSource.length; i++) {\n            var preData = dataSource[i];\n            var splitString = this.getMatchingPrefix(preData, this.parent.ids);\n            if (isNullOrUndefined(preData.id) || (preData.id !== splitString[0] && !isNullOrUndefined(splitString[0]))) {\n                preData.id = splitString[0];\n            }\n            if (ids.indexOf(preData.id) === -1) {\n                if (this.parent.viewType === 'ProjectView') {\n                    var currentRecord = this.parent.flatData[(this.parent.ids.indexOf(preData.id))];\n                    if (currentRecord.hasChildRecords && parentRecord.indexOf(currentRecord) === -1) {\n                        parentRecord.push(currentRecord);\n                    }\n                }\n                var name_1 = preData.id + preData.type;\n                if (preData.offset && preData.offset.indexOf('-') !== -1) {\n                    name_1 += preData.offset;\n                }\n                else {\n                    name_1 += ('+' + preData.offset);\n                }\n                predecessorName.push(name_1);\n                ids.push(preData.id);\n            }\n        }\n        if (this.isEdit) {\n            if (predecessorName.length > 0) {\n                newValues = this.parent.predecessorModule.calculatePredecessor(predecessorName.join(','), this.rowData);\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = this.parent.predecessorModule.getPredecessorStringValue(this.rowData);\n            }\n            else {\n                newValues = [];\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = '';\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (predecessorString !== '' || (!isNullOrUndefined(this.rowData.ganttProperties.predecessorsName) && this.rowData.ganttProperties.predecessorsName !== predecessorString) && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n            }\n            this.parent.setRecordValue('predecessorsName', predecessorString, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.predecessorModule.updateUnscheduledDependency(this.rowData);\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.dependency] = predecessorName.length > 0 ? predecessorName.join(',') : '';\n        }\n    };\n    DialogEdit.prototype.updateResourceTab = function (resourceElement) {\n        var _this = this;\n        var treeGridObj = resourceElement.ej2_instances[0];\n        if (treeGridObj) {\n            treeGridObj.grid.endEdit();\n        }\n        var selectedItems = this.ganttResources;\n        selectedItems.forEach(function (item) {\n            if (item[_this.parent.resourceFields.unit] === null) {\n                item[_this.parent.resourceFields.unit] = 0;\n            }\n        });\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(this.rowData.ganttProperties)) {\n            if (JSON.stringify(this.ganttResources) !== JSON.stringify(this.rowData.ganttProperties.resourceInfo)) {\n                this.isResourceUpdate = true;\n                this.previousResource = !isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) ? this.rowData.ganttProperties.resourceInfo.slice() : [];\n            }\n            else {\n                this.isResourceUpdate = false;\n            }\n        }\n        var idArray = [];\n        if (this.isEdit) {\n            if ((this.rowData.ganttProperties.resourceInfo && selectedItems.length !== this.rowData.ganttProperties.resourceInfo.length) ||\n                (isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) && selectedItems.length > 0)) {\n                this.disableUndo = true;\n            }\n            if (!this.disableUndo) {\n                for (var i = 0; i < selectedItems.length; i++) {\n                    if (JSON.stringify(selectedItems[i]) !==\n                        JSON.stringify(this.rowData.ganttProperties.resourceInfo[i])) {\n                        this.disableUndo = true;\n                        break;\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceInfo', selectedItems, this.editedRecord.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(this.editedRecord, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(this.editedRecord, 'resource');\n            this.validateDuration(this.editedRecord);\n            this.updateScheduleProperties(this.editedRecord, this.rowData);\n        }\n        else {\n            for (var i = 0; i < selectedItems.length; i++) {\n                idArray.push(selectedItems[i][this.parent.resourceFields.id]);\n                this.isAddNewResource = true;\n            }\n            this.addedRecord[this.parent.taskFields.resourceInfo] = idArray;\n        }\n    };\n    DialogEdit.prototype.updateNotesTab = function (notesElement) {\n        var ganttObj = this.parent;\n        var rte = notesElement.ej2_instances[0];\n        if (this.isEdit) {\n            if (!ganttObj.columnByField[ganttObj.taskFields.notes].disableHtmlEncode) {\n                if (this.rowData.ganttProperties.notes !== rte.getHtml() && (this.rowData.ganttProperties.notes !== null || rte.getHtml() !== '<p><br></p>') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n            }\n            else {\n                if (this.rowData.ganttProperties.notes !== rte.getText() && (this.rowData.ganttProperties.notes !== null || rte.getText() !== '') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                if (rte.getHtml().includes('href')) {\n                    this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('notes', rte.getText(), this.rowData.ganttProperties, true);\n                }\n            }\n            ganttObj.dataOperation.updateMappingData(this.rowData, 'notes');\n        }\n        else {\n            if (!ganttObj.columnByField[ganttObj.taskFields.notes].disableHtmlEncode) {\n                this.addedRecord[this.parent.taskFields.notes] = rte.getHtml();\n            }\n            else {\n                this.addedRecord[this.parent.taskFields.notes] = rte.getText();\n            }\n        }\n    };\n    DialogEdit.prototype.updateCustomTab = function (customElement) {\n        this.updateGeneralTab(customElement, true);\n    };\n    return DialogEdit;\n}());\nexport { DialogEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\nimport { getValue, createElement, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { parentsUntil, formatString, isScheduledTask, getIndex } from '../base/utils';\nimport { Dialog } from '@syncfusion/ej2-popups';\n/**\n * File for handling connector line edit operation in Gantt.\n *\n */\nvar ConnectorLineEdit = /** @class */ (function () {\n    function ConnectorLineEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.validationPredecessor = null;\n        /** @private */\n        this.confirmPredecessorDialog = null;\n        /** @private */\n        this.predecessorIndex = null;\n        /** @private */\n        this.childRecord = null;\n        this.validatedId = [];\n        this.validatedOffsetIds = [];\n        this.isPublicDependencyDelete = false;\n        this.parent = ganttObj;\n        this.dateValidateModule = this.parent.dateValidationModule;\n        this.parent.on('initPredessorDialog', this.initPredecessorValidationDialog, this);\n    }\n    /**\n     * To update connector line edit element.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updateConnectorLineEditElement = function (e) {\n        var element = this.getConnectorLineHoverElement(e.target);\n        if (!getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            this.highlightConnectorLineElements(element);\n        }\n    };\n    /**\n     * To get hovered connector line element.\n     *\n     * @param {EventTarget} target .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getConnectorLineHoverElement = function (target) {\n        var isOnLine = parentsUntil(target, cls.connectorLineSVG);\n        var isArrow = parentsUntil(target, cls.connectorLineArrow);\n        var isCriticalLine = parentsUntil(target, cls.criticalConnectorLineSVG);\n        var isCriticalArrow = parentsUntil(target, cls.criticalConnectorArrowSVG);\n        if (isOnLine || isArrow || isCriticalLine || isCriticalArrow) {\n            return parentsUntil(target, cls.connectorLineContainer);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To highlight connector line while hover.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.highlightConnectorLineElements = function (element) {\n        if (element) {\n            if (element !== this.connectorLineElement) {\n                this.removeHighlight();\n                this.addHighlight(element);\n            }\n        }\n        else {\n            this.removeHighlight();\n        }\n    };\n    /**\n     * To add connector line highlight class.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addHighlight = function (element) {\n        this.connectorLineElement = element;\n        var pathElement = element.querySelector('.' + cls.connectorLineSVG);\n        if (pathElement) {\n            pathElement.setAttribute('stroke-width', (this.parent.connectorLineModule['lineStroke'] + 1).toString());\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removeHighlight = function () {\n        if (this.connectorLineElement) {\n            var pathElement = this.connectorLineElement.querySelector('.' + cls.connectorLineSVG);\n            if (pathElement) {\n                pathElement.setAttribute('stroke-width', (this.parent.connectorLineModule['lineStroke']).toString());\n            }\n            this.connectorLineElement = null;\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @param {IGanttData[]} records .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getEditedConnectorLineString = function (records) {\n        var ganttRecord;\n        var predecessorsCollection;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var connectorObj;\n        var idArray = [];\n        var lineArray = [];\n        var editedConnectorLineString = '';\n        for (var count = 0; count < records.length; count++) {\n            ganttRecord = records[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                for (var predecessorCount = 0; predecessorCount < predecessorsCollection.length; predecessorCount++) {\n                    predecessor = predecessorsCollection[predecessorCount];\n                    var from = 'from';\n                    var to = 'to';\n                    this.parent.connectorLineModule.removeConnectorLineById('parent' + predecessor[from] + 'child' + predecessor[to]);\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[\"\" + from]);\n                    childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[\"\" + to]);\n                    if ((!this.parent.allowParentDependency && (parentGanttRecord && parentGanttRecord.expanded === true) ||\n                        (childGanttRecord && childGanttRecord.expanded === true)) || (this.parent.allowParentDependency &&\n                        (parentGanttRecord || childGanttRecord))) {\n                        connectorObj =\n                            this.parent.predecessorModule.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                        if (!isNullOrUndefined(connectorObj)) {\n                            var lineIndex = idArray.indexOf(connectorObj.connectorLineId);\n                            var lineString = this.parent.connectorLineModule.getConnectorLineTemplate(connectorObj);\n                            if (lineIndex !== -1) {\n                                lineArray[lineIndex] = lineString;\n                            }\n                            else {\n                                idArray.push(connectorObj.connectorLineId);\n                                lineArray.push(lineString);\n                            }\n                        }\n                    }\n                }\n                editedConnectorLineString = lineArray.join('');\n            }\n        }\n        return editedConnectorLineString;\n    };\n    /**\n     * Tp refresh connector lines of edited records\n     *\n     * @param {IGanttData[]} editedRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.refreshEditedRecordConnectorLine = function (editedRecord) {\n        this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.previousRecords);\n        this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        var editedConnectorLineString = this.getEditedConnectorLineString(editedRecord);\n        this.parent.connectorLineModule.svgObject.innerHTML =\n            this.parent.connectorLineModule.svgObject.innerHTML + editedConnectorLineString;\n    };\n    ConnectorLineEdit.prototype.idFromPredecessor = function (pre) {\n        var preArray = pre.split(',');\n        var preIdArray = [];\n        var values = [];\n        var match = [];\n        for (var j = 0; j < preArray.length; j++) {\n            var strArray = [];\n            var firstPart = void 0;\n            var isAlpha = false;\n            var predecessorName = void 0;\n            var isGUId = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = preArray[j].split('-');\n            var id = void 0;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = preArray[j].substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (preArray[j].includes('-')) {\n                if (preArray[j].includes('-') && preArray[j].includes('days')) {\n                    predecessorName = preArray[j].slice(-9).toString();\n                }\n                if (preArray[j].includes('-') && preArray[j].includes('day')) {\n                    predecessorName = preArray[j].slice(-8).toString();\n                }\n                else {\n                    predecessorName = preArray[j].slice(-2).toString();\n                }\n                if (preArray[j].includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = preArray[j].indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = preArray[j].substring(0, indexFS);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = preArray[j];\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = preArray[j];\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = preArray[j].split('+');\n                    if (preArray[j].indexOf('-') >= 0) {\n                        values = preArray[j].split('-');\n                    }\n                }\n            }\n            if (!isNullOrUndefined(values[0])) {\n                var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n                if (ids.indexOf(values[0]) === -1) {\n                    if (values[0].indexOf(' ') !== -1) {\n                        match = values[0].split(' ');\n                        if (match.length === 1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        strArray.push(match[0]);\n                    }\n                    else {\n                        if (values[0].length === 1 || values[0].length === 2) {\n                            strArray.push(values[0]);\n                        }\n                        else {\n                            strArray.push(values[0].slice(0, -2));\n                        }\n                    }\n                }\n                else {\n                    strArray.push(values[0]);\n                }\n            }\n            preIdArray.push((strArray.join('')));\n        }\n        return preIdArray;\n    };\n    ConnectorLineEdit.prototype.predecessorValidation = function (predecessor, record) {\n        var recordId = record.rowUniqueID;\n        var currentId;\n        var currentRecord;\n        for (var count = 0; count < predecessor.length; count++) {\n            currentId = predecessor[count];\n            var visitedIdArray = [];\n            var predecessorCollection = predecessor.slice(0);\n            predecessorCollection.splice(count, 1);\n            var _loop_1 = function () {\n                var currentIdArray = [];\n                if (visitedIdArray.indexOf(currentId) === -1) {\n                    //Predecessor id not in records collection\n                    if (isNullOrUndefined(this_1.parent.connectorLineModule.getRecordByID(currentId))) {\n                        return { value: false };\n                    }\n                    currentRecord = this_1.parent.connectorLineModule.getRecordByID(currentId).ganttProperties;\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentRecord.predecessor.forEach(function (value) {\n                            if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                currentIdArray.push(value.from.toString());\n                            }\n                        });\n                    }\n                    /* eslint-disable-next-line */\n                    if (recordId.toString() === currentRecord.rowUniqueID.toString() || currentIdArray.indexOf(recordId.toString()) !== -1) {\n                        return { value: false };\n                    }\n                    visitedIdArray.push(currentId);\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentId = currentRecord.predecessor[0].from;\n                    }\n                    else {\n                        return \"break\";\n                    }\n                }\n                else {\n                    return \"break\";\n                }\n            };\n            var this_1 = this;\n            while (currentId !== null) {\n                var state_1 = _loop_1();\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n                if (state_1 === \"break\")\n                    break;\n            }\n        }\n        return true;\n    };\n    /**\n     * To validate predecessor relations\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validatePredecessorRelation = function (ganttRecord, predecessorString) {\n        var flag = true;\n        var recordId = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n            : ganttRecord.ganttProperties.rowUniqueID;\n        var predecessorIdArray;\n        var currentId;\n        if (!isNullOrUndefined(predecessorString) && predecessorString.length > 0) {\n            predecessorIdArray = this.idFromPredecessor(predecessorString);\n            var _loop_2 = function (count) {\n                //Check edited item has parent item in predecessor collection\n                if (!this_2.parent.allowParentDependency) {\n                    var checkParent = this_2.checkParentRelation(ganttRecord, predecessorIdArray);\n                    if (!checkParent) {\n                        return { value: false };\n                    }\n                }\n                else {\n                    if (parseInt(predecessorIdArray[predecessorIdArray.length - 1], 10) !== ganttRecord[this_2.parent.taskFields.id]) {\n                        var num = this_2.parent.ids.indexOf(predecessorIdArray[predecessorIdArray.length - 1]);\n                        var fromRecord = this_2.parent.currentViewData[num];\n                        if (fromRecord && ganttRecord) {\n                            flag = this_2.parent.predecessorModule.validateParentPredecessor(fromRecord, ganttRecord);\n                        }\n                    }\n                }\n                // Check if predecessor exist more then one\n                var tempIdArray = predecessorIdArray.slice(0);\n                var checkArray = [];\n                var countFlag = true;\n                tempIdArray.forEach(function (value) {\n                    if (checkArray.indexOf(value) === -1) {\n                        checkArray.push(value);\n                    }\n                    else {\n                        countFlag = false;\n                    }\n                });\n                if (!countFlag) {\n                    return { value: false };\n                }\n                //Cyclick check\n                currentId = predecessorIdArray[count];\n                var visitedIdArray = [];\n                var predecessorCollection = predecessorIdArray.slice(0);\n                predecessorCollection.splice(count, 1);\n                var _loop_3 = function () {\n                    var currentIdArray = [];\n                    var currentIdIndex;\n                    var currentRecord;\n                    if (visitedIdArray.indexOf(currentId) === -1) {\n                        //Predecessor id not in records collection\n                        if (isNullOrUndefined(this_2.parent.connectorLineModule.getRecordByID(currentId.toString()))) {\n                            return { value: false };\n                        }\n                        currentRecord = this_2.parent.connectorLineModule.getRecordByID(currentId.toString()).ganttProperties;\n                        //  let currentPredecessor='';\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            currentRecord.predecessor.forEach(function (value, index) {\n                                if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                    currentIdArray.push(value.from.toString());\n                                    currentIdIndex = index;\n                                }\n                            });\n                            //    currentPredecessor=currentRecord.predecessor[0].from\n                        }\n                        if (recordId.toString() === currentRecord.rowUniqueID.toString() ||\n                            currentIdArray.indexOf(recordId.toString()) !== -1) {\n                            return { value: false };\n                        }\n                        visitedIdArray.push(currentId);\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            var result = void 0;\n                            if (currentIdArray.length > 1) {\n                                result = this_2.predecessorValidation(currentIdArray, ganttRecord.ganttProperties);\n                            }\n                            else if (currentIdArray.length === 1) {\n                                currentId = currentRecord.predecessor[currentIdIndex].from;\n                            }\n                            if (result === false) {\n                                return { value: false };\n                            }\n                        }\n                        else {\n                            return \"break\";\n                        }\n                    }\n                    else {\n                        return \"break\";\n                    }\n                };\n                while (currentId !== null) {\n                    var state_3 = _loop_3();\n                    if (typeof state_3 === \"object\")\n                        return state_3;\n                    if (state_3 === \"break\")\n                        break;\n                }\n            };\n            var this_2 = this;\n            for (var count = 0; count < predecessorIdArray.length; count++) {\n                var state_2 = _loop_2(count);\n                if (typeof state_2 === \"object\")\n                    return state_2.value;\n            }\n        }\n        return flag;\n    };\n    /**\n     * To add dependency for Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addPredecessor = function (ganttRecord, predecessorString) {\n        var tempPredecessorString = isNullOrUndefined(ganttRecord.ganttProperties.predecessorsName) ||\n            ganttRecord.ganttProperties.predecessorsName === '' ?\n            predecessorString : (ganttRecord.ganttProperties.predecessorsName + ',' + predecessorString);\n        this.updatePredecessorHelper(ganttRecord, tempPredecessorString);\n    };\n    /**\n     * To remove dependency from task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessor = function (ganttRecord) {\n        this.isPublicDependencyDelete = true;\n        this.updatePredecessorHelper(ganttRecord, null);\n    };\n    /**\n     * To modify current dependency values of Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updatePredecessor = function (ganttRecord, predecessorString, editedArgs) {\n        return this.updatePredecessorHelper(ganttRecord, predecessorString, editedArgs);\n    };\n    ConnectorLineEdit.prototype.updatePredecessorHelper = function (ganttRecord, predecessorString, editedArgs) {\n        if (isUndefined(predecessorString) || this.validatePredecessorRelation(ganttRecord, predecessorString)) {\n            this.parent.isOnEdit = true;\n            var predecessorCollection = [];\n            if (!isNullOrUndefined(predecessorString) && predecessorString !== '') {\n                predecessorCollection = this.parent.predecessorModule.calculatePredecessor(predecessorString, ganttRecord);\n            }\n            this.parent.setRecordValue('predecessor', predecessorCollection, ganttRecord.ganttProperties, true);\n            var stringValue = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', stringValue, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, stringValue, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, stringValue, ganttRecord);\n            var args = {};\n            args.action = editedArgs && editedArgs.action && editedArgs.action === 'CellEditing' ? editedArgs.action : ((this.parent.contextMenuModule && this.parent.contextMenuModule['isCntxtMenuDependencyDelete']) ||\n                this.isPublicDependencyDelete) ? 'DeleteConnectorLine' : 'DrawConnectorLine';\n            args.data = ganttRecord;\n            this.parent.editModule.initiateUpdateAction(args);\n            return true;\n        }\n        else {\n            if (ganttRecord.taskData[this.parent.taskFields.dependency]) {\n                ganttRecord.taskData[this.parent.taskFields.dependency] = null;\n            }\n            var err = predecessorString + \" is an invalid relation for task \" + this.parent.taskFields.id + \". Kindly ensure the \" + this.parent.taskFields.dependency + \" field contains only valid predecessor relations.\";\n            this.parent.trigger('actionFailure', { error: err });\n            return false;\n        }\n    };\n    ConnectorLineEdit.prototype.checkParentRelation = function (ganttRecord, predecessorIdArray) {\n        var editingData = ganttRecord;\n        var checkParent = true;\n        if (editingData && editingData.parentItem) {\n            if (predecessorIdArray.indexOf(editingData.parentItem.taskId.toString()) !== -1) {\n                return false;\n            }\n        }\n        var _loop_4 = function (p) {\n            var record = this_3.parent.currentViewData.filter(function (item) {\n                return item && item.ganttProperties.rowUniqueID.toString() === predecessorIdArray[p].toString();\n            });\n            if (record[0] && record[0].hasChildRecords) {\n                return { value: false };\n            }\n        };\n        var this_3 = this;\n        for (var p = 0; p < predecessorIdArray.length; p++) {\n            var state_4 = _loop_4(p);\n            if (typeof state_4 === \"object\")\n                return state_4.value;\n        }\n        return checkParent;\n    };\n    ConnectorLineEdit.prototype.initPredecessorValidationDialog = function () {\n        if (this.parent.taskFields.dependency && this.parent.isInPredecessorValidation) {\n            var dialogElement = createElement('div', {\n                id: this.parent.element.id + '_dialogValidationRule'\n            });\n            this.parent.element.appendChild(dialogElement);\n            this.renderValidationDialog();\n        }\n    };\n    /**\n     * To render validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderValidationDialog = function () {\n        var validationDialog = new Dialog({\n            header: 'Validate Editing',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            visible: false,\n            width: '50%',\n            showCloseIcon: true,\n            close: this.validationDialogClose.bind(this),\n            content: '',\n            buttons: [\n                {\n                    click: this.validationDialogOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.validationDialogCancelButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        document.getElementById(this.parent.element.id + '_dialogValidationRule').innerHTML = '';\n        validationDialog.isStringTemplate = true;\n        validationDialog.appendTo('#' + this.parent.element.id + '_dialogValidationRule');\n        this.parent.validationDialogElement = validationDialog;\n    };\n    ConnectorLineEdit.prototype.validationDialogOkButton = function () {\n        var currentArgs = this.parent.currentEditedArgs;\n        currentArgs.validateMode.preserveLinkWithEditing =\n            document.getElementById(this.parent.element.id + '_ValidationAddlineOffset').checked;\n        currentArgs.validateMode.removeLink =\n            document.getElementById(this.parent.element.id + '_ValidationRemoveline').checked;\n        currentArgs.validateMode.respectLink =\n            document.getElementById(this.parent.element.id + '_ValidationCancel').checked;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogCancelButton = function () {\n        this.parent.currentEditedArgs.validateMode.respectLink = true;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogClose = function (e) {\n        if (getValue('isInteraction', e)) {\n            this.parent.currentEditedArgs.validateMode.respectLink = true;\n            this.applyPredecessorOption();\n        }\n    };\n    /**\n     * Validate and apply the predecessor option from validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.applyPredecessorOption = function () {\n        var args = this.parent.currentEditedArgs;\n        var ganttRecord = args.data;\n        if (args.validateMode.respectLink) {\n            this.parent.editModule.reUpdatePreviousRecords();\n            this.parent.chartRowsModule.refreshRecords([args.data]);\n        }\n        else if (args.validateMode.removeLink) {\n            this.checkChildRecords(ganttRecord);\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n        }\n        else if (args.validateMode.preserveLinkWithEditing) {\n            var connectedTaskId_1;\n            if (this.parent.updateOffsetOnTaskbarEdit) {\n                var taskId_1 = ganttRecord.ganttProperties.taskId;\n                if (ganttRecord.ganttProperties.predecessor) {\n                    ganttRecord.ganttProperties.predecessor.forEach(function (predecessor) {\n                        if (taskId_1 === predecessor.from) {\n                            connectedTaskId_1 = predecessor.to;\n                            return;\n                        }\n                    });\n                }\n            }\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n            this.processPredecessors(connectedTaskId_1);\n        }\n    };\n    ConnectorLineEdit.prototype.compareArrays = function (arr1, arr2) {\n        if (arr1.length !== arr2.length) {\n            return false;\n        }\n        var str1 = JSON.stringify(arr1);\n        var str2 = JSON.stringify(arr2);\n        return str1 === str2;\n    };\n    ConnectorLineEdit.prototype.processPredecessors = function (parentId) {\n        var _this = this;\n        if (parentId) {\n            var record_1 = this.parent.getRecordByID(parentId);\n            if (record_1 && record_1.ganttProperties && record_1.ganttProperties.predecessor) {\n                this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                this.calculateOffset(record_1);\n                var isIdInclude_1 = true;\n                /* eslint-disable-next-line */\n                var matchedObject = this.validatedId.find(function (item) {\n                    return item.id === record_1.ganttProperties.taskId;\n                });\n                if (matchedObject) {\n                    var predecessorArray = matchedObject.value;\n                    var areArraysEqual = this.compareArrays(predecessorArray, record_1.ganttProperties.predecessor);\n                    if (areArraysEqual) {\n                        isIdInclude_1 = false;\n                    }\n                }\n                var predecessors = record_1.ganttProperties.predecessor;\n                predecessors.forEach(function (predecessor) {\n                    if (record_1.ganttProperties.taskId === predecessor.from && isIdInclude_1) {\n                        _this.processPredecessors(predecessor.to);\n                    }\n                });\n            }\n        }\n    };\n    ConnectorLineEdit.prototype.checkChildRecords = function (ganttRecord) {\n        this.validationPredecessor = ganttRecord.ganttProperties.predecessor;\n        if (!isNullOrUndefined(this.validationPredecessor)) {\n            this.removePredecessors(ganttRecord, this.validationPredecessor);\n        }\n        if (ganttRecord.childRecords.length > 0) {\n            for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                var childRecord = ganttRecord.childRecords[i];\n                this.validationPredecessor = childRecord.ganttProperties.predecessor;\n                if (!isNullOrUndefined(this.validationPredecessor)) {\n                    this.removePredecessors(childRecord, this.validationPredecessor);\n                }\n                if (childRecord.childRecords.length > 0) {\n                    this.checkChildRecords(childRecord);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(ganttRecord.parentItem)) {\n            var parentRecord = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            this.validationPredecessor = parentRecord.ganttProperties.predecessor;\n            this.removePredecessors(parentRecord, this.validationPredecessor);\n        }\n    };\n    ConnectorLineEdit.prototype.compareObjects = function (obj1, obj2) {\n        var keys1 = Object.keys(obj1).filter(function (key) { return key !== 'offset'; });\n        var keys2 = Object.keys(obj2).filter(function (key) { return key !== 'offset'; });\n        if (keys1.length !== keys2.length) {\n            return false;\n        }\n        return keys1.every(function (key) { return obj1[key] === obj2[key]; });\n    };\n    ConnectorLineEdit.prototype.calculateOffset = function (record, isRecursive) {\n        var _this = this;\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand\n            && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        if (record && isScheduledTask(record.ganttProperties) !== null) {\n            var prevPredecessor = extend([], record.ganttProperties.predecessor, [], true);\n            var validPredecessor_1 = this.parent.predecessorModule.getValidPredecessor(record);\n            if (validPredecessor_1.length > 0) {\n                this.cumulativePredecessorChanges = prevPredecessor;\n                var _loop_5 = function (i) {\n                    var predecessor = validPredecessor_1[parseInt(i.toString(), 10)];\n                    var parentTask = this_4.parent.connectorLineModule.getRecordByID(predecessor.from);\n                    if (this_4.parent.undoRedoModule && this_4.parent.undoRedoModule['isUndoRedoPerformed'] && this_4.parent.viewType === 'ProjectView') {\n                        var isPresent = parentTask.ganttProperties.predecessor.filter(function (pred) {\n                            return pred.from === validPredecessor_1[i].from && pred.to === validPredecessor_1[i].to;\n                        });\n                        if (isPresent.length === 0) {\n                            parentTask.ganttProperties.predecessor.push(validPredecessor_1[i]);\n                        }\n                    }\n                    var offset = void 0;\n                    if ((parentTask.ganttProperties.startDate || parentTask.ganttProperties.endDate) &&\n                        (record.ganttProperties.startDate || record.ganttProperties.endDate)) {\n                        var tempStartDate = void 0;\n                        var tempEndDate = void 0;\n                        var tempDuration = void 0;\n                        var isNegativeOffset = void 0;\n                        switch (predecessor.type) {\n                            case 'FS':\n                                tempStartDate = new Date((parentTask.ganttProperties.endDate ||\n                                    parentTask.ganttProperties.startDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.startDate || record.ganttProperties.endDate).getTime());\n                                break;\n                            case 'SS':\n                                tempStartDate = new Date((parentTask.ganttProperties.startDate ||\n                                    parentTask.ganttProperties.endDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.startDate || record.ganttProperties.endDate).getTime());\n                                break;\n                            case 'SF':\n                                tempStartDate = new Date((parentTask.ganttProperties.startDate ||\n                                    parentTask.ganttProperties.endDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.endDate || record.ganttProperties.startDate).getTime());\n                                break;\n                            case 'FF':\n                                tempStartDate = new Date((parentTask.ganttProperties.endDate ||\n                                    parentTask.ganttProperties.startDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.endDate || record.ganttProperties.startDate).getTime());\n                                break;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempStartDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempEndDate, null);\n                            isNegativeOffset = false;\n                        }\n                        else {\n                            var tempDate = new Date(tempStartDate.getTime());\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempEndDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempDate, null);\n                            isNegativeOffset = true;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempDuration = this_4.dateValidateModule.getDuration(tempStartDate, tempEndDate, predecessor.offsetUnit, true, false);\n                            if (this_4.parent.durationUnit === predecessor.offsetUnit &&\n                                ((parentTask.ganttProperties.startDate && isNullOrUndefined(parentTask.ganttProperties.endDate)) ||\n                                    (isNullOrUndefined(parentTask.ganttProperties.startDate) && parentTask.ganttProperties.endDate))) {\n                                tempDuration = tempDuration - 1;\n                            }\n                            offset = isNegativeOffset ? (tempDuration * -1) : tempDuration;\n                        }\n                        else {\n                            offset = 0;\n                        }\n                    }\n                    else {\n                        offset = 0;\n                    }\n                    var preIndex = getIndex(predecessor, 'from', prevPredecessor, 'to');\n                    if (preIndex !== -1) {\n                        prevPredecessor[preIndex].offset = offset;\n                    }\n                    // Update predecessor in predecessor task\n                    var parentPredecessors = extend([], parentTask.ganttProperties.predecessor, [], true);\n                    var parentPreIndex = getIndex(predecessor, 'from', parentPredecessors, 'to');\n                    if (parentPreIndex !== -1) {\n                        parentPredecessors[parentPreIndex].offset = offset;\n                    }\n                    this_4.parent.setRecordValue('predecessor', parentPredecessors, parentTask.ganttProperties, true);\n                };\n                var this_4 = this;\n                for (var i = 0; i < validPredecessor_1.length; i++) {\n                    _loop_5(i);\n                }\n            }\n            else {\n                var validPredecessor_2 = record.ganttProperties.predecessor;\n                if (validPredecessor_2) {\n                    if (validPredecessor_2.length > 0) {\n                        validPredecessor_2.forEach(function (element) {\n                            if (_this.validatedOffsetIds.indexOf(element.to) === -1) {\n                                _this.calculateOffset(_this.parent.getRecordByID(element.to), true);\n                            }\n                        });\n                    }\n                }\n            }\n            if (!isRecursive) {\n                if (validPredecessor_1.length === 0) {\n                    this.cumulativePredecessorChanges = [];\n                }\n                if (prevPredecessor && prevPredecessor.length > 0 && this.cumulativePredecessorChanges &&\n                    this.cumulativePredecessorChanges.length > 0) {\n                    var matchingObjects = prevPredecessor.map(function (objectToCompare) {\n                        var matchedObject = _this.cumulativePredecessorChanges.find(function (obj) { return _this.compareObjects(obj, objectToCompare); });\n                        return matchedObject ? __assign({}, matchedObject) : null;\n                    }).filter(function (matchedObject) { return matchedObject !== null; });\n                    this.parent.setRecordValue('predecessor', matchingObjects, record.ganttProperties, true);\n                }\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevPredecessor, record.ganttProperties, true);\n            }\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n            if (this.validatedOffsetIds.indexOf(record.ganttProperties.taskId.toString()) === -1) {\n                this.validatedOffsetIds.push(record.ganttProperties.taskId.toString());\n            }\n            if (record.hasChildRecords) {\n                for (var i = 0; i < record.childRecords.length; i++) {\n                    if (this.validatedOffsetIds.indexOf(record.childRecords[i].ganttProperties.taskId.toString()) === -1 &&\n                        record.childRecords[i].ganttProperties.predecessor &&\n                        record.childRecords[i].ganttProperties.predecessor.length > 0) {\n                        this.calculateOffset(record.childRecords[i]);\n                    }\n                }\n            }\n            else if (record.parentItem) {\n                var parentItem = this.parent.getRecordByID(record.parentItem.taskId);\n                if (this.validatedOffsetIds.indexOf(parentItem.ganttProperties.taskId.toString()) === -1 &&\n                    parentItem.ganttProperties.predecessor && parentItem.ganttProperties.predecessor.length > 0) {\n                    this.calculateOffset(parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Update predecessor value with user selection option in predecessor validation dialog\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessor .\n     * @returns {void} .\n     */\n    ConnectorLineEdit.prototype.removePredecessors = function (ganttRecord, predecessor) {\n        var prevPredecessor = extend([], [], ganttRecord.ganttProperties.predecessor, true);\n        if (isNullOrUndefined(predecessor)) {\n            return;\n        }\n        var preLength = predecessor.length;\n        for (var i = 0; i < preLength; i++) {\n            var parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n            var index = getIndex(predecessor[i], 'from', prevPredecessor, 'to');\n            prevPredecessor.splice(index, 1);\n            var parentIndex = getIndex(predecessor[parseInt(i.toString(), 10)], 'from', parentPredecessor, 'to');\n            parentPredecessor.splice(parentIndex, 1);\n            this.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n        }\n        if (prevPredecessor.length !== ganttRecord.ganttProperties.predecessor.length) {\n            this.parent.setRecordValue('predecessor', prevPredecessor, ganttRecord.ganttProperties, true);\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', predecessorString, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, ganttRecord);\n        }\n    };\n    /**\n     * To open predecessor validation dialog\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.openValidationDialog = function (args) {\n        var contentTemplate = this.validationDialogTemplate(args);\n        this.parent.validationDialogElement.setProperties({ content: contentTemplate });\n        this.parent.validationDialogElement.show();\n    };\n    /**\n     * Predecessor link validation dialog template\n     *\n     * @param {object} args .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validationDialogTemplate = function (args) {\n        var ganttId = this.parent.element.id;\n        var contentdiv = createElement('div', {\n            className: 'e-ValidationContent'\n        });\n        var taskData = getValue('task', args);\n        var parenttaskData = getValue('parentTask', args);\n        var violationType = getValue('violationType', args);\n        var recordName = taskData.ganttProperties.taskName;\n        var recordNewStartDate = this.parent.getFormatedDate(taskData.ganttProperties.startDate, this.parent.dateFormat);\n        var parentName = parenttaskData.ganttProperties.taskName;\n        var recordArgs = [recordName, parentName];\n        var topContentText;\n        if (violationType === 'taskBeforePredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FS');\n        }\n        else if (violationType === 'taskAfterPredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FS');\n        }\n        else if (violationType === 'taskBeforePredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SS');\n        }\n        else if (violationType === 'taskAfterPredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SS');\n        }\n        else if (violationType === 'taskBeforePredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FF');\n        }\n        else if (violationType === 'taskAfterPredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FF');\n        }\n        else if (violationType === 'taskBeforePredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SF');\n        }\n        else if (violationType === 'taskAfterPredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SF');\n        }\n        topContentText = formatString(topContentText, recordArgs);\n        var topContent = '<div id=\"' + ganttId + '_ValidationText\">' + topContentText + '<div>';\n        var innerTable = '<table>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationCancel\" name=\"ValidationRule\" checked/><label for=\"'\n            + ganttId + '_ValidationCancel\" id= \"' + ganttId + '_cancelLink\">Cancel, keep the existing link</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationRemoveline\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationRemoveline\" id=\"' + ganttId + '_removeLink\">Remove the link and move <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b>.</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationAddlineOffset\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationAddlineOffset\" id=\"' + ganttId + '_preserveLink\">Move the <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b> and keep the link.</label></td></tr></table>';\n        contentdiv.innerHTML = topContent + innerTable;\n        return contentdiv;\n    };\n    /**\n     * To validate the types while editing the taskbar\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {any} data .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validateTypes = function (ganttRecord, data) {\n        var predecessor = this.parent.predecessorModule.getValidPredecessor(ganttRecord);\n        var parentGanttRecord;\n        this.validationPredecessor = [];\n        var violatedParent;\n        var ganttTaskData;\n        var violateType;\n        var startDate = this.parent.predecessorModule.getPredecessorDate(ganttRecord, predecessor);\n        if (data) {\n            ganttTaskData = data.ganttProperties;\n        }\n        else {\n            ganttTaskData = ganttRecord.ganttProperties;\n        }\n        var endDate = this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) ?\n            ganttTaskData.endDate :\n            this.dateValidateModule.getEndDate(startDate, ganttTaskData.duration, ganttTaskData.durationUnit, ganttTaskData, false);\n        for (var i = 0; i < predecessor.length; i++) {\n            parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var violationType = null;\n            if (predecessor[i].type === 'FS') {\n                if (this.parent.dateValidationModule.getDuration(startDate, ganttTaskData.startDate, this.parent.durationUnit, ganttTaskData.isAutoSchedule, ganttTaskData.isMilestone, true) !== 0) {\n                    if (ganttTaskData.startDate < startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FS';\n                    }\n                    else if (ganttTaskData.startDate > startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FS';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SS') {\n                var endDateOlny = new Date(ganttTaskData.endDate);\n                var startDateOlny = new Date(startDate);\n                if (ganttTaskData.startDate < startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (ganttTaskData.startDate > startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks &&\n                    isNullOrUndefined(ganttTaskData.startDate) &&\n                    isNullOrUndefined(ganttTaskData.duration) &&\n                    endDateOlny.setHours(0, 0, 0, 0) < startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks &&\n                    isNullOrUndefined(ganttTaskData.startDate) &&\n                    isNullOrUndefined(ganttTaskData.duration) &&\n                    endDateOlny.setHours(0, 0, 0, 0) > startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n            }\n            else if (predecessor[i].type === 'FF') {\n                if (this.parent.dateValidationModule.getDuration(startDate, parentGanttRecord.ganttProperties.endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate <= parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FF';\n                    }\n                    else if (endDate > parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FF';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SF') {\n                if (this.parent.dateValidationModule.getDuration(parentGanttRecord.ganttProperties.startDate, endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate < parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_SF';\n                    }\n                    else if (endDate >= parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_SF';\n                    }\n                }\n            }\n            if (!isNullOrUndefined(violationType) && isNullOrUndefined(violateType)) {\n                violatedParent = parentGanttRecord;\n                violateType = violationType;\n            }\n        }\n        var validateArgs = {\n            parentTask: violatedParent,\n            task: ganttRecord,\n            violationType: violateType\n        };\n        return validateArgs;\n    };\n    /**\n     * Method to remove and update new predecessor collection in successor record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addRemovePredecessor = function (data) {\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        var newPredecessor = data.ganttProperties.predecessor.slice();\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            var prevPredecessor_1 = prevData.ganttProperties.predecessor;\n            if (!isNullOrUndefined(prevPredecessor_1)) {\n                var _loop_6 = function (p) {\n                    var parentGanttRecord = this_5.parent.connectorLineModule.getRecordByID(prevPredecessor_1[parseInt(p.toString(), 10)].from);\n                    if (parentGanttRecord === data) {\n                        var isValid = data.ganttProperties.predecessor.filter(function (pred) {\n                            return prevPredecessor_1[p].from === pred.from && prevPredecessor_1[p].to === pred.to;\n                        });\n                        if (isValid.length === 0) {\n                            if (data.parentItem && this_5.parent.taskFields.dependency && data.ganttProperties.predecessor &&\n                                this_5.parent.allowParentDependency) {\n                                if (prevPredecessor_1[p].from !== data.parentItem.taskId &&\n                                    prevPredecessor_1[p].to !== data.parentItem.taskId) {\n                                    data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                                }\n                            }\n                            else {\n                                data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                            }\n                        }\n                    }\n                    else {\n                        var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                        var parentIndex = getIndex(prevPredecessor_1[parseInt(p.toString(), 10)], 'from', parentPredecessor, 'to');\n                        if (parentIndex !== -1) {\n                            parentPredecessor.splice(parentIndex, 1);\n                            this_5.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                        }\n                    }\n                };\n                var this_5 = this;\n                for (var p = 0; p < prevPredecessor_1.length; p++) {\n                    _loop_6(p);\n                }\n            }\n            if (!isNullOrUndefined(newPredecessor)) {\n                var _loop_7 = function (n) {\n                    var parentGanttRecord = this_6.parent.connectorLineModule.getRecordByID(newPredecessor[parseInt(n.toString(), 10)].from);\n                    var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                    var isValid = parentPredecessor.filter(function (pred) {\n                        return newPredecessor[n].from === pred.from && newPredecessor[n].to === pred.to;\n                    });\n                    if (isValid.length === 0) {\n                        parentPredecessor.push(newPredecessor[parseInt(n.toString(), 10)]);\n                        this_6.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                    }\n                };\n                var this_6 = this;\n                for (var n = 0; n < newPredecessor.length; n++) {\n                    _loop_7(n);\n                }\n            }\n        }\n    };\n    /**\n     * Method to remove a predecessor from a record.\n     *\n     * @param {IGanttData} childRecord .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessorByIndex = function (childRecord, index) {\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'DeleteDependency';\n            details['modifiedRecords'] = extend([], [childRecord], [], true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var childPredecessor = childRecord.ganttProperties.predecessor;\n        var predecessor = childPredecessor.splice(index, 1);\n        var parentRecord = this.parent.connectorLineModule.getRecordByID(predecessor[0].from);\n        var parentPredecessor = parentRecord.ganttProperties.predecessor;\n        var parentIndex = getIndex(predecessor[0], 'from', parentPredecessor, 'to');\n        parentPredecessor.splice(parentIndex, 1);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(childRecord);\n        childPredecessor.push(predecessor[0]);\n        this.parent.connectorLineEditModule.updatePredecessor(childRecord, predecessorString);\n    };\n    /**\n     * To render predecessor delete confirmation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderPredecessorDeleteConfirmDialog = function () {\n        this.confirmPredecessorDialog = new Dialog({\n            width: '320px',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmPredecessorDelete'),\n            buttons: [\n                {\n                    click: this.confirmOkDeleteButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.confirmCloseDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        var confirmDialog = createElement('div', {\n            id: this.parent.element.id + '_deletePredecessorConfirmDialog'\n        });\n        this.parent.element.appendChild(confirmDialog);\n        this.confirmPredecessorDialog.isStringTemplate = true;\n        this.confirmPredecessorDialog.appendTo(confirmDialog);\n    };\n    ConnectorLineEdit.prototype.confirmCloseDialog = function () {\n        this.confirmPredecessorDialog.destroy();\n    };\n    ConnectorLineEdit.prototype.confirmOkDeleteButton = function () {\n        this.removePredecessorByIndex(this.childRecord, this.predecessorIndex);\n        this.confirmPredecessorDialog.destroy();\n    };\n    return ConnectorLineEdit;\n}());\nexport { ConnectorLineEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined, extend, setValue, getValue, deleteObject, createElement } from '@syncfusion/ej2-base';\nimport { DataManager, Query, ODataAdaptor, WebApiAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\nimport { getUid } from '@syncfusion/ej2-grids';\nimport { getSwapKey, isScheduledTask, getTaskData, isRemoteData, getIndex, isCountRequired, updateDates } from '../base/utils';\nimport { CellEdit } from './cell-edit';\nimport { TaskbarEdit } from './taskbar-edit';\nimport { DialogEdit } from './dialog-edit';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { MultiSelect, CheckBoxSelection, DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { ConnectorLineEdit } from './connector-line-edit';\nimport { TreeGrid, Edit as TreeGridEdit } from '@syncfusion/ej2-treegrid';\n/**\n * The Edit Module is used to handle editing actions.\n *\n */\nvar Edit = /** @class */ (function () {\n    function Edit(parent) {\n        this.isFromDeleteMethod = false;\n        this.targetedRecords = [];\n        this.isNewRecordAdded = false;\n        this.isValidatedEditedRecord = false;\n        this.createArray = true;\n        this.deletedRecord = [];\n        this.canReset = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.confirmDialog = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        this.isBreakLoop = false;\n        /**\n         * @private\n         */\n        this.deletedTaskDetails = [];\n        this.parent = parent;\n        this.parent.predecessorModule.validatedChildItems = [];\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Auto') {\n            this.cellEditModule = new CellEdit(this.parent);\n        }\n        if (this.parent.taskFields.dependency) {\n            this.parent.connectorLineEditModule = new ConnectorLineEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowAdding || (this.parent.editSettings.allowEditing &&\n            (this.parent.editSettings.mode === 'Dialog' || this.parent.editSettings.mode === 'Auto'))) {\n            this.dialogModule = new DialogEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.taskbarEditModule = new TaskbarEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowDeleting) {\n            var confirmDialog = createElement('div', {\n                id: this.parent.element.id + '_deleteConfirmDialog'\n            });\n            this.parent.element.appendChild(confirmDialog);\n            this.renderDeleteConfirmDialog();\n        }\n        this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n        this.parent.treeGrid.editSettings.allowAdding = this.parent.editSettings.allowAdding;\n        this.parent.treeGrid.editSettings.allowDeleting = this.parent.editSettings.allowDeleting;\n        this.parent.treeGrid.editSettings.showDeleteConfirmDialog = this.parent.editSettings.showDeleteConfirmDialog;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        if (this.parent.editSettings.mode === 'Dialog') {\n            TreeGrid.Inject(TreeGridEdit);\n        }\n        this.updateDefaultColumnEditors();\n    }\n    Edit.prototype.getModuleName = function () {\n        return 'edit';\n    };\n    /**\n     * Method to update default edit params and editors for Gantt\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.updateDefaultColumnEditors = function () {\n        var customEditorColumns = [this.parent.taskFields.id, this.parent.taskFields.progress, this.parent.taskFields.resourceInfo,\n            this.parent.taskFields.type, 'taskType'];\n        for (var i = 0; i < customEditorColumns.length; i++) {\n            if (!isNullOrUndefined(customEditorColumns[i]) && customEditorColumns[i].length > 0) {\n                var column = this.parent.getColumnByField(customEditorColumns[parseInt(i.toString(), 10)], this.parent.treeGridModule.treeGridColumns);\n                if (column) {\n                    if (column.field === this.parent.taskFields.id) {\n                        this.updateIDColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.progress && isNullOrUndefined(column.edit)) {\n                        this.updateProgessColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.resourceInfo) {\n                        this.updateResourceColumnEditor(column);\n                    }\n                    else if (column.field === this.parent.taskFields.type || column.field === 'taskType') {\n                        this.updateTaskTypeColumnEditor(column);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Method to update editors for id column in Gantt\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateIDColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            decimals: 0,\n            enableRtl: this.parent.enableRtl,\n            validateDecimalOnType: true,\n            format: 'n0',\n            showSpinButton: false\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Method to update edit params of default progress column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateProgessColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            enableRtl: this.parent.enableRtl,\n            decimals: 0,\n            validateDecimalOnType: true,\n            max: 100,\n            format: 'n0'\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Assign edit params for id and progress columns\n     *\n     * @param {ColumnModel} column .\n     * @param {object} editParam .\n     * @returns {void} .\n     */\n    Edit.prototype.updateEditParams = function (column, editParam) {\n        if (isNullOrUndefined(column.edit)) {\n            column.edit = {};\n            column.edit.params = {};\n        }\n        else if (isNullOrUndefined(column.edit.params)) {\n            column.edit.params = {};\n        }\n        extend(editParam, column.edit.params);\n        column.edit.params = editParam;\n        var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n        ganttColumn.edit = column.edit;\n    };\n    /**\n     * Method to update resource column editor for default resource column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getResourceEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create resource custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getResourceEditor = function () {\n        var _this = this;\n        var resourceSettings = this.parent.resourceFields;\n        var editObject = {};\n        var editor;\n        MultiSelect.Inject(CheckBoxSelection);\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new MultiSelect({\n                dataSource: new DataManager(_this.parent.resources),\n                fields: { text: resourceSettings.name, value: resourceSettings.id },\n                enableRtl: _this.parent.enableRtl,\n                mode: 'CheckBox',\n                showDropDownIcon: true,\n                popupHeight: '350px',\n                delimiterChar: ',',\n                value: _this.parent.treeGridModule.getResourceIds(args.rowData)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var resourcesName = [];\n            if (isNullOrUndefined(value)) {\n                value = [];\n            }\n            for (var i = 0; i < value.length; i++) {\n                for (var j = 0; j < _this.parent.resources.length; j++) {\n                    if (_this.parent.resources[j][resourceSettings.id] === value[i]) {\n                        resourcesName.push(_this.parent.resources[j][resourceSettings.name]);\n                        break;\n                    }\n                }\n            }\n            _this.parent.treeGridModule.currentEditRow[_this.parent.taskFields.resourceInfo] = value;\n            return resourcesName.join(',');\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * Method to update task type column editor for task type\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskTypeColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getTaskTypeEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create task type custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getTaskTypeEditor = function () {\n        var _this = this;\n        var editObject = {};\n        var editor;\n        var types = [{ 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }];\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new DropDownList({\n                dataSource: new DataManager(types),\n                enableRtl: _this.parent.enableRtl,\n                fields: { value: 'Value' },\n                popupHeight: '350px',\n                value: getValue('taskType', args.rowData.ganttProperties)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var key = _this.parent.taskFields.type || 'taskType';\n            _this.parent.treeGridModule.currentEditRow[key] = value;\n            return value;\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdateEditModules = function () {\n        var editSettings = this.parent.editSettings;\n        if (editSettings.allowEditing) {\n            if (this.parent.editModule.cellEditModule && editSettings.mode === 'Dialog') {\n                this.cellEditModule.destroy();\n                this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n            }\n            else if (isNullOrUndefined(this.parent.editModule.cellEditModule) && editSettings.mode === 'Auto') {\n                this.cellEditModule = new CellEdit(this.parent);\n            }\n            if (this.parent.editModule.dialogModule && editSettings.mode === 'Auto') {\n                this.parent.treeGrid.recordDoubleClick = undefined;\n            }\n            else if (isNullOrUndefined(this.parent.editModule.dialogModule)) {\n                this.dialogModule = new DialogEdit(this.parent);\n            }\n        }\n        else {\n            if (this.cellEditModule) {\n                this.cellEditModule.destroy();\n            }\n            if (this.dialogModule) {\n                this.dialogModule.destroy();\n            }\n        }\n        if (editSettings.allowDeleting && editSettings.showDeleteConfirmDialog) {\n            if (isNullOrUndefined(this.confirmDialog)) {\n                var confirmDialog = createElement('div', {\n                    id: this.parent.element.id + '_deleteConfirmDialog'\n                });\n                this.parent.element.appendChild(confirmDialog);\n                this.renderDeleteConfirmDialog();\n            }\n        }\n        else if (!editSettings.allowDeleting || !editSettings.showDeleteConfirmDialog) {\n            if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n                this.confirmDialog.destroy();\n            }\n        }\n        if (editSettings.allowTaskbarEditing) {\n            if (isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n                this.taskbarEditModule = new TaskbarEdit(this.parent);\n            }\n        }\n        else {\n            if (this.taskbarEditModule) {\n                this.taskbarEditModule.destroy();\n            }\n        }\n    };\n    Edit.prototype.recordDoubleClick = function (args) {\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Dialog') {\n            var ganttData = void 0;\n            if (args.row) {\n                var rowIndex = getValue('rowIndex', args.row);\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n            if (!isNullOrUndefined(ganttData)) {\n                this.dialogModule.openEditDialog(ganttData);\n            }\n        }\n        this.parent.ganttChartModule.recordDoubleClick(args);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.destroy = function () {\n        if (this.cellEditModule) {\n            this.cellEditModule.destroy();\n        }\n        if (this.taskbarEditModule) {\n            this.taskbarEditModule.destroy();\n        }\n        if (this.dialogModule) {\n            this.dialogModule.destroy();\n        }\n        if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n            this.confirmDialog.destroy();\n        }\n    };\n    /**\n     * Method to update record with new values.\n     *\n     * @param {Object} data - Defines new data to update.\n     * @returns {void} .\n     */\n    Edit.prototype.updateRecordByID = function (data) {\n        var _this = this;\n        if (this.parent.enableImmutableMode && this.parent.editSettings.allowEditing &&\n            this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        if (!this.parent.readOnly) {\n            var tasks = this.parent.taskFields;\n            if (isNullOrUndefined(data) || isNullOrUndefined(data[tasks.id])) {\n                return;\n            }\n            var ganttData = this.parent.viewType === 'ResourceView' ?\n                this.parent.flatData[this.parent.getTaskIds().indexOf('T' + data[tasks.id])] : this.parent.getRecordByID(data[tasks.id]);\n            if (!isNullOrUndefined(ganttData[tasks.milestone])) {\n                if (ganttData[tasks.milestone] === true) {\n                    ganttData[tasks.milestone] = false;\n                }\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Edit') && ganttData) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['requestType'] = ((this.parent.contextMenuModule && this.parent.contextMenuModule.item) ? this.parent.contextMenuModule.item : 'methodUpdate');\n                details['modifiedRecords'] = extend([], [ganttData], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            if (!isNullOrUndefined(this.parent.editModule) && ganttData) {\n                this.parent.isOnEdit = true;\n                this.validateUpdateValues(data, ganttData, true);\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    if (this.parent.viewType === 'ProjectView' && data['ganttProperties'].predecessor) {\n                        var _loop_1 = function (i) {\n                            var isValid = ganttData.ganttProperties.predecessor.filter(function (pred) {\n                                if ((pred.from === data['ganttProperties'].predecessor[i].from &&\n                                    pred.to === data['ganttProperties'].predecessor[i].to\n                                    && data['ganttProperties'].predecessor[i].offset !== pred.offset)) {\n                                    var record = _this.parent.flatData[_this.parent.ids.indexOf(pred.to)];\n                                    var changeValue = record.ganttProperties.predecessor.filter(function (pred) {\n                                        return (pred.from === data['ganttProperties'].predecessor[i].from && pred.to === data['ganttProperties'].predecessor[i].to);\n                                    });\n                                    changeValue[0].offset = data['ganttProperties'].predecessor[i].offset;\n                                }\n                                return pred.from !== data['ganttProperties'].predecessor[i].from && pred.from !== data['ganttProperties'].predecessor[i].to;\n                            });\n                            if (isValid.length > 0) {\n                                for (var j = 0; j < isValid.length; j++) {\n                                    var record = this_1.parent.flatData[this_1.parent.ids.indexOf(isValid[j].from)];\n                                    for (var k = 0; k < record.ganttProperties.predecessor.length; k++) {\n                                        if (record.ganttProperties.predecessor[k].from === isValid[j].from &&\n                                            record.ganttProperties.predecessor[k].to === isValid[j].to) {\n                                            record.ganttProperties.predecessor.splice(k, 1);\n                                            break;\n                                        }\n                                    }\n                                }\n                                return \"break\";\n                            }\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < data['ganttProperties'].predecessor.length; i++) {\n                            var state_1 = _loop_1(i);\n                            if (state_1 === \"break\")\n                                break;\n                        }\n                    }\n                    else if (!data['ganttProperties'].predecessor && ganttData.ganttProperties.predecessor) {\n                        for (var i = 0; i < ganttData.ganttProperties.predecessor.length; i++) {\n                            var id = void 0;\n                            if (ganttData.ganttProperties.taskId.toString() === ganttData.ganttProperties.predecessor[i].from) {\n                                id = ganttData.ganttProperties.predecessor[i].to;\n                            }\n                            else {\n                                id = ganttData.ganttProperties.predecessor[i].from;\n                            }\n                            var parentRec = this.parent.flatData[this.parent.ids.indexOf(id)];\n                            for (var j = 0; j < parentRec.ganttProperties.predecessor.length; j++) {\n                                if (parentRec.ganttProperties.predecessor[j].from ===\n                                    ganttData.ganttProperties.predecessor[i].from &&\n                                    parentRec.ganttProperties.predecessor[j].to ===\n                                        ganttData.ganttProperties.predecessor[i].to) {\n                                    parentRec.ganttProperties.predecessor.splice(j, 1);\n                                }\n                            }\n                        }\n                    }\n                    ganttData.ganttProperties.resourceInfo = data['ganttProperties'].resourceInfo;\n                }\n                if (data[this.parent.taskFields.resourceInfo]) {\n                    if (ganttData.ganttProperties.duration === 0 &&\n                        (ganttData.ganttProperties.taskType !== 'FixedWork' || this.parent['isConvertedMilestone'])) {\n                        this.parent.dataOperation.updateWorkWithDuration(ganttData);\n                    }\n                    if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        this.updateResourceRelatedFields(ganttData, 'resource');\n                    }\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                var keys = Object.keys(data);\n                if (keys.indexOf(tasks.startDate) !== -1 || keys.indexOf(tasks.endDate) !== -1 ||\n                    keys.indexOf(tasks.duration) !== -1) {\n                    this.parent.dataOperation.calculateScheduledValues(ganttData, ganttData.taskData, false);\n                }\n                this.parent.dataOperation.updateWidthLeft(ganttData);\n                if (!isUndefined(data[this.parent.taskFields.dependency]) &&\n                    data[this.parent.taskFields.dependency] !== ganttData.ganttProperties.predecessorsName) {\n                    this.parent.connectorLineEditModule.updatePredecessor(ganttData, data[this.parent.taskFields.dependency]);\n                }\n                else {\n                    var args = {};\n                    args.data = ganttData;\n                    if (this.parent.viewType === 'ResourceView') {\n                        args.action = 'methodUpdate';\n                    }\n                    this.parent.editModule.initiateUpdateAction(args);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isFromDialog .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateUpdateValues = function (data, ganttData, isFromDialog) {\n        var ganttObj = this.parent;\n        var tasks = ganttObj.taskFields;\n        var ganttPropByMapping = getSwapKey(ganttObj.columnMapping);\n        var scheduleFieldNames = [];\n        var isScheduleValueUpdated = false;\n        for (var _i = 0, _b = Object.keys(data); _i < _b.length; _i++) {\n            var key = _b[_i];\n            if ([tasks.startDate, tasks.endDate, tasks.duration].indexOf(key) !== -1) {\n                if (isNullOrUndefined(data[\"\" + key]) && !ganttObj.allowUnscheduledTasks) {\n                    continue;\n                }\n                if (isFromDialog) {\n                    if (tasks.duration === key) {\n                        ganttObj.dataOperation.updateDurationValue(data[key], ganttData.ganttProperties);\n                        if (ganttData.ganttProperties.duration > 0 && ganttData.ganttProperties.isMilestone) {\n                            this.parent.setRecordValue('isMilestone', false, ganttData.ganttProperties, true);\n                        }\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                    else {\n                        var tempDate = typeof data[key] === 'string' ? new Date(data[key]) : data[key];\n                        if (key === tasks.endDate && isNullOrUndefined(ganttData.ganttProperties.startDate) && (isNullOrUndefined(data[tasks.duration]) || data[tasks.duration] === '' || Number.isNaN(data[tasks.duration]))) {\n                            tempDate = ganttData.ganttProperties.endDate;\n                        }\n                        ganttObj.setRecordValue(ganttPropByMapping[key], tempDate, ganttData.ganttProperties, true);\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                }\n                else {\n                    scheduleFieldNames.push(key);\n                    isScheduleValueUpdated = true;\n                }\n            }\n            else if (tasks.resourceInfo === key) {\n                var resourceData = ganttObj.dataOperation.setResourceInfo(data);\n                if (this.parent.viewType === 'ResourceView') {\n                    if (JSON.stringify(resourceData) !== JSON.stringify(ganttData.ganttProperties.resourceInfo)) {\n                        this.parent.editModule.dialogModule.isResourceUpdate = true;\n                        this.parent.editModule.dialogModule.previousResource = !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) ? ganttData.ganttProperties.resourceInfo.slice() : [];\n                    }\n                    else {\n                        this.parent.editModule.dialogModule.isResourceUpdate = false;\n                    }\n                }\n                if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    ganttData.ganttProperties.resourceInfo = resourceData;\n                }\n                ganttObj.dataOperation.updateMappingData(ganttData, 'resourceInfo');\n            }\n            else if (tasks.dependency === key) {\n                //..\n            }\n            else if ([tasks.progress, tasks.notes, tasks.durationUnit, tasks.expandState,\n                tasks.milestone, tasks.name, tasks.baselineStartDate,\n                tasks.baselineEndDate, tasks.id, tasks.segments, tasks.cssClass].indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (!isNullOrUndefined(column) && (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit')) {\n                    value = ganttObj.dataOperation.getDateFromFormat(value);\n                }\n                var ganttPropKey = ganttPropByMapping[key];\n                if (key === tasks.id) {\n                    ganttPropKey = 'taskId';\n                }\n                else if (key === tasks.name) {\n                    ganttPropKey = 'taskName';\n                }\n                else if (key === tasks.cssClass) {\n                    ganttPropKey = 'cssClass';\n                }\n                else if (key === tasks.milestone) {\n                    ganttPropKey = 'isMilestone';\n                    if (!isNullOrUndefined(tasks.duration)) {\n                        var ganttProp = ganttData.ganttProperties;\n                        var durationValue = data[tasks.duration];\n                        if (value) {\n                            durationValue = 0;\n                        }\n                        else {\n                            durationValue = durationValue <= 0 ? 1 : durationValue;\n                        }\n                        ganttObj.setRecordValue(tasks.duration, durationValue, ganttData, true);\n                        ganttObj.setRecordValue('duration', durationValue, ganttProp, true);\n                        ganttObj.setRecordValue('taskData.' + tasks.duration, durationValue, ganttData);\n                    }\n                }\n                else if ((key === tasks.segments) && (!isNullOrUndefined(ganttData.ganttProperties.segments))) {\n                    ganttPropKey = 'segments';\n                    /* eslint-disable-next-line */\n                    if (data && !isNullOrUndefined(data[this.parent.taskFields.segments]) && data[this.parent.taskFields.segments].length > 0) {\n                        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                            ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                        }\n                        var totDuration = 0;\n                        for (var i = 0; i < ganttData.ganttProperties.segments.length; i++) {\n                            totDuration = totDuration + ganttData.ganttProperties.segments[i].duration;\n                        }\n                        var sdate = ganttData.ganttProperties.startDate;\n                        /* eslint-disable-next-line */\n                        var edate = this.parent.dataOperation.getEndDate(sdate, totDuration, ganttData.ganttProperties.durationUnit, ganttData.ganttProperties, false);\n                        ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(edate), ganttData.ganttProperties, true);\n                    }\n                }\n                if (!isNullOrUndefined(ganttPropKey)) {\n                    var seg = [];\n                    if (ganttPropKey === 'segments' && value && value.length > 0 && !isNullOrUndefined(ganttData.ganttProperties.segments)) {\n                        for (var i = 0; i < value.length; i++) {\n                            var segment = {};\n                            if (value[i][this.parent.taskFields.startDate]) {\n                                segment['startDate'] = value[i][this.parent.taskFields.startDate];\n                            }\n                            if (value[i][this.parent.taskFields.endDate]) {\n                                segment['endDate'] = value[i][this.parent.taskFields.endDate];\n                            }\n                            if (value[i][this.parent.taskFields.duration]) {\n                                segment['duration'] = parseFloat(value[i][this.parent.taskFields.duration]);\n                            }\n                            if (value[i][this.parent.taskFields.id]) {\n                                segment['id'] = value[i][this.parent.taskFields.id];\n                            }\n                            seg.push(segment);\n                        }\n                        ganttObj.setRecordValue(ganttPropKey, seg, ganttData.ganttProperties, true);\n                    }\n                    else {\n                        if (ganttPropKey !== 'segments' || (ganttPropKey === 'segments' && isNullOrUndefined(value))) {\n                            ganttObj.setRecordValue(ganttPropKey, value, ganttData.ganttProperties, true);\n                        }\n                    }\n                }\n                if ((key === tasks.baselineStartDate || key === tasks.baselineEndDate) &&\n                    (ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate)) {\n                    ganttObj.setRecordValue('baselineStartDate', ganttObj.dataOperation.checkBaselineStartDate(ganttData.ganttProperties.baselineStartDate, ganttData.ganttProperties), ganttData.ganttProperties, true);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](ganttData.ganttProperties.baselineEndDate);\n                    if (ganttData.ganttProperties.baselineEndDate && ganttData.ganttProperties.baselineEndDate.getHours() === 0 &&\n                        dayEndTime !== 86400) {\n                        ganttObj.dataOperation.setTime(dayEndTime, ganttData.ganttProperties.baselineEndDate);\n                    }\n                    if ((ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate &&\n                        (ganttData.ganttProperties.baselineStartDate.getTime() > ganttData.ganttProperties.baselineEndDate.getTime())) ||\n                        ((!isNullOrUndefined(ganttData.ganttProperties.baselineStartDate) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.startDate) &&\n                            (ganttData.ganttProperties.baselineStartDate.getTime() === ganttData.ganttProperties.startDate.getTime()))\n                            && (!isNullOrUndefined(ganttData.ganttProperties.baselineEndDate) &&\n                                !isNullOrUndefined(ganttData.ganttProperties.endDate) &&\n                                (ganttData.ganttProperties.baselineEndDate.toLocaleDateString() ===\n                                    ganttData.ganttProperties.endDate.toLocaleDateString())) &&\n                            ganttData.ganttProperties.isMilestone)) {\n                        ganttData.ganttProperties.baselineEndDate = ganttData.ganttProperties.baselineStartDate;\n                    }\n                    ganttObj.setRecordValue('baselineEndDate', ganttObj.dataOperation.checkBaselineEndDate(ganttData.ganttProperties.baselineEndDate), ganttData.ganttProperties, true);\n                    ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                    ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                /* eslint-disable-next-line */\n                if (key === tasks.segments && data && !isNullOrUndefined(data[this.parent.taskFields.segments]) && data[this.parent.taskFields.segments].length > 0) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                    }\n                    ganttObj.dataOperation.setSegmentsInfo(ganttData, true);\n                }\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.indicators === key) {\n                var value = data[key];\n                ganttObj.setRecordValue('indicators', value, ganttData.ganttProperties, true);\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.work === key) {\n                ganttObj.setRecordValue('work', data[key], ganttData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(ganttData, 'work');\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n            }\n            else if (key === tasks.type) {\n                ganttObj.setRecordValue('taskType', data[key], ganttData.ganttProperties, true);\n                //this.parent.dataOperation.updateMappingData(ganttData, 'taskType');\n            }\n            else if (ganttObj.customColumns.indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (isNullOrUndefined(column.edit)) {\n                    if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n                        value = ganttObj.dataOperation.getDateFromFormat(value);\n                    }\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.manual === key) {\n                ganttObj.setRecordValue('isAutoSchedule', !data[key], ganttData.ganttProperties, true);\n                this.parent.setRecordValue(key, data[key], ganttData);\n                this.updateTaskScheduleModes(ganttData);\n            }\n        }\n        if (isScheduleValueUpdated) {\n            this.validateScheduleValues(scheduleFieldNames, ganttData, data);\n        }\n    };\n    /**\n     * To update duration, work, resource unit\n     *\n     * @param {IGanttData} currentData .\n     * @param {string} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceRelatedFields = function (currentData, column) {\n        var ganttProp = currentData.ganttProperties;\n        var previousdata = this.parent.previousRecords;\n        var taskType = ganttProp.taskType ? ganttProp.taskType : this.parent.taskType;\n        var isEffectDriven;\n        var isAutoSchedule = ganttProp.isAutoSchedule;\n        var resources = (this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : currentData.ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources)) {\n            switch (taskType) {\n                case 'FixedUnit':\n                    if (!isNullOrUndefined(previousdata[ganttProp.uniqueID]) &&\n                        !isNullOrUndefined(previousdata[ganttProp.uniqueID].ganttProperties) &&\n                        (previousdata[ganttProp.uniqueID].ganttProperties.resourceNames\n                            === null ||\n                            previousdata[ganttProp.uniqueID].ganttProperties.resourceNames === '')) {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule && resources.length) {\n                        if (column === 'resource' || column === 'work') {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                        else if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                            }\n                        }\n                    }\n                    else if (!isAutoSchedule && column === 'work') {\n                        this.parent.dataOperation.updateUnitWithWork(currentData);\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n                case 'FixedWork':\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule) {\n                        if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                            }\n                        }\n                        else {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                    }\n                    else {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                    }\n                    break;\n                case 'FixedDuration':\n                    if (resources.length === 0) {\n                        // To validate the work column, if set duration as 0 via celledit action, where resource colection is 0\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        return;\n                    }\n                    if (resources.length && (column === 'work' || (isAutoSchedule &&\n                        isEffectDriven && (column === 'resource')))) {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n            }\n        }\n        // To validate the work colum if set duration as 0, while resource is null/undefined\n        else if (isNullOrUndefined(resources) && taskType === 'FixedDuration' && ganttProp.duration === 0) {\n            this.parent.dataOperation.updateWorkWithDuration(currentData);\n        }\n    };\n    Edit.prototype.validateScheduleValues = function (fieldNames, ganttData, data) {\n        var ganttObj = this.parent;\n        if (fieldNames.length > 2) {\n            ganttObj.dataOperation.calculateScheduledValues(ganttData, data, false);\n        }\n        else if (fieldNames.length > 1) {\n            this.validateScheduleByTwoValues(data, fieldNames, ganttData);\n        }\n        else {\n            this.dialogModule.validateScheduleValuesByCurrentField(fieldNames[0], data[fieldNames[0]], ganttData);\n        }\n    };\n    Edit.prototype.validateScheduleByTwoValues = function (data, fieldNames, ganttData) {\n        var ganttObj = this.parent;\n        var startDate;\n        var endDate;\n        var duration;\n        var tasks = ganttObj.taskFields;\n        var ganttProp = ganttData.ganttProperties;\n        var isUnscheduledTask = ganttObj.allowUnscheduledTasks;\n        if (fieldNames.indexOf(tasks.startDate) !== -1) {\n            startDate = data[tasks.startDate];\n        }\n        if (fieldNames.indexOf(tasks.endDate) !== -1) {\n            endDate = data[tasks.endDate];\n        }\n        if (fieldNames.indexOf(tasks.duration) !== -1) {\n            duration = data[tasks.duration];\n        }\n        if (startDate && endDate || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1) &&\n            (fieldNames.indexOf(tasks.endDate) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.calculateDuration(ganttData);\n        }\n        else if (endDate && duration || (isUnscheduledTask &&\n            (fieldNames.indexOf(tasks.endDate) !== -1) && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n        else if (startDate && duration || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1)\n            && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n    };\n    Edit.prototype.isTaskbarMoved = function (data) {\n        var isMoved = false;\n        var taskData = data.ganttProperties;\n        var prevData = this.parent.previousRecords &&\n            this.parent.previousRecords[data.uniqueID];\n        if (prevData && prevData.ganttProperties) {\n            var prevStart = getValue('ganttProperties.startDate', prevData);\n            var prevEnd = getValue('ganttProperties.endDate', prevData);\n            var prevDuration = getValue('ganttProperties.duration', prevData);\n            var prevDurationUnit = getValue('ganttProperties.durationUnit', prevData);\n            var keys = Object.keys(prevData.ganttProperties);\n            if (keys.indexOf('startDate') !== -1 || keys.indexOf('endDate') !== -1 ||\n                keys.indexOf('duration') !== -1 || keys.indexOf('durationUnit') !== -1) {\n                if ((isNullOrUndefined(prevStart) && !isNullOrUndefined(taskData.startDate)) ||\n                    (isNullOrUndefined(prevEnd) && !isNullOrUndefined(taskData.endDate)) ||\n                    (isNullOrUndefined(taskData.startDate) && !isNullOrUndefined(prevStart)) ||\n                    (isNullOrUndefined(taskData.endDate) && !isNullOrUndefined(prevEnd)) ||\n                    (prevStart && prevStart.getTime() !== taskData.startDate.getTime())\n                    || (prevEnd && prevEnd.getTime() !== taskData.endDate.getTime())\n                    || (!isNullOrUndefined(prevDuration) && prevDuration !== taskData.duration)\n                    || (!isNullOrUndefined(prevDuration) && prevDuration === taskData.duration &&\n                        prevDurationUnit !== taskData.durationUnit)) {\n                    isMoved = true;\n                }\n            }\n        }\n        return isMoved;\n    };\n    Edit.prototype.isPredecessorUpdated = function (data) {\n        var isPredecessorUpdated = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            if (data.ganttProperties.predecessorsName !== prevData.ganttProperties.predecessorsName &&\n                !(data.ganttProperties.predecessorsName === '' &&\n                    isNullOrUndefined(prevData.ganttProperties.predecessorsName))) {\n                isPredecessorUpdated = true;\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevData.ganttProperties.predecessor, data.ganttProperties, true);\n            }\n        }\n        return isPredecessorUpdated;\n    };\n    /**\n     * Method to check need to open predecessor validate dialog\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     */\n    Edit.prototype.isCheckPredecessor = function (data) {\n        var isValidatePredecessor = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        if (prevData && this.parent.taskFields.dependency && this.parent.isInPredecessorValidation &&\n            this.parent.predecessorModule.getValidPredecessor(data).length > 0) {\n            if (this.isTaskbarMoved(data)) {\n                isValidatePredecessor = true;\n            }\n        }\n        return isValidatePredecessor;\n    };\n    /**\n     * Method to copy the ganttProperties values\n     *\n     * @param {IGanttData} data .\n     * @param {IGanttData} updateData .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateGanttProperties = function (data, updateData) {\n        var skipProperty = ['taskId', 'uniqueID', 'rowUniqueID', 'parentId'];\n        Object.keys(data.ganttProperties).forEach(function (property) {\n            if (skipProperty.indexOf(property) === -1) {\n                updateData.ganttProperties[property] = data.ganttProperties[property];\n            }\n        });\n    };\n    /**\n     * Method to update all dependent record on edit action\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateUpdateAction = function (args) {\n        var isValidatePredecessor = this.isCheckPredecessor(args.data);\n        var parentData;\n        var childRecordIndex;\n        if (!isNullOrUndefined(args.data.parentItem) && !isValidatePredecessor) {\n            parentData = this.parent.getRecordByID(args.data.parentItem.taskId);\n            if (this.isTaskbarMoved(args.data) && this.parent.predecessorModule.getValidPredecessor(parentData).length > 0\n                && this.parent.isInPredecessorValidation) {\n                isValidatePredecessor = true;\n            }\n            else {\n                isValidatePredecessor = false;\n            }\n        }\n        else if (args.data.childRecords.length > 0 && !isValidatePredecessor) {\n            isValidatePredecessor = this.isCheckPredecessor(args.data);\n            if (!isValidatePredecessor && this.isTaskbarMoved(args.data)) {\n                for (var i = 0; i < args.data.childRecords.length; i++) {\n                    if (this.parent.predecessorModule.getValidPredecessor(args.data.childRecords[i]).length > 0) {\n                        childRecordIndex = i;\n                        isValidatePredecessor = true;\n                    }\n                }\n            }\n        }\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['currentAction'] ||\n            (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['action'] !== 'indent' &&\n                this.parent.undoRedoModule['currentAction']['action'] !== 'outdent'))) {\n            this.taskbarMoved = this.isTaskbarMoved(args.data);\n        }\n        this.predecessorUpdated = this.isPredecessorUpdated(args.data);\n        if (this.predecessorUpdated) {\n            this.parent.isConnectorLineUpdate = true;\n            this.parent.connectorLineEditModule.addRemovePredecessor(args.data);\n        }\n        var validateObject = {};\n        if (isValidatePredecessor && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(parentData)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(parentData, args.data);\n            }\n            else if (!isNullOrUndefined(childRecordIndex)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data.childRecords[childRecordIndex], args.data);\n            }\n            else {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data);\n            }\n            this.parent.isConnectorLineUpdate = true;\n            if (!isNullOrUndefined(getValue('violationType', validateObject))) {\n                var newArgs = this.validateTaskEvent(args);\n                if (newArgs.validateMode.preserveLinkWithEditing === false &&\n                    newArgs.validateMode.removeLink === false &&\n                    newArgs.validateMode.respectLink === false) {\n                    this.parent.connectorLineEditModule.openValidationDialog(validateObject);\n                }\n                else {\n                    if (this.parent.editModule && this.parent.editModule.dialogModule &&\n                        this.parent.editModule.dialogModule['isEdit'] && this.predecessorUpdated) {\n                        this.isValidatedEditedRecord = true;\n                        this.parent.predecessorModule.validatePredecessor(args.data, [], '');\n                    }\n                    this.parent.connectorLineEditModule.applyPredecessorOption();\n                }\n            }\n            else {\n                this.updateEditedTask(args);\n            }\n        }\n        else {\n            if (this.taskbarMoved) {\n                this.parent.isConnectorLineUpdate = true;\n            }\n            this.updateEditedTask(args);\n        }\n    };\n    /**\n     *\n     * @param {ITaskbarEditedEventArgs} editedEventArgs method to trigger validate predecessor link by dialog\n     * @returns {IValidateArgs} .\n     */\n    Edit.prototype.validateTaskEvent = function (editedEventArgs) {\n        var newArgs = {};\n        this.resetValidateArgs();\n        this.parent.currentEditedArgs = newArgs;\n        newArgs.cancel = false;\n        newArgs.data = editedEventArgs.data;\n        newArgs.requestType = 'validateLinkedTask';\n        newArgs.validateMode = this.parent.dialogValidateMode;\n        newArgs.editEventArgs = editedEventArgs;\n        this.parent.actionBeginTask(newArgs);\n        return newArgs;\n    };\n    Edit.prototype.resetValidateArgs = function () {\n        this.parent.dialogValidateMode.preserveLinkWithEditing = true;\n        this.parent.dialogValidateMode.removeLink = false;\n        this.parent.dialogValidateMode.respectLink = false;\n    };\n    Edit.prototype.validateChildPredecessors = function () {\n        for (var i = 0; i < this.parent.predecessorModule.validatedChildItems.length; i++) {\n            var child = this.parent.predecessorModule.validatedChildItems[i];\n            if (child.ganttProperties.predecessor && child.ganttProperties.predecessor.length > 0) {\n                this.parent.editedTaskBarItem = child;\n                if (!this.isValidatedEditedRecord) {\n                    this.isFirstCall = true;\n                }\n                this.parent.predecessorModule.validatePredecessor(child, [], '');\n            }\n        }\n    };\n    /**\n     *\n     * @param {ITaskAddedEventArgs} args - Edited event args like taskbar editing, dialog editing, cell editing\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateEditedTask = function (args) {\n        var ganttRecord = args.data;\n        this.editedRecord = ganttRecord;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.updateParentChildRecord(ganttRecord);\n        }\n        if (this.parent.predecessorModule) {\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n        }\n        if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            /* validating predecessor for updated child items */\n            this.validateChildPredecessors();\n            /** validating predecessor for current edited records */\n            if (ganttRecord.ganttProperties.predecessor) {\n                this.parent.isMileStoneEdited = ganttRecord.ganttProperties.isMilestone;\n                if (this.taskbarMoved) {\n                    this.parent.editedTaskBarItem = ganttRecord;\n                }\n                if (!this.isValidatedEditedRecord) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(ganttRecord, [], '');\n                    this.parent.predecessorModule.isChildRecordValidated = [];\n                }\n                this.isValidatedEditedRecord = false;\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.allowParentDependency && this.parent.predecessorModule.isValidatedParentTaskID !==\n                ganttRecord.ganttProperties.taskId && ganttRecord.hasChildRecords &&\n                (this.parent.previousRecords[ganttRecord.uniqueID].ganttProperties.startDate) && (args.action !== 'TaskbarEditing') &&\n                (!ganttRecord.hasChildRecords || (ganttRecord.hasChildRecords && ganttRecord.ganttProperties.isAutoSchedule))) {\n                this.parent.predecessorModule['updateChildItems'](ganttRecord);\n                this.validateChildPredecessors();\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                    if (ganttRecord.childRecords[i].ganttProperties.predecessor) {\n                        this.parent.predecessorModule.validatePredecessor(ganttRecord.childRecords[i], [], '');\n                    }\n                }\n            }\n            this.updateParentItemOnEditing();\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n        /** Update parent up-to zeroth level */\n        if (ganttRecord.parentItem) {\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.parent.dataOperation.updateParentItems(ganttRecord, true);\n            }\n            var parentData = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            if (!isNullOrUndefined(parentData)) {\n                if (!parentData.ganttProperties.predecessorsName) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(parentData, [], '');\n                    this.updateParentItemOnEditing();\n                }\n            }\n        }\n        if (this.parent.updateOffsetOnTaskbarEdit && this.parent.connectorLineEditModule && args.data) {\n            this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n            this.parent.connectorLineEditModule['calculateOffset'](args.data);\n        }\n        this.parent.predecessorModule['validatedParentIds'] = [];\n        if (isNullOrUndefined(this.dialogModule) || (this.dialogModule && !this.dialogModule['isFromDialogPredecessor'])) {\n            this.initiateSaveAction(args);\n        }\n    };\n    Edit.prototype.updateParentItemOnEditing = function () {\n        var _this = this;\n        var childRecord = getValue('parentRecord', this.parent.predecessorModule);\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        if (this.parent.editModule['updateParentRecords'] && this.parent.editModule['updateParentRecords'].length > 0) {\n            this.parent.editModule['updateParentRecords'].forEach(function (record) {\n                if (record.ganttProperties.predecessor && record.ganttProperties.predecessor.length > 0) {\n                    _this.parent.predecessorModule.validatePredecessor(record, [], '');\n                }\n            });\n        }\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        setValue('parentRecord', [], this.parent.predecessorModule);\n        setValue('parentIds', [], this.parent.predecessorModule);\n    };\n    /**\n     * To update parent records while perform drag action.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentChildRecord = function (data) {\n        var ganttRecord = data;\n        if (ganttRecord.hasChildRecords && this.taskbarMoved && (ganttRecord[this.parent.taskFields.manual] === false ||\n            this.parent.taskMode === 'Auto') && (!isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isResourceCellEdited)) {\n            this.parent.predecessorModule['updateChildItems'](ganttRecord);\n        }\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n            this.parent.editModule.cellEditModule.isResourceCellEdited = false;\n        }\n    };\n    /**\n     * To update records while changing schedule mode.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateTaskScheduleModes = function (data) {\n        var currentValue = data[this.parent.taskFields.startDate];\n        var ganttProp = data.ganttProperties;\n        if (this.parent.taskFields.manual) {\n            this.parent.setRecordValue(this.parent.taskFields.manual, !data.ganttProperties.isAutoSchedule, data);\n        }\n        if (data.hasChildRecords && ganttProp.isAutoSchedule) {\n            this.parent.setRecordValue('startDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('endDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('taskData.StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('taskData.EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data, true), ganttProp, true);\n            this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttProp, true), ganttProp, true);\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(ganttProp.width, ganttProp.progress), ganttProp, true);\n            this.parent.dataOperation.calculateDuration(data);\n        }\n        else if (data.hasChildRecords && !ganttProp.isAutoSchedule) {\n            this.parent.dataOperation.updateWidthLeft(data);\n            this.parent.dataOperation.calculateDuration(data);\n            this.parent.setRecordValue('autoStartDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('autoEndDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('autoDuration', this.parent.dataOperation.calculateAutoDuration(data), ganttProp, true);\n            this.parent.dataOperation.updateAutoWidthLeft(data);\n        }\n        else {\n            var startDate = this.parent.dateValidationModule.checkStartDate(currentValue, data.ganttProperties);\n            this.parent.setRecordValue('startDate', startDate, data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(data, 'startDate');\n            this.parent.dateValidationModule.calculateEndDate(data);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.manual, data[this.parent.taskFields.manual], data);\n            this.parent.dataOperation.updateWidthLeft(data);\n        }\n    };\n    /**\n     * To update progress value of parent tasks\n     *\n     * @param {IParent} cloneParent .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentProgress = function (cloneParent) {\n        var parentProgress = 0;\n        var parent = this.parent.getParentTask(cloneParent);\n        var childRecords = parent.childRecords;\n        var childCount = childRecords ? childRecords.length : 0;\n        var totalProgress = 0;\n        var milesStoneCount = 0;\n        var taskCount = 0;\n        var totalDuration = 0;\n        var progressValues = {};\n        if (childRecords) {\n            for (var i = 0; i < childCount; i++) {\n                if ((!childRecords[i].ganttProperties.isMilestone || childRecords[i].hasChildRecords) &&\n                    isScheduledTask(childRecords[i].ganttProperties)) {\n                    progressValues = this.parent.dataOperation.getParentProgress(childRecords[i]);\n                    totalProgress += getValue('totalProgress', progressValues);\n                    totalDuration += getValue('totalDuration', progressValues);\n                }\n                else {\n                    milesStoneCount += 1;\n                }\n            }\n            taskCount = childCount - milesStoneCount;\n            parentProgress = taskCount > 0 ? Math.round(totalProgress / totalDuration) : 0;\n            if (isNaN(parentProgress)) {\n                parentProgress = 0;\n            }\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(parent.ganttProperties.isAutoSchedule ? parent.ganttProperties.width : parent.ganttProperties.autoWidth, parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('progress', Math.floor(parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('totalProgress', totalProgress, parent.ganttProperties, true);\n            this.parent.setRecordValue('totalDuration', totalDuration, parent.ganttProperties, true);\n        }\n        this.parent.dataOperation.updateTaskData(parent);\n        if (parent.parentItem) {\n            this.updateParentProgress(parent.parentItem);\n        }\n    };\n    /**\n     * Method to revert cell edit action\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.revertCellEdit = function (args) {\n        this.parent.editModule.reUpdatePreviousRecords(false, true);\n        this.resetEditProperties();\n    };\n    /**\n     * @param {boolean} isRefreshChart .\n     * @param {boolean} isRefreshGrid .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdatePreviousRecords = function (isRefreshChart, isRefreshGrid) {\n        var collection = this.parent.previousRecords;\n        var keys = Object.keys(collection);\n        for (var i = 0; i < keys.length; i++) {\n            var uniqueId = keys[i];\n            var prevTask = collection[uniqueId];\n            var originalData = this.parent.getTaskByUniqueID(uniqueId);\n            this.copyTaskData(originalData.taskData, prevTask.taskData);\n            delete prevTask.taskData;\n            this.copyTaskData(originalData.ganttProperties, prevTask.ganttProperties);\n            delete prevTask.ganttProperties;\n            this.copyTaskData(originalData, prevTask);\n            var rowIndex = this.parent.currentViewData.indexOf(originalData);\n            if (isRefreshChart) {\n                this.parent.chartRowsModule.refreshRow(rowIndex);\n            }\n            if (isRefreshGrid) {\n                var dataId = this.parent.viewType === 'ProjectView' ? originalData.ganttProperties.taskId : originalData.ganttProperties.rowUniqueID;\n                this.parent.treeGrid.grid.setRowData(dataId, originalData);\n                var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[rowIndex].getAttribute('data-uid'));\n                row.data = originalData;\n            }\n        }\n    };\n    /**\n     * Copy previous task data value to edited task data\n     *\n     * @param {object} existing .\n     * @param {object} newValue .\n     * @returns {void} .\n     */\n    Edit.prototype.copyTaskData = function (existing, newValue) {\n        if (!isNullOrUndefined(newValue)) {\n            extend(existing, newValue);\n        }\n    };\n    /**\n     * To update schedule date on editing.\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.updateScheduleDatesOnEditing = function (args) {\n        //..\n    };\n    /**\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateSaveAction = function (args) {\n        var _this = this;\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeSave';\n        eventArgs.data = args.data;\n        eventArgs.cancel = false;\n        this.createArray = true;\n        if (this.parent.toolbarModule && this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true); // enable toolbar items.\n        }\n        eventArgs.modifiedRecords = this.parent.editedRecords;\n        if (!isNullOrUndefined(args.target)) {\n            eventArgs.target = args.target;\n        }\n        eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, true);\n        if (args.action === 'DrawConnectorLine' || args.action === 'DeleteConnectorLine') {\n            eventArgs.action = args.action;\n            if (args.action === 'DeleteConnectorLine') {\n                this.parent.connectorLineEditModule['isPublicDependencyDelete'] = false;\n                if (this.parent.contextMenuModule) {\n                    this.parent.contextMenuModule['isCntxtMenuDependencyDelete'] = false;\n                }\n            }\n        }\n        var ganttObj = this.parent;\n        var currentBaselineStart = __assign({}, eventArgs.data.ganttProperties.baselineStartDate);\n        var currentBaselineEnd = __assign({}, eventArgs.data.ganttProperties.baselineEndDate);\n        var currentProgress = eventArgs.data.ganttProperties.progress;\n        /* eslint-disable-next-line */\n        var unModifiedData = JSON.parse(JSON.stringify(eventArgs.data.ganttProperties));\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (currentBaselineStart !== eventArg.data['ganttProperties'].baselineStartDate\n                || currentBaselineEnd !== eventArg.data['ganttProperties'].baselineEndDate) {\n                ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n                ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n            }\n            if (_this.parent.autoCalculateDateScheduling && unModifiedData !== eventArg.data['ganttProperties'] &&\n                !isNullOrUndefined(eventArg.data['parentItem'])) {\n                _this.updateParentItemOnEditing();\n                _this.parent.dataOperation.updateParentItems(eventArg.data, true);\n            }\n            var ganttProps = eventArg.data['ganttProperties'];\n            var startDate = ganttProps.startDate, endDate = ganttProps.endDate, segments = ganttProps.segments, durationUnit = ganttProps.durationUnit, isAutoSchedule = ganttProps.isAutoSchedule, isMilestone = ganttProps.isMilestone;\n            if (startDate && endDate && !segments) {\n                var duration = _this.parent.dateValidationModule.getDuration(startDate, endDate, durationUnit, isAutoSchedule, isMilestone, true);\n                if (duration !== 0) {\n                    ganttProps.isMilestone = false;\n                    _this.parent.dateValidationModule.calculateDuration(eventArg.data);\n                }\n            }\n            _this.parent.dataOperation.updateWidthLeft(eventArg.data);\n            if (!isNullOrUndefined(_this.parent.taskFields.progress) && currentProgress !== eventArg.data['ganttProperties'].progress) {\n                var width = eventArg.data['ganttProperties'].isAutoSchedule ? eventArg.data['ganttProperties'].width :\n                    eventArg.data['ganttProperties'].autoWidth;\n                _this.parent.setRecordValue('progressWidth', _this.parent.dataOperation.getProgressWidth(width, eventArg.data['ganttProperties'].progress), eventArg.data['ganttProperties'], true);\n            }\n            _this.parent.chartRowsModule.updateSegment(eventArg.data['ganttProperties'].segments, eventArg.data['ganttProperties'].taskId);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArg.cancel) {\n                _this.reUpdatePreviousRecords();\n                _this.parent.chartRowsModule.refreshRecords([args.data]);\n                _this.resetEditProperties(eventArgs);\n                // Trigger action complete event with save canceled request type\n            }\n            else {\n                // To update task data for modified records.\n                if (eventArg.modifiedRecords) {\n                    for (var i = 0; i < eventArg.modifiedRecords.length; i++) {\n                        _this.parent.dataOperation.updateTaskData(eventArg.modifiedRecords[i]);\n                    }\n                }\n                eventArg.modifiedTaskData = getTaskData(eventArg.modifiedRecords, null, null, _this.parent);\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data = _this.parent.dataSource;\n                    var updatedData = {\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    var crud = null;\n                    var dataAdaptor = data.adaptor;\n                    if (!(dataAdaptor instanceof WebApiAdaptor && dataAdaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                        crud = data.saveChanges(updatedData, _this.parent.taskFields.id, null, query);\n                    }\n                    else {\n                        var changedRecords = 'changedRecords';\n                        crud = data.update(_this.parent.taskFields.id, updatedData[changedRecords], null, query);\n                    }\n                    crud.then(function (e) { return _this.dmSuccess(e, args); })\n                        .catch(function (e) { return _this.dmFailure(e, args); });\n                }\n                else {\n                    _this.saveSuccess(args);\n                }\n                if (_this.parent.enableVirtualization && _this.parent.enableTimelineVirtualization) {\n                    _this.parent.ganttChartModule['setVirtualHeight']();\n                }\n                if (_this.parent.undoRedoModule) {\n                    _this.parent.previousFlatData = extend([], _this.parent.flatData, [], true);\n                }\n            }\n        });\n        this.parent.ganttChartModule.reRenderConnectorLines();\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateEditedFields = function (e) {\n        var eLength;\n        var rec;\n        if (e.changedRecords) {\n            eLength = e.changedRecords['length'];\n        }\n        else {\n            eLength = e['length'];\n        }\n        for (var i = 0; i < eLength; i++) {\n            if (e.changedRecords) {\n                rec = e.changedRecords[parseInt(i.toString(), 10)];\n            }\n            else {\n                rec = e[parseInt(i.toString(), 10)];\n            }\n            var _aLength = Object.keys(rec).length;\n            for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n                var key = _a[parseInt(j.toString(), 10)];\n                this.parent.editedRecords[parseInt(i.toString(), 10)][\"\" + key] = rec[\"\" + key];\n                this.parent.editedRecords[parseInt(i.toString(), 10)].taskData[\"\" + key] = rec[\"\" + key];\n            }\n            this.updateEditedRecordFields(rec, this.parent.editedRecords[parseInt(i.toString(), 10)]);\n        }\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.dmSuccess = function (e, args) {\n        this.updateEditedFields(e);\n        this.saveSuccess(args);\n    };\n    Edit.prototype.updateEditedRecordFields = function (rec, editedRecord) {\n        var fields = this.parent.taskFields;\n        var _aLength = Object.keys(rec).length;\n        for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            editedRecord[\"\" + key] = rec[\"\" + key];\n        }\n        if (fields.id !== null) {\n            editedRecord.ganttProperties['taskId'] = rec[fields.id];\n        }\n        if (fields.name !== null) {\n            editedRecord.ganttProperties['taskName'] = rec[fields.name];\n        }\n        if (fields.startDate !== null) {\n            editedRecord.ganttProperties['startDate'] = rec[fields.startDate];\n        }\n        if (fields.endDate !== null) {\n            editedRecord.ganttProperties['endDate'] = rec[fields.endDate];\n        }\n        if (fields.duration !== null) {\n            editedRecord.ganttProperties['duration'] = parseFloat(rec[fields.duration]);\n        }\n        if (fields.durationUnit !== null) {\n            editedRecord.ganttProperties['durationUnit'] = rec[fields.durationUnit];\n        }\n        if (fields.progress !== null) {\n            editedRecord.ganttProperties['progress'] = rec[fields.progress];\n        }\n        if (fields.dependency !== null) {\n            editedRecord.ganttProperties['dependency'] = rec[fields.dependency];\n        }\n        if (fields.parentID !== null) {\n            editedRecord.ganttProperties['parentID'] = rec[fields.parentID];\n        }\n        if (fields.baselineEndDate !== null) {\n            editedRecord.ganttProperties['baselineEndDate'] = rec[fields.baselineEndDate];\n        }\n        if (fields.baselineStartDate !== null) {\n            editedRecord.ganttProperties['baselineStartDate'] = rec[fields.baselineStartDate];\n        }\n        if (fields.resourceInfo !== null) {\n            editedRecord.ganttProperties['resources'] = rec[fields.resourceInfo];\n        }\n    };\n    Edit.prototype.dmFailure = function (e, args) {\n        if (this.deletedTaskDetails.length) {\n            var deleteRecords = this.deletedTaskDetails;\n            for (var d = 0; d < deleteRecords.length; d++) {\n                deleteRecords[d].isDelete = false;\n            }\n            this.deletedTaskDetails = [];\n        }\n        this.reUpdatePreviousRecords(true, true);\n        this.resetEditProperties();\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.updateSharedTask = function (data) {\n        var ids = data.ganttProperties.sharedTaskUniqueIds;\n        for (var i = 0; i < ids.length; i++) {\n            var editRecord = this.parent.flatData[this.parent.ids.indexOf(ids[i].toString())];\n            if (editRecord && editRecord.uniqueID !== data.uniqueID) {\n                this.updateGanttProperties(data, editRecord);\n                this.parent.setRecordValue('taskData', data.taskData, editRecord, true);\n                this.parent.dataOperation.updateTaskData(editRecord);\n                this.parent.dataOperation.updateResourceName(editRecord);\n                if (!isNullOrUndefined(editRecord.parentItem)) {\n                    this.parent.dataOperation.updateParentItems(editRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Method for save action success for local and remote data\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     */\n    Edit.prototype.saveSuccess = function (args) {\n        var eventArgs = {};\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = this.parent.editedRecords;\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.action === 'TaskbarEditing' || args.action === 'DrawConnectorLine' || args.action === 'DeleteConnectorLine') {\n                this.updateSharedTask(args.data);\n            }\n            else if (args.action === 'DialogEditing' || args.action === 'CellEditing' || args.action === 'methodUpdate') {\n                if (this.parent.editModule.dialogModule.isResourceUpdate) {\n                    /* eslint-disable-next-line */\n                    this.updateResoures(this.parent.editModule.dialogModule.previousResource, args.data.ganttProperties.resourceInfo, args.data);\n                    this.updateSharedTask(args.data);\n                    this.isTreeGridRefresh = true;\n                }\n                else {\n                    this.updateSharedTask(args.data);\n                }\n            }\n            // method to update the edited parent records\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.editModule.dialogModule.isResourceUpdate = false;\n            this.parent.editModule.dialogModule.previousResource = [];\n        }\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.showCriticalPath(true);\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (!this.isTreeGridRefresh) {\n            if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                if (!this.parent.treeGrid.grid.element.querySelector('form').ej2_instances[0].validate()) {\n                    setValue('isEdit', false, this.parent.treeGrid.grid);\n                    this.parent.editModule.cellEditModule.isCellEdit = false;\n                }\n                this.parent.treeGrid.endEdit();\n            }\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n            if (!this.parent.allowTaskbarOverlap && this.parent.showOverAllocation) {\n                this.parent.contentHeight = this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.ganttChartModule.chartBodyContent.style.height = this.parent.contentHeight + 'px';\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                if (this.parent.taskFields.dependency) {\n                    this.parent.ganttChartModule.reRenderConnectorLines();\n                }\n            }\n            if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['currentAction'] &&\n                this.parent.undoRedoModule['currentAction']['connectedRecords'])) && !isNullOrUndefined(this.parent.connectorLineEditModule)) {\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.connectorLineIds = [];\n                this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.editedRecords);\n                this.updateScheduleDatesOnEditing(args);\n            }\n        }\n        if (!this.parent.editSettings.allowTaskbarEditing || (this.parent.editSettings.allowTaskbarEditing &&\n            !this.taskbarEditModule.dependencyCancel)) {\n            eventArgs.requestType = 'save';\n            eventArgs.data = args.data;\n            eventArgs.modifiedRecords = this.parent.editedRecords;\n            eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, null, null, this.parent);\n            this.updateRowIndex();\n            if (!isNullOrUndefined(args.action)) {\n                setValue('action', args.action, eventArgs);\n            }\n            if (args.action === 'TaskbarEditing') {\n                eventArgs.taskBarEditAction = args.taskBarEditAction;\n            }\n            this.endEditAction(args);\n            this.parent.trigger('actionComplete', eventArgs);\n            if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['draggedRecord']) {\n                this.parent.rowDragAndDropModule['draggedRecord'] = null;\n            }\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        else {\n            this.taskbarEditModule.dependencyCancel = false;\n            this.resetEditProperties();\n        }\n        if (this.parent.viewType === 'ResourceView' && this.isTreeGridRefresh) {\n            this.parent.treeGrid.parentData = [];\n            this.parent.updatedConnectorLineCollection = [];\n            this.parent.connectorLineIds = [];\n            this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n            this.parent.treeGrid.refresh();\n            this.isTreeGridRefresh = false;\n        }\n        this.parent.editedRecords = [];\n    };\n    Edit.prototype.updateResoures = function (prevResource, currentResource, updateRecord) {\n        var flatRecords = this.parent.flatData;\n        var currentLength = currentResource ? currentResource.length : 0;\n        var previousLength = prevResource ? prevResource.length : 0;\n        if (currentLength === 0 && previousLength === 0) {\n            return;\n        }\n        for (var index = 0; index < currentLength; index++) {\n            var recordIndex = [];\n            var resourceID = parseInt(currentResource[index][this.parent.resourceFields.id], 10).toString();\n            if (resourceID === 'NaN') {\n                resourceID = currentResource[index][this.parent.resourceFields.id];\n            }\n            if (!isNullOrUndefined(prevResource)) {\n                for (var i = 0; i < prevResource.length; i++) {\n                    var prevResourceID = parseInt(prevResource[i][this.parent.resourceFields.id], 10).toString();\n                    if (prevResourceID === 'NaN') {\n                        prevResourceID = prevResource[i][this.parent.resourceFields.id];\n                    }\n                    if (prevResourceID === resourceID) {\n                        recordIndex.push(i);\n                        break;\n                    }\n                }\n            }\n            if (recordIndex.length === 0) {\n                var parentRecord = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n                if (parentRecord) {\n                    this.addNewRecord(updateRecord, parentRecord);\n                }\n            }\n            else {\n                var record1 = parseInt(recordIndex[0].toString(), 10);\n                if (record1.toString() === 'NaN') {\n                    record1 = recordIndex[0].toString();\n                }\n                prevResource.splice(record1, 1);\n            }\n        }\n        var prevLength = prevResource ? prevResource.length : 0;\n        for (var index = 0; index < prevLength; index++) {\n            var taskID = updateRecord.ganttProperties.taskId;\n            var resourceID = prevResource[index][this.parent.resourceFields.id];\n            var record = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n            if (!isNullOrUndefined(record)) {\n                for (var j = 0; j < record.childRecords.length; j++) {\n                    if (record.childRecords[j].ganttProperties.taskId === taskID) {\n                        this.removeChildRecord(record.childRecords[j]);\n                    }\n                }\n            }\n        }\n        if (currentLength > 0) {\n            var parentTask = this.parent.getParentTask(updateRecord.parentItem);\n            if (parentTask) {\n                if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                    this.removeChildRecord(updateRecord);\n                }\n            }\n        }\n        //Assign resource to unassigned task\n        if (currentLength === 0) {\n            this.checkWithUnassignedTask(updateRecord);\n        }\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.flatData[this.parent.flatData.length - 1].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n            this.parent.flatData.splice(this.parent.flatData.length - 1, 1);\n            this.parent.currentViewData.splice(this.parent.currentViewData.length - 1, 1);\n            this.parent.taskIds.splice(this.parent.flatData.length - 1, 1);\n            this.parent.ids.splice(this.parent.flatData.length - 1, 1);\n        }\n    };\n    /**\n     * @param {IGanttData} updateRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.checkWithUnassignedTask = function (updateRecord) {\n        var unassignedTasks = null;\n        // Block for check the unassigned task.\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            if (this.parent.flatData[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                unassignedTasks = this.parent.flatData[i];\n            }\n        }\n        if (!isNullOrUndefined(unassignedTasks)) {\n            this.addNewRecord(updateRecord, unassignedTasks);\n        }\n        else {\n            // Block for create the unassigned task.\n            var unassignTaskObj = {};\n            unassignTaskObj[this.parent.taskFields.id] = 0;\n            unassignTaskObj[this.parent.taskFields.name] = this.parent.localeObj.getConstant('unassignedTask');\n            var beforeEditStatus = this.parent.isOnEdit;\n            this.parent.isOnEdit = false;\n            var cAddedRecord = this.parent.dataOperation.createRecord(unassignTaskObj, 0);\n            this.parent.isOnEdit = beforeEditStatus;\n            this.addRecordAsBottom(cAddedRecord);\n            var parentRecord = this.parent.flatData[this.parent.flatData.length - 1];\n            var index = this.parent.flatData.indexOf(parentRecord);\n            var childIndex = (index + 1) + parentRecord.childRecords.length;\n            updateRecord.index = childIndex;\n            updateRecord.level = parentRecord.level + 1;\n            this.addNewRecord(updateRecord, parentRecord);\n            /* eslint-disable-next-line */\n            var source = this.parent.dataSource;\n            source.push(updateRecord.taskData);\n        }\n        var updatedData = this.parent.currentViewData.filter(function (data) {\n            return (data.ganttProperties.taskId === updateRecord.ganttProperties.taskId &&\n                (data.hasChildRecords === updateRecord.hasChildRecords));\n        })[0];\n        updateRecord.parentItem = updatedData.parentItem;\n        updateRecord.parentUniqueID = updatedData.parentUniqueID;\n    };\n    Edit.prototype.addRecordAsBottom = function (cAddedRecord) {\n        var recordIndex1 = this.parent.flatData.length;\n        this.parent.currentViewData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.flatData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.ids.splice(recordIndex1 + 1, 0, cAddedRecord.ganttProperties.rowUniqueID.toString());\n        var taskId = cAddedRecord.level === 0 ? 'R' + cAddedRecord.ganttProperties.taskId : 'T' + cAddedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n    };\n    Edit.prototype.addNewRecord = function (updateRecord, parentRecord) {\n        var cAddedRecord = null;\n        cAddedRecord = extend({}, {}, updateRecord, true);\n        this.parent.setRecordValue('uniqueID', getUid(this.parent.element.id + '_data_'), cAddedRecord);\n        this.parent.setRecordValue('uniqueID', cAddedRecord.uniqueID, cAddedRecord.ganttProperties, true);\n        var uniqueId = cAddedRecord.uniqueID.replace(this.parent.element.id + '_data_', '');\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord);\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord.ganttProperties, true);\n        this.parent.setRecordValue('level', 1, cAddedRecord);\n        if (this.parent.taskFields.parentID) {\n            this.parent.setRecordValue('parentId', parentRecord.ganttProperties.taskId, cAddedRecord.ganttProperties, true);\n        }\n        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentRecord), cAddedRecord);\n        var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n        updateRecord.ganttProperties.sharedTaskUniqueIds.push(uniqueId);\n        cAddedRecord.ganttProperties.sharedTaskUniqueIds = updateRecord.ganttProperties.sharedTaskUniqueIds;\n        this.addRecordAsChild(parentRecord, cAddedRecord);\n    };\n    Edit.prototype.removeChildRecord = function (record) {\n        var gObj = this.parent;\n        var data = [];\n        if (this.parent.dataSource instanceof DataManager && this.parent.dataSource.dataSource.json.length > 0) {\n            data = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            data = this.parent.currentViewData;\n        }\n        var dataSource = this.parent.dataSource;\n        var deletedRow = record;\n        var flatParentData = this.parent.getParentTask(deletedRow.parentItem);\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var deleteChildRecords = flatParentData ? flatParentData.childRecords : [];\n                var childIndex = 0;\n                if (deleteChildRecords && deleteChildRecords.length > 0) {\n                    if (deleteChildRecords.length === 1) {\n                        //For updating the parent record which has no child reords.\n                        this.parent.isOnDelete = true;\n                        deleteChildRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        deleteChildRecords[0].isDelete = false;\n                    }\n                    childIndex = deleteChildRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            if (deletedRow.ganttProperties.sharedTaskUniqueIds.length) {\n                var uniqueIDIndex = deletedRow.ganttProperties.sharedTaskUniqueIds.indexOf(deletedRow.ganttProperties.rowUniqueID);\n                deletedRow.ganttProperties.sharedTaskUniqueIds.splice(uniqueIDIndex, 1);\n            }\n            this.updateTreeGridUniqueID(deletedRow, 'delete');\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.rowUniqueID.toString());\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            var flatRecordIndex = this.parent.flatData.indexOf(deletedRow);\n            if (gObj.taskFields.parentID) {\n                var idx = void 0;\n                var ganttData = this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                        idx = i;\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    data.splice(idx, 1);\n                    this.parent.flatData.splice(flatRecordIndex, 1);\n                    this.parent.ids.splice(flatRecordIndex, 1);\n                    this.parent.getTaskIds().splice(flatRecordIndex, 1);\n                }\n            }\n            var recordIndex = data.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                data.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.flatData.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.getTaskIds().splice(flatRecordIndex, deletedRecordCount + 1);\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParentData);\n                this.parent.setRecordValue('hasChildRecords', false, flatParentData);\n            }\n        }\n    };\n    // Method to add new record after resource edit\n    Edit.prototype.addRecordAsChild = function (droppedRecord, draggedRecord) {\n        var gObj = this.parent;\n        var recordIndex1 = this.parent.flatData.indexOf(droppedRecord);\n        var childRecords = this.parent.editModule.getChildCount(droppedRecord, 0);\n        var childRecordsLength;\n        var spliceIndex;\n        var parentTask = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.dialogModule['indexes'] && this.dialogModule['indexes'].deletedIndexes && this.dialogModule['indexes'].deletedIndexes.length > 0) {\n            if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                childRecordsLength = this.parent.taskIds.length + 1;\n            }\n            else {\n                for (var j = 0; j < this.dialogModule['indexes'].deletedIndexes.length; j++) {\n                    if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID === draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var toIndex = this.dialogModule['indexes'].deletedIndexes[j].index;\n                        if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                            (childRecordsLength = toIndex);\n                        }\n                        else {\n                            (childRecordsLength = toIndex + 1);\n                        }\n                        for (var i = 0; i < droppedRecord.childRecords.length; i++) {\n                            if ('T' + droppedRecord.childRecords[i].ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].id) {\n                                if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                                    spliceIndex = i;\n                                }\n                                else {\n                                    spliceIndex = i + 1;\n                                }\n                                break;\n                            }\n                        }\n                        break;\n                    }\n                    else if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID !== draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var draggedParent = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n                        childRecordsLength = draggedParent.index + draggedParent.childRecords.length + 1;\n                        break;\n                    }\n                }\n            }\n        }\n        else if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask') && this.parent.undoRedoModule['currentAction']['deletedRecordsDetails']) {\n            for (var i = 0; i < this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'].length; i++) {\n                if (this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.ganttProperties.taskId === draggedRecord.ganttProperties.taskId) {\n                    if (parentTask.index) {\n                        childRecordsLength = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.index;\n                        spliceIndex = childRecordsLength - parentTask.index - 1;\n                    }\n                    else {\n                        childRecordsLength = (isNullOrUndefined(childRecords) ||\n                            childRecords === 0) ? recordIndex1 + 1 :\n                            childRecords + recordIndex1 + 1;\n                        spliceIndex = 0;\n                    }\n                    break;\n                }\n            }\n        }\n        else if (!isNullOrUndefined(this.addRowIndex) && this.addRowPosition && droppedRecord.childRecords && this.addRowPosition !== 'Child') {\n            var dropChildRecord = droppedRecord.childRecords[this.addRowIndex];\n            var position = this.addRowPosition === 'Above' || this.addRowPosition === 'Below' ? this.addRowPosition :\n                'Child';\n            childRecordsLength = dropChildRecord ? this.addRowIndex + recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n            childRecordsLength = position === 'Above' ? childRecordsLength : childRecordsLength + 1;\n        }\n        else {\n            childRecordsLength = (isNullOrUndefined(childRecords) ||\n                childRecords === 0) ? recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n        }\n        //this.ganttData.splice(childRecordsLength, 0, this.draggedRecord);\n        this.parent.currentViewData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.flatData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.ids.splice(childRecordsLength, 0, draggedRecord.ganttProperties.rowUniqueID.toString());\n        this.updateTreeGridUniqueID(draggedRecord, 'add');\n        var recordId = draggedRecord.level === 0 ? 'R' + draggedRecord.ganttProperties.taskId : 'T' + draggedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n        if (!droppedRecord.hasChildRecords) {\n            this.parent.setRecordValue('hasChildRecords', true, droppedRecord);\n            this.parent.setRecordValue('expanded', true, droppedRecord);\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n                    droppedRecord.taskData[this.parent.taskFields.child] = [];\n                }\n            }\n        }\n        if (spliceIndex >= 0) {\n            droppedRecord.childRecords.splice(spliceIndex, 0, draggedRecord);\n        }\n        else {\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n        }\n        if (!isNullOrUndefined(draggedRecord) && !this.parent.taskFields.parentID\n            && !isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n            droppedRecord.taskData[this.parent.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n        }\n        if (!isNullOrUndefined(draggedRecord.parentItem)) {\n            //collection to update the parent records\n            this.updateParentRecords.push(droppedRecord);\n        }\n    };\n    Edit.prototype.resetEditProperties = function (args) {\n        this.parent.currentEditedArgs = {};\n        this.resetValidateArgs();\n        this.parent.editedTaskBarItem = null;\n        this.parent.isOnEdit = false;\n        this.parent.predecessorModule.validatedChildItems = [];\n        this.parent.isConnectorLineUpdate = false;\n        this.parent.editedTaskBarItem = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        if (!isNullOrUndefined(this.dialogModule) && (isNullOrUndefined(args) ||\n            (!isNullOrUndefined(args) && args['requestType'] === 'beforeSave' && !args['cancel']))) {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n        this.parent.hideSpinner();\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.endEditAction = function (args) {\n        this.resetEditProperties();\n        if (args.action === 'TaskbarEditing') {\n            this.parent.trigger('taskbarEdited', args);\n        }\n        else if (args.action === 'CellEditing') {\n            this.parent.trigger('endEdit', args);\n        }\n        else if (args.action === 'DialogEditing') {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n    };\n    // eslint-disable-next-line\n    Edit.prototype.saveFailed = function (args) {\n        this.reUpdatePreviousRecords();\n        this.parent.hideSpinner();\n        //action failure event trigger\n    };\n    /**\n     * To render delete confirmation dialog\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.renderDeleteConfirmDialog = function () {\n        var dialogObj = new Dialog({\n            width: '320px',\n            isModal: true,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmDelete'),\n            buttons: [\n                {\n                    click: this.confirmDeleteOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.closeConfirmDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        dialogObj.appendTo('#' + this.parent.element.id + '_deleteConfirmDialog');\n        this.confirmDialog = dialogObj;\n    };\n    Edit.prototype.closeConfirmDialog = function () {\n        this.confirmDialog.hide();\n    };\n    Edit.prototype.confirmDeleteOkButton = function () {\n        this.deleteSelectedItems();\n        this.confirmDialog.hide();\n        var focussedElement = this.parent.element.querySelector('.e-treegrid');\n        focussedElement.focus();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.startDeleteAction = function () {\n        if (this.parent.editSettings.allowDeleting && !this.parent.readOnly) {\n            if (this.parent.editSettings.showDeleteConfirmDialog) {\n                this.confirmDialog.show();\n            }\n            else {\n                this.deleteSelectedItems();\n                var focusingElement = this.parent.element.querySelector('.e-treegrid');\n                focusingElement.focus();\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData[]} selectedRecords - Defines the deleted records\n     * @returns {void} .\n     * Method to delete the records from resource view Gantt.\n     */\n    Edit.prototype.deleteResourceRecords = function (selectedRecords) {\n        var _this = this;\n        var deleteRecords = [];\n        var _loop_2 = function (i) {\n            if (selectedRecords[i].parentItem) {\n                if (selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length === 1) {\n                    var data = selectedRecords[i];\n                    var ids = data.ganttProperties.sharedTaskUniqueIds;\n                    for (var j = 0; j < ids.length; j++) {\n                        if (this_2.parent.ids.indexOf(ids[j].toString()) !== -1) {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(ids[j].toString())]);\n                        }\n                        else if (this_2.parent.undoRedoModule && this_2.parent.undoRedoModule['isUndoRedoPerformed'] && this_2.parent.undoRedoModule['currentAction'] && this_2.parent.undoRedoModule['currentAction']['action'] === 'Delete') {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.taskIds.indexOf('T' + selectedRecords[i].ganttProperties.taskId)]);\n                        }\n                    }\n                    if (this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID) !== -1 &&\n                        deleteRecords.indexOf(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]) === -1) {\n                        deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]);\n                    }\n                }\n                else if (selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length > 1) {\n                    selectedRecords.forEach(function (record) {\n                        record.ganttProperties.sharedTaskUniqueIds.forEach(function (uniqueId) {\n                            deleteRecords.push(_this.parent.getTaskByUniqueID(_this.parent.element.id + '_data_' + uniqueId));\n                        });\n                    });\n                }\n            }\n            else {\n                var resourceParent = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId === selectedRecords[i].ganttProperties.taskId &&\n                        data.hasChildRecords);\n                })[0];\n                if (!isNullOrUndefined(resourceParent)) {\n                    deleteRecords.push(resourceParent);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < selectedRecords.length; i++) {\n            _loop_2(i);\n        }\n        this.deleteRow(deleteRecords);\n    };\n    Edit.prototype.add = function (record, totalRecords) {\n        totalRecords.push(record);\n        if (record.hasChildRecords) {\n            var child = record.childRecords;\n            for (var i = 0; i < child.length; i++) {\n                this.add(child[i], totalRecords);\n            }\n        }\n        else {\n            if (totalRecords.indexOf(record) === -1) {\n                totalRecords.push(record);\n            }\n        }\n    };\n    Edit.prototype.deleteSelectedItems = function () {\n        if (!this.isFromDeleteMethod) {\n            var selectedRecords = [];\n            if (this.parent.selectionSettings.mode !== 'Cell') {\n                selectedRecords = this.parent.selectionModule.getSelectedRecords();\n            }\n            else if (this.parent.selectionSettings.mode === 'Cell') {\n                selectedRecords = this.parent.selectionModule.getCellSelectedRecords();\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                this.deleteResourceRecords(selectedRecords);\n            }\n            else {\n                this.deleteRow(selectedRecords);\n            }\n        }\n        else {\n            if (this.targetedRecords.length) {\n                if (this.parent.viewType === 'ResourceView') {\n                    this.deleteResourceRecords(this.targetedRecords);\n                }\n                else {\n                    this.deleteRow(this.targetedRecords);\n                }\n            }\n            this.isFromDeleteMethod = false;\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string | number[] | string[] | IGanttData | IGanttData[]} taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Edit.prototype.deleteRecord = function (taskDetail) {\n        this.isFromDeleteMethod = true;\n        var variableType = typeof (taskDetail);\n        this.targetedRecords = [];\n        switch (variableType) {\n            case 'number':\n            case 'string':\n                {\n                    var taskId = taskDetail.toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(taskId) && this.parent.getTaskIds().indexOf('T' + taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskId)]);\n                        }\n                    }\n                    else {\n                        if (!isNullOrUndefined(taskId) && this.parent.ids.indexOf(taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.getRecordByID(taskId));\n                        }\n                    }\n                    break;\n                }\n            case 'object':\n                if (!Array.isArray(taskDetail)) {\n                    this.targetedRecords.push(taskDetail.valueOf());\n                }\n                else {\n                    this.updateTargetedRecords(taskDetail);\n                }\n                break;\n            default:\n        }\n        this.startDeleteAction();\n    };\n    /**\n     * To update 'targetedRecords collection' from given array collection\n     *\n     * @param {object[]} taskDetailArray .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTargetedRecords = function (taskDetailArray) {\n        if (taskDetailArray.length) {\n            var variableType = typeof (taskDetailArray[0]);\n            if (variableType === 'object') {\n                this.targetedRecords = taskDetailArray;\n            }\n            else {\n                // Get record from array of task ids\n                for (var i = 0; i < taskDetailArray.length; i++) {\n                    var id = taskDetailArray[i].toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(id) && this.parent.getTaskIds().indexOf('T' + id) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id)]);\n                        }\n                    }\n                    else if (!isNullOrUndefined(id) && this.parent.ids.indexOf(id) !== -1) {\n                        this.targetedRecords.push(this.parent.getRecordByID(id));\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.deleteRow = function (tasks) {\n        var _this = this;\n        var rowItems = tasks && tasks.length ? tasks :\n            this.parent.selectionModule.getSelectedRecords();\n        this.parent.addDeleteRecord = true;\n        if (rowItems.length) {\n            this.parent.isOnDelete = true;\n            rowItems.forEach(function (item) {\n                if (_this.parent.undoRedoModule && _this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    var rec = void 0;\n                    if (_this.parent.viewType === 'ProjectView') {\n                        rec = _this.parent.getRecordByID(item.ganttProperties.taskId);\n                    }\n                    else {\n                        rec = _this.parent.flatData[_this.parent.taskIds.indexOf((item.hasChildRecords ? 'R' : 'T') + item.ganttProperties.taskId)];\n                    }\n                    rec.isDelete = true;\n                }\n                item.isDelete = true;\n            });\n            if (this.parent.viewType === 'ResourceView' && !tasks.length) {\n                rowItems = [];\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Delete')) {\n                if (this.parent.undoRedoModule['redoEnabled'] && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['createUndoCollection']();\n                }\n                var records = {};\n                records['action'] = 'Delete';\n                records['deletedRecordsDetails'] = [];\n                this.parent.undoRedoModule['findPosition'](extend([], [], rowItems, true), records, 'deletedRecordsDetails');\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n            }\n            var _loop_3 = function (i) {\n                var deleteRecord = rowItems[i];\n                if (this_3.deletedTaskDetails.indexOf(deleteRecord) !== -1) {\n                    return \"continue\";\n                }\n                var deleteItems = [deleteRecord];\n                if (this_3.parent.viewType === 'ResourceView' && this_3.parent.undoRedoModule && this_3.parent.undoRedoModule['isUndoRedoPerformed'] && rowItems[i].ganttProperties.resourceInfo && rowItems[i].ganttProperties.resourceInfo.length > 1) {\n                    deleteItems = [];\n                    if (!rowItems[i].hasChildRecords) {\n                        var id_1 = 'T' + rowItems[i].ganttProperties.taskId;\n                        this_3.parent.taskIds.reduce(function (e, j) {\n                            if (e === id_1) {\n                                deleteItems.push(this.parent.flatData[j]);\n                            }\n                        }.bind(this_3), []);\n                    }\n                }\n                for (var j = 0; j < deleteItems.length; j++) {\n                    var parentTask = this_3.parent.getParentTask(deleteItems[j].parentItem);\n                    if (deleteItems[j].parentItem) {\n                        var childRecord = void 0;\n                        if (!isNullOrUndefined(parentTask)) {\n                            childRecord = parentTask.childRecords;\n                            var filteredRecord = childRecord.length === 1 ?\n                                childRecord : childRecord.filter(function (data) {\n                                return !data.isDelete;\n                            });\n                            if (filteredRecord.length > 0) {\n                                this_3.parent.dataOperation.updateParentItems(deleteItems[j].parentItem);\n                            }\n                        }\n                    }\n                    var predecessor = deleteItems[j].ganttProperties.predecessor;\n                    var canDeletePredecessor = true;\n                    if (this_3.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                        this_3.parent.localeObj.getConstant('unassignedTask')) {\n                        canDeletePredecessor = false;\n                    }\n                    if (predecessor && predecessor.length && canDeletePredecessor) {\n                        this_3.removePredecessorOnDelete(deleteItems[j]);\n                    }\n                    this_3.deletedTaskDetails.push(deleteItems[j]);\n                    if (deleteItems[j].hasChildRecords) {\n                        this_3.deleteChildRecords(deleteItems[j]);\n                    }\n                }\n            };\n            var this_3 = this;\n            for (var i = 0; i < rowItems.length; i++) {\n                _loop_3(i);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection) {\n                // clear selection\n                this.parent.selectionModule.clearSelection();\n            }\n            var delereArgs = {};\n            delereArgs.deletedRecordCollection = this.deletedTaskDetails;\n            delereArgs.updatedRecordCollection = this.parent.editedRecords;\n            delereArgs.cancel = false;\n            delereArgs.action = 'delete';\n            this.initiateDeleteAction(delereArgs);\n            this.parent.isOnDelete = false;\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Edit.prototype.removePredecessorOnDelete = function (record) {\n        var predecessors = record.ganttProperties.predecessor;\n        for (var i = 0; i < predecessors.length; i++) {\n            var predecessor = predecessors[i];\n            var recordId = this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId :\n                record.ganttProperties.rowUniqueID;\n            if (predecessor.from.toString() === recordId.toString()) {\n                var toRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to.toString());\n                if (!isNullOrUndefined(toRecord)) {\n                    var toRecordPredcessor = extend([], [], toRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < toRecordPredcessor.length; t++) {\n                        var toId = this.parent.viewType === 'ResourceView' ? toRecord.ganttProperties.taskId :\n                            toRecord.ganttProperties.rowUniqueID;\n                        if (toRecordPredcessor[t].to.toString() === toId.toString()\n                            && toRecordPredcessor[t].from.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    toRecordPredcessor.splice(index, 1);\n                    this.updatePredecessorValues(toRecord, toRecordPredcessor);\n                }\n            }\n            else if (predecessor.to.toString() === recordId.toString()) {\n                var fromRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from.toString());\n                if (!isNullOrUndefined(fromRecord)) {\n                    var fromRecordPredcessor = extend([], [], fromRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < fromRecordPredcessor.length; t++) {\n                        var fromId = this.parent.viewType === 'ResourceView' ? fromRecord.ganttProperties.taskId :\n                            fromRecord.ganttProperties.rowUniqueID;\n                        if (fromRecordPredcessor[t].from.toString() === fromId.toString()\n                            && fromRecordPredcessor[t].to.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    if (record.uniqueID === fromRecord.parentUniqueID ||\n                        record.parentUniqueID === fromRecord.uniqueID || this.parent.isOnDelete) {\n                        fromRecordPredcessor.splice(index, 1);\n                        this.updatePredecessorValues(fromRecord, fromRecordPredcessor);\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorValues = function (record, predcessorArray) {\n        this.parent.setRecordValue('predecessor', predcessorArray, record.ganttProperties, true);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n        this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n    };\n    /**\n     * Method to update TaskID of a gantt record\n     *\n     * @param {string | number} currentId .\n     * @param {number | string} newId .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskId = function (currentId, newId) {\n        if (!this.parent.readOnly) {\n            var cId = typeof currentId === 'number' ? currentId.toString() : currentId;\n            var nId = typeof newId === 'number' ? newId.toString() : newId;\n            var ids = this.parent.ids;\n            if (!isNullOrUndefined(cId) && !isNullOrUndefined(nId)) {\n                var cIndex = ids.indexOf(cId);\n                var nIndex = ids.indexOf(nId);\n                // return false for invalid taskID\n                if (cIndex === -1 || nIndex > -1) {\n                    return;\n                }\n                var thisRecord = this.parent.flatData[cIndex];\n                if (!isNullOrUndefined(thisRecord)) {\n                    this.parent.setRecordValue('taskId', newId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue('rowUniqueID', nId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord.taskData, true);\n                }\n                ids[cIndex] = nId;\n                if (thisRecord.hasChildRecords && this.parent.taskFields.parentID) {\n                    var childRecords = thisRecord.childRecords;\n                    for (var count = 0; count < childRecords.length; count++) {\n                        var childRecord = childRecords[count];\n                        childRecord[this.parent.taskFields.parentID] = newId;\n                        this.parent.chartRowsModule.refreshRecords([childRecord]);\n                    }\n                }\n                if (this.parent.taskFields.dependency && !isNullOrUndefined(thisRecord.ganttProperties.predecessor)) {\n                    var predecessors = thisRecord.ganttProperties.predecessor;\n                    var currentGanttRecord = void 0;\n                    for (var i = 0; i < predecessors.length; i++) {\n                        var predecessor = predecessors[i];\n                        if (predecessor.to === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.from)];\n                        }\n                        else if (predecessor.from === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.to)];\n                        }\n                        this.updatePredecessorOnUpdateId(currentGanttRecord, cId, nId);\n                    }\n                }\n                this.parent.treeGrid.parentData = [];\n                this.parent.treeGrid.refresh();\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorOnUpdateId = function (currentGanttRecord, cId, nId) {\n        if (this.parent.flatData.indexOf(currentGanttRecord) > -1) {\n            var pred = currentGanttRecord.ganttProperties.predecessor;\n            for (var j = 0; j < pred.length; j++) {\n                var pre = pred[j];\n                if (pre.to === cId) {\n                    pre.to = nId;\n                }\n                else if (pre.from === cId) {\n                    pre.from = nId;\n                }\n            }\n        }\n        this.updatePredecessorValues(currentGanttRecord, currentGanttRecord.ganttProperties.predecessor);\n    };\n    Edit.prototype.deleteChildRecords = function (record) {\n        var _this = this;\n        var childRecords = record.childRecords;\n        for (var c = 0; c < childRecords.length; c++) {\n            var childRecord = childRecords[c];\n            if (this.deletedTaskDetails.indexOf(childRecord) !== -1) {\n                continue;\n            }\n            var predecessor = childRecord.ganttProperties.predecessor;\n            var canDeletePredecessor = true;\n            var parentTask = this.parent.getParentTask(childRecord.parentItem);\n            if (this.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                this.parent.localeObj.getConstant('unassignedTask')) {\n                canDeletePredecessor = false;\n            }\n            if (predecessor && predecessor.length && canDeletePredecessor) {\n                this.removePredecessorOnDelete(childRecord);\n            }\n            if (!isNullOrUndefined(childRecord.ganttProperties.sharedTaskUniqueIds) &&\n                childRecord.ganttProperties.sharedTaskUniqueIds.length > 1) {\n                childRecord.ganttProperties.sharedTaskUniqueIds.forEach(function (uniqueId) {\n                    _this.deletedTaskDetails.push(_this.parent.getTaskByUniqueID(_this.parent.element.id + '_data_' + uniqueId));\n                });\n            }\n            else {\n                this.deletedTaskDetails.push(childRecord);\n            }\n            if (childRecord.hasChildRecords) {\n                this.deleteChildRecords(childRecord);\n            }\n        }\n    };\n    Edit.prototype.removeFromDataSource = function (deleteRecordIDs) {\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        this.removeData(dataSource, deleteRecordIDs);\n        this.isBreakLoop = false;\n    };\n    Edit.prototype.removeData = function (dataCollection, record) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()) !== -1) {\n                if (dataCollection[i][this.parent.taskFields.child]) {\n                    var childRecords = dataCollection[i][this.parent.taskFields.child];\n                    this.removeData(childRecords, record);\n                }\n                record.splice(record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()), 1);\n                dataCollection.splice(i, 1);\n                if (record.length === 0) {\n                    this.isBreakLoop = true;\n                    break;\n                }\n            }\n            else if (dataCollection[i][this.parent.taskFields.child]) {\n                var childRecords = dataCollection[i][this.parent.taskFields.child];\n                this.removeData(childRecords, record);\n            }\n        }\n    };\n    Edit.prototype.initiateDeleteAction = function (args) {\n        var _this = this;\n        this.parent.showSpinner();\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeDelete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArg.cancel) {\n                var deleteRecords = _this.deletedTaskDetails;\n                for (var d = 0; d < deleteRecords.length; d++) {\n                    deleteRecords[d].isDelete = false;\n                }\n                _this.deletedTaskDetails = [];\n                _this.reUpdatePreviousRecords();\n                _this.parent.initiateEditAction(false);\n                _this.parent.hideSpinner();\n            }\n            else {\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data_1 = _this.parent.dataSource;\n                    if (_this.parent.timezone) {\n                        eventArg.modifiedRecords.forEach(function (modifiedRecord) {\n                            updateDates(modifiedRecord, _this.parent);\n                        });\n                    }\n                    var updatedData_1 = {\n                        deletedRecords: getTaskData(eventArg.data, null, null, _this.parent),\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var adaptor = data_1.adaptor;\n                    var query_1 = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data_1.dataSource.batchUrl) {\n                        var crud = data_1.saveChanges(updatedData_1, _this.parent.taskFields.id, null, query_1);\n                        crud.then(function () { return _this.deleteSuccess(args); })\n                            .catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                    else {\n                        var deletedRecords = 'deletedRecords';\n                        var deleteCrud = null;\n                        for (var i = 0; i < updatedData_1[deletedRecords].length; i++) {\n                            deleteCrud = data_1.remove(_this.parent.taskFields.id, updatedData_1[deletedRecords][i], null, query_1);\n                        }\n                        deleteCrud.then(function () {\n                            var changedRecords = 'changedRecords';\n                            var _loop_4 = function (i) {\n                                if (updatedData_1['deletedRecords'].some(function (record) { return record[_this.parent.taskFields.id] === updatedData_1[changedRecords][i].taskId; })) {\n                                    updatedData_1[changedRecords].splice(i, 1);\n                                }\n                            };\n                            for (var i = updatedData_1[changedRecords].length - 1; i >= 0; i--) {\n                                _loop_4(i);\n                            }\n                            var updateCrud = data_1.update(_this.parent.taskFields.id, updatedData_1[changedRecords], null, query_1);\n                            updateCrud.then(function () { return _this.deleteSuccess(args); })\n                                .catch(function (e) { return _this.dmFailure(e, args); });\n                        }).catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                }\n                else {\n                    _this.deleteSuccess(args);\n                }\n            }\n        });\n    };\n    Edit.prototype.deleteSuccess = function (args) {\n        var _this = this;\n        var flatData = this.parent.flatData;\n        var currentData = this.parent.currentViewData;\n        var deletedRecords = [];\n        for (var i = 0; i < args.deletedRecordCollection.length; i++) {\n            if (this.parent.viewType === 'ProjectView') {\n                var record = this.parent.getRecordByID(args.deletedRecordCollection[i].ganttProperties.taskId);\n                if (!isNullOrUndefined(record)) {\n                    deletedRecords.push(record);\n                }\n            }\n            else {\n                var id = void 0;\n                var hasChildRecords = args.deletedRecordCollection[i].hasChildRecords;\n                var isUnassignedTask = args.deletedRecordCollection[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask');\n                var isCollapsed = !args.deletedRecordCollection[i].expanded;\n                if (hasChildRecords && isUnassignedTask && isCollapsed) {\n                    if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        this.parent.hideMaskRow();\n                    }\n                    else {\n                        this.parent.hideSpinner();\n                    }\n                    this.deletedTaskDetails = [];\n                    this.parent.initiateEditAction(false);\n                    return;\n                }\n                if (args.deletedRecordCollection[i].hasChildRecords) {\n                    id = 'R' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                else {\n                    id = 'T' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                deletedRecords.push(this.parent.getTaskByUniqueID(args.deletedRecordCollection[i].uniqueID));\n            }\n        }\n        var deleteRecordIDs = [];\n        if (deletedRecords.length > 0) {\n            var recordIndex = void 0;\n            var record = void 0;\n            if (this.parent.enableVirtualization) {\n                recordIndex = this.parent.flatData.indexOf(deletedRecords[deletedRecords.length - 1]);\n                this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n                record = this.parent.flatData[this.parent.selectedRowIndex + 1];\n                // perform toolbar CollapseAll later delete action issue handle\n                if (!this.parent.isCollapseAll) {\n                    // Random parent record delete action, maintaining proper record selection\n                    this.parent.staticSelectedRowIndex = (recordIndex - (deletedRecords.length - 1));\n                }\n            }\n            else {\n                recordIndex = this.parent.currentViewData.indexOf(deletedRecords[deletedRecords.length - 1]);\n                this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n                record = this.parent.currentViewData[this.parent.selectedRowIndex + 1];\n            }\n            if (!isNullOrUndefined(record)) {\n                this.parent.currentSelection = record;\n            }\n            else {\n                var prevRecordIndex = this.parent.selectedRowIndex - 1;\n                if (prevRecordIndex >= 0) {\n                    this.parent.currentSelection = this.parent.enableVirtualization ?\n                        this.parent.flatData[prevRecordIndex] : this.parent.currentViewData[prevRecordIndex];\n                }\n            }\n        }\n        this.deletedRecord = deletedRecords;\n        for (var i = 0; i < deletedRecords.length; i++) {\n            var deleteRecord = deletedRecords[i];\n            var currentIndex = void 0;\n            var flatIndex = void 0;\n            if (this.parent.viewType === 'ResourceView') {\n                if (deleteRecord.hasChildRecords) {\n                    currentIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                }\n                else {\n                    currentIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                }\n            }\n            else {\n                currentIndex = currentData.indexOf(deleteRecord);\n                flatIndex = flatData.indexOf(deleteRecord);\n            }\n            var treeGridParentIndex = this.parent.treeGrid.parentData.indexOf(deleteRecord);\n            var tempData = getValue('dataOperation.dataArray', this.parent);\n            var dataIndex = tempData.indexOf(deleteRecord.taskData);\n            var childIndex = void 0;\n            if (currentIndex !== -1) {\n                currentData.splice(currentIndex, 1);\n            }\n            if (flatIndex !== -1) {\n                flatData.splice(flatIndex, 1);\n            }\n            if (dataIndex !== -1) {\n                tempData.splice(dataIndex, 1);\n            }\n            if (!isNullOrUndefined(deleteRecord)) {\n                deleteRecordIDs.push(deleteRecord.ganttProperties.taskId.toString());\n                if (flatIndex !== -1) {\n                    this.parent.ids.splice(flatIndex, 1);\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(flatIndex, 1);\n                        if (!deleteRecord.hasChildRecords) {\n                            deleteRecord.ganttProperties.resourceInfo = null;\n                            delete deleteRecord.ganttProperties.resourceNames;\n                            deleteRecord[this.parent.taskFields.resourceInfo] = null;\n                            deleteRecord.ganttProperties.sharedTaskUniqueIds = [];\n                            delete deleteRecord.taskData[this.parent.taskFields.resourceInfo];\n                        }\n                    }\n                }\n                if (deleteRecord.level === 0 && treeGridParentIndex !== -1) {\n                    this.parent.treeGrid.parentData.splice(treeGridParentIndex, 1);\n                }\n                if (deleteRecord.parentItem) {\n                    var parentItem = this.parent.getParentTask(deleteRecord.parentItem);\n                    if (parentItem) {\n                        var childRecords = parentItem.childRecords;\n                        childIndex = childRecords.indexOf(deleteRecord);\n                        if (childIndex !== -1) {\n                            childRecords.splice(childIndex, 1);\n                        }\n                        if (!childRecords.length) {\n                            this.parent.setRecordValue('hasChildRecords', false, parentItem);\n                        }\n                    }\n                }\n                this.updateTreeGridUniqueID(deleteRecord, 'delete');\n            }\n        }\n        if (deleteRecordIDs.length > 0) {\n            this.removeFromDataSource(deleteRecordIDs);\n        }\n        this.updateRowIndex();\n        var eventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.isAdded = false;\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode();\n        }\n        // Trigger actioncomplete event for delete action\n        eventArgs.requestType = 'delete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        setValue('action', args.action, eventArgs);\n        this.parent.isOnDelete = false;\n        if (this.parent.viewType === 'ResourceView' && (!this.parent.undoRedoModule || (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Delete'))))) {\n            var updateUnAssignedResources_1 = eventArgs.data.filter(function (data) {\n                return !data.hasChildRecords;\n            });\n            var _loop_5 = function (i) {\n                var unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var isDuplicate = [];\n                if (unassignedTask) {\n                    isDuplicate = unassignedTask.childRecords.filter(function (data) {\n                        return data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId;\n                    });\n                }\n                var parentTask = this_4.parent.getParentTask(updateUnAssignedResources_1[i].parentItem);\n                if (parentTask && parentTask.ganttProperties.taskName !==\n                    this_4.parent.localeObj.getConstant('unassignedTask') && isDuplicate.length === 0) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                else if (!parentTask && (!isDuplicate || isDuplicate.length === 0)) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var parentItem = this_4.parent.currentViewData.filter(function (data) {\n                    if (data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId &&\n                        (!data.hasChildRecords && data.parentItem)\n                        && unassignedTask.uniqueID === data.parentItem.uniqueID) {\n                        return data;\n                    }\n                    else {\n                        return null;\n                    }\n                });\n                if (parentItem[0]) {\n                    this_4.parent.dataOperation.updateParentItems(parentItem[0]);\n                }\n            };\n            var this_4 = this;\n            for (var i = 0; i < updateUnAssignedResources_1.length; i++) {\n                _loop_5(i);\n            }\n        }\n        this.parent.trigger('actionComplete', eventArgs);\n        this.deletedTaskDetails = [];\n        this.parent.initiateEditAction(false);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n    };\n    /**\n     *\n     * @returns {number | string} .\n     * @private\n     */\n    Edit.prototype.getNewTaskId = function () {\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var maxId = ids.length;\n        var newTaskId = maxId + 1;\n        if (this.parent.viewType === 'ResourceView') {\n            if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1);\n                }\n            }\n        }\n        else {\n            if (ids.indexOf(newTaskId.toString()) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf(newTaskId.toString()) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf(newTaskId.toString()) !== -1);\n                }\n            }\n        }\n        if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n            return newTaskId = newTaskId.toString();\n        }\n        else {\n            return newTaskId;\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.prepareNewlyAddedData = function (obj, rowPosition) {\n        var taskModel = this.parent.taskFields;\n        var id;\n        var newTaskIDmd;\n        var ids = this.parent.ids;\n        /*Validate Task Id of data*/\n        if (obj[taskModel.id]) {\n            if (ids.indexOf(obj[taskModel.id].toString()) !== -1) {\n                obj[taskModel.id] = null;\n            }\n            else {\n                if (typeof (obj[taskModel.id]) === 'string') {\n                    newTaskIDmd = obj[taskModel.id];\n                }\n                else {\n                    newTaskIDmd = parseInt(obj[taskModel.id], 10);\n                }\n                obj[taskModel.id] = isNullOrUndefined(newTaskIDmd) ? null : newTaskIDmd;\n            }\n        }\n        if (!obj[taskModel.id]) {\n            id = this.getNewTaskId();\n            obj[taskModel.id] = id;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.startDate]) {\n            obj[taskModel.startDate] = this.parent.projectStartDate;\n        }\n        if (!this.parent.allowUnscheduledTasks && taskModel.duration && isNullOrUndefined(obj[taskModel.duration])) {\n            if (!obj[taskModel.endDate]) {\n                obj[taskModel.duration] = '5';\n            }\n        }\n        if (taskModel.progress) {\n            obj[taskModel.progress] = obj[taskModel.progress] ? (obj[taskModel.progress] > 100 ? 100 : obj[taskModel.progress]) : 0;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.endDate] && taskModel.endDate) {\n            if (!obj[taskModel.duration]) {\n                var startDate = this.parent.dataOperation.getDateFromFormat(this.parent.projectStartDate);\n                if (!isNullOrUndefined(startDate)) {\n                    startDate.setDate(startDate.getDate() + 4);\n                    obj[taskModel.endDate] = this.parent.getFormatedDate(startDate, this.parent.getDateFormat());\n                }\n            }\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {number} level .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @param {number} rowIndex .\n     * @returns {IGanttData} .\n     * @private\n     */\n    Edit.prototype.updateNewlyAddedDataBeforeAjax = function (obj, level, rowPosition, parentItem, rowIndex) {\n        var cAddedRecord = this.parent.dataOperation.createRecord(obj, level);\n        switch (rowPosition) {\n            case 'Above':\n                cAddedRecord.index = rowIndex;\n                break;\n            case 'Below':\n            case 'Child':\n                cAddedRecord.index = rowIndex + 1;\n                break;\n            case 'Bottom':\n                cAddedRecord.index = this.parent.enableVirtualization ? this.parent.flatData.length : this.parent.currentViewData.length;\n                break;\n            case 'Top':\n                cAddedRecord.index = 0;\n                break;\n            default:\n                break;\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), cAddedRecord);\n            var pIndex = cAddedRecord.parentItem ? cAddedRecord.parentItem.index : null;\n            this.parent.setRecordValue('parentIndex', pIndex, cAddedRecord);\n            var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n            this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n            if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                !isNullOrUndefined(this.parent.taskFields.parentID) && cAddedRecord.parentItem) {\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord.taskData, true);\n                }\n                this.parent.setRecordValue('parentId', cAddedRecord.parentItem.taskId, cAddedRecord.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord, true);\n            }\n        }\n        this.parent.isOnEdit = true;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (obj['hasChildRecords']) {\n                var totalRecords = [];\n                var currentAction = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'];\n                for (var i = 0; i < obj['childRecords'].length; i++) {\n                    this.add(obj['childRecords'][i], totalRecords);\n                }\n                for (var j = 0; j < currentAction.length; j++) {\n                    if (obj['ganttProperties'].taskId === currentAction[j]['data'].ganttProperties.taskId) {\n                        if (currentAction[j]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        else if (currentAction[j]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (currentAction[j]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n                        for (var i = 0; i < totalRecords.length; i++) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                if (totalRecords[i].parentItem.taskId === cAddedRecord.ganttProperties.taskId) {\n                                    totalRecords[i].parentItem.index = cAddedRecord.index;\n                                    totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.taskId;\n                                    totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                    totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                }\n                            }\n                            else {\n                                totalRecords[i].parentItem.index = cAddedRecord.index;\n                                totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                                totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        break;\n                    }\n                }\n                this.addRowSelectedItem = cAddedRecord;\n                cAddedRecord.taskData[this.parent.taskFields.child] = [];\n                for (var k = 0; k < totalRecords.length; k++) {\n                    this.parent.isOnEdit = false;\n                    var newRecord = this.parent.dataOperation.createRecord(totalRecords[k], totalRecords[k].level);\n                    if (newRecord.childRecords.length === 0 && newRecord.taskData[this.parent.taskFields.child]) {\n                        newRecord.taskData[this.parent.taskFields.child] = [];\n                    }\n                    parentItem = this.parent.getRecordByID(totalRecords[k].parentItem.taskId);\n                    if (!isNullOrUndefined(parentItem)) {\n                        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), newRecord);\n                        var pIndex = newRecord.parentItem ? newRecord.parentItem.index : null;\n                        this.parent.setRecordValue('parentIndex', pIndex, newRecord);\n                        var parentUniqId = newRecord.parentItem ? newRecord.parentItem.uniqueID : null;\n                        this.parent.setRecordValue('parentUniqueID', parentUniqId, newRecord);\n                        if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                            !isNullOrUndefined(this.parent.taskFields.parentID) && newRecord.parentItem) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord.taskData, true);\n                            }\n                            this.parent.setRecordValue('parentId', newRecord.parentItem.taskId, newRecord.ganttProperties, true);\n                            this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord, true);\n                        }\n                    }\n                    this.parent.isOnEdit = true;\n                    if (newRecord.parentItem) {\n                        if (parentItem.childRecords.length === 0) {\n                            rowPosition = 'Child';\n                        }\n                        else {\n                            rowPosition = 'Below';\n                        }\n                    }\n                    if (this.parent.getParentTask(newRecord.parentItem).childRecords.length > 0) {\n                        this.addRowSelectedItem = this.parent.getParentTask(newRecord.parentItem).childRecords[this.parent.getParentTask(newRecord.parentItem).childRecords.length - 1];\n                    }\n                    this.backUpAndPushNewlyAddedRecord(newRecord, rowPosition, parentItem);\n                    for (var i = 0; i < totalRecords.length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            if (totalRecords[i].parentItem.taskId === newRecord.ganttProperties.taskId) {\n                                totalRecords[i].parentItem.index = newRecord.index;\n                                totalRecords[i].parentItem.taskId = newRecord.ganttProperties.taskId;\n                                totalRecords[i].parentItem.uniqueID = newRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = newRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        else {\n                            totalRecords[i].parentItem.index = cAddedRecord.index;\n                            totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                            totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                        }\n                    }\n                }\n            }\n            else {\n                this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n            }\n        }\n        else {\n            this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n        }\n        // need to push in dataSource also.\n        if (this.parent.taskFields.dependency && cAddedRecord.ganttProperties.predecessorsName) {\n            if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                this.parent.predecessorModule.ensurePredecessorCollectionHelper(cAddedRecord, cAddedRecord.ganttProperties);\n            }\n            this.parent.predecessorModule.updatePredecessorHelper(cAddedRecord);\n            this.parent.predecessorModule.validatePredecessorDates(cAddedRecord);\n        }\n        if (cAddedRecord.parentItem && this.parent.getParentTask(cAddedRecord.parentItem).ganttProperties.isAutoSchedule) {\n            this.parent.dataOperation.updateParentItems(cAddedRecord.parentItem);\n        }\n        this.parent.isOnEdit = false;\n        return cAddedRecord;\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {number} count .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getChildCount = function (record, count) {\n        var currentRecord;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            if (currentRecord.hasChildRecords) {\n                count = this.getChildCount(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @param {number} count .\n     * @param {IGanttData[]} collection .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getVisibleChildRecordCount = function (data, count, collection) {\n        var childRecords;\n        var length;\n        if (data.hasChildRecords) {\n            childRecords = data.childRecords;\n            length = childRecords.length;\n            for (var i = 0; i < length; i++) {\n                if (collection.indexOf(childRecords[i]) !== -1) {\n                    count++;\n                }\n                if (childRecords[i].hasChildRecords) {\n                    count = this.getVisibleChildRecordCount(childRecords[i], count, collection);\n                }\n            }\n        }\n        else {\n            if (collection.indexOf(data) !== -1) {\n                count++;\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} parentRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updatePredecessorOnIndentOutdent = function (parentRecord) {\n        var len = parentRecord.ganttProperties.predecessor.length;\n        var parentRecordTaskData = parentRecord.ganttProperties;\n        var predecessorCollection = parentRecordTaskData.predecessor;\n        var childRecord;\n        var predecessorIndex;\n        var updatedPredecessor = [];\n        var validPredecessor;\n        for (var count = 0; count < len; count++) {\n            var fromRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n            var toRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n            validPredecessor = this.parent.predecessorModule.validateParentPredecessor(fromRecord, toRecord);\n            if (!validPredecessor || !this.parent.allowParentDependency) {\n                if (predecessorCollection[count].to === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var predecessorCollections = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    predecessorCollections.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', predecessorCollections, childRecord.ganttProperties, true);\n                }\n                else if (predecessorCollection[count].from === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n                    var prdcList = (childRecord.ganttProperties.predecessorsName.toString()).split(',');\n                    var str = predecessorCollection[count].from + predecessorCollection[count].type;\n                    var ind = prdcList.indexOf(str);\n                    prdcList.splice(ind, 1);\n                    this.parent.setRecordValue('predecessorsName', prdcList.join(','), childRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.dependency, prdcList.join(','), childRecord);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var temppredecessorCollection = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    temppredecessorCollection.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', temppredecessorCollection, childRecord.ganttProperties, true);\n                    this.parent.predecessorModule.validatePredecessorDates(childRecord);\n                }\n            }\n        }\n        if (!validPredecessor || !this.parent.allowParentDependency) {\n            this.parent.setRecordValue('predecessor', updatedPredecessor, parentRecord.ganttProperties, true);\n            this.parent.setRecordValue('predecessorsName', '', parentRecord.ganttProperties, true);\n        }\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.backUpAndPushNewlyAddedRecord = function (record, rowPosition, parentItem) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var currentItemIndex;\n        var recordIndex;\n        var updatedCollectionIndex;\n        var childIndex;\n        switch (rowPosition) {\n            case 'Top':\n                flatRecords.splice(0, 0, record);\n                currentViewData.splice(0, 0, record);\n                ids.splice(0, 0, record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                break;\n            case 'Bottom':\n                flatRecords.push(record);\n                currentViewData.push(record);\n                ids.push(record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                if (this.parent.viewType === 'ResourceView') {\n                    var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n                    this.parent.getTaskIds().push(taskId);\n                }\n                break;\n            case 'Above':\n                /*Record Updates*/\n                recordIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem);\n                this.recordCollectionUpdate(childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Below':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Child':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    //Expand Add record's parent item for project view\n                    if (!this.addRowSelectedItem.expanded && !this.parent.enableMultiTaskbar) {\n                        this.parent.expandByID(this.addRowSelectedItem.ganttProperties.rowUniqueID);\n                    }\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    this.parent.setRecordValue('hasChildRecords', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('isMilestone', false, this.addRowSelectedItem.ganttProperties, true);\n                    this.parent.setRecordValue('expanded', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('childRecords', [], this.addRowSelectedItem);\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                    if (this.addRowSelectedItem.ganttProperties.predecessor) {\n                        this.updatePredecessorOnIndentOutdent(this.addRowSelectedItem);\n                    }\n                    if (!isNullOrUndefined(this.addRowSelectedItem.ganttProperties.segments)) {\n                        this.addRowSelectedItem.ganttProperties.segments = null;\n                    }\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n        }\n        this.newlyAddedRecordBackup = record;\n    };\n    /**\n     * @param {number} childIndex .\n     * @param {number} recordIndex .\n     * @param {number} updatedCollectionIndex .\n     * @param {IGanttData} record .\n     * @param {IGanttData} parentItem .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.recordCollectionUpdate = function (childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        /* Record collection update */\n        flatRecords.splice(recordIndex, 0, record);\n        currentViewData.splice(updatedCollectionIndex, 0, record);\n        ids.splice(recordIndex, 0, record.ganttProperties.rowUniqueID.toString());\n        if (this.parent.viewType === 'ResourceView') {\n            var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n            this.parent.getTaskIds().splice(recordIndex, 0, taskId);\n        }\n        /* data Source update */\n        if (!isNullOrUndefined(parentItem)) {\n            if (rowPosition === 'Above') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem);\n            }\n            else if (rowPosition === 'Below') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem) + 1;\n            }\n            else {\n                childIndex = parentItem.childRecords.length;\n            }\n            /*Child collection update*/\n            parentItem.childRecords.splice(childIndex, 0, record);\n            if (!this.parent.taskFields.child) {\n                this.parent.taskFields.child = 'Children';\n            }\n            if ((this.parent.dataSource instanceof DataManager &&\n                isNullOrUndefined(parentItem.taskData[this.parent.taskFields.parentID])) ||\n                !isNullOrUndefined(this.parent.dataSource)) {\n                var child = this.parent.taskFields.child;\n                if (parentItem.taskData[child] && parentItem.taskData[child].length > 0) {\n                    if (rowPosition === 'Above' || rowPosition === 'Below') {\n                        parentItem.taskData[child].splice(childIndex, 0, record.taskData);\n                    }\n                    else {\n                        parentItem.taskData[child].push(record.taskData);\n                    }\n                }\n                else {\n                    parentItem.taskData[child] = [];\n                    parentItem.taskData[child].push(record.taskData);\n                }\n                this.isNewRecordAdded = true;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} cAddedRecord .\n     * @param {IGanttData} modifiedRecords .\n     * @param {string} event .\n     * @returns {ITaskAddedEventArgs} .\n     * @private\n     */\n    Edit.prototype.constructTaskAddedEventArgs = function (cAddedRecord, modifiedRecords, event) {\n        var eventArgs = {};\n        eventArgs.action = eventArgs.requestType = event;\n        if (cAddedRecord.length > 1) {\n            eventArgs.data = [];\n            eventArgs.newTaskData = [];\n            eventArgs.recordIndex = [];\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                eventArgs.data[i] = cAddedRecord[i];\n                (eventArgs.newTaskData[i]) = (getTaskData([cAddedRecord[i]], eventArgs.data[i], eventArgs, this.parent));\n                eventArgs.recordIndex[i] = cAddedRecord[i].index;\n            }\n        }\n        else if (cAddedRecord.length === 1) {\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                (eventArgs.data) = (cAddedRecord[i]);\n                (eventArgs.newTaskData) = (getTaskData([cAddedRecord[i]], eventArgs.data, eventArgs, this.parent));\n                eventArgs.recordIndex = cAddedRecord[i].index;\n            }\n        }\n        eventArgs.modifiedRecords = modifiedRecords;\n        eventArgs.modifiedTaskData = getTaskData(modifiedRecords, null, null, this.parent);\n        return eventArgs;\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addSuccess = function (args) {\n        // let addedRecords: IGanttData = args.addedRecord;\n        // let eventArgs: IActionBeginEventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.parent.addDeleteRecord = true;\n        this.parent.treeGrid['isAddedFromGantt'] = true;\n        this.isAdded = true;\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.parent.modifiedRecords = args.modifiedRecords;\n            this.parent.modifiedRecords.push(args.data);\n            this.refreshRecordInImmutableMode();\n        }\n    };\n    Edit.prototype.refreshRecordInImmutableMode = function (data, dragged) {\n        if (!dragged && !isNullOrUndefined(data)) {\n            for (var i = data[0].index + 1; i < this.parent.currentViewData.length; i++) {\n                if (data[0].level < this.parent.currentViewData[i].level) {\n                    this.parent.modifiedRecords.push(this.parent.currentViewData[i]);\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        var _loop_6 = function (i) {\n            var originalData = this_5.parent.modifiedRecords[i];\n            var treeIndex = this_5.parent.rowDragAndDropModule && this_5.parent.allowRowDragAndDrop ? 1 : 0;\n            var uniqueTaskID = this_5.parent.taskFields.id;\n            var originalIndex = this_5.parent.currentViewData.findIndex(function (data) {\n                return (data[uniqueTaskID] === originalData[uniqueTaskID]);\n            });\n            if (this_5.parent.treeGrid.getRows()[originalIndex]) {\n                var row = this_5.parent.treeGrid.grid.getRowObjectFromUID(this_5.parent.treeGrid.grid.getDataRows()[originalIndex].getAttribute('data-uid'));\n                this_5.parent.treeGrid.renderModule.cellRender({\n                    data: row.data,\n                    cell: this_5.parent.treeGrid.getRows()[originalIndex].cells[this_5.parent.treeColumnIndex + treeIndex],\n                    column: this_5.parent.treeGrid.grid.getColumns()[this_5.parent.treeColumnIndex],\n                    requestType: 'rowDragAndDrop'\n                });\n                this_5.parent.treeGrid.renderModule.RowModifier({\n                    data: originalData, row: this_5.parent.treeGrid.getRows()[originalIndex], rowHeight: this_5.parent.rowHeight\n                });\n            }\n        };\n        var this_5 = this;\n        for (var i = 0; i < this.parent.modifiedRecords.length; i++) {\n            _loop_6(i);\n        }\n    };\n    /**\n     * @param {IGanttData} addedRecord .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateRealDataSource = function (addedRecord, rowPosition) {\n        var taskFields = this.parent.taskFields;\n        var dataSource = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n            this.parent.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        for (var i = 0; i < addedRecord.length; i++) {\n            if (isNullOrUndefined(rowPosition) || isNullOrUndefined(this.addRowSelectedItem)) {\n                rowPosition = rowPosition === 'Bottom' ? 'Bottom' : 'Top';\n            }\n            if (rowPosition === 'Top') {\n                dataSource.splice(0, 0, addedRecord[i].taskData);\n            }\n            else if (rowPosition === 'Bottom') {\n                dataSource.push(addedRecord[i].taskData);\n            }\n            else {\n                if (!isNullOrUndefined(taskFields.id) && !isNullOrUndefined(taskFields.parentID) && rowPosition === 'Child') {\n                    dataSource.push(addedRecord[i].taskData);\n                }\n                else {\n                    if (!this.isNewRecordAdded) {\n                        this.addDataInRealDataSource(dataSource, addedRecord[i].taskData, rowPosition);\n                    }\n                    this.isNewRecordAdded = false;\n                }\n            }\n            this.isBreakLoop = false;\n        }\n    };\n    /**\n     * @param {object[]} dataCollection .\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addDataInRealDataSource = function (dataCollection, record, rowPosition) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            var child = this.parent.taskFields.child;\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (getValue(this.parent.taskFields.id, dataCollection[i]).toString() ===\n                this.addRowSelectedItem.ganttProperties.rowUniqueID.toString()) {\n                var index = void 0;\n                if (this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['droppedRecord'] && this.parent.viewType === 'ResourceView') {\n                    for (var i_1 = 0; i_1 < dataCollection.length; i_1++) {\n                        if (dataCollection[i_1][this.parent.taskFields.id] === this.parent.rowDragAndDropModule['droppedRecord'].ganttProperties.taskId) {\n                            index = i_1;\n                            break;\n                        }\n                    }\n                }\n                if (rowPosition === 'Above') {\n                    if (index) {\n                        dataCollection.splice(index, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Below') {\n                    if (index) {\n                        dataCollection.splice(index + 1, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i + 1, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Child') {\n                    if (dataCollection[i][child] && dataCollection[i][child].length > 0) {\n                        dataCollection[i][child].push(record);\n                    }\n                    else {\n                        dataCollection[i][child] = [];\n                        dataCollection[i][child].push(record);\n                    }\n                }\n                this.isBreakLoop = true;\n                break;\n            }\n            else if (dataCollection[i][child]) {\n                var childRecords = dataCollection[i][child];\n                this.addDataInRealDataSource(childRecords, record, rowPosition);\n            }\n        }\n    };\n    /**\n     * Method to update the values to client side from server side.\n     *\n     * @param {Object} e - Defines the new modified data from the server.\n     * @param {Object[]} e.addedRecords .\n     * @param {Object[]} e.changedRecords .\n     * @param {ITaskAddedEventArgs} args - Defines the client side data.\n     * @returns {void} .\n     */\n    Edit.prototype.updateClientDataFromServer = function (e, args) {\n        var serverReturnedValue = e.addedRecords[0];\n        var _aLength = Object.keys(serverReturnedValue).length;\n        for (var j = 0, _a = Object.keys(serverReturnedValue); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            args.data[\"\" + key] = serverReturnedValue[\"\" + key];\n        }\n        if (this.parent.taskFields.id !== null) {\n            args.data.ganttProperties['taskId'] = serverReturnedValue[this.parent.taskFields.id];\n        }\n        if (this.parent.taskFields.name !== null) {\n            args.data.ganttProperties['taskName'] = serverReturnedValue[this.parent.taskFields.name];\n        }\n        if (this.parent.taskFields.startDate !== null) {\n            args.data.ganttProperties['startDate'] = serverReturnedValue[this.parent.taskFields.startDate];\n        }\n        if (this.parent.taskFields.endDate !== null) {\n            args.data.ganttProperties['endDate'] = serverReturnedValue[this.parent.taskFields.endDate];\n        }\n        if (this.parent.taskFields.duration !== null) {\n            args.data.ganttProperties['duration'] = parseFloat(serverReturnedValue[this.parent.taskFields.duration]);\n        }\n        if (this.parent.taskFields.durationUnit !== null) {\n            args.data.ganttProperties['durationUnit'] = serverReturnedValue[this.parent.taskFields.durationUnit];\n        }\n        if (this.parent.taskFields.progress !== null) {\n            args.data.ganttProperties['progress'] = serverReturnedValue[this.parent.taskFields.progress];\n        }\n        if (this.parent.taskFields.dependency !== null) {\n            args.data.ganttProperties['dependency'] = serverReturnedValue[this.parent.taskFields.dependency];\n        }\n        if (this.parent.taskFields.parentID !== null) {\n            args.data.ganttProperties['parentID'] = serverReturnedValue[this.parent.taskFields.parentID];\n        }\n        if (this.parent.taskFields.baselineEndDate !== null) {\n            args.data.ganttProperties['baselineEndDate'] = serverReturnedValue[this.parent.taskFields.baselineEndDate];\n        }\n        if (this.parent.taskFields.baselineStartDate !== null) {\n            args.data.ganttProperties['baselineStartDate'] = serverReturnedValue[this.parent.taskFields.baselineStartDate];\n        }\n        if (this.parent.taskFields.resourceInfo !== null) {\n            args.data.ganttProperties['resources'] = serverReturnedValue[this.parent.taskFields.resourceInfo];\n        }\n    };\n    Edit.prototype.addNewUndoCollection = function (record, args) {\n        if (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Add' && this.parent.viewType === 'ResourceView'))\n            && this.parent['isUndoRedoItemPresent']('Add')) {\n            record['action'] = 'Add';\n            var tempArray_1 = args.data.length > 0 ?\n                extend([], [], args.data, true) : [args.data];\n            var addedRec = [];\n            var _loop_7 = function (i) {\n                addedRec = (this_6.parent.flatData.filter(function (data) {\n                    return (tempArray_1[i].index === data.index && tempArray_1[i]['ganttProperties'].taskId === data.ganttProperties.taskId);\n                }));\n            };\n            var this_6 = this;\n            for (var i = 0; i < tempArray_1.length; i++) {\n                _loop_7(i);\n            }\n            record['addedRecords'] = extend([], [], addedRec, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n        }\n    };\n    /**\n     * Method to add new record.\n     *\n     * @param {Object[] | Object} data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        var _this = this;\n        var tempTaskID = this.parent.taskFields.id;\n        if (this.parent.editModule && this.parent.editSettings.allowAdding) {\n            this.parent.isDynamicData = true;\n            this.parent.treeGrid['isAddedFromGantt'] = true;\n            this.parent.isOnAdded = true;\n            var cAddedRecord_1 = [];\n            if (isNullOrUndefined(data)) {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else if (data instanceof Array) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    var addData = data;\n                    var addIndex = rowIndex;\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (data[0]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (data[0]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        else if (data[0]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        addIndex = this.parent.taskIds.indexOf(data[0]['id'].toString());\n                        addData = data[0]['data'];\n                    }\n                    this.validateTaskPosition(addData, rowPosition, addIndex, cAddedRecord_1);\n                }\n                else {\n                    for (var i = 0; i < data.length; i++) {\n                        this.validateTaskPosition(data[i], rowPosition, rowIndex, cAddedRecord_1);\n                    }\n                }\n            }\n            else if (typeof (data) === 'object') {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else {\n                return;\n            }\n            var args = {};\n            args = this.constructTaskAddedEventArgs(cAddedRecord_1, this.parent.editedRecords, 'beforeAdd');\n            if (!isNullOrUndefined(rowPosition)) {\n                args.rowPosition = rowPosition;\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Add')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n            }\n            this.parent.trigger('actionBegin', args, function (args) {\n                _this.parent.previousRecords = {};\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                var tasks = _this.parent.taskFields;\n                var ganttData;\n                if (_this.parent.viewType === 'ResourceView') {\n                    if (args.data['childRecords'].length > 0) {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('R' + args.data[tasks.id])];\n                    }\n                    else {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('T' + args.data[tasks.id])];\n                    }\n                }\n                else {\n                    ganttData = _this.parent.getRecordByID(args.data[tasks.id]);\n                }\n                if (!isNullOrUndefined(ganttData)) {\n                    _this.validateUpdateValues(args.newTaskData, ganttData, true);\n                    _this.parent.dateValidationModule.calculateEndDate(ganttData);\n                    _this.parent.dataOperation.updateWidthLeft(ganttData);\n                    _this.parent.dataOperation.updateParentItems(ganttData);\n                }\n                if (!isNullOrUndefined(args.data[\"\" + tempTaskID])) {\n                    if (args.data[tempTaskID] !== args.data['ganttProperties']['taskId']) {\n                        for (var _i = 0, _b = Object.keys(_this.parent.ids); _i < _b.length; _i++) {\n                            var key = _b[_i];\n                            if (_this.parent.ids[key] === args.data['ganttProperties']['taskId'].toString()) {\n                                _this.parent.ids[key] = args.data[tempTaskID].toString();\n                                break;\n                            }\n                        }\n                        args.data['ganttProperties']['taskId'] = args.data[tempTaskID];\n                        args.newTaskData[tempTaskID] = args.data[tempTaskID];\n                        args.data['ganttProperties']['rowUniqueID'] = args.data[tempTaskID].toString();\n                    }\n                }\n                if (!args.cancel) {\n                    var record = {};\n                    if (isRemoteData(_this.parent.dataSource)) {\n                        var data_2 = _this.parent.dataSource;\n                        var updatedData_2 = {\n                            addedRecords: [args.newTaskData],\n                            changedRecords: args.modifiedTaskData\n                        };\n                        /* tslint:disable-next-line */\n                        var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                        var adaptor = data_2.adaptor;\n                        if (!(adaptor instanceof WebApiAdaptor || adaptor instanceof ODataAdaptor ||\n                            adaptor instanceof ODataV4Adaptor) || data_2.dataSource.batchUrl) {\n                            /* tslint:disable-next-line */\n                            var crud = data_2.saveChanges(updatedData_2, _this.parent.taskFields.id, null, query);\n                            crud.then(function (e) {\n                                if (e.addedRecords[0][_this.parent.taskFields.id].toString() !== args.data['ganttProperties']['taskId']) {\n                                    args.data['ganttProperties']['taskId'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.newTaskData[tempTaskID] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.data['ganttProperties']['rowUniqueID'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    _this.parent.ids.push(e.addedRecords[0][_this.parent.taskFields.id].toString());\n                                }\n                                var prevID = args.data.ganttProperties.taskId.toString();\n                                if (_this.parent.taskFields.id && !isNullOrUndefined(e.addedRecords[0][_this.parent.taskFields.id]) &&\n                                    e.addedRecords[0][_this.parent.taskFields.id].toString() === prevID) {\n                                    _this.parent.setRecordValue('taskId', e.addedRecords[0][_this.parent.taskFields.id], args.data.ganttProperties, true);\n                                    _this.parent.setRecordValue('taskData', e.addedRecords[0], args.data);\n                                    _this.parent.setRecordValue(_this.parent.taskFields.id, e.addedRecords[0][_this.parent.taskFields.id], args.data);\n                                    _this.parent.setRecordValue('rowUniqueID', e.addedRecords[0][_this.parent.taskFields.id].toString(), args.data.ganttProperties, true);\n                                    _this.updateClientDataFromServer(e, args);\n                                    var idsIndex = _this.parent.ids.indexOf(prevID);\n                                    if (idsIndex !== -1) {\n                                        _this.parent.ids[idsIndex] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    }\n                                }\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                        else {\n                            var addedRecords = 'addedRecords';\n                            var insertCrud = data_2.insert(updatedData_2[addedRecords], null, query);\n                            insertCrud.then(function (e) {\n                                var addedRecords;\n                                if (!isNullOrUndefined(e[0])) {\n                                    addedRecords = e[0];\n                                }\n                                else {\n                                    addedRecords = updatedData_2['addedRecords'][0];\n                                }\n                                cAddedRecord_1.forEach(function (record) {\n                                    if (!isNullOrUndefined(record)) {\n                                        _this.updateEditedRecordFields(addedRecords, record);\n                                        _this.parent.dataOperation.updateTaskData(record);\n                                    }\n                                });\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                    }\n                    else {\n                        if (_this.parent.viewType === 'ProjectView') {\n                            if ((rowPosition === 'Top' || rowPosition === 'Bottom') ||\n                                ((rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') || isNullOrUndefined(rowPosition) && !args.data.parentItem)) {\n                                if (args.data instanceof Array) {\n                                    _this.updateRealDataSource(args.data, rowPosition);\n                                }\n                                else {\n                                    var data_3 = [];\n                                    data_3.push(args.data);\n                                    _this.updateRealDataSource(data_3, rowPosition);\n                                    _this.parent.currentSelection = cAddedRecord_1[0];\n                                }\n                            }\n                        }\n                        else {\n                            var dataSource = isCountRequired(_this.parent) ? getValue('result', _this.parent.dataSource) :\n                                _this.parent.dataSource; // eslint-disable-line\n                            dataSource.push(args.data.taskData);\n                        }\n                        if (cAddedRecord_1.level === 0) {\n                            _this.parent.treeGrid.parentData.splice(0, 0, cAddedRecord_1);\n                        }\n                        _this.updateTreeGridUniqueID(cAddedRecord_1, 'add');\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.undoRedoModule && _this.parent.undoRedoModule['currentAction']) {\n                            var canDelete = false;\n                            if (args.data['hasChildRecords']) {\n                                canDelete = true;\n                            }\n                            else {\n                                if (args.data['parentItem']) {\n                                    var parentTask = _this.parent.getTaskByUniqueID(args.data['parentItem'].uniqueID);\n                                    if (parentTask.ganttProperties.taskName !== _this.parent.localeObj.getConstant('unassignedTask')) {\n                                        canDelete = true;\n                                    }\n                                }\n                            }\n                            if (_this.parent.taskIds.indexOf('R0') !== -1 && _this.parent.undoRedoModule && _this.parent.undoRedoModule['isUndoRedoPerformed'] && _this.parent.undoRedoModule['currentAction']['action'] === 'Delete'\n                                && canDelete) {\n                                var unassignedTask = _this.parent.flatData[_this.parent.taskIds.indexOf('R0')];\n                                var isPresent = unassignedTask.childRecords.filter(function (data) { return data.ganttProperties.taskId === args.data['ganttProperties'].taskId; });\n                                if (args.data['hasChildRecords']) {\n                                    isPresent = args.data['childRecords'];\n                                }\n                                var _loop_8 = function (j) {\n                                    if (unassignedTask.childRecords.length === 1) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                    }\n                                    else {\n                                        var index = _this.parent.taskIds.indexOf('T' + isPresent[j].ganttProperties.taskId);\n                                        var id_2 = 'T' + isPresent[j].ganttProperties.taskId;\n                                        var indexes = _this.parent.taskIds.reduce(function (a, e, i) {\n                                            if (e === id_2) {\n                                                a.push(i);\n                                            }\n                                            return a;\n                                        }, []);\n                                        index = indexes[indexes.length - 1];\n                                        _this.parent.taskIds.splice(index, 1);\n                                        _this.parent.flatData.splice(index, 1);\n                                        _this.parent.ids.splice(index, 1);\n                                    }\n                                };\n                                for (var j = 0; j < isPresent.length; j++) {\n                                    _loop_8(j);\n                                }\n                                if (unassignedTask && _this.parent.viewType === 'ResourceView') {\n                                    var isValid = _this.parent.flatData[_this.parent.taskIds.indexOf('R0') + 1];\n                                    if (!isValid) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                    }\n                                }\n                            }\n                        }\n                        _this.refreshNewlyAddedRecord(args, cAddedRecord_1);\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.taskFields.work && ganttData) {\n                            _this.parent.dataOperation.updateParentItems(ganttData, true);\n                        }\n                        _this.addNewUndoCollection(record, args);\n                        _this._resetProperties();\n                    }\n                    _this.parent.isOnAdded = false;\n                }\n                else {\n                    _this.removeAddedRecord();\n                    _this.reUpdatePreviousRecords();\n                    _this._resetProperties();\n                }\n            });\n        }\n    };\n    Edit.prototype.createNewRecord = function () {\n        var tempRecord = {};\n        var ganttColumns = this.parent.ganttColumns;\n        var taskSettingsFields = this.parent.taskFields;\n        var taskId = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < ganttColumns.length; i++) {\n            var fieldName = ganttColumns[i].field;\n            if (fieldName === taskSettingsFields.id) {\n                tempRecord[fieldName] = taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.startDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.endDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.endDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.startDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.duration) {\n                tempRecord[fieldName] = 1;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.name) {\n                tempRecord[fieldName] = this.parent.editModule.dialogModule['localeObj'].getConstant('addDialogTitle') + ' ' + taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.progress) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.work) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.type || ganttColumns[i].field === 'taskType') {\n                tempRecord[fieldName] = this.parent.taskType;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.milestone) {\n                tempRecord[fieldName] = null;\n            }\n            else {\n                tempRecord[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        return tempRecord;\n    };\n    /**\n     * Method to validateTaskPosition.\n     *\n     * @param {Object | object[] } data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @param {IGanttData} cAddedRecord - Defines the single data to validate.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateTaskPosition = function (data, rowPosition, rowIndex, cAddedRecord) {\n        var selectedRowIndex = isNullOrUndefined(rowIndex) || isNaN(parseInt(rowIndex.toString(), 10)) ?\n            this.parent.selectionModule ?\n                (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both') &&\n                    this.parent.selectionModule.selectedRowIndexes.length === 1 ?\n                    this.parent.selectionModule.selectedRowIndexes[0] :\n                    this.parent.selectionSettings.mode === 'Cell' &&\n                        this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        this.parent.selectionModule.getSelectedRowCellIndexes()[0].rowIndex : null : null : rowIndex;\n        this.addRowSelectedItem = isNullOrUndefined(selectedRowIndex) ? null : this.parent.updatedRecords[selectedRowIndex];\n        rowPosition = isNullOrUndefined(rowPosition) ? this.parent.editSettings.newRowPosition : rowPosition;\n        data = isNullOrUndefined(data) ? this.createNewRecord() : data;\n        if (((isNullOrUndefined(selectedRowIndex) || selectedRowIndex < 0 ||\n            isNullOrUndefined(this.addRowSelectedItem)) && (rowPosition === 'Above'\n            || rowPosition === 'Below'\n            || rowPosition === 'Child')) || !rowPosition || (rowPosition !== 'Above'\n            && rowPosition !== 'Below'\n            && rowPosition !== 'Child' && rowPosition !== 'Top' &&\n            rowPosition !== 'Bottom')) {\n            rowPosition = 'Top';\n        }\n        var level = 0;\n        var parentItem;\n        switch (rowPosition) {\n            case 'Top':\n            case 'Bottom':\n                if (this.parent.viewType === 'ResourceView') {\n                    level = 1;\n                }\n                else {\n                    level = 0;\n                }\n                break;\n            case 'Above':\n            case 'Below':\n                level = this.addRowSelectedItem.level;\n                parentItem = this.parent.getParentTask(this.addRowSelectedItem.parentItem);\n                break;\n            case 'Child':\n                level = this.addRowSelectedItem.level + 1;\n                parentItem = this.addRowSelectedItem;\n                break;\n        }\n        if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.prepareNewlyAddedData(data, rowPosition);\n        }\n        var AddRecord = (this.updateNewlyAddedDataBeforeAjax(data, level, rowPosition, parentItem, rowIndex));\n        cAddedRecord.push(AddRecord);\n    };\n    Edit.prototype.updateRowIndex = function () {\n        var currentViewData = this.parent.currentViewData;\n        var rowCount = currentViewData.length;\n        for (var index = 0; index < rowCount; index++) {\n            var rowIndex = index;\n            currentViewData[index].index = rowIndex;\n            if (currentViewData[index].parentItem && currentViewData[index].parentItem.taskId) {\n                var parentRecord = this.parent.getRecordByID(currentViewData[index].parentItem.taskId);\n                if (!isNullOrUndefined(parentRecord) && !isNullOrUndefined(parentRecord.index) &&\n                    !isNullOrUndefined(parentRecord.level)) {\n                    currentViewData[index].parentItem.index = parentRecord.index;\n                    currentViewData[index].parentItem.level = parentRecord.level;\n                }\n            }\n        }\n    };\n    Edit.prototype.updateNewRecord = function (cAddedRecord, args) {\n        var _this = this;\n        cAddedRecord.forEach(function (record) {\n            if (record.level === 0) {\n                _this.parent.treeGrid.parentData.splice(0, 0, record);\n                var tempData = getValue('dataOperation.dataArray', _this.parent);\n                tempData.splice(0, 0, record.taskData);\n            }\n            _this.updateTreeGridUniqueID(record, 'add');\n        });\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n        this.refreshNewlyAddedRecord(args, cAddedRecord);\n        var objCollection = {};\n        this.addNewUndoCollection(objCollection, args);\n        this._resetProperties();\n    };\n    /**\n     * Method to reset the flag after adding new record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype._resetProperties = function () {\n        this.parent.isOnEdit = false;\n        this.parent.hideSpinner();\n        this.addRowSelectedItem = null;\n        this.newlyAddedRecordBackup = null;\n        this.isBreakLoop = false;\n        this.parent.element.tabIndex = 0;\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * Method to update unique id collection in TreeGrid\n     *\n     * @param {IGanttData} data .\n     * @param {string} action .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTreeGridUniqueID = function (data, action) {\n        if (action === 'add') {\n            setValue('uniqueIDCollection.' + data.uniqueID, data, this.parent.treeGrid);\n        }\n        else if (action === 'delete') {\n            deleteObject(getValue('uniqueIDCollection', this.parent.treeGrid), data.uniqueID);\n        }\n    };\n    Edit.prototype.refreshNewlyAddedRecord = function (args, cAddedRecord) {\n        var _this = this;\n        if (this.parent.selectionModule && this.parent.allowSelection &&\n            (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both')) {\n            this.parent.staticSelectedRowIndex = this.parent.currentViewData.indexOf(args.data);\n        }\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = [];\n            if (args.modifiedRecords.length > 0) {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data]; // eslint-disable-next-line\n                tempArray.push.apply(tempArray, args.modifiedRecords);\n            }\n            else {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data];\n            }\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        this.addSuccess(args);\n        args = this.constructTaskAddedEventArgs(cAddedRecord, args.modifiedRecords, 'add');\n        this.updateRowIndex();\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n            this.dialogModule.dialogObj.hide();\n        }\n        this.dialogModule.dialogClose();\n        if (this.parent.viewType === 'ResourceView') {\n            if (cAddedRecord.length > 1) {\n                for (var i = 0; i < cAddedRecord.length; i++) {\n                    args.data[i].ganttProperties.sharedTaskUniqueIds.push(args.data[i]\n                        .ganttProperties.rowUniqueID);\n                    if (args.data[i].ganttProperties.resourceInfo) {\n                        // if ((args.data[i] as IGanttData).ganttProperties.resourceInfo.length > 1) {\n                        var resources = extend([], [], args.data[i].ganttProperties.resourceInfo, true);\n                        resources.splice(0, 1);\n                        this.updateResoures([], resources, args.data[i]);\n                        // }\n                    }\n                    else {\n                        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data[i]['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                            this.removeChildRecord(args.data[i]);\n                            this.parent.editModule.checkWithUnassignedTask(args.data[i]);\n                        }\n                    }\n                    for (var k = 0; k < this.updateParentRecords.length; k++) {\n                        this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                    }\n                    this.updateParentRecords = [];\n                }\n            }\n            else {\n                args.data.ganttProperties.sharedTaskUniqueIds.push(args.data.ganttProperties.rowUniqueID);\n                // eslint-disable-next-line\n                var ganttData = args.data;\n                var ganttProperties = ganttData.ganttProperties;\n                var childRecords = ganttData.childRecords;\n                var undoRedoModule_1 = this.parent.undoRedoModule;\n                var handleResourceUpdate = function (resourceInfo, targetData) {\n                    if (resourceInfo && resourceInfo.length > 1) {\n                        var resources = extend([], [], resourceInfo, true);\n                        resources.splice(0, 1);\n                        if (undoRedoModule_1 && undoRedoModule_1['isUndoRedoPerformed']) {\n                            _this.parent.editModule.addRowIndex = undefined;\n                        }\n                        _this.updateResoures([], resources, targetData);\n                    }\n                };\n                // eslint-disable-next-line\n                if (ganttProperties.resourceInfo && ganttProperties.resourceInfo.length) {\n                    handleResourceUpdate(ganttProperties.resourceInfo, ganttData);\n                }\n                else if (childRecords.length > 0 && childRecords[0].ganttProperties.resourceInfo &&\n                    childRecords[0].ganttProperties.resourceInfo.length) {\n                    handleResourceUpdate(childRecords[0].ganttProperties.resourceInfo, args.data.childRecords[0]);\n                }\n                else {\n                    if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                        this.removeChildRecord(args.data);\n                        this.parent.editModule.checkWithUnassignedTask(args.data);\n                    }\n                }\n                for (var k = 0; k < this.updateParentRecords.length; k++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                }\n                this.updateParentRecords = [];\n            }\n        }\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.removeAddedRecord = function () {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var flatRecordsIndex = flatRecords.indexOf(this.newlyAddedRecordBackup);\n        var currentViewDataIndex = currentViewData.indexOf(this.newlyAddedRecordBackup);\n        var idsIndex = ids.indexOf(this.newlyAddedRecordBackup.ganttProperties.rowUniqueID.toString());\n        deleteObject(this.parent.previousRecords, flatRecords[flatRecordsIndex].uniqueID);\n        if (this.newlyAddedRecordBackup.parentItem) {\n            var parentItem = this.parent.getParentTask(this.newlyAddedRecordBackup.parentItem);\n            var parentIndex = parentItem.childRecords.indexOf(this.newlyAddedRecordBackup);\n            parentItem.childRecords.splice(parentIndex, 1);\n            if (parentItem.childRecords.length === 0 && parentItem.hasChildRecords) {\n                parentItem.hasChildRecords = false;\n            }\n        }\n        flatRecords.splice(flatRecordsIndex, 1);\n        currentViewData.splice(currentViewDataIndex, 1);\n        ids.splice(idsIndex, 1);\n    };\n    Edit.prototype.getPrevRecordIndex = function () {\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        var parent = this.parent.getRootParent(prevRecord, selectedRecord.level);\n        var prevIndex = this.parent.updatedRecords.indexOf(parent);\n        return prevIndex;\n    };\n    /**\n     * indent a selected record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.indent = function () {\n        var index = this.parent.selectedRowIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        var dropIndex;\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || !isNullOrUndefined(this.parent.updatedRecords[index]) && this.parent.updatedRecords[index].level - prevRecord.level === 1) {\n            return;\n        }\n        else {\n            if (prevRecord.level - selectedRecord.level === 0) {\n                dropIndex = this.parent.selectionModule.getSelectedRowIndexes()[0] - 1;\n            }\n            else {\n                dropIndex = this.getPrevRecordIndex();\n            }\n            this.indentOutdentRow([this.parent.selectionModule.getSelectedRowIndexes()[0]], dropIndex, 'child');\n        }\n    };\n    /**\n     * To perform outdent operation for selected row\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.outdent = function () {\n        var index = this.parent.selectionModule.getSelectedRowIndexes()[0];\n        var dropIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        if (!this.parent.editSettings.allowEditing || index === -1 || index === 0 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[index].level === 0) {\n            return;\n        }\n        else {\n            var thisParent = this.parent.getTaskByUniqueID(this.parent.selectionModule.getSelectedRecords()[0].parentItem.uniqueID);\n            dropIndex = this.parent.updatedRecords.indexOf(thisParent);\n            this.indentOutdentRow([index], dropIndex, 'below');\n        }\n    };\n    Edit.prototype.indentOutdentRow = function (fromIndexes, toIndex, pos) {\n        var _this = this;\n        // eslint-disable-next-line\n        if (fromIndexes[0] !== toIndex && pos === 'above' || 'below' || 'child') {\n            if (pos === 'above') {\n                this.dropPosition = 'topSegment';\n            }\n            if (pos === 'below') {\n                this.dropPosition = 'bottomSegment';\n            }\n            if (pos === 'child') {\n                this.dropPosition = 'middleSegment';\n            }\n            var action = void 0;\n            var record = [];\n            for (var i = 0; i < fromIndexes.length; i++) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']) {\n                    if (this.parent.undoRedoModule['currentAction']['modifiedRecord']) {\n                        record[i] = this.parent.undoRedoModule['currentAction']['modifiedRecord'][i].data;\n                    }\n                    else {\n                        record[i] = this.parent.undoRedoModule['currentAction']['data'][i];\n                    }\n                }\n                else {\n                    record[i] = this.parent.updatedRecords[fromIndexes[i]];\n                }\n            }\n            var isByMethod_1 = true;\n            var args_1 = {\n                data: record,\n                dropIndex: toIndex,\n                dropPosition: this.dropPosition\n            };\n            if (this.dropPosition === 'middleSegment') {\n                action = 'indenting';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                action = 'outdenting';\n            }\n            var actionArgs = {\n                action: action,\n                data: record[0],\n                cancel: false\n            };\n            this.parent.trigger('actionBegin', actionArgs, function (actionArg) {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                if (!actionArg.cancel) {\n                    _this.reArrangeRows(args_1, isByMethod_1);\n                }\n                else {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.hideMaskRow();\n                    }\n                    else {\n                        _this.parent.hideSpinner();\n                    }\n                    return;\n                }\n            });\n        }\n        else {\n            return;\n        }\n    };\n    Edit.prototype.reArrangeRows = function (args, isByMethod) {\n        var _this = this;\n        this.dropPosition = args.dropPosition;\n        this.parent['oldRecords'] = [];\n        this.parent['oldRecords'] = extend([], [], args.data, true);\n        if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n            var obj = this.parent;\n            var draggedRec = void 0;\n            this.droppedRecord = obj.updatedRecords[args.dropIndex];\n            var action = args.dropPosition === 'middleSegment' ? 'Indent' : 'Outdent';\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent'](action)) {\n                var record = {};\n                record['action'] = action;\n                record['modifiedRecord'] = [];\n                record['selectedRowIndexes'] = extend([], [], this.parent.selectionModule.selectedRowIndexes, true);\n                this.parent.undoRedoModule['findPosition'](extend([], [], [args.data], true)[0], record, 'modifiedRecord');\n                record['droppedRecord'] = extend([], [], this.droppedRecord, true);\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['redoEnabled'] = false;\n                    this.parent.undoRedoModule['getUndoCollection'] = [];\n                    this.parent.undoRedoModule['getRedoCollection'] = [];\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n                    }\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            var dragRecords = [];\n            var droppedRec = this.droppedRecord;\n            if (!args.data[0]) {\n                dragRecords.push(args.data);\n            }\n            else {\n                dragRecords = args.data;\n            }\n            var c = 0;\n            var dLength = dragRecords.length;\n            for (var i = 0; i < dLength; i++) {\n                this.parent.isOnEdit = true;\n                draggedRec = dragRecords[i];\n                this.draggedRecord = draggedRec;\n                if (this.dropPosition !== 'Invalid') {\n                    if (isByMethod) {\n                        this.deleteDragRow();\n                    }\n                    var recordIndex1 = this.treeGridData.indexOf(droppedRec);\n                    this.parent.editModule.updateResourceRelatedFields(droppedRec, '');\n                    if (this.dropPosition === 'bottomSegment') {\n                        if (!droppedRec.hasChildRecords) {\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                        }\n                        else {\n                            c = this.parent.editModule.getChildCount(droppedRec, 0);\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + c + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + c + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                            var idIndex = this.parent.ids.indexOf(this.draggedRecord[this.parent.taskFields.id].toString());\n                            if (idIndex !== recordIndex1 + c + 1) {\n                                this.parent.ids.splice(idIndex, 1);\n                                this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n                            }\n                        }\n                        this.parent.setRecordValue('parentItem', this.treeGridData[recordIndex1].parentItem, draggedRec);\n                        this.parent.setRecordValue('parentUniqueID', this.treeGridData[recordIndex1].parentUniqueID, draggedRec);\n                        this.parent.setRecordValue('level', this.treeGridData[recordIndex1].level, draggedRec);\n                        if (draggedRec.hasChildRecords) {\n                            var level = 1;\n                            this.updateChildRecordLevel(draggedRec, level);\n                            this.updateChildRecord(draggedRec, recordIndex1 + c + 1);\n                        }\n                        if (droppedRec.parentItem) {\n                            var record = this.parent.getParentTask(droppedRec.parentItem).childRecords;\n                            var childRecords = record;\n                            var droppedRecordIndex = childRecords.indexOf(droppedRec) + 1;\n                            childRecords.splice(droppedRecordIndex, 0, draggedRec);\n                        }\n                    }\n                    if (this.dropPosition === 'middleSegment') {\n                        this.dropMiddle(recordIndex1);\n                    }\n                    if (!isNullOrUndefined(draggedRec.parentItem && this.updateParentRecords.indexOf(draggedRec.parentItem) !== -1)) {\n                        this.updateParentRecords.push(this.parent.getTaskByUniqueID(draggedRec.parentItem.uniqueID));\n                    }\n                }\n                if (isNullOrUndefined(draggedRec.parentItem)) {\n                    var parentRecords = this.parent.treeGrid.parentData;\n                    var newParentIndex = parentRecords.indexOf(this.droppedRecord);\n                    if (this.dropPosition === 'bottomSegment') {\n                        parentRecords.splice(newParentIndex + 1, 0, draggedRec);\n                    }\n                }\n                this.refreshDataSource();\n            }\n            if (this.dropPosition === 'middleSegment') {\n                if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                    var len = droppedRec.ganttProperties.predecessor.length;\n                    for (var count = len - 1; count >= 0; count--) {\n                        if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                            var fromRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].from);\n                            var toRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].to);\n                            var validPredecessor = this.parent.predecessorModule.validateParentPredecessor(fromRecord, toRecord);\n                            if (droppedRec.ganttProperties.predecessor && (!validPredecessor || !this.parent.allowParentDependency)) {\n                                this.parent.editModule.removePredecessorOnDelete(droppedRec);\n                                droppedRec.ganttProperties.predecessor.splice(count, 1);\n                                droppedRec.ganttProperties.predecessorsName = null;\n                                droppedRec[this.parent.taskFields.dependency] = null;\n                                droppedRec.taskData[this.parent.taskFields.dependency] = null;\n                            }\n                        }\n                    }\n                }\n                if (droppedRec.ganttProperties.isMilestone) {\n                    this.parent.setRecordValue('isMilestone', false, droppedRec.ganttProperties, true);\n                    if (!isNullOrUndefined(droppedRec.taskData[this.parent.taskFields.milestone])) {\n                        if (droppedRec.taskData[this.parent.taskFields.milestone] === true) {\n                            droppedRec.taskData[this.parent.taskFields.milestone] = false;\n                        }\n                    }\n                }\n            }\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.parent.editedRecords.forEach(function (record) {\n                _this.isFirstCall = true;\n                _this.parent.predecessorModule.validatePredecessor(record, [], '');\n            });\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.isOnEdit = false;\n        }\n        this.canReset = true;\n        this.refreshRecord(args);\n    };\n    /**\n     * @returns {void} .\n     * @param {RowDropEventArgs} args .\n     * @param {boolean} isDrag .\n     * @private\n     */\n    Edit.prototype.refreshRecord = function (args, isDrag) {\n        var _this = this;\n        if (isRemoteData(this.parent.dataSource)) {\n            var data = this.parent.dataSource;\n            var updatedData = {\n                changedRecords: getTaskData(this.parent.editedRecords, null, null, this.parent)\n            };\n            var queryValue = this.parent.query instanceof Query ? this.parent.query : new Query();\n            var crud = null;\n            var adaptor = data.adaptor;\n            if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                crud = data.saveChanges(updatedData, this.parent.taskFields.id, null, queryValue);\n            }\n            else {\n                var changedRecords = 'changedRecords';\n                crud = data.update(this.parent.taskFields.id, updatedData[changedRecords], null, queryValue);\n            }\n            crud.then(function (e) { return _this.indentSuccess(e, args, isDrag); })\n                .catch(function (e) { return _this.indentFailure(e); });\n        }\n        else {\n            this.indentOutdentSuccess(args, isDrag);\n        }\n    };\n    Edit.prototype.indentSuccess = function (e, args, isDrag) {\n        this.updateEditedFields(e);\n        this.indentOutdentSuccess(args, isDrag);\n    };\n    Edit.prototype.indentFailure = function (e) {\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.indentOutdentSuccess = function (args, isDrag) {\n        this.parent.treeGrid.parentData = [];\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode(args.data, isDrag);\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n        }\n        if (isDrag) {\n            args.requestType = 'rowDropped';\n        }\n        else {\n            if (this.dropPosition === 'middleSegment') {\n                args.requestType = 'indented';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                args.requestType = 'outdented';\n            }\n        }\n        args.modifiedRecords = this.parent.editedRecords;\n        if (this.parent.timezone) {\n            for (var i = 0; i < args.modifiedRecords.length; i++) {\n                updateDates(args.modifiedRecords[i], this.parent);\n            }\n        }\n        if (this.canReset) {\n            this.parent.previousRecords = {};\n        }\n        this.canReset = false;\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.parent.rowDragAndDropModule) {\n            this.parent.rowDragAndDropModule['draggedRecord'] = null;\n        }\n    };\n    Edit.prototype.refreshDataSource = function () {\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var proxy = this.parent;\n        var tempData;\n        var indx;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempData = proxy.dataSource;\n        }\n        if (tempData.length > 0 && (!isNullOrUndefined(droppedRec) && !droppedRec.parentItem)) {\n            for (var i = 0; i < Object.keys(tempData).length; i++) {\n                if (tempData[i][this.parent.taskFields.child] === droppedRec.taskData[this.parent.taskFields.child]) {\n                    indx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx, 0, draggedRec.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx + 1, 0, draggedRec.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRec) && droppedRec.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPos = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRec;\n                var dragRecord = [];\n                if (!Array.isArray(draggedRec)) {\n                    dragRecord[0] = draggedRec;\n                }\n                else {\n                    dragRecord = draggedRec;\n                }\n                this.parent.editModule.updateRealDataSource(dragRecord, rowPos);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRec.parentItem) {\n                if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.parentID];\n                }\n                else {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.id];\n                }\n            }\n            else {\n                draggedRec[this.parent.taskFields.parentID] = null;\n                draggedRec.taskData[this.parent.taskFields.parentID] = null;\n                draggedRec.ganttProperties['parentId'] = null;\n            }\n        }\n    };\n    Edit.prototype.deleteDragRow = function () {\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        this.treeGridData = isCountRequired(this.parent) ?\n            getValue('result', this.parent.treeGrid.dataSource) : this.parent.treeGrid.dataSource;\n        var delRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        this.removeRecords(delRow);\n    };\n    Edit.prototype.updateIndentedChildRecords = function (indentedRecord) {\n        var createParentItem = {\n            uniqueID: indentedRecord.uniqueID,\n            expanded: indentedRecord.expanded,\n            level: indentedRecord.level,\n            index: indentedRecord.index,\n            taskId: indentedRecord.ganttProperties.rowUniqueID\n        };\n        for (var i = 0; i < indentedRecord.childRecords.length; i++) {\n            this.parent.setRecordValue('parentItem', createParentItem, indentedRecord.childRecords[i]);\n            this.parent.setRecordValue('parentUniqueID', indentedRecord.uniqueID, indentedRecord.childRecords[i]);\n        }\n        if (indentedRecord.hasChildRecords) {\n            indentedRecord = indentedRecord.childRecords;\n            for (var j = 0; j < indentedRecord['length']; j++) {\n                this.updateIndentedChildRecords(indentedRecord[j]);\n            }\n        }\n    };\n    Edit.prototype.dropMiddle = function (recordIndex1) {\n        var obj = this.parent;\n        var childRec;\n        var childRecordsLength;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['modifiedRecord']\n            && this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position !== 'child') {\n            if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'above') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString());\n            }\n            else if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'below') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString()) + 1;\n            }\n        }\n        else {\n            childRec = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n            childRecordsLength = (isNullOrUndefined(childRec) ||\n                childRec === 0) ? recordIndex1 + 1 :\n                childRec + recordIndex1 + 1;\n        }\n        if (this.dropPosition === 'middleSegment') {\n            if (this.droppedRecord.ganttProperties.isAutoSchedule &&\n                !isNullOrUndefined(this.droppedRecord.ganttProperties.predecessorsName) &&\n                this.droppedRecord.ganttProperties.predecessorsName !== '') {\n                var startDate = this.droppedRecord.ganttProperties.startDate;\n                this.parent.setRecordValue('startDate', startDate, this.draggedRecord.ganttProperties, true);\n                this.parent.dateValidationModule.calculateEndDate(this.draggedRecord);\n                this.parent.dataOperation.updateTaskData(this.draggedRecord);\n                this.parent.dataOperation['updateTaskLeftWidth'](this.draggedRecord);\n            }\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n            this.recordLevel();\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n                if (this.parent.enableImmutableMode) {\n                    var indentedRecord = this.draggedRecord;\n                    this.updateIndentedChildRecords(indentedRecord);\n                }\n            }\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    Edit.prototype.updateChildRecordLevel = function (record, levl) {\n        var length = 0;\n        var currentRec;\n        levl++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var j = 0; j < length; j++) {\n            currentRec = record.childRecords[j];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRec.level = record.parentItem ? parentData.level + levl : record.level + 1;\n            if (currentRec.hasChildRecords) {\n                levl--;\n                levl = this.updateChildRecordLevel(currentRec, levl);\n            }\n        }\n        return levl;\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRec;\n        var obj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRec = record.childRecords[i];\n            count++;\n            obj.flatData.splice(count, 0, currentRec);\n            this.parent.ids.splice(count, 0, currentRec.ganttProperties.rowUniqueID.toString());\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(count, 0, currentRec.taskData);\n            }\n            if (currentRec.hasChildRecords) {\n                count = this.updateChildRecord(currentRec, count);\n            }\n        }\n        return count;\n    };\n    Edit.prototype.removeRecords = function (record) {\n        var obj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var delRow = record;\n        if (delRow) {\n            var flatParent = this.parent.getParentTask(delRow.parentItem);\n            if (delRow.parentItem) {\n                var childRecords = flatParent ? flatParent.childRecords : [];\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    childIndex = childRecords.indexOf(delRow);\n                    flatParent.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID) {\n                        flatParent.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParent);\n                }\n            }\n            if (obj.taskFields.parentID) {\n                if (delRow.hasChildRecords && delRow.childRecords.length > 0) {\n                    this.removeChildItem(delRow);\n                }\n                var indx = void 0;\n                var ganttData = dataSource.length > 0 ?\n                    dataSource : this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                        indx = i;\n                    }\n                }\n                if (indx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(indx, 1);\n                    }\n                    var gridIndx = void 0;\n                    for (var i = 0; i < this.treeGridData.length; i++) {\n                        if (this.treeGridData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                            gridIndx = i;\n                        }\n                    }\n                    this.treeGridData.splice(gridIndx, 1);\n                    this.parent.ids.splice(gridIndx, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(delRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(delRow), 1);\n                    }\n                }\n            }\n            var recordIdx = this.treeGridData.indexOf(delRow);\n            if (!obj.taskFields.parentID) {\n                var deletedRecordCount = this.getChildCount(delRow, 0);\n                this.treeGridData.splice(recordIdx, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIdx, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(delRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n            }\n            if (delRow.parentItem && flatParent && flatParent.childRecords && !flatParent.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParent);\n                this.parent.setRecordValue('hasChildRecords', false, flatParent);\n            }\n        }\n    };\n    Edit.prototype.removeChildItem = function (record) {\n        var currentRec;\n        var indx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRec = record.childRecords[i];\n            var data = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                data = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                data = this.parent.dataSource;\n            }\n            for (var j = 0; j < data.length; j++) {\n                if (data[j][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                    indx = j;\n                }\n            }\n            if (indx !== -1) {\n                if (data.length > 0) {\n                    data.splice(indx, 1);\n                }\n                var gridIndx = void 0;\n                for (var i_2 = 0; i_2 < this.treeGridData.length; i_2++) {\n                    if (this.treeGridData[i_2][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                        gridIndx = i_2;\n                    }\n                }\n                this.treeGridData.splice(gridIndx, 1);\n                this.parent.ids.splice(gridIndx, 1);\n            }\n            if (currentRec.hasChildRecords) {\n                this.removeChildItem(currentRec);\n            }\n        }\n    };\n    Edit.prototype.recordLevel = function () {\n        var obj = this.parent;\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var childItem = obj.taskFields.child;\n        if (!droppedRec.hasChildRecords) {\n            droppedRec.hasChildRecords = true;\n            if (!droppedRec.childRecords.length) {\n                droppedRec.childRecords = [];\n                if (!obj.taskFields.parentID && isNullOrUndefined(droppedRec.taskData[childItem])) {\n                    droppedRec.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRec);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRec);\n            this.parent.setRecordValue('parentUniqueID', droppedRec.uniqueID, draggedRec);\n            droppedRec.childRecords.splice(droppedRec.childRecords.length, 0, draggedRec);\n            if (!isNullOrUndefined(draggedRec) && !obj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRec.taskData[childItem])) {\n                droppedRec.taskData[obj.taskFields.child].splice(droppedRec.childRecords.length, 0, draggedRec.taskData);\n            }\n            if (!isNullOrUndefined(droppedRec.ganttProperties.segments) && droppedRec.ganttProperties.segments.length > 0) {\n                droppedRec.ganttProperties.segments = null;\n                droppedRec.taskData[obj.taskFields.segments] = null;\n            }\n            if (!draggedRec.hasChildRecords) {\n                draggedRec.level = droppedRec.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRec.level = droppedRec.level + 1;\n                this.updateChildRecordLevel(draggedRec, level);\n            }\n            droppedRec.expanded = true;\n        }\n    };\n    return Edit;\n}());\nexport { Edit };\n","import { TreeGrid, Reorder as TreeGridReorder } from '@syncfusion/ej2-treegrid';\n/**\n * To handle column reorder action from TreeGrid\n */\nvar Reorder = /** @class */ (function () {\n    function Reorder(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridReorder);\n        this.parent.treeGrid.allowReordering = this.parent.allowReordering;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {string} .\n     */\n    Reorder.prototype.getModuleName = function () {\n        return 'reorder';\n    };\n    /**\n     * To bind reorder events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.columnDragStart = function (args) {\n            _this.parent.trigger('columnDragStart', args);\n        };\n        this.parent.treeGrid.columnDrag = function (args) {\n            _this.parent.trigger('columnDrag', args);\n        };\n        this.parent.treeGrid.columnDrop = function (args) {\n            _this.parent.trigger('columnDrop', args);\n        };\n    };\n    /**\n     * To destroy the column-reorder.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Reorder;\n}());\nexport { Reorder };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { TreeGrid, Resize as TreeGridResize } from '@syncfusion/ej2-treegrid';\n/**\n * Column resize action related code goes here\n */\nvar Resize = /** @class */ (function () {\n    function Resize(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridResize);\n        this.parent.treeGrid.allowResizing = this.parent.allowResizing;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    Resize.prototype.getModuleName = function () {\n        return 'resize';\n    };\n    /**\n     * To bind resize events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.resizeStart = function (args) {\n            if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('ColumnResize')) {\n                _this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['action'] = 'ColumnResize';\n                details['resizedColumn'] = __assign({}, args.column);\n                _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            _this.parent.trigger('resizeStart', args);\n        };\n        this.parent.treeGrid.resizing = function (args) {\n            _this.parent.trigger('resizing', args);\n        };\n        this.parent.treeGrid.resizeStop = function (args) {\n            _this.parent.trigger('resizeStop', args);\n        };\n    };\n    /**\n     * To destroy the column-resizer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Resize;\n}());\nexport { Resize };\n","import { TreeGrid, Filter as TreeGridFilter } from '@syncfusion/ej2-treegrid';\nimport { filterAfterOpen, getFilterMenuPostion } from '@syncfusion/ej2-grids';\nimport { getActualProperties, getCustomDateFormat } from '@syncfusion/ej2-grids';\nimport { getValue, isNullOrUndefined, remove, createElement, addClass, closest, EventHandler } from '@syncfusion/ej2-base';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\n/**\n * The Filter module is used to handle filter action.\n */\nvar Filter = /** @class */ (function () {\n    function Filter(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridFilter);\n        this.parent.treeGrid.allowFiltering = this.parent.allowFiltering;\n        this.updateCustomFilters();\n        this.parent.treeGrid.filterSettings = getActualProperties(this.parent.filterSettings);\n        this.addEventListener();\n    }\n    Filter.prototype.getModuleName = function () {\n        return 'filter';\n    };\n    /**\n     * Update custom filter for default Gantt columns\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.updateCustomFilters = function () {\n        var settings = this.parent.taskFields;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            var column = this.parent.ganttColumns[i];\n            if (((column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') &&\n                (column.field === settings.startDate || column.field === settings.endDate\n                    || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) ||\n                (column.field === settings.duration && column.editType === 'stringedit')) {\n                this.initiateFiltering(this.parent.ganttColumns[i]);\n            }\n        }\n    };\n    Filter.prototype.updateModel = function () {\n        this.parent.filterSettings = this.parent.treeGrid.filterSettings;\n    };\n    Filter.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n        this.parent.on('actionBegin', this.actionBegin, this);\n        this.parent.on('actionComplete', this.actionComplete, this);\n        this.parent.on('columnMenuOpen', this.columnMenuOpen, this);\n    };\n    Filter.prototype.wireEvents = function (a) {\n        EventHandler.add(document.getElementById(a), 'click', this.mouseClickHandler, this);\n    };\n    Filter.prototype.initiateFiltering = function (column) {\n        var treeColumn = this.parent.getColumnByField(column.field, this.parent.treeGridModule.treeGridColumns);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n        if (column.allowFiltering && (this.parent.filterSettings.type === 'Menu' || this.parent.filterSettings.type === 'Excel') && !column.filter) {\n            column.filter = { ui: this.getCustomFilterUi(column) };\n        }\n        if (treeColumn) {\n            treeColumn.allowFiltering = column.allowFiltering;\n            treeColumn.filter = column.allowFiltering ? column.filter : {};\n        }\n    };\n    /**\n     * To get filter menu UI\n     *\n     * @param {ColumnModel} column .\n     * @returns {IFilterMUI} .\n     */\n    Filter.prototype.getCustomFilterUi = function (column) {\n        var settings = this.parent.taskFields;\n        var filterUI = {};\n        if (column.editType === 'datepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDatePickerFilter(column.field);\n        }\n        else if (column.editType === 'datetimepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDateTimePickerFilter();\n        }\n        else if (column.field === settings.duration && column.editType === 'stringedit') {\n            filterUI = this.getDurationFilter();\n        }\n        return filterUI;\n    };\n    Filter.prototype.mouseClickHandler = function (e) {\n        if (closest(e.target, '.e-excelfilter')) {\n            this.parent.treeGrid.grid.notify('click', e);\n        }\n    };\n    Filter.prototype.unWireEvents = function () {\n        EventHandler.remove(this.parent.element, 'click', this.mouseClickHandler);\n    };\n    Filter.prototype.getDatePickerFilter = function (columnName) {\n        var _this = this;\n        var parent = this.parent;\n        var timeValue = (columnName === parent.taskFields.startDate) || (columnName === parent.taskFields.baselineStartDate)\n            ? parent.defaultStartTime : parent.defaultEndTime;\n        var dropDateInstance;\n        var filterDateUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropDateInstance = new DatePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropDateInstance.enableRtl = _this.parent.enableRtl;\n                dropDateInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropDateInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                if (dropDateInstance.value) {\n                    dropDateInstance.value.setSeconds(timeValue);\n                }\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropDateInstance.value);\n            }\n        };\n        return filterDateUI;\n    };\n    Filter.prototype.getDateTimePickerFilter = function () {\n        var _this = this;\n        var dropInstance;\n        var filterDateTimeUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropInstance = new DateTimePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropInstance.enableRtl = _this.parent.enableRtl;\n                dropInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropInstance.value);\n            }\n        };\n        return filterDateTimeUI;\n    };\n    Filter.prototype.getDurationFilter = function () {\n        var _this = this;\n        var parent = this.parent;\n        var textBoxInstance;\n        var textValue = '';\n        var filterDurationUI = {\n            create: function (args) {\n                var flValInput = createElement('input', { className: 'e-input' });\n                flValInput.setAttribute('placeholder', _this.parent.localeObj.getConstant('enterValue'));\n                args.target.appendChild(flValInput);\n                textBoxInstance = new TextBox();\n                textBoxInstance.enableRtl = _this.parent.enableRtl;\n                textBoxInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                textBoxInstance.value = args.filteredValue ? textValue : '';\n            },\n            read: function (args) {\n                var durationObj = _this.parent.dataOperation.getDurationValue(textBoxInstance.value);\n                var intVal = getValue('duration', durationObj);\n                var unit = getValue('durationUnit', durationObj);\n                if (intVal >= 0) {\n                    var dayVal = void 0;\n                    if (unit === 'minute') {\n                        dayVal = (intVal * 60) / parent.secondsPerDay;\n                    }\n                    else if (unit === 'hour') {\n                        dayVal = (intVal * 60 * 60) / parent.secondsPerDay;\n                    }\n                    else {\n                        //Consider it as day unit\n                        dayVal = intVal;\n                        unit = 'day';\n                    }\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, dayVal);\n                    textValue = _this.parent.dataOperation.getDurationString(intVal, unit);\n                }\n                else {\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, null);\n                    textValue = null;\n                }\n            }\n        };\n        return filterDurationUI;\n    };\n    /**\n     * Remove filter menu while opening column chooser menu\n     *\n     * @param {ColumnMenuOpenEventArgs} args .\n     * @returns {void} .\n     */\n    Filter.prototype.columnMenuOpen = function (args) {\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            remove(this.filterMenuElement);\n        }\n        this.filterMenuElement = null;\n    };\n    // eslint-disable-next-line\n    Filter.prototype.actionBegin = function (args) {\n        // ...\n    };\n    Filter.prototype.closeFilterOnContextClick = function (element) {\n        var datePickerElement = document.querySelector('body > div.e-datepicker');\n        var dateTimePickerElement = document.querySelector('body > div.e-datetimepicker');\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            var ganttElement = closest(element, '#' + this.parent.element.id)\n                || element.querySelector('#' + this.parent.element.id);\n            if ((!(this.filterMenuElement.contains(element)) && !isNullOrUndefined(ganttElement)) ||\n                ((!(this.filterMenuElement.contains(element)) && !this.parent.enableAdaptiveUI) && (isNullOrUndefined(datePickerElement)) &&\n                    (isNullOrUndefined(dateTimePickerElement)) && ((element.nodeName === 'DIV') || (element.nodeName === 'HTML') ||\n                    (element.nodeName === 'SPAN') || (element.nodeName === 'BUTTON'))) && !element.classList.contains('e-dropdownbase')) {\n                remove(this.filterMenuElement);\n                this.parent.treeGrid.grid.notify('filter-menu-close', { isOpen: false });\n                this.filterMenuElement = null;\n            }\n        }\n    };\n    Filter.prototype.actionComplete = function (args) {\n        if (!isNullOrUndefined(args['filterModel'])) {\n            if (!isNullOrUndefined(args['filterModel']['dialogObj'])) {\n                if (!isNullOrUndefined(args['filterModel']['dialogObj']['element'])) {\n                    if (this.parent.filterSettings.type === 'Excel') {\n                        this.wireEvents(args['filterModel']['dialogObj']['element'].id);\n                    }\n                }\n            }\n        }\n        if (args.requestType === filterAfterOpen) {\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                this.filterMenuElement = getValue('filterModel.dlgObj.element', args);\n            }\n            else {\n                this.filterMenuElement = getValue('filterModel.dialogObj.element', args);\n            }\n            this.updateFilterMenuPosition(this.filterMenuElement, args);\n            // To set default values as 'contains' in filter dialog\n            var taskID = this.parent.taskFields.id;\n            var predecessor = this.parent.taskFields.dependency;\n            var resource = this.parent.taskFields.resourceInfo;\n            var filterObj = this.parent.treeGrid.grid.filterModule;\n            var filterValues = getValue('values', filterObj);\n            if ((args.columnName === predecessor && isNullOrUndefined(getValue(predecessor, filterValues)))\n                || (args.columnName === resource && isNullOrUndefined(getValue(resource, filterValues)))) {\n                var element = this.filterMenuElement.querySelector('.e-dropdownlist');\n                var instanceObj = void 0;\n                if (!isNullOrUndefined(element)) {\n                    instanceObj = getValue('ej2_instances[0]', element);\n                    instanceObj.index = 2;\n                    instanceObj.dataBind();\n                }\n            }\n            else if (args.columnName === taskID && isNullOrUndefined(getValue(taskID, filterValues)) && this.parent.treeGrid.filterSettings.type === 'Menu') {\n                var element = this.filterMenuElement.querySelector('.e-flmenu-input');\n                var instanceObj = getValue('ej2_instances[0]', element);\n                if (!isNullOrUndefined(instanceObj) && isNullOrUndefined(this.parent.columnByField[args.columnName].format)) {\n                    instanceObj.format = 'n';\n                }\n            }\n        }\n    };\n    Filter.prototype.setPosition = function (li, ul) {\n        /* eslint-disable-next-line */\n        var gridPos = this.parent.element.getBoundingClientRect();\n        var gridPosTop = gridPos.top + window.scrollY;\n        var gridPosLeft = gridPos.left;\n        /* eslint-disable-next-line */\n        var parentNode;\n        var parentNodeTop;\n        var parentNodeLeft;\n        var paddingTop;\n        var paddingLeft;\n        var marginTop;\n        var isValid = true;\n        var marginLeft;\n        var isNonBodyTag = false;\n        if (!isNullOrUndefined(this.parent.element.parentNode) && this.parent.element.parentNode['tagName'] !== 'BODY') {\n            isNonBodyTag = true;\n            parentNode = this.parent.element.parentNode;\n            var topValue = Math.abs(parentNode.getBoundingClientRect().top);\n            parentNodeTop = topValue > window.scrollY ? topValue - window.scrollY : window.scrollY - topValue;\n            marginTop = parentNode.style.marginTop;\n            while (isValid) {\n                if (Math.abs(gridPosTop) > Math.abs(parentNodeTop)) {\n                    paddingTop = gridPosTop - parentNodeTop;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    if (parentNode.parentNode && parentNode.parentNode.style) {\n                        marginTop = parentNode.parentNode.style.marginTop;\n                    }\n                }\n                parentNodeTop = parentNode.getBoundingClientRect().top;\n            }\n            parentNodeLeft = parentNode.getBoundingClientRect().left;\n            marginLeft = parentNode.style.marginLeft;\n            while (isValid) {\n                if (Math.abs(gridPosLeft) > Math.abs(parentNodeLeft)) {\n                    paddingLeft = gridPosLeft - parentNodeLeft;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    marginLeft = parentNode.style.marginLeft;\n                }\n                parentNodeLeft = parentNode.getBoundingClientRect().left;\n            }\n        }\n        /* eslint-disable-next-line */\n        var liPos = li.getBoundingClientRect();\n        var left = liPos.right + window.scrollX;\n        var top = isNonBodyTag ? liPos.top - gridPosTop : liPos.top + window.scrollY;\n        if (gridPos.right < (left + ul.offsetWidth)) {\n            if ((liPos.left - ul.offsetWidth) > gridPos.left) {\n                left = (liPos.left - ul.offsetWidth);\n            }\n            else {\n                left -= (left + ul.offsetWidth) - gridPos.right;\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(paddingTop) || !isNullOrUndefined(paddingLeft)) && isNonBodyTag) {\n                left = Math.abs(liPos.right - gridPos.left);\n                top = Math.abs(liPos.top - gridPos.top);\n            }\n        }\n        if (!isNullOrUndefined(paddingTop) && !isNullOrUndefined(paddingLeft)) {\n            ul.style.top = typeof (parseInt(marginTop, 10)) === 'string' ? (top + paddingTop + parseInt(marginTop, 10)) + 'px' : (top + paddingTop) + 'px';\n            ul.style.left = typeof (parseInt(marginLeft, 10)) === 'string' ? (left + paddingLeft + parseInt(marginLeft, 10) + 8) + 'px' : (left + paddingLeft) + 'px';\n        }\n        else {\n            ul.style.top = top + 'px';\n            ul.style.left = left + 'px';\n        }\n    };\n    Filter.prototype.updateFilterMenuPosition = function (element, args) {\n        addClass([element], 'e-gantt');\n        if (!this.parent.enableAdaptiveUI) {\n            document.querySelector('#' + this.parent.controlId).appendChild(element);\n        }\n        var targetElement;\n        if (this.parent.showColumnMenu) {\n            targetElement = document.querySelector('#treeGrid' + this.parent.controlId + '_gridcontrol_colmenu_Filter');\n            if (targetElement) {\n                element.style.zIndex = targetElement.parentElement.style.zIndex;\n                if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                    this.setPosition(targetElement, getValue('filterModel.dlgObj.element', args));\n                }\n                else {\n                    this.setPosition(targetElement, getValue('filterModel.dialogObj.element', args));\n                }\n            }\n        }\n        else {\n            targetElement = this.parent.treeGrid.grid.getColumnHeaderByField(args.columnName).querySelector('.e-filtermenudiv');\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dlgObj', args));\n            }\n            else {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dialogObj', args));\n            }\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n            element.querySelector('.e-valid-input').focus();\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Excel') {\n            var inputElement = document.querySelector('.e-searchinput');\n            inputElement.focus();\n        }\n    };\n    Filter.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n        this.parent.off('actionBegin', this.actionBegin);\n        this.parent.off('actionComplete', this.actionComplete);\n        this.parent.off('columnMenuOpen', this.columnMenuOpen);\n    };\n    /**\n     * This method is used to destroy the filter module. When called, it performs any necessary cleanup operations related to the filter module.\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n    };\n    return Filter;\n}());\nexport { Filter };\n","import { TreeGrid, Sort as TreeGrdSort } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\n/**\n * The Sort module is used to handle sorting action.\n */\nvar Sort = /** @class */ (function () {\n    function Sort(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGrdSort);\n        this.parent.treeGrid.allowSorting = this.parent.allowSorting;\n        this.parent.treeGrid.sortSettings = getActualProperties(this.parent.sortSettings);\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Sort.prototype.getModuleName = function () {\n        return 'sort';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n    };\n    /**\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * Sort a column with given options.\n     *\n     * @param {string} columnName - Defines the column name to sort.\n     * @param {SortDirection} direction - Defines the direction of sort.\n     * @param {boolean} isMultiSort - Defines whether the previously sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Sort.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        this.parent.treeGrid.sortByColumn(columnName, direction, isMultiSort);\n    };\n    /**\n     * Method to clear all sorted columns.\n     *\n     * @returns {void} .\n     */\n    Sort.prototype.clearSorting = function () {\n        this.parent.treeGrid.clearSorting();\n    };\n    /**\n     * The function used to update sortSettings of TreeGrid.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.updateModel = function () {\n        this.parent.sortSettings = this.parent.treeGrid.sortSettings;\n    };\n    /**\n     * To clear sorting for specific column.\n     *\n     * @param {string} columnName - Defines the sorted column name to remove.\n     * @returns {void} .\n     */\n    Sort.prototype.removeSortColumn = function (columnName) {\n        this.parent.treeGrid.grid.removeSortColumn(columnName);\n    };\n    return Sort;\n}());\nexport { Sort };\n","import { parentsUntil, getActualProperties } from '@syncfusion/ej2-grids';\nimport { setCssInGridPopUp } from '@syncfusion/ej2-grids';\nimport { isNullOrUndefined, removeClass, getValue, addClass, closest, setValue, extend } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * The Selection module is used to handle cell and row selection.\n */\nvar Selection = /** @class */ (function () {\n    function Selection(gantt) {\n        this.isSelectionFromChart = false;\n        this.isFromChart = false;\n        this.multipleIndexes = [];\n        this.selectedRowIndexes = [];\n        this.enableSelectMultiTouch = false;\n        this.openPopup = false;\n        this.parent = gantt;\n        this.bindEvents();\n        this.parent.treeGrid.selectedRowIndex = this.parent.selectedRowIndex;\n        this.parent.treeGrid.allowSelection = this.parent.allowSelection;\n        this.parent.treeGrid.grid.selectionSettings.enableToggle = this.parent.selectionSettings.enableToggle;\n        this.parent.treeGrid.selectionSettings = getActualProperties(this.parent.selectionSettings);\n        this.wireEvents();\n    }\n    /**\n     * Get module\n     *\n     * @returns {string} .\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'selection';\n    };\n    Selection.prototype.wireEvents = function () {\n        this.parent.on('selectRowByIndex', this.selectRowByIndex, this);\n        if (this.parent.isAdaptive) {\n            this.parent.on('chartMouseClick', this.mouseUpHandler, this);\n            this.parent.on('treeGridClick', this.popUpClickHandler, this);\n        }\n        else {\n            this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        }\n    };\n    /**\n     * To update selected index.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.selectRowByIndex = function () {\n        if ((this.parent.selectedRowIndex !== -1 || this.parent.staticSelectedRowIndex !== -1)) {\n            this.selectRow(this.parent.staticSelectedRowIndex !== -1 ? this.parent.staticSelectedRowIndex : this.parent.selectedRowIndex);\n            this.parent.staticSelectedRowIndex = -1;\n        }\n    };\n    /**\n     * To bind selection events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowSelecting = this.rowSelecting.bind(this);\n        this.parent.treeGrid.rowSelected = this.rowSelected.bind(this);\n        this.parent.treeGrid.rowDeselecting = this.rowDeselecting.bind(this);\n        this.parent.treeGrid.rowDeselected = this.rowDeselected.bind(this);\n        this.parent.treeGrid.cellSelecting = this.cellSelecting.bind(this);\n        this.parent.treeGrid.cellSelected = this.cellSelected.bind(this);\n        this.parent.treeGrid.cellDeselecting = this.cellDeselecting.bind(this);\n        this.parent.treeGrid.cellDeselected = this.cellDeselected.bind(this);\n    };\n    Selection.prototype.rowSelecting = function (args) {\n        if (!this.parent.isGanttChartRendered) {\n            args.cancel = true;\n            return;\n        }\n        args.isCtrlPressed = this.isMultiCtrlRequest || args.isCtrlPressed;\n        args.isShiftPressed = this.isMultiShiftRequest || args.isShiftPressed;\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        if (this.parent.selectionSettings && this.parent.selectionSettings.persistSelection) {\n            this.parent.treeGrid.grid.selectionModule['checkSelectAllClicked'] = true;\n        }\n        this.parent.trigger('rowSelecting', args);\n        if (this.isMultiShiftRequest || this.isMultiCtrlRequest) {\n            this.isMultiShiftRequest = this.isMultiCtrlRequest = false;\n        }\n    };\n    Selection.prototype.rowSelected = function (args) {\n        var rowIndexes = 'rowIndexes';\n        var index = (this.parent.selectionSettings.type === 'Multiple' && !isNullOrUndefined(args[rowIndexes])) ?\n            args[rowIndexes] : [args.rowIndex];\n        this.addRemoveClass(index, args['name']);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: this.parent.treeGrid.grid.selectedRowIndex }, true);\n        if (this.isMultiShiftRequest) {\n            this.selectedRowIndexes = index;\n        }\n        if (this.parent.autoFocusTasks) {\n            if (this.parent.enableTimelineVirtualization) {\n                this.parent['isRowSelected'] = true;\n            }\n            if (args.data && !isNullOrUndefined(args.data['length'])) {\n                for (var i = 0; i < args.data['length']; i++) {\n                    this.parent.ganttChartModule.updateScrollLeft(args.data[i].ganttProperties.left);\n                }\n            }\n            else {\n                if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping &&\n                    isNullOrUndefined(getValue('data.ganttProperties.left', args))) {\n                    args.data = this.parent.getRecordByID(args.data.taskId);\n                }\n                this.parent.ganttChartModule.updateScrollLeft(getValue('data.ganttProperties.left', args));\n            }\n        }\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        this.prevRowIndex = args.rowIndex;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems(args);\n        }\n        if (!isNullOrUndefined(this.parent.focusModule['previousActiveElement'])) {\n            var previousSelection = this.parent.focusModule['previousActiveElement'];\n            removeClass([previousSelection], 'e-focused');\n            removeClass([previousSelection], 'e-focus');\n        }\n        this.parent.trigger('rowSelected', args);\n    };\n    Selection.prototype.rowDeselecting = function (args) {\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselecting', args);\n    };\n    Selection.prototype.rowDeselected = function (args) {\n        var index;\n        var isContains;\n        if (this.multipleIndexes.length !== 0) {\n            index = this.multipleIndexes;\n        }\n        else {\n            if (!isNullOrUndefined(args.rowIndexes)) {\n                for (var i = 0; i < args.rowIndexes.length; i++) {\n                    if (args.rowIndexes[i] === args.rowIndex) {\n                        isContains = true;\n                    }\n                }\n                if (isContains) {\n                    index = args.rowIndexes;\n                }\n                else {\n                    index = [args.rowIndex];\n                }\n            }\n            else {\n                index = [args.rowIndex];\n            }\n        }\n        this.addRemoveClass(index);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: -1 }, true);\n        if (this.selectedRowIndexes.length === 1) {\n            this.parent.setProperties({ selectedRowIndex: this.selectedRowIndexes[0] }, true);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive\n            && this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselected', args);\n        this.isInteracted = false;\n        this.multipleIndexes = [];\n    };\n    Selection.prototype.cellSelecting = function (args) {\n        var callBackPromise = new Deferred();\n        this.parent.trigger('cellSelecting', args, function (cellselectingArgs) {\n            callBackPromise.resolve(cellselectingArgs);\n        });\n        return callBackPromise;\n    };\n    Selection.prototype.cellSelected = function (args) {\n        this.parent.trigger('cellSelected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Selection.prototype.cellDeselecting = function (args) {\n        this.parent.trigger('cellDeselecting', args);\n    };\n    Selection.prototype.cellDeselected = function (args) {\n        this.parent.trigger('cellDeselected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * Selects a cell by given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCell = function (cellIndex, isToggle) {\n        this.parent.treeGrid.selectCell(cellIndex, isToggle);\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCells = function (rowCellIndexes) {\n        this.parent.treeGrid.grid.selectCells(rowCellIndexes);\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @param {boolean} isPreventFocus .\n     * @returns {void} .\n     */\n    Selection.prototype.selectRow = function (index, isToggle, isPreventFocus) {\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        if (this.parent.enableVirtualization && (this.parent.treeGridModule.addedRecord ||\n            (this.parent.editModule && this.parent.editModule.isAdded))) {\n            index = this.parent.getExpandedRecords(this.parent.flatData).indexOf(this.parent.flatData[index]);\n            this.parent.treeGridModule.addedRecord = false;\n            if (this.parent.editModule) {\n                this.parent.editModule.isAdded = false;\n            }\n        }\n        var selectedRow = ganttRow.filter(function (e) { return parseInt(e.getAttribute('data-rowindex'), 10) === index; })[0];\n        var condition;\n        if (index === -1 || (isNullOrUndefined(selectedRow) && !this.parent.enableVirtualization) || this.parent.selectionSettings.mode === 'Cell') {\n            return;\n        }\n        if (this.parent.showActiveElement && !isNullOrUndefined(isPreventFocus) && !isPreventFocus || this.isFromChart) {\n            if (this.isFromChart) {\n                this.isFromChart = false;\n            }\n            this.parent.treeGrid.grid.selectionModule.preventFocus = true;\n        }\n        else {\n            this.parent.treeGrid.grid.selectionModule.preventFocus = false;\n        }\n        if ((!isNullOrUndefined(this.selectedClass) && (this.selectedClass === selectedRow) && (!isToggle))) {\n            condition = true;\n        }\n        if (condition !== true) {\n            this.parent.treeGrid.selectRow(index, isToggle);\n        }\n        this.parent.treeGrid.grid.selectionModule.preventFocus = this.parent.treeGrid.grid.selectionModule.preventFocus === true ?\n            false : this.parent.treeGrid.grid.selectionModule.preventFocus;\n        this.prevRowIndex = index;\n        this.selectedClass = selectedRow;\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRows = function (records) {\n        if (!isNullOrUndefined(records) && records.length > 0) {\n            this.parent.treeGrid.selectRows(records);\n        }\n    };\n    /**\n     * Gets the collection of selected row indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowIndexes();\n    };\n    /**\n     * Gets the collection of selected row and cell indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowCellIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowCellIndexes();\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} .\n     */\n    Selection.prototype.getSelectedRecords = function () {\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            var selectedRows = [];\n            var selectedIndexes_1 = this.parent.selectionModule.getSelectedRowIndexes();\n            var _loop_1 = function (i) {\n                var rec = this_1.parent.currentViewData.filter(function (data) {\n                    return data.index === selectedIndexes_1[i];\n                })[0];\n                selectedRows.push(rec);\n            };\n            var this_1 = this;\n            for (var i = 0; i < selectedIndexes_1.length; i++) {\n                _loop_1(i);\n            }\n            return selectedRows;\n        }\n        else {\n            return this.parent.treeGrid.getSelectedRecords();\n        }\n    };\n    /**\n     * Get the selected records for cell selection.\n     *\n     * @returns {IGanttData[]} .\n     */\n    Selection.prototype.getCellSelectedRecords = function () {\n        var cellDetails = this.parent.selectionModule.getSelectedRowCellIndexes();\n        var cellSelectedRecords = [];\n        for (var i = 0; i < cellDetails.length; i++) {\n            cellSelectedRecords.push(this.parent.currentViewData[cellDetails[i].rowIndex]);\n        }\n        return cellSelectedRecords;\n    };\n    /**\n     * Gets the collection of selected rows.\n     *\n     * @returns {Element[]} .\n     */\n    Selection.prototype.getSelectedRows = function () {\n        return this.parent.treeGrid.getSelectedRows();\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Selection.prototype.clearSelection = function () {\n        this.addRemoveClass(this.selectedRowIndexes);\n        this.parent.treeGrid.clearSelection();\n        this.parent.selectedRowIndex = -1;\n        this.selectedRowIndexes = [];\n        this.selectedClass = null;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        this.isInteracted = false;\n    };\n    Selection.prototype.highlightSelectedRows = function (e, fromChart) {\n        this.isMultiCtrlRequest = e.ctrlKey || this.enableSelectMultiTouch;\n        this.isMultiShiftRequest = e.shiftKey;\n        this.actualTarget = e.target;\n        this.isInteracted = true;\n        this.isSelectionFromChart = fromChart;\n        if (fromChart) {\n            var selectedRow = closest(e.target, 'tr.e-chart-row');\n            var rIndex = parseInt(selectedRow.getAttribute('data-rowindex'), 10);\n            var isToggle = this.parent.selectionSettings.enableToggle;\n            if (this.parent.selectionSettings.type === 'Single' || (!this.isMultiCtrlRequest && !this.isMultiShiftRequest)) {\n                if (this.parent.selectionSettings.persistSelection) {\n                    this.addRemoveClass(this.selectedRowIndexes, e['name']);\n                }\n                if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && (this.parent.rowDragAndDropModule &&\n                    !this.parent.rowDragAndDropModule['draggedRecord']))) {\n                    this.isFromChart = true;\n                    this.selectRow(rIndex, isToggle);\n                }\n            }\n            else {\n                if (this.isMultiShiftRequest) {\n                    this.selectRowsByRange(isNullOrUndefined(this.prevRowIndex) ? rIndex : this.prevRowIndex, rIndex);\n                }\n                else {\n                    setValue('isMultiCtrlRequest', true, this.parent.treeGrid.grid.selectionModule);\n                    this.parent.treeGrid.grid.selectionModule.addRowsToSelection([rIndex]);\n                    var isUnSelected = this.selectedRowIndexes.indexOf(rIndex) > -1;\n                    if (isUnSelected) {\n                        this.addRemoveClass([rIndex], e['name']);\n                    }\n                }\n            }\n        }\n    };\n    Selection.prototype.getselectedrowsIndex = function (startIndex, endIndex) {\n        var indexes = [];\n        // eslint-disable-next-line\n        var _a = (startIndex < endIndex) ?\n            { i: startIndex, max: endIndex } : { i: endIndex, max: startIndex }, i = _a.i, max = _a.max;\n        for (; i <= max; i++) {\n            indexes.push(i);\n        }\n        if (startIndex > endIndex) {\n            indexes.reverse();\n        }\n        this.selectedRowIndexes = indexes;\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Defines the start row index.\n     * @param  {number} endIndex - Defines the end row index.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        this.isSelectionFromChart = true;\n        this.getselectedrowsIndex(startIndex, endIndex);\n        this.selectRows(this.selectedRowIndexes);\n    };\n    Selection.prototype.addRemoveClass = function (records, request) {\n        if (typeof (records) == 'number') {\n            records = [records];\n        }\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        var _loop_2 = function (i) {\n            var selectedRow = ganttRow.filter(function (e) {\n                return parseInt(e.getAttribute('data-rowindex'), 10) === records[parseInt(i.toString(), 10)];\n            })[0];\n            if (!isNullOrUndefined(selectedRow)) {\n                var persist = false;\n                var index = this_2.getSelectedRowIndexes().indexOf(records[parseInt(i.toString(), 10)]);\n                var selectedRecordLen = this_2.getSelectedRecords().length;\n                if (this_2.parent.selectionSettings.persistSelection && this_2.parent.selectionSettings.enableToggle &&\n                    !isNullOrUndefined(request) && this_2.parent.selectionSettings.type !== 'Multiple' &&\n                    selectedRecordLen > 0) {\n                    persist = true;\n                }\n                if (this_2.parent.selectionSettings.enableToggle && this_2.parent.selectionSettings.persistSelection &&\n                    (index > -1 && this_2.parent.selectionSettings.type === 'Single' && persist) ||\n                    (index > -1 && ((!isNullOrUndefined(request) && this_2.parent.selectionSettings.type === 'Multiple')))) {\n                    this_2.addClass(selectedRow);\n                }\n                else if (isNullOrUndefined(request)) {\n                    this_2.removeClass(selectedRow);\n                }\n                else if (index > -1) {\n                    this_2.addClass(selectedRow);\n                }\n                if (this_2.parent.selectionSettings.enableToggle && index > -1 && (this_2.parent.selectionSettings.type === 'Single' ||\n                    (!this_2.isMultiCtrlRequest && !this_2.isMultiShiftRequest)) && this_2.parent.selectionSettings.persistSelection &&\n                    request === 'chartMouseUp' && this_2.isSelectionFromChart) {\n                    this_2.removeClass(selectedRow);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < records.length; i++) {\n            _loop_2(i);\n        }\n    };\n    Selection.prototype.addClass = function (selectedRow) {\n        addClass([selectedRow], 'e-active');\n        selectedRow.setAttribute('aria-selected', 'true');\n    };\n    Selection.prototype.removeClass = function (selectedRow) {\n        removeClass([selectedRow], 'e-active');\n        selectedRow.removeAttribute('aria-selected');\n    };\n    Selection.prototype.showPopup = function (e) {\n        if (this.isSelectionFromChart) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-ganttpopup'), e, 'e-rowselect e-icons e-icon-rowselect' +\n                ((this.enableSelectMultiTouch &&\n                    (this.getSelectedRecords().length > 1 || this.getSelectedRowCellIndexes().length > 1)) ? ' e-spanclicked' : ''));\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n            this.openPopup = true;\n        }\n        else if (this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.hidePopUp = function () {\n        if (this.openPopup) {\n            document.getElementsByClassName('e-ganttpopup')[0].style.display = 'none';\n            this.openPopup = false;\n        }\n        else {\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n        }\n    };\n    Selection.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        var grid = this.parent.treeGrid.grid;\n        var $popUpElemet = closest(target, '.e-ganttpopup') ?\n            closest(target, '.e-ganttpopup') : closest(target, '.e-gridpopup');\n        if ($popUpElemet) {\n            var spanElement = $popUpElemet.querySelector('.' + 'e-rowselect');\n            if (closest(target, '.e-ganttpopup') &&\n                !spanElement.classList.contains('e-spanclicked')) {\n                this.enableSelectMultiTouch = true;\n                spanElement.classList.add('e-spanclicked');\n            }\n            else if (closest(target, '.e-gridpopup') &&\n                spanElement.classList.contains('e-spanclicked')) {\n                this.openPopup = true;\n                this.enableSelectMultiTouch = true;\n            }\n            else {\n                this.hidePopUp();\n                this.enableSelectMultiTouch = false;\n                if (closest(target, '.e-ganttpopup')) {\n                    spanElement.classList.remove('e-spanclicked');\n                }\n            }\n        }\n        else if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n            var $tr = closest(target, '.e-rowcell');\n            if ($tr && ((this.selectedRowIndexes.length === 0 && this.parent.selectionSettings.mode === 'Row') ||\n                (this.getCellSelectedRecords().length === 0 && this.parent.selectionSettings.mode === 'Cell'))) {\n                this.hidePopUp();\n            }\n        }\n        if (grid) {\n            setValue('enableSelectMultiTouch', this.enableSelectMultiTouch, grid.selectionModule);\n        }\n    };\n    /**\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.mouseUpHandler = function (e) {\n        var isTaskbarEdited = false;\n        var elements = document.querySelectorAll('.e-drag-item');\n        var targetElement = null;\n        if (e.target.closest('.e-rowcell')) {\n            targetElement = e.target;\n        }\n        else if (e.target.closest('.e-chart-row')) {\n            targetElement = e.target.closest('.e-left-label-container') ||\n                e.target.closest('.e-taskbar-main-container') || e.target.closest('.e-right-label-container');\n        }\n        if (this.parent.focusModule) {\n            this.parent.focusModule.setActiveElement(targetElement);\n        }\n        if (this.parent.editModule && this.parent.editSettings.allowTaskbarEditing && this.parent.editModule.taskbarEditModule) {\n            var taskbarEdit = this.parent.editModule.taskbarEditModule;\n            if (taskbarEdit.isMouseDragged || taskbarEdit.tapPointOnFocus) {\n                isTaskbarEdited = true;\n            }\n        }\n        if (!isTaskbarEdited && this.parent.element.contains(e.target) && !(elements.length === 1)) {\n            var parent_1 = parentsUntil(e.target, 'e-chart-row');\n            var isSelected = e.target.classList.contains('e-rowcell') ||\n                e.target.classList.contains('e-row') ||\n                e.target.classList.contains('e-treegridexpand') ||\n                e.target.classList.contains('e-treegridcollapse') || !isNullOrUndefined(parent_1);\n            this.popUpClickHandler(e);\n            if (this.parent.selectionSettings.mode !== 'Cell' && isSelected) {\n                if (closest(e.target, 'tr.e-chart-row')) {\n                    if (this.parent.enableVirtualization) {\n                        this.parent.treeGrid.grid.selectionModule.isInteracted = true;\n                    }\n                    this.parent.treeGrid['isFromChartSide'] = true;\n                    this.highlightSelectedRows(e, true);\n                }\n                else {\n                    this.parent.treeGrid['isFromChartSide'] = false;\n                    this.highlightSelectedRows(e, false);\n                }\n                if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n                    if (this.selectedRowIndexes.length > 0) {\n                        this.showPopup(e);\n                    }\n                    else {\n                        this.hidePopUp();\n                    }\n                }\n            }\n            else {\n                this.isSelectionFromChart = false;\n            }\n        }\n    };\n    /**\n     * To add class for selected records in virtualization mode.\n     *\n     * @param {number} i .\n     * @returns {void} .\n     * @hidden\n     */\n    Selection.prototype.maintainSelectedRecords = function (i) {\n        var index = this.parent.selectionModule.getSelectedRowIndexes().indexOf(i);\n        if (index > -1) {\n            this.addRemoveClass([i]);\n        }\n    };\n    /**\n     * To destroy the selection module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('selectRowByIndex', this.selectRowByIndex);\n        if (this.parent.isAdaptive) {\n            this.parent.off('chartMouseClick', this.mouseUpHandler);\n            this.parent.off('treeGridClick', this.popUpClickHandler);\n        }\n        else {\n            this.parent.off('chartMouseUp', this.mouseUpHandler);\n        }\n    };\n    return Selection;\n}());\nexport { Selection };\n","import { Toolbar as NavToolbar } from '@syncfusion/ej2-navigations';\nimport { createElement, extend, isNullOrUndefined, remove, getValue, EventHandler, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport * as events from '../base/constant';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent) {\n        this.predefinedItems = {};\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll', 'Search',\n            'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport',\n            'CsvExport', 'PdfExport', 'Indent', 'Outdent', 'CriticalPath'];\n        this.parent = parent;\n        this.id = this.parent.element.id;\n        this.parent.on('ui-toolbarupdate', this.propertyChanged, this);\n    }\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.renderToolbar = function () {\n        var toolbarItems = this.parent.toolbar || [];\n        if (toolbarItems.length > 0) {\n            this.element = createElement('div', { id: this.parent.controlId + '_Gantt_Toolbar', className: cls.toolbar });\n            if (this.parent.treeGrid.grid.headerModule) {\n                this.parent.element.insertBefore(this.element, this.parent.treeGridPane.offsetParent);\n            }\n            else {\n                this.parent.element.appendChild(this.element);\n            }\n            var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll',\n                'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport', 'CsvExport',\n                'PdfExport', 'Indent', 'Outdent', 'CriticalPath', 'Undo', 'Redo'];\n            for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n                var item = preItems_1[_i];\n                var itemStr = void 0;\n                var localeName = void 0;\n                if (item === 'CriticalPath') {\n                    itemStr = 'critical-path';\n                    localeName = 'criticalPath';\n                }\n                else {\n                    itemStr = item.toLowerCase();\n                    localeName = item[0].toLowerCase() + item.slice(1);\n                }\n                this.predefinedItems[item] = {\n                    id: this.parent.element.id + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                    text: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant(localeName),\n                    tooltipText: this.parent.localeObj.getConstant(localeName) + ((localeName === 'add' ||\n                        localeName === 'edit' || localeName === 'delete') ? this.parent.localeObj.getConstant('task') :\n                        (localeName === 'expandAll' || localeName === 'collapseAll') ?\n                            this.parent.localeObj.getConstant('tasks') : ''),\n                    align: this.parent.isAdaptive ? 'Right' : 'Left'\n                };\n                if (this.parent.enableRtl) {\n                    if (item === 'PrevTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-nexttimespan';\n                    }\n                    if (item === 'NextTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-prevtimespan';\n                    }\n                }\n            }\n            var searchLocalText = this.parent.localeObj.getConstant('search');\n            if (this.parent.isAdaptive) {\n                this.predefinedItems.Search = {\n                    id: this.id + '_searchbutton',\n                    prefixIcon: 'e-search-icon',\n                    tooltipText: searchLocalText,\n                    align: 'Right'\n                };\n            }\n            else {\n                this.predefinedItems.Search = {\n                    id: this.id + '_search',\n                    template: '<div class=\"e-input-group e-search\" role=\"search\">' +\n                        '<input id=\"' + this.id + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\"' +\n                        // eslint-disable-next-line\n                        'placeholder= \\\"' + searchLocalText + '\\\"/>' +\n                        '<span id=\"' + this.id + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\"' +\n                        'tabindex=\"-1\" title=\"' + searchLocalText + '\" aria-label= \"search\" role=\"button\"></span>' +\n                        '</div>',\n                    tooltipText: searchLocalText,\n                    align: 'Right', cssClass: 'e-search-wrapper'\n                };\n            }\n            this.createToolbar();\n        }\n    };\n    Toolbar.prototype.addReactToolbarPortals = function (args) {\n        if (this.parent.isReact && args) {\n            this.parent.portals = this.parent.portals.concat(args);\n            this.parent.renderTemplates();\n        }\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new NavToolbar({\n            items: items,\n            enableRtl: this.parent.enableRtl,\n            clicked: this.toolbarClickHandler.bind(this),\n            height: this.parent.isAdaptive ? 48 : 'auto'\n        });\n        this.toolbar.isStringTemplate = true;\n        this.toolbar.isReact = this.parent.isReact;\n        this.toolbar.on('render-react-toolbar-template', this.addReactToolbarPortals, this);\n        this.toolbar.appendTo(this.element);\n        if (this.parent.treeGrid.grid && this.parent.isReact) {\n            (this.parent.treeGrid.grid).portals = this.parent.portals;\n        }\n        var cancelItem = this.element.querySelector('#' + this.parent.element.id + '_cancel');\n        var updateItem = this.element.querySelector('#' + this.parent.element.id + '_update');\n        if (cancelItem) {\n            addClass([cancelItem], cls.focusCell);\n        }\n        if (updateItem) {\n            addClass([updateItem], cls.focusCell);\n        }\n        var template = false;\n        this.parent.toolbar.map(function (e) {\n            if (e === 'Search') {\n                template = true;\n            }\n        });\n        if (this.parent.isAdaptive && template) {\n            this.element.insertBefore(this.getSearchBarElement(), this.element.childNodes[0]);\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n            var textObj = new TextBox({\n                placeholder: this.parent.localeObj.getConstant('search'),\n                enableRtl: this.parent.enableRtl,\n                floatLabelType: 'Never',\n                showClearButton: true\n            });\n            textObj.appendTo(this.searchElement);\n        }\n        else {\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n        }\n        if (this.parent.filterModule) {\n            this.wireEvent();\n            if (this.parent.searchSettings) {\n                this.updateSearchTextBox();\n            }\n        }\n        this.enableItems([this.parent.controlId + '_redo', this.parent.controlId + '_undo'], false); // disable toolbar items.\n        if (this.parent.readOnly) {\n            this.enableItems([this.parent.element.id + '_add', this.parent.element.id + '_update', this.parent.element.id + '_delete',\n                this.parent.element.id + '_cancel', this.parent.element.id + '_indent', this.parent.element.id + '_outdent'], false);\n        }\n    };\n    Toolbar.prototype.getSearchBarElement = function () {\n        var _this = this;\n        var div = createElement('div', { className: 'e-adaptive-searchbar', styles: 'display: none' });\n        var textbox = createElement('input', { attrs: { type: 'text' }, id: this.parent.element.id + '_searchbar' });\n        var span = createElement('span', { className: 'e-backarrowspan e-icons' });\n        span.onclick = function () {\n            div.style.display = 'none';\n            _this.element.childNodes[1].style.display = 'block';\n        };\n        div.appendChild(span);\n        div.appendChild(textbox);\n        return div;\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            EventHandler.add(this.searchElement, 'focus', this.focusHandler, this);\n            EventHandler.add(this.searchElement, 'blur', this.blurHandler, this);\n        }\n    };\n    Toolbar.prototype.propertyChanged = function (property) {\n        var module = getValue('module', property);\n        if (module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element && this.element.parentNode) {\n            remove(this.element);\n        }\n        this.renderToolbar();\n        this.refreshToolbarItems();\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            EventHandler.remove(this.searchElement, 'focus', this.focusHandler);\n            EventHandler.remove(this.searchElement, 'blur', this.blurHandler);\n            this.searchElement = null;\n        }\n        if (!this.parent.isDestroyed) {\n            this.parent.off('ui-toolbarupdate', this.propertyChanged);\n        }\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13 && this.parent.searchSettings.key !== this.searchElement.value) {\n            this.parent.searchSettings.key = this.searchElement.value;\n            this.parent.dataBind();\n        }\n    };\n    Toolbar.prototype.focusHandler = function (e) {\n        e.target.parentElement.classList.add('e-input-focus');\n    };\n    Toolbar.prototype.blurHandler = function (e) {\n        e.target.parentElement.classList.remove('e-input-focus');\n    };\n    /**\n     * Method to set value for search input box\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.updateSearchTextBox = function () {\n        if (this.searchElement && this.searchElement.value !== this.parent.searchSettings.key) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar;\n        var searchIndex = -1;\n        toolbarItems.forEach(function (item, index) {\n            if ((typeof (item) === 'string' && item === 'Search') ||\n                ((typeof (item) === 'object') && item.text === 'Search')) {\n                searchIndex = index;\n            }\n        });\n        if (searchIndex > -1) {\n            var searchItem = toolbarItems.splice(searchIndex, 1);\n            toolbarItems.push(searchItem[0]);\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            if (typeof item === 'string') {\n                items.push(this.getItemObject(item));\n            }\n            else {\n                items.push(this.getItem(item));\n            }\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        return item ? extend(item, item, itemObject) : itemObject;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[itemName] || { text: itemName, id: this.id + '_' + itemName };\n    };\n    Toolbar.prototype.toolbarClickHandler = function (arg) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.id;\n        this.parent.isToolBarClick = false;\n        extend(arg, { cancel: false });\n        if (arg.item['properties'].id === this.parent.element.id + '_pdfexport' || arg.item['properties'].id === this.parent.element.id + '_critical-path') {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n        gObj.trigger(events.toolbarClick, arg, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            else {\n                if (_this.parent.isAdaptive === true) {\n                    if (args.item.id === gID + '_edit' || args.item.id === gID + '_add' || args.item.id === gID + '_delete'\n                        || args.item.id === gID + '_searchbutton' || args.item.id === gID + '_expandall'\n                        || args.item.id === gID + '_collapseall') {\n                        if (_this.parent.selectionModule && _this.parent.selectionSettings.type === 'Multiple') {\n                            _this.parent.selectionModule.hidePopUp();\n                            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                        }\n                    }\n                }\n                switch (!isNullOrUndefined(args.item) && args.item.id) {\n                    case gID + '_edit':\n                        if (gObj.editModule && gObj.editSettings.allowEditing) {\n                            gObj.editModule.dialogModule.openToolbarEditDialog();\n                        }\n                        break;\n                    case gID + '_indent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.indent();\n                        }\n                        break;\n                    case gID + '_critical-path':\n                        if (gObj.enableCriticalPath) {\n                            gObj.enableCriticalPath = false;\n                        }\n                        else {\n                            gObj.enableCriticalPath = true;\n                        }\n                        break;\n                    case gID + '_outdent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.outdent();\n                        }\n                        break;\n                    case gID + '_update':\n                        gObj.editModule.cellEditModule.isCellEdit = false;\n                        gObj.treeGrid.grid.saveCell();\n                        break;\n                    case gID + '_cancel':\n                        gObj.cancelEdit();\n                        break;\n                    case gID + '_add':\n                        if (gObj.editModule && gObj.editSettings.allowAdding) {\n                            gObj.editModule.dialogModule.openAddDialog();\n                        }\n                        break;\n                    case gID + '_delete':\n                        if (_this.parent.selectionModule && _this.parent.editModule) {\n                            if ((_this.parent.selectionSettings.mode !== 'Cell' && _this.parent.selectionModule.selectedRowIndexes.length)\n                                || (_this.parent.selectionSettings.mode === 'Cell' &&\n                                    _this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                                _this.parent.editModule.startDeleteAction();\n                            }\n                        }\n                        break;\n                    case gID + '_search':\n                        {\n                            var searchButtonId = getValue('originalEvent.target.id', args);\n                            if (searchButtonId === _this.parent.element.id + '_searchbutton' && _this.parent.filterModule) {\n                                var keyVal = _this.element.querySelector('#' + _this.parent.element.id + '_searchbar').value;\n                                if (_this.parent.searchSettings.key !== keyVal) {\n                                    _this.parent.searchSettings.key = keyVal;\n                                    _this.parent.dataBind();\n                                }\n                            }\n                            break;\n                        }\n                    case gID + '_searchbutton':\n                        {\n                            var adaptiveSearchbar = _this.element.querySelector('.e-adaptive-searchbar');\n                            adaptiveSearchbar.parentElement.childNodes[1].style.display = 'none';\n                            adaptiveSearchbar.style.display = 'block';\n                            break;\n                        }\n                    case gID + '_expandall':\n                        _this.parent.ganttChartModule.expandCollapseAll('expand');\n                        _this.parent.isCollapseAll = false;\n                        break;\n                    case gID + '_collapseall':\n                        _this.parent.ganttChartModule.expandCollapseAll('collapse');\n                        _this.parent.isCollapseAll = true;\n                        break;\n                    case gID + '_prevtimespan':\n                        _this.parent.previousTimeSpan();\n                        break;\n                    case gID + '_nexttimespan':\n                        _this.parent.nextTimeSpan();\n                        break;\n                    case gID + '_zoomin':\n                        _this.zoomIn();\n                        break;\n                    case gID + '_zoomout':\n                        _this.zoomOut();\n                        break;\n                    case gID + '_zoomtofit':\n                        _this.zoomToFit();\n                        break;\n                    case gID + '_undo':\n                        _this.parent.undo();\n                        break;\n                    case gID + '_redo':\n                        _this.parent.redo();\n                        break;\n                }\n            }\n        });\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomIn = function () {\n        this.parent.timelineModule.processZooming(true);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomToFit = function () {\n        if (this.parent.timelineModule.isZoomIn) {\n            this.parent.timelineModule.isZoomIn = false;\n        }\n        this.parent.timelineModule.processZoomToFit();\n        this.parent.ganttChartModule.updateScrollLeft(0);\n        this.parent.timelineModule.isZoomToFit = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomOut = function () {\n        this.parent.timelineModule.processZooming(false);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * To refresh toolbar items bases current state of tasks\n     *\n     * @param {RowSelectEventArgs} args .\n     * @returns {void} .\n     */\n    Toolbar.prototype.refreshToolbarItems = function (args) {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var gID = this.id;\n        var ind = gObj.selectedRowIndex;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            for (var i = 0; i < gObj.updatedRecords.length; i++) {\n                if (gObj.updatedRecords[i].index === ind) {\n                    ind = i;\n                    break;\n                }\n            }\n        }\n        var previousGanttRecord;\n        var isSelected = false;\n        if (gObj.selectionModule) {\n            if (gObj.selectionModule.getSelectedRecords().length === 1 || gObj.selectionModule.getSelectedRowCellIndexes().length === 1) {\n                isSelected = true;\n            }\n        }\n        if (gObj.selectionModule && gObj.selectionSettings.type === 'Multiple' && gObj.selectionModule.selectedRowIndexes.length > 1) {\n            isSelected = false;\n        }\n        var isPersist = false;\n        if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n            var selectedRecords = gObj.selectionModule.getSelectedRecords().length;\n            if (gObj.selectionSettings.persistSelection && selectedRecords === 1) {\n                for (var i = 0; i < selectedRecords; i++) {\n                    var index = gObj.currentViewData.indexOf(gObj.selectionModule.getSelectedRecords()[i]);\n                    if (index === -1) {\n                        isPersist = true;\n                    }\n                }\n            }\n            if (isPersist) {\n                isSelected = false;\n            }\n        }\n        var toolbarItems = this.toolbar ? this.toolbar.items : [];\n        var toolbarDefaultItems = [gID + '_add', gID + '_edit', gID + '_delete',\n            gID + '_update', gID + '_cancel', gID + '_indent', gID + '_outdent'];\n        var isResouceParent = (this.parent.viewType === 'ResourceView' && getValue('data.level', args) !== 0\n            || this.parent.viewType === 'ProjectView');\n        if (!isNullOrUndefined(this.parent.editModule)) {\n            var touchEdit = gObj.editModule.taskbarEditModule ?\n                gObj.editModule.taskbarEditModule.touchEdit : false;\n            var hasData = gObj.flatData && gObj.flatData.length;\n            // eslint-disable-next-line\n            edit.allowAdding && !touchEdit ? enableItems.push(gID + '_add') : disableItems.push(gID + '_add');\n            // eslint-disable-next-line\n            edit.allowEditing && isResouceParent && hasData && isSelected && !touchEdit ?\n                enableItems.push(gID + '_edit') : disableItems.push(gID + '_edit');\n            if (!edit.allowEditing || ind === 0 || ind === -1 || !hasData || !isSelected || this.parent.viewType === 'ResourceView') {\n                disableItems.push(gID + '_indent');\n                disableItems.push(gID + '_outdent');\n            }\n            else {\n                if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                    gObj.updatedRecords[ind].level === 0 && hasData && !touchEdit) {\n                    enableItems.push(gID + '_indent');\n                    disableItems.push(gID + '_outdent');\n                }\n                else {\n                    previousGanttRecord = gObj.updatedRecords[ind - 1];\n                    if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                        (gObj.updatedRecords[ind].level - previousGanttRecord.level === 1) && ind !== -1) {\n                        disableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                    else if (ind !== -1) {\n                        enableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                }\n            }\n            var isDeleteSelected = gObj.selectionModule ? gObj.selectionModule.getSelectedRecords().length > 0 ||\n                gObj.selectionModule.getSelectedRowCellIndexes().length > 0 ? true : false : false;\n            if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n                if (isPersist) {\n                    isDeleteSelected = false;\n                }\n                var selectedRecords = gObj.selectionModule.getSelectedRecords();\n                var selectedRecordsCount = selectedRecords.length;\n                if (gObj.selectionSettings.persistSelection && selectedRecordsCount > 1) {\n                    for (var i = 0; i < selectedRecordsCount; i++) {\n                        var index = gObj.currentViewData.indexOf(selectedRecords[i]);\n                        if (index > -1) {\n                            isDeleteSelected = true;\n                            break;\n                        }\n                        else {\n                            isDeleteSelected = false;\n                        }\n                    }\n                }\n            }\n            if (edit.allowDeleting && hasData && isDeleteSelected && !touchEdit) {\n                enableItems.push(gID + '_delete');\n            }\n            else {\n                disableItems.push(gID + '_delete');\n            }\n            if (gObj.editSettings.mode === 'Auto' && !isNullOrUndefined(gObj.editModule.cellEditModule)\n                && gObj.editModule.cellEditModule.isCellEdit) {\n                // New initialization for enableItems and disableItems during isCellEdit\n                enableItems = [];\n                enableItems.push(gID + '_update', gID + '_cancel');\n                disableItems = [];\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (toolbarItems[t].id !== gID + '_update' && toolbarItems[t].id !== gID + '_cancel' &&\n                        toolbarDefaultItems.indexOf(toolbarItems[t].id) !== -1) {\n                        disableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n            else {\n                disableItems.push(gID + '_update', gID + '_cancel');\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (enableItems.indexOf(toolbarItems[t].id) === -1 &&\n                        disableItems.indexOf(toolbarItems[t].id) === -1) {\n                        enableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n        }\n        else {\n            disableItems.push(gID + '_delete');\n            disableItems.push(gID + '_add');\n            disableItems.push(gID + '_edit');\n            disableItems.push(gID + '_update');\n            disableItems.push(gID + '_cancel');\n            disableItems.push(gID + '_indent');\n            disableItems.push(gID + '_outdent');\n        }\n        for (var e = 0; e < enableItems.length; e++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === enableItems[e]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0 && (!isNullOrUndefined(toolbarItems[index]) && toolbarItems[index]['properties'].visible)) {\n                this.toolbar.hideItem(index, false);\n            }\n        }\n        for (var d = 0; d < disableItems.length; d++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === disableItems[d]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, true);\n            }\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var element = this.element.querySelector('#' + item);\n            if (element) {\n                this.toolbar.enableItems(element.parentElement, isEnable);\n            }\n        }\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @function destroy\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.parent.filterModule) {\n            this.unWireEvent();\n        }\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.toolbar) {\n            this.toolbar.off('render-react-toolbar-template', this.addReactToolbarPortals);\n        }\n        this.toolbar.destroy();\n        remove(this.element);\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","/**\n *  This file was to define all public and internal events\n */\n/** @hidden */\nexport var load = 'load';\n/** @hidden */\nexport var rowDataBound = 'rowDataBound';\n/** @hidden */\nexport var queryCellInfo = 'queryCellInfo';\n/** @hidden */\nexport var toolbarClick = 'toolbarClick';\n/** @hidden */\nexport var keyPressed = 'key-pressed';\n","import { createElement, formatUnit, remove, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar NonWorkingDay = /** @class */ (function () {\n    function NonWorkingDay(gantt) {\n        this.weekendWidthUpdated = false;\n        this.parent = gantt;\n        this.nonworkingContainer = null;\n        this.holidayContainer = null;\n        this.weekendContainer = null;\n    }\n    /**\n     * Method append nonworking container\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.createNonworkingContainer = function () {\n        if (!this.parent.ganttChartModule.chartBodyContent.contains(this.nonworkingContainer)) {\n            this.nonworkingContainer = createElement('div', {\n                className: cls.nonworkingContainer\n            });\n            if (this.parent.enableTimelineVirtualization) {\n                this.nonworkingContainer.style.height = '100%';\n            }\n            this.parent.ganttChartModule.chartBodyContent.insertBefore(this.nonworkingContainer, this.parent.ganttChartModule.chartBodyContent.firstChild);\n        }\n    };\n    /**\n     * calculation for holidays rendering.\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderHolidays = function () {\n        if (this.parent.holidays && this.parent.holidays.length > 0) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.holidayContainer)) {\n                this.holidayContainer = createElement('div', {\n                    className: cls.holidayContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.holidayContainer.style.height = '100%';\n                    this.holidayContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.holidayContainer);\n            }\n            this.holidayContainer.innerHTML = this.getHolidaysElement().innerHTML;\n        }\n        else if (this.holidayContainer && this.holidayContainer.parentNode) {\n            remove(this.holidayContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to return holidays as html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getHolidaysElement = function () {\n        var fromDate;\n        var toDate;\n        var container = createElement('div');\n        var height = this.parent.contentHeight;\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        for (var i = 0; i < this.parent.holidays.length; i++) {\n            if (this.parent.holidays[i].from && this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                toDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                toDate.setDate(toDate.getDate() + 1);\n                fromDate.setHours(0, 0, 0, 0);\n                toDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].from) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            var width = (this.parent.holidays[i].from && this.parent.holidays[i].to) ?\n                this.parent.dataOperation.getTaskWidth(fromDate, toDate) : this.parent.perDayWidth;\n            var left = this.parent.dataOperation.getTaskLeft(fromDate, false, true);\n            var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n            var holidayDiv = createElement('div', {\n                className: cls.holidayElement, styles: align + \" width:\" + width + \"px; height:100%;\"\n            });\n            var spanTop = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n            var spanElement = createElement('span', {\n                className: cls.holidayLabel, styles: \"top:\" + spanTop + \"px;left:\" + (width / 2) + \"px;\"\n            });\n            var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n            spanElement[property] = this.parent.holidays[i].label ? this.parent.holidays[i].label : '';\n            if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n            }\n            holidayDiv.appendChild(spanElement);\n            if (this.parent.holidays[i].cssClass) {\n                holidayDiv.classList.add(this.parent.holidays[i].cssClass);\n            }\n            container.appendChild(holidayDiv);\n        }\n        return container;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderWeekends = function () {\n        if (this.parent.highlightWeekends) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.weekendContainer)) {\n                this.weekendContainer = createElement('div', {\n                    className: cls.weekendContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.weekendContainer.style.height = '100%';\n                    this.weekendContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.weekendContainer);\n            }\n            this.weekendContainer.innerHTML = this.getWeekendElements().innerHTML;\n        }\n        else if (this.weekendContainer) {\n            remove(this.weekendContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to get weekend html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getWeekendElements = function () {\n        var container = createElement('div');\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).getTime()) :\n            new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        var endDate = this.parent.enableTimelineVirtualization ? new Date((this.parent.timelineModule.weekendEndDate).getTime()) :\n            new Date(this.parent.timelineModule.timelineEndDate.getTime());\n        var nonWorkingIndex = this.parent.nonWorkingDayIndex;\n        var isFirstCell = true;\n        var isFirstExecution = true;\n        this.weekendWidthUpdated = false;\n        do {\n            if (nonWorkingIndex.indexOf(startDate.getDay()) !== -1) {\n                var left = this.parent.dataOperation.getTaskLeft(startDate, false, true);\n                var width = this.parent.perDayWidth;\n                if (isFirstCell) {\n                    var start = new Date(startDate.getTime());\n                    var tempEnd = new Date(start.getTime());\n                    tempEnd.setDate(tempEnd.getDate() + 1);\n                    tempEnd.setHours(0, 0, 0, 0);\n                    width = this.parent.dataOperation.getTaskWidth(start, tempEnd);\n                    isFirstCell = false;\n                }\n                var sDate = new Date(startDate);\n                var dubDate = new Date(startDate);\n                sDate.setDate(sDate.getDate() + 1);\n                var sDateOffset = sDate.getTimezoneOffset();\n                var dubDateOffset = dubDate.getTimezoneOffset();\n                if (!isFirstExecution) {\n                    var isHourTimeline = (this.parent.timelineModule.bottomTier === 'Hour' &&\n                        this.parent.timelineModule.customTimelineSettings.bottomTier.count === 1) ||\n                        (this.parent.timelineModule.bottomTier === 'Minutes' &&\n                            this.parent.timelineModule.customTimelineSettings.bottomTier.count === 60) ||\n                        (this.parent.timelineModule.topTier === 'Hour' &&\n                            this.parent.timelineModule.customTimelineSettings.topTier.count === 1 &&\n                            this.parent.timelineModule.bottomTier === 'Minutes' &&\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.count === 30 ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.count === 15));\n                    if (sDateOffset !== this.parent.timelineModule.timelineStartDate.getTimezoneOffset() &&\n                        !this.weekendWidthUpdated) {\n                        if (isHourTimeline && sDateOffset < dubDateOffset) {\n                            width = width - (this.parent.perDayWidth / 24);\n                            this.weekendWidthUpdated = true;\n                        }\n                    }\n                }\n                else {\n                    isFirstExecution = false;\n                }\n                var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n                var weekendDiv = createElement('div', {\n                    className: cls.weekend, styles: align + \" width:\" + width + \"px;height:100%;\"\n                });\n                container.appendChild(weekendDiv);\n            }\n            startDate.setDate(startDate.getDate() + 1);\n            startDate.setHours(0, 0, 0, 0);\n        } while (startDate < endDate);\n        return container;\n    };\n    NonWorkingDay.prototype.updateHolidayLabelHeight = function () {\n        var height = this.parent.getContentHeight();\n        var gantttable = document.getElementById(this.parent.element.id);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = (this.parent.height === 'auto') ? gantttable.offsetHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight :\n            this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        var top = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n        var labels = this.holidayContainer.querySelectorAll('.' + cls.holidayLabel);\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].style.top = formatUnit(top);\n        }\n    };\n    /**\n     * Method to update height for all internal containers\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.updateContainerHeight = function () {\n        var height = this.parent.getContentHeight();\n        if (this.holidayContainer) {\n            this.holidayContainer.style.height = formatUnit(height);\n            this.updateHolidayLabelHeight();\n        }\n        if (this.weekendContainer) {\n            this.weekendContainer.style.height = formatUnit(height);\n        }\n    };\n    /**\n     * Method to remove containers of holiday and weekend\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.removeContainers = function () {\n        if (this.holidayContainer) {\n            remove(this.holidayContainer);\n        }\n        if (this.weekendContainer) {\n            remove(this.weekendContainer);\n        }\n        if (this.nonworkingContainer) {\n            remove(this.nonworkingContainer);\n        }\n    };\n    return NonWorkingDay;\n}());\nexport { NonWorkingDay };\n","import { createElement, formatUnit, remove, isNullOrUndefined, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(gantt) {\n        this.parent = gantt;\n        this.eventMarkersContainer = null;\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.renderEventMarkers = function () {\n        if (this.parent.eventMarkers && this.parent.eventMarkers.length > 0) {\n            if (!this.parent.ganttChartModule.chartBodyContent.contains(this.eventMarkersContainer)) {\n                this.eventMarkersContainer = createElement('div', {\n                    className: cls.eventMarkersContainer\n                });\n                this.eventMarkersContainer.setAttribute('role', 'term');\n                this.parent.ganttChartModule.chartBodyContent.appendChild(this.eventMarkersContainer);\n            }\n            this.eventMarkersContainer.innerHTML = '';\n            this.getEventMarkersElements(this.eventMarkersContainer);\n        }\n        else {\n            this.removeContainer();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.removeContainer = function () {\n        if (this.eventMarkersContainer) {\n            remove(this.eventMarkersContainer);\n            this.eventMarkersContainer = null;\n        }\n    };\n    /**\n     * Method to get event markers as html string\n     *\n     * @param {HTMLElement} container .\n     * @returns {void} .\n     */\n    EventMarker.prototype.getEventMarkersElements = function (container) {\n        var left;\n        var eventMarkerElement;\n        var spanElement;\n        var rightArrow;\n        var eventMarkerCollection = [];\n        for (var i = 0; i < this.parent.eventMarkers.length; i++) {\n            if (!isNullOrUndefined(this.parent.eventMarkers[i].day)) {\n                this.parent['isFromEventMarker'] = true;\n                left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true), false, true);\n                this.parent['isFromEventMarker'] = false;\n                eventMarkerCollection.push({ id: i, left: left, label: this.parent.eventMarkers[i].label,\n                    date: this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true) });\n                var align = void 0;\n                if (this.parent.enableRtl) {\n                    align = \"right:\" + left + \"px;\";\n                }\n                else {\n                    align = \"left:\" + left + \"px;\";\n                }\n                eventMarkerElement = createElement('div', {\n                    className: cls.eventMarkersChild, styles: align + \"  height:100%;\",\n                    id: 'stripline' + i\n                });\n                if (this.parent.eventMarkers[i].label) {\n                    spanElement = createElement('div', {\n                        className: cls.eventMarkersSpan\n                    });\n                    var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n                    spanElement[property] = this.parent.eventMarkers[i].label;\n                    if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                        spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n                    }\n                    if (this.parent.enableRtl) {\n                        spanElement.style.right = '5px';\n                    }\n                    else {\n                        spanElement.style.left = '5px';\n                    }\n                    eventMarkerElement.appendChild(spanElement);\n                    rightArrow = createElement('div', {\n                        className: 'e-gantt-right-arrow'\n                    });\n                    eventMarkerElement.appendChild(rightArrow);\n                }\n                if (this.parent.eventMarkers[i].cssClass) {\n                    eventMarkerElement.classList.add(this.parent.eventMarkers[i].cssClass);\n                }\n                eventMarkerElement.setAttribute('tabindex', '-1');\n                eventMarkerElement.setAttribute('aria-label', this.parent.localeObj.getConstant('eventMarkers') + ' '\n                    + (typeof this.parent.eventMarkers[i].day === 'string' ?\n                        this.parent.eventMarkers[i].day :\n                        this.parent.getFormatedDate(this.parent.eventMarkers[i].day))\n                    + ' ' + this.parent.eventMarkers[i].label);\n                container.appendChild(eventMarkerElement);\n            }\n        }\n        this.parent.eventMarkerColloction = eventMarkerCollection;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.updateContainerHeight = function () {\n        if (this.eventMarkersContainer) {\n            this.eventMarkersContainer.style.height = formatUnit(this.parent.getContentHeight());\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","import { NonWorkingDay } from '../renderer/nonworking-day';\nimport { EventMarker } from '../renderer/event-marker';\nimport { getValue } from '@syncfusion/ej2-base';\n/**\n * DayMarkers module is used to render event markers, holidays and to highlight the weekend days.\n */\nvar DayMarkers = /** @class */ (function () {\n    function DayMarkers(parent) {\n        this.parent = parent;\n        this.nonworkingDayRender = new NonWorkingDay(this.parent);\n        this.eventMarkerRender = new EventMarker(this.parent);\n        this.wireEvents();\n    }\n    DayMarkers.prototype.wireEvents = function () {\n        this.parent.on('refreshDayMarkers', this.refreshMarkers, this);\n        this.parent.on('updateHeight', this.updateHeight, this);\n        this.parent.on('ui-update', this.propertyChanged, this);\n    };\n    DayMarkers.prototype.propertyChanged = function (property) {\n        var keys = Object.keys(getValue('properties', property));\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            switch (key) {\n                case 'eventMarkers':\n                    this.eventMarkerRender.renderEventMarkers();\n                    this.updateHeight();\n                    break;\n                case 'highlightWeekends':\n                    this.nonworkingDayRender.renderWeekends();\n                    this.updateHeight();\n                    break;\n                case 'holidays':\n                    this.nonworkingDayRender.renderHolidays();\n                    this.updateHeight();\n                    break;\n            }\n        }\n    };\n    DayMarkers.prototype.refreshMarkers = function () {\n        this.nonworkingDayRender.renderWeekends();\n        this.nonworkingDayRender.renderHolidays();\n        if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n            this.parent['renderChartVerticalLines']();\n        }\n        this.eventMarkerRender.renderEventMarkers();\n    };\n    DayMarkers.prototype.updateHeight = function () {\n        this.nonworkingDayRender.updateContainerHeight();\n        this.eventMarkerRender.updateContainerHeight();\n    };\n    /**\n     * To get module name\n     *\n     * @returns {string} .\n     */\n    DayMarkers.prototype.getModuleName = function () {\n        return 'dayMarkers';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DayMarkers.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.nonworkingDayRender.removeContainers();\n        this.eventMarkerRender.removeContainer();\n        this.parent.off('refreshDayMarkers', this.refreshMarkers);\n        this.parent.off('updateHeight', this.updateHeight);\n        this.parent.off('ui-update', this.propertyChanged);\n    };\n    return DayMarkers;\n}());\nexport { DayMarkers };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\n/** @hidden */\nvar CriticalPath = /** @class */ (function () {\n    function CriticalPath(parent) {\n        this.validatedids = [];\n        this.resourceCollectionIds = [];\n        this.criticalTasks = [];\n        this.parent = parent;\n    }\n    CriticalPath.prototype.getCriticalTasks = function () {\n        return this.criticalTasks;\n    };\n    CriticalPath.prototype.showCriticalPath = function (isCritical) {\n        var modelIds = this.parent.ids;\n        var totalRecords = this.parent.flatData;\n        if (isCritical && this.parent.flatData.length > 0) {\n            this.parent.enableCriticalPath = true;\n            var parentRecords = this.parent.treeGrid.parentData;\n            var checkEndDate = parentRecords[0].ganttProperties.endDate;\n            var dateDifference = 0;\n            /* eslint-disable-next-line */\n            var checkBeyondEnddate_1 = [];\n            var totalPredecessorsCollection = [];\n            var totalPredecessorsCollectionId = [];\n            var predecessorIndex = 0;\n            var taskBeyondEnddate = [];\n            var predecessorTaskBeyondEnddate = [];\n            var collection = [];\n            var collectionTaskId = [];\n            var fromDataObject = [];\n            var criticalPathIds = [];\n            this.criticalTasks = [];\n            /* eslint-disable-next-line */\n            if (parentRecords[0].ganttProperties.autoEndDate > parentRecords[0].ganttProperties.endDate && !parentRecords[0].ganttProperties.isAutoSchedule) {\n                checkEndDate = parentRecords[0].ganttProperties.autoEndDate;\n            }\n            // Find the total project endDate\n            for (var i = 1; i < parentRecords.length; i++) {\n                if (parentRecords[i].ganttProperties.endDate >= checkEndDate) {\n                    checkEndDate = parentRecords[i].ganttProperties.endDate;\n                }\n                if (!parentRecords[i].ganttProperties.isAutoSchedule) {\n                    if (parentRecords[i].ganttProperties.autoEndDate >= checkEndDate) {\n                        checkEndDate = parentRecords[i].ganttProperties.autoEndDate;\n                    }\n                }\n            }\n            this.maxEndDate = checkEndDate;\n            // find the tasks that ends on total project end date that stored in checkBeyondEnddate\n            // find the tasks with predecessor that stored in totalPredecessorsCollectionId.\n            for (var j = 0; j < totalRecords.length; j++) {\n                totalRecords[j].isCritical = false;\n                totalRecords[j].ganttProperties.isCritical = false;\n                /* eslint-disable-next-line */\n                dateDifference = this.parent.dataOperation.getDuration(totalRecords[j].ganttProperties.endDate, checkEndDate, totalRecords[j].ganttProperties.durationUnit, totalRecords[j].ganttProperties.isAutoSchedule, totalRecords[j].ganttProperties.isMilestone);\n                totalRecords[j].slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                totalRecords[j].ganttProperties.slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                if (totalRecords[j].ganttProperties.endDate >= checkEndDate) {\n                    checkBeyondEnddate_1.push(totalRecords[j].ganttProperties.taskId);\n                }\n                if (totalRecords[j].ganttProperties.predecessor) {\n                    if (totalRecords[j].ganttProperties.predecessor.length !== 0) {\n                        totalPredecessorsCollection.push(totalRecords[j]);\n                        totalPredecessorsCollectionId.push((totalRecords[j].ganttProperties.taskId));\n                    }\n                }\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                for (var i = 0; i < this.parent.taskIds.length; i++) {\n                    this.resourceCollectionIds[i] = this.parent.taskIds[i].slice(1);\n                }\n            }\n            var _loop_1 = function (k) {\n                if (totalPredecessorsCollectionId.indexOf(checkBeyondEnddate_1[k]) === -1) {\n                    if (this_1.parent.viewType === 'ProjectView') {\n                        predecessorIndex = modelIds.indexOf(checkBeyondEnddate_1[k].toString());\n                    }\n                    else {\n                        var currentRecords = this_1.parent.currentViewData.filter(function (data) {\n                            return parseInt(data.ganttProperties.taskId, 10) === checkBeyondEnddate_1[k];\n                        });\n                        for (var i = 0; i < currentRecords.length; i++) {\n                            if (!currentRecords[i].hasChildRecords &&\n                                currentRecords[i].ganttProperties.endDate >= this_1.maxEndDate) {\n                                predecessorIndex = currentRecords[i].index;\n                            }\n                        }\n                    }\n                    if (totalRecords[predecessorIndex].ganttProperties.progress < 100) {\n                        totalRecords[predecessorIndex].isCritical = true;\n                        totalRecords[predecessorIndex].ganttProperties.isCritical = true;\n                    }\n                    totalRecords[predecessorIndex]['slack'] = 0 + ' ' + totalRecords[predecessorIndex].ganttProperties.durationUnit;\n                    taskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n                else {\n                    predecessorTaskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n            };\n            var this_1 = this;\n            // seperate the predecessor connected taskes from the individual taskes that ends on total project end date\n            for (var k = 0; k < checkBeyondEnddate_1.length; k++) {\n                _loop_1(k);\n            }\n            var predecessorLength = totalPredecessorsCollection.length;\n            var endTask = [];\n            // find the detail collection of predecessor for each taskes that stored in collection.\n            for (var x = 0; x < predecessorLength; x++) {\n                var to = -1;\n                var from = -1;\n                var toPredecessor = -1;\n                var fromPredecessor = -1;\n                var tempTaskId = void 0;\n                var currentIndex = x;\n                var predecessor = totalPredecessorsCollection[x].ganttProperties.predecessor;\n                var individualPredecessorLength = totalPredecessorsCollection[x].ganttProperties.predecessor.length;\n                /* eslint-disable-next-line */\n                var taskid = ((totalPredecessorsCollection[x].ganttProperties.taskId));\n                for (var y = 0; y < individualPredecessorLength; y++) {\n                    if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].from), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (to === -1) {\n                            if (!predecessor[y].offset) {\n                                to = predecessor[y].to;\n                                toPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                to = predecessor[y].to + ':' + predecessor[y].offset + predecessor[y].offsetUnit;\n                                toPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                to = to + ',' + predecessor[y].to;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                to = to + ',' + predecessor[y].to + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                    if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].to), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (from === -1) {\n                            if (!predecessor[y].offset) {\n                                from = predecessor[y].from;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                from = predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                from = from + ',' + predecessor[y].from;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                from = from + ',' + predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                }\n                if (from === -1) {\n                    from = null;\n                    fromPredecessor = null;\n                }\n                if (to === -1) {\n                    to = null;\n                    toPredecessor = null;\n                }\n                /* eslint-disable-next-line */\n                collection.push({ from: from, fromPredecessor: fromPredecessor, taskid: taskid, to: to, toPredecessor: toPredecessor, currentIndex: currentIndex, slack: null, enddate: null });\n                collectionTaskId.push(taskid);\n            }\n            var collectionLength = collection.length;\n            var indexEnddate = 0;\n            var num = void 0;\n            // find the predecessors connected taskes that does not contains any successor.\n            for (var z = 0; z < collectionLength; z++) {\n                if (!collection[z]['to']) {\n                    num = collection[z]['taskid'];\n                    if (this.parent.viewType === 'ProjectView') {\n                        indexEnddate = modelIds.indexOf(num.toString());\n                    }\n                    else {\n                        indexEnddate = this.resourceCollectionIds.indexOf(num.toString());\n                    }\n                    var flatData = totalRecords[indexEnddate].ganttProperties;\n                    dateDifference = this.parent.dataOperation.getDuration(flatData.endDate, checkEndDate, 'minute', flatData.isAutoSchedule, flatData.isMilestone);\n                    collection[z]['slack'] = dateDifference;\n                    collection[z]['fs'] = -1;\n                    collection[z]['enddate'] = flatData.endDate;\n                    endTask.push({\n                        fromdata: collection[z]['from'], todateID: collection[z]['taskid'],\n                        fromDataPredecessor: collection[z]['fromPredecessor']\n                    });\n                }\n            }\n            for (var k = 0; k < endTask.length; k++) {\n                fromDataObject.push(endTask[k]);\n                this.slackCalculation(fromDataObject, collection, collectionTaskId, checkEndDate, totalRecords, modelIds);\n            }\n            criticalPathIds = this.finalCriticalPath(collection, taskBeyondEnddate, totalRecords, modelIds, checkEndDate);\n            this.validatedids = [];\n            this.criticalPathCollection = criticalPathIds;\n            this.detailPredecessorCollection = collection;\n            this.predecessorCollectionTaskIds = collectionTaskId;\n        }\n        if (isCritical === false && this.parent.flatData.length > 0) {\n            var pathIndex = void 0;\n            this.parent.enableCriticalPath = false;\n            for (var z = 0; z < this.criticalPathCollection.length; z++) {\n                pathIndex = modelIds.indexOf(this.criticalPathCollection[z].toString());\n                totalRecords[pathIndex].isCritical = false;\n            }\n            this.criticalPathCollection = [];\n            this.detailPredecessorCollection = [];\n            this.predecessorCollectionTaskIds = [];\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.slackCalculation = function (fromDataObject, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds) {\n        var fromDateArray = fromDataObject[0]['fromdata'].split(',');\n        var fromDataPredecessor = fromDataObject[0]['fromDataPredecessor'].split(',');\n        collectionTaskId = collectionTaskId.toString();\n        collectionTaskId = collectionTaskId.split(',');\n        var fromDateArray1 = [];\n        var fromTaskIdIndex;\n        var indexFromTaskId;\n        var indexToTaskId;\n        var totaskId;\n        var dateDifference;\n        var prevTaskEnddate;\n        var offsetInMillSec;\n        var ffslack;\n        for (var i = 0; i < fromDateArray.length; i++) {\n            fromDateArray1 = fromDateArray[i].split(':');\n            fromTaskIdIndex = collectionTaskId.indexOf((fromDateArray1[0].toString()));\n            totaskId = collectionTaskId.indexOf((fromDataObject[0]['todateID'].toString()));\n            if (this.parent.viewType === 'ProjectView') {\n                indexFromTaskId = modelRecordIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = modelRecordIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            else {\n                indexFromTaskId = this.resourceCollectionIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = this.resourceCollectionIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            var fromIdFlatData = void 0;\n            if (indexFromTaskId !== -1) {\n                fromIdFlatData = flatRecords[indexFromTaskId].ganttProperties;\n            }\n            var toIdFlatData = flatRecords[indexToTaskId].ganttProperties;\n            if (fromDateArray1.length > 1) {\n                if (fromDateArray1[1].indexOf('hour') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * 60;\n                }\n                else if (fromDateArray1[1].indexOf('day') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * (this.parent.secondsPerDay / 3600) * 60;\n                }\n                else {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]);\n                }\n            }\n            if (fromIdFlatData && fromTaskIdIndex !== -1) {\n                // calculate slack value for the task contains predecessor connection in \"finish to start\".\n                if (fromDataPredecessor[i] === 'FS') {\n                    if (fromIdFlatData.endDate > toIdFlatData.startDate) {\n                        dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.startDate, fromIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                    }\n                    else {\n                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.endDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                    }\n                    // execute if the slack value is not set initially.\n                    if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the current calculated slack value is less than the previous slack value.\n                    else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                        collection[fromTaskIdIndex]['slack'] !== 0) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the offset value is given.\n                    if (fromDateArray1.length > 1) {\n                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                        collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                        if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                            collection[fromTaskIdIndex]['slack'] = 0;\n                        }\n                    }\n                    collection[fromTaskIdIndex]['fs'] = 1;\n                    collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                    collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    if (fromIdFlatData.endDate >= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to start\".\n                if (fromDataPredecessor[i] === 'SS') {\n                    // It execute if the task is in auto mode.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        if (fromIdFlatData.startDate > toIdFlatData.startDate) {\n                            dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                        }\n                        else {\n                            dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                        }\n                        // It execute while the slack value is not set to the corresponding task.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        //It execute while already the slack value is set and it is higher than the datedifference.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['fs'] = 1;\n                        collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                        collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    }\n                    // It execute if the task is in not an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"finish to finish\".\n                if (fromDataPredecessor[i] === 'FF') {\n                    // execute if the previous task is from finish to start or finish to finish state.\n                    if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1 ||\n                        collection[totaskId]['fs'] === -1) {\n                        if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1) {\n                            prevTaskEnddate = toIdFlatData.endDate;\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (collection[totaskId]['fs'] === -1) {\n                            prevTaskEnddate = collection[totaskId]['enddate'];\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (prevTaskEnddate > fromIdFlatData.endDate) {\n                            dateDifference = -(this.getSlackDuration(fromIdFlatData.endDate, prevTaskEnddate, 'minute', flatRecords[indexFromTaskId]));\n                        }\n                        else {\n                            dateDifference = this.getSlackDuration(prevTaskEnddate, fromIdFlatData.endDate, 'minute', flatRecords[indexFromTaskId]);\n                        }\n                        // set the slack value if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // overright the slack value if the current calculated slack value is less than the previous slack value.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] - dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['ff'] = 1;\n                        collection[fromTaskIdIndex]['enddate'] = prevTaskEnddate;\n                        collection[fromTaskIdIndex]['fsslack'] = ffslack;\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to finish\".\n                if (fromDataPredecessor[i] === 'SF') {\n                    //It execute if the task is an auto mode task.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        //execute if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                // execute if the previous task does no has sucessor.\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                    collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                }\n                                // execute if the previous task has sucessor.\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                    if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                    else {\n                                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    }\n                                }\n                            }\n                            // execute if the offset value is given.\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate >= fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                        else {\n                            if (fromDateArray1.length <= 1) {\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                        collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                    }\n                                    else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                        if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                            collection[fromTaskIdIndex]['slack'] = 0;\n                                        }\n                                        else {\n                                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                        }\n                                    }\n                                }\n                            }\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate > fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                    if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                    }\n                    //It execute if the task is an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                if (collection[fromTaskIdIndex]['from']) {\n                    var data = [];\n                    data.push({\n                        fromdata: collection[fromTaskIdIndex]['from'], todateID: collection[fromTaskIdIndex]['taskid'],\n                        fromDataPredecessor: collection[fromTaskIdIndex]['fromPredecessor']\n                    });\n                    this.slackCalculation(data, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds);\n                }\n            }\n        }\n    };\n    CriticalPath.prototype.getSlackDuration = function (sDate, eDate, durationUnit, record) {\n        var startDate = this.parent.dateValidationModule.checkStartDate(new Date(sDate));\n        var endDate = this.parent.dateValidationModule.checkEndDate(new Date(eDate));\n        if (this.parent.dataOperation['getTimeDifference'](startDate, endDate, true) <= 0) {\n            return 0;\n        }\n        else {\n            return this.parent.dataOperation.getDuration(startDate, endDate, durationUnit, record.ganttProperties.isAutoSchedule, true);\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.updateCriticalTasks = function (record, criticalPathIds) {\n        for (var i = 0; i < record.ganttProperties.predecessor.length; i++) {\n            var fromRecord = void 0;\n            if (this.parent.viewType === 'ProjectView') {\n                fromRecord = this.parent.getRecordByID(record.ganttProperties.predecessor[i].from);\n            }\n            else {\n                var resourceIndex = this.resourceCollectionIds.indexOf(record.ganttProperties.predecessor[i].from.toString());\n                fromRecord = this.parent.flatData[resourceIndex];\n            }\n            var durationDiff = void 0;\n            if (record.ganttProperties.endDate && record.ganttProperties.endDate.getTime() >= this.maxEndDate.getTime()) {\n                record.ganttProperties.slack = record.slack = 0 + ' ' + record.ganttProperties.durationUnit;\n                if (record.ganttProperties.progress < 100) {\n                    record.isCritical = true;\n                    record.ganttProperties.isCritical = true;\n                    if (criticalPathIds.indexOf(record.ganttProperties.taskId) === -1) {\n                        criticalPathIds.push(record.ganttProperties.taskId);\n                    }\n                }\n            }\n            if (fromRecord) {\n                if (record.ganttProperties.predecessor[i].type === 'FS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.startDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'FF') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.endDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SF') {\n                    durationDiff = this.parent.dataOperation.getDuration(record.ganttProperties.endDate, fromRecord.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                if (durationDiff >= 0 && this.validatedids.indexOf(parseInt(fromRecord.ganttProperties.taskId, 10)) === -1 &&\n                    fromRecord.ganttProperties.taskId !== record.ganttProperties.taskId) {\n                    fromRecord.ganttProperties.slack = record.ganttProperties.slack;\n                    fromRecord.slack = record.slack;\n                    fromRecord.isCritical = record.ganttProperties.isCritical;\n                    fromRecord.ganttProperties.isCritical = record.ganttProperties.isCritical;\n                    if (criticalPathIds.indexOf(fromRecord.ganttProperties.taskId) === -1 && fromRecord.ganttProperties.isCritical &&\n                        fromRecord.ganttProperties.progress < 100) {\n                        criticalPathIds.push(fromRecord.ganttProperties.taskId);\n                        this.validatedids.push(parseInt(fromRecord.ganttProperties.taskId, 10));\n                        if (this.criticalTasks.indexOf(fromRecord) === -1) {\n                            this.criticalTasks.push(fromRecord);\n                        }\n                    }\n                    if (fromRecord.ganttProperties.predecessorsName) {\n                        this.updateCriticalTasks(fromRecord, criticalPathIds);\n                    }\n                }\n            }\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.finalCriticalPath = function (collection, taskBeyondEnddate, flatRecords, modelRecordIds, checkEndDate) {\n        /* eslint-disable-next-line */\n        var criticalPathIds = [];\n        var index;\n        var predecessorFrom;\n        for (var x = collection.length - 1; x >= 0; x--) {\n            if (this.parent.viewType === 'ProjectView') {\n                index = modelRecordIds.indexOf(collection[x]['taskid'].toString());\n            }\n            else {\n                index = this.resourceCollectionIds.indexOf(collection[x]['taskid'].toString());\n            }\n            var predecessorLength = flatRecords[index].ganttProperties.predecessor;\n            var noSlackValue = 0 + ' ' + flatRecords[index].ganttProperties.durationUnit;\n            if (predecessorLength && predecessorLength.length > 0) {\n                for (var i = predecessorLength.length - 1; i >= 0; i--) {\n                    var toID = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        toID = this.parent.ids.indexOf(predecessorLength[i].to);\n                    }\n                    else {\n                        toID = this.resourceCollectionIds.indexOf(predecessorLength[i].to);\n                    }\n                    var dateDifference = void 0;\n                    var currentData = flatRecords[index].ganttProperties;\n                    if (toID !== -1) {\n                        if (predecessorLength[i].type === 'FS') {\n                            if (predecessorLength[i].to !== currentData.taskId.toString()) {\n                                if (predecessorLength[i].to !== currentData.taskId.toString() || this.parent.viewType === 'ResourceView') {\n                                    /* eslint-disable-next-line */\n                                    dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                                }\n                                else {\n                                    toID = this.parent.ids.indexOf(predecessorLength[i].from);\n                                    if (toID !== -1) {\n                                        dateDifference = this.parent.dataOperation.getDuration(flatRecords[toID].ganttProperties.endDate, currentData.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                                        if (dateDifference === 0 && index !== toID && flatRecords[index].slack === noSlackValue) {\n                                            flatRecords[toID].slack = flatRecords[index].slack;\n                                            flatRecords[toID].ganttProperties.slack = flatRecords[index].slack;\n                                        }\n                                    }\n                                }\n                                if (toID !== -1) {\n                                    if (dateDifference === 0 && index !== toID && flatRecords[index].slack !== noSlackValue) {\n                                        flatRecords[index].slack = flatRecords[toID].slack;\n                                        flatRecords[index].ganttProperties.slack = flatRecords[toID].slack;\n                                    }\n                                    else if (dateDifference !== 0 && index !== toID && flatRecords[toID].isCritical) {\n                                        flatRecords[index].slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                        flatRecords[index].ganttProperties.slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                    }\n                                }\n                            }\n                        }\n                        else if (predecessorLength[i].type === 'SF') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else if (predecessorLength[i].type === 'SS') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        if (typeof (flatRecords[index][this.parent.taskFields.id]) === 'number') {\n                            predecessorFrom = parseInt(predecessorLength[i].from, 10);\n                        }\n                        else {\n                            predecessorFrom = predecessorLength[i].from;\n                        }\n                        if (predecessorFrom === flatRecords[index][this.parent.taskFields.id] &&\n                            flatRecords[toID].slack === noSlackValue && dateDifference <= 0) {\n                            flatRecords[index].slack = noSlackValue;\n                            flatRecords[index].ganttProperties.slack = noSlackValue;\n                        }\n                    }\n                }\n            }\n            if (flatRecords[index].slack === noSlackValue) {\n                if (flatRecords[index].ganttProperties.progress < 100) {\n                    flatRecords[index].isCritical = true;\n                    flatRecords[index].ganttProperties.isCritical = true;\n                    if (this.criticalTasks.indexOf(flatRecords[index]) === -1) {\n                        this.criticalTasks.push(flatRecords[index]);\n                    }\n                    if (criticalPathIds.indexOf(collection[x]['taskid']) === -1) {\n                        criticalPathIds.push(collection[x]['taskid']);\n                    }\n                }\n            }\n            if (flatRecords[index].ganttProperties.predecessor &&\n                flatRecords[index].ganttProperties.predecessor.length > 0) {\n                this.updateCriticalTasks(flatRecords[index], criticalPathIds);\n            }\n        }\n        if (taskBeyondEnddate.length > 0) {\n            for (var i = 0; i < taskBeyondEnddate.length; i++) {\n                if (this.parent.viewType === 'ProjectView') {\n                    index = modelRecordIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                else {\n                    index = this.resourceCollectionIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                if (index !== -1 && flatRecords[index].ganttProperties.progress < 100) {\n                    this.criticalTasks.push(flatRecords[index]);\n                    if (criticalPathIds.indexOf(taskBeyondEnddate[i]) === -1) {\n                        criticalPathIds = criticalPathIds.concat(taskBeyondEnddate[i]);\n                    }\n                }\n            }\n        }\n        return criticalPathIds;\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.criticalConnectorLine = function (criticalPathIds, collection, condition, collectionTaskId) {\n        this.parent.removeCriticalPathStyles();\n        var _loop_2 = function (i) {\n            var criticalData;\n            if (this_2.parent.viewType === 'ProjectView') {\n                criticalData = this_2.parent.flatData[this_2.parent.ids.indexOf(criticalPathIds[i].toString())];\n            }\n            else {\n                var currentRecords = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId).toString() === criticalPathIds[i].toString();\n                });\n                for (var i_1 = 0; i_1 < currentRecords.length; i_1++) {\n                    if (currentRecords[i_1].ganttProperties.isCritical ||\n                        currentRecords[i_1].ganttProperties.endDate >= this_2.maxEndDate) {\n                        criticalData = currentRecords[i_1];\n                    }\n                }\n            }\n            var index = this_2.parent.currentViewData.indexOf(criticalData);\n            var element = this_2.parent.getRowByIndex(index);\n            var taskClass = void 0;\n            var columnFields = this_2.parent.taskFields;\n            if (criticalData && criticalData.parentItem) {\n                var parentRecord = this_2.parent.currentViewData.filter(function (data) {\n                    return criticalData.parentItem.uniqueID === data.uniqueID;\n                });\n                var parentIndex = this_2.parent.flatData.indexOf(parentRecord[0]);\n                var parentElement = this_2.parent.getRowByIndex(parentIndex);\n                if (parentElement) {\n                    var parentTaskbarElement = parentElement.querySelectorAll('.e-taskbar-main-container');\n                    for (var i_2 = 0; i_2 < parentTaskbarElement.length; i_2++) {\n                        if (parentTaskbarElement[i_2].getAttribute('rowuniqueid') === criticalData['rowUniqueID']) {\n                            addClass(parentTaskbarElement[i_2].querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                        }\n                    }\n                }\n            }\n            /* eslint-disable-next-line */\n            if (this_2.parent.allowUnscheduledTasks && criticalData && !criticalData[columnFields.startDate] && !criticalData[columnFields.endDate] && criticalData[columnFields.duration]) {\n                taskClass = cls.criticalUnscheduledTask;\n            }\n            else {\n                taskClass = cls.criticalChildProgressBarInnerDiv;\n            }\n            if (element && (this_2.parent.viewType === 'ProjectView' || (this_2.parent.viewType === 'ResourceView' &&\n                !criticalData.hasChildRecords))) {\n                if (element.getElementsByClassName('e-gantt-milestone')[0]) {\n                    addClass(element.querySelectorAll('.e-gantt-milestone'), cls.criticalMilestone);\n                }\n                if (element.getElementsByClassName('e-gantt-child-taskbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                }\n                if (element.getElementsByClassName('e-gantt-child-progressbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-progressbar-inner-div'), taskClass);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < criticalPathIds.length; i++) {\n            _loop_2(i);\n        }\n        if (collection.length !== 0) {\n            var index = 0;\n            var currentdata = void 0;\n            var checking = [];\n            /* eslint-disable-next-line */\n            var checkint = void 0;\n            var values = void 0;\n            for (var i = 0; i < this.criticalPathCollection.length; i++) {\n                index = collectionTaskId.indexOf(this.criticalPathCollection[i]);\n                currentdata = collection[index];\n                if (index !== -1 && currentdata['to']) {\n                    checking = currentdata['to'].split(',');\n                    for (var j = 0; j < checking.length; j++) {\n                        values = checking[j].split('+');\n                        if (checking[j].indexOf('-') >= 0) {\n                            values = checking[j].split('-');\n                        }\n                        checkint = (values[0].replace(':', ''));\n                        if (typeof (criticalPathIds[j]) === 'number') {\n                            checkint = parseInt(values[0], 10);\n                        }\n                        if (criticalPathIds.indexOf(checkint) !== -1) {\n                            var taskIdString = String(currentdata['taskid']);\n                            var checkintString = String(checkint);\n                            var lineElement = this.parent.element.querySelectorAll('#ConnectorLineparent' +\n                                taskIdString.replace(/([.])/g, '\\\\$1') + 'child' + checkintString.replace(/([.])/g, '\\\\$1'));\n                            if (lineElement.length > 0) {\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + taskIdString.replace(/([.])/g, '\\\\$1') + 'child' +\n                                    checkintString.replace(/([.])/g, '\\\\$1'))[0].querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + taskIdString.replace(/([.])/g, '\\\\$1') + 'child' +\n                                    checkintString.replace(/([.])/g, '\\\\$1'))[0].querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    CriticalPath.prototype.getModuleName = function () {\n        return 'criticalPath';\n    };\n    /**\n     * Destroys the Critical Path of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    CriticalPath.prototype.destroy = function () {\n        if (!this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            this.parent.criticalPathModule = undefined;\n        }\n    };\n    return CriticalPath;\n}());\nexport { CriticalPath };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar UndoRedo = /** @class */ (function () {\n    function UndoRedo(parent) {\n        this.isUndoRedoPerformed = false;\n        this.changedRecords = [];\n        this.getRedoCollection = [];\n        this.getUndoCollection = [];\n        this.redoEnabled = false;\n        this.previousSortedColumns = [];\n        this.searchString = '';\n        this.isFromUndoRedo = false;\n        this.canUpdateIndex = true;\n        this.sortedColumnsLength = 0;\n        this.parent = parent;\n    }\n    /**\n     *Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.undoAction = function () {\n        var _this = this;\n        if (this.getUndoCollection.length > 0) {\n            var updateAction_1 = this.getUndoCollection[this.getUndoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = this.previousSortedColumns;\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction_1['filteredColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['toColumn'] = updateAction_1['fromColumn'];\n                previousActions['fromColumn'] = updateAction_1['toColumn'];\n                previousActions['fromIndex'] = updateAction_1['toIndex'];\n                previousActions['toIndex'] = updateAction_1['fromIndex'];\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['searchString'] = this.searchString;\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['showhideColumns'] = updateAction_1['showhideColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]);\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                    }\n                }\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction_1['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction_1['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction_1['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction_1['action'];\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deleteRecords'] = [];\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    previousActions['deleteRecords'].push(updateAction_1['deletedRecordsDetails'][i].data);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['deletedRecordsDetails'] = [];\n                var rowItems = updateAction_1['addedRecords'];\n                this.findPosition(rowItems, previousActions, 'deletedRecordsDetails');\n            }\n            else {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction_1['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction_1['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction_1['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getRedoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.changedRecords = [];\n            this.currentAction = updateAction_1;\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                this.parent.timelineSettings.timelineViewMode = updateAction_1['previousZoomingLevel'].timelineViewMode;\n                this.parent.timelineSettings.timelineUnitSize = updateAction_1['previousZoomingLevel'].timelineUnitSize;\n                this.parent.timelineSettings.updateTimescaleView = updateAction_1['previousZoomingLevel'].updateTimescaleView;\n                this.parent.timelineSettings.topTier.unit = updateAction_1['previousZoomingLevel'].topTier.unit;\n                this.parent.timelineSettings.topTier.count = updateAction_1['previousZoomingLevel'].topTier.count;\n                this.parent.timelineSettings.topTier.format = updateAction_1['previousZoomingLevel'].topTier.format;\n                this.parent.timelineSettings.bottomTier.unit = updateAction_1['previousZoomingLevel'].bottomTier.unit;\n                this.parent.timelineSettings.bottomTier.count = updateAction_1['previousZoomingLevel'].bottomTier.count;\n                this.parent.timelineSettings.bottomTier.format = updateAction_1['previousZoomingLevel'].bottomTier.format;\n                this.parent.timelineSettings.weekStartDay = updateAction_1['previousZoomingLevel'].weekStartDay;\n                this.parent.timelineSettings.weekendBackground = updateAction_1['previousZoomingLevel'].weekendBackground;\n                if (updateAction_1['action'] === 'ZoomToFit') {\n                    this.parent.timelineModule.refreshTimeline();\n                }\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction_1['previousTimelineStartDate'], updateAction_1['previousTimelineEndDate'], false);\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction_1['sortColumns'].length > 0) {\n                    for (var i = 0; i < updateAction_1['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction_1['sortColumns'][i]['field'], updateAction_1['sortColumns'][i]['direction'], i > 0 ? true : false);\n                    }\n                }\n                else {\n                    this.parent.clearSorting();\n                }\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                this.isFromUndoRedo = true;\n                for (var i = this.getUndoCollection.length - 1; i >= 0; i--) {\n                    if (this.getUndoCollection[i]['filteredColumns']) {\n                        var columnsArray = [];\n                        for (var j = 0; j < this.getUndoCollection[i]['filteredColumns'].length; j++) {\n                            columnsArray.push(this.getUndoCollection[i]['filteredColumns'][j].field);\n                        }\n                        this.parent.clearFiltering(columnsArray);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction_1['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction_1['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction_1['searchString']);\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction_1['showhideColumns'].length; i++) {\n                    if (updateAction_1['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]['width'] = updateAction_1['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        fromIndex = this.parent.ids.indexOf('T' + updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.taskIds.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction_1['beforeDrop'][i].position);\n                    this.parent.updateRecordByID(updateAction_1['beforeDrop'][i].data);\n                    if (updateAction_1['afterDrop'].dropPosition === 'child') {\n                        this.parent.updateRecordByID(updateAction_1['afterDrop'].dropRecord);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                this.parent.selectRow(this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString()));\n                if (updateAction_1['action'] === 'Indent') {\n                    this.parent.outdent();\n                }\n                else {\n                    this.parent.indent();\n                }\n                setTimeout(function () {\n                    _this.isUndoRedoPerformed = true;\n                    _this.parent.updateRecordByID(updateAction_1['droppedRecord']);\n                    _this.isUndoRedoPerformed = false;\n                });\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                var rowIndex = void 0;\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowIndex = this.parent.ids.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    else {\n                        rowIndex = this.parent.taskIds.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    var position = void 0;\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'above') {\n                        position = 'Above';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'below') {\n                        position = 'Below';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'child') {\n                        position = 'Child';\n                    }\n                    if (isNullOrUndefined(position)) {\n                        position = updateAction_1['deletedRecordsDetails'][i].position.replace(/^./, function (char) { return char.toUpperCase(); });\n                    }\n                    this.parent.addRecord(updateAction_1['deletedRecordsDetails'][i].data, position, rowIndex);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                var deleteRec = updateAction_1['addedRecords'];\n                if (this.parent.viewType === 'ResourceView' && updateAction_1['addedRecords'].length === 1 && updateAction_1['addedRecords'][0].parentItem) {\n                    var parentRec = this.parent.getTaskByUniqueID(updateAction_1['addedRecords'][0].parentItem.uniqueID);\n                    if (parentRec.childRecords.length === 1 && parentRec.ganttProperties.taskName === 'Unassigned Task') {\n                        deleteRec = parentRec;\n                    }\n                }\n                this.parent.deleteRecord(deleteRec);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else {\n                this.parent.updateRecordByID(this.getUndoCollection[this.getUndoCollection.length - 1]['modifiedRecords'][0]);\n                if (updateAction_1['connectedRecords'] && this.parent.viewType === 'ProjectView') {\n                    for (var i = 0; i < updateAction_1['connectedRecords'].length; i++) {\n                        this.parent.updateRecordByID(updateAction_1['connectedRecords'][i]);\n                    }\n                }\n            }\n            var args = {};\n            args = extend([], [], [this.getUndoCollection[this.getUndoCollection.length - 1]], true)[0];\n            args['requestType'] = 'afterUndoAction';\n            this.parent.trigger('onAfterUndo', args);\n            this.isUndoRedoPerformed = false;\n            if (this.getRedoCollection.length > 0) {\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], true);\n                }\n                this.redoEnabled = true;\n            }\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n        else {\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     *Initiates an redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.redoAction = function () {\n        if (this.getRedoCollection.length > 0) {\n            var updateAction = this.getRedoCollection[this.getRedoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = extend([], this.parent.sortSettings.columns, [], true);\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction['filteredColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['toColumn'] = updateAction['fromColumn'];\n                previousActions['fromColumn'] = updateAction['toColumn'];\n                previousActions['fromIndex'] = updateAction['toIndex'];\n                previousActions['toIndex'] = updateAction['fromIndex'];\n            }\n            else if (updateAction['action'] === 'Search') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['searchString'] = extend([], [this.parent.searchSettings.key], [], true)[0];\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['showhideColumns'] = updateAction['showhideColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction['resizedColumn'].index]);\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                    }\n                }\n                previousActions['action'] = updateAction['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = void 0;\n                if (updateAction['afterDrop'].dropRecord) {\n                    dropRecord = extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                }\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        if (updateAction['afterDrop'].data[i] !== undefined) {\n                            previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                        }\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction['action'];\n            }\n            else if (updateAction['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deletedRecordsDetails'] = [];\n                this['findPosition'](extend([], [], updateAction['deleteRecords'], true), previousActions, 'deletedRecordsDetails');\n            }\n            else if (updateAction['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['addedRecords'] = [updateAction['deletedRecordsDetails'][0].data];\n            }\n            else {\n                previousActions['action'] = updateAction['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getUndoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.currentAction = updateAction;\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                if (updateAction['action'] === 'ZoomToFit') {\n                    this.parent.fitToProject();\n                }\n                else {\n                    this.parent.timelineSettings.timelineViewMode = updateAction['previousZoomingLevel'].timelineViewMode;\n                    this.parent.timelineSettings.timelineUnitSize = updateAction['previousZoomingLevel'].timelineUnitSize;\n                    this.parent.timelineSettings.updateTimescaleView = updateAction['previousZoomingLevel'].updateTimescaleView;\n                    this.parent.timelineSettings.topTier.unit = updateAction['previousZoomingLevel'].topTier.unit;\n                    this.parent.timelineSettings.topTier.count = updateAction['previousZoomingLevel'].topTier.count;\n                    this.parent.timelineSettings.topTier.format = updateAction['previousZoomingLevel'].topTier.format;\n                    this.parent.timelineSettings.bottomTier.unit = updateAction['previousZoomingLevel'].bottomTier.unit;\n                    this.parent.timelineSettings.bottomTier.count = updateAction['previousZoomingLevel'].bottomTier.count;\n                    this.parent.timelineSettings.bottomTier.format = updateAction['previousZoomingLevel'].bottomTier.format;\n                    this.parent.timelineSettings.weekStartDay = updateAction['previousZoomingLevel'].weekStartDay;\n                    this.parent.timelineSettings.weekendBackground = updateAction['previousZoomingLevel'].weekendBackground;\n                }\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction['previousTimelineStartDate'], updateAction['previousTimelineEndDate'], false);\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction['sortColumns'].length === 0) {\n                    this.parent.clearSorting();\n                }\n                else {\n                    for (var i = 0; i < updateAction['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction['sortColumns'][i]['field'], updateAction['sortColumns'][i]['direction'], (updateAction['sortColumns'].length > 1 ? true : false));\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction['showhideColumns'].length; i++) {\n                    if (updateAction['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                for (var j = 0; j < updateAction['filteredColumns'].length; j++) {\n                    this.isFromUndoRedo = true;\n                    this.parent.filterByColumn(updateAction['filteredColumns'][j].field, updateAction['filteredColumns'][j].operator, updateAction['filteredColumns'][j].value, updateAction['filteredColumns'][j].predicate, updateAction['filteredColumns'][j].matchCase, updateAction['filteredColumns'][j].ignoreAccent);\n                }\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction['searchString']);\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction['resizedColumn'].index]['width'] = updateAction['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        fromIndex = this.parent.ids.indexOf('T' + updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.taskIds.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction['beforeDrop'][i].position);\n                }\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                this.parent.selectRow(updateAction['selectedRowIndexes'][0]);\n                if (updateAction['action'] === 'Indent') {\n                    this.parent.indent();\n                }\n                if (updateAction['action'] === 'Outdent') {\n                    this.parent.outdent();\n                }\n            }\n            else if (updateAction['action'] === 'Delete') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                this.parent.deleteRecord(updateAction['deleteRecords']);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else if (updateAction['action'] === 'Add') {\n                if (this.parent.viewType === 'ResourceView' && updateAction['deletedRecordsDetails'].length > 1) {\n                    this.parent.editModule.addRecord(extend([], [], updateAction['deletedRecordsDetails'], true));\n                }\n                else {\n                    var rowIndex = void 0;\n                    for (var i = 0; i < updateAction['deletedRecordsDetails'].length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            rowIndex = this.parent.ids.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        else {\n                            rowIndex = this.parent.taskIds.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        var position = void 0;\n                        if (updateAction['deletedRecordsDetails'][i].position === 'above') {\n                            position = 'Above';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'below') {\n                            position = 'Below';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'child') {\n                            position = 'Child';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'bottom') {\n                            position = 'Bottom';\n                        }\n                        this.parent.editModule.addRecord(updateAction['deletedRecordsDetails'][i].data, position, rowIndex);\n                    }\n                }\n            }\n            else {\n                this.parent.updateRecordByID(updateAction['modifiedRecords'][0]);\n            }\n            this.isUndoRedoPerformed = false;\n            if (this.getUndoCollection.length > 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n            }\n            this.getRedoCollection.splice(this.getRedoCollection.length - 1, 1);\n            if (this.getRedoCollection.length === 0 && this.parent.toolbarModule) {\n                this.redoEnabled = false;\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n            }\n        }\n    };\n    UndoRedo.prototype.createUndoCollection = function () {\n        if (this.parent['totalUndoAction'] + 1 > this.parent.undoRedoStepsCount && this.getUndoCollection.length === this.parent['totalUndoAction']) {\n            this.getUndoCollection.splice(0, 1);\n            this.disableRedo();\n        }\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n        }\n        if (this.getUndoCollection.length === 0) {\n            this.getUndoCollection[0] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n        else if (Object.keys(this['getUndoCollection'][this['getUndoCollection'].length - 1])['length'] > 0) {\n            this.getUndoCollection[this.getUndoCollection.length] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n    };\n    UndoRedo.prototype.disableRedo = function () {\n        this.redoEnabled = false;\n        this.getRedoCollection = [];\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n        }\n    };\n    UndoRedo.prototype.findPosition = function (rowItems, records, detail) {\n        var _loop_1 = function (i) {\n            var record = {};\n            record['data'] = rowItems[i];\n            if (this_1.parent.viewType === 'ProjectView') {\n                if (!rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length > 1) {\n                        var recIndex = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString());\n                        var previousRecord = this_1.parent.flatData[recIndex - 1];\n                        if (previousRecord.parentItem &&\n                            previousRecord.parentItem.taskId.toString() === parentItem.ganttProperties.taskId.toString()) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                        else {\n                            record['position'] = 'above';\n                            var currentData = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1];\n                            var index = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1;\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData ||\n                                    (rowData && currentData.ganttProperties.taskId.toString() !==\n                                        rowData.ganttProperties.taskId.toString())) {\n                                    if (currentData && currentData.parentItem) {\n                                        record['id'] = extend([], [currentData.ganttProperties.taskId], [], true)[0];\n                                    }\n                                    else {\n                                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                                        record['position'] = 'child';\n                                    }\n                                }\n                                else {\n                                    rowIndex++;\n                                    index++;\n                                    currentData = this_1.parent.flatData[index];\n                                }\n                            } while (!record['id']);\n                        }\n                    }\n                    else {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [parentItem.ganttProperties.taskId], [], true)[0];\n                    }\n                }\n                else if (!rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    if (this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) === this_1.parent.ids.length - 1) {\n                        record['position'] = 'below';\n                    }\n                    else {\n                        record['position'] = 'above';\n                    }\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId.toString() === rowItems[i].ganttProperties.taskId.toString()) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    var rowIndex = i;\n                    do {\n                        var rowData = rowItems[rowIndex + 1];\n                        if (!rowData || (rowData && currentData['ganttProperties'].taskId.toString() !== rowData.ganttProperties.taskId.toString())) {\n                            if (currentData) {\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                            else {\n                                currentData = this_1.parent.treeGrid.parentData[parentIndex - 1];\n                                if (!currentData) {\n                                    currentData = this_1.parent.treeGrid.parentData[parentIndex];\n                                }\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                        }\n                        else {\n                            rowIndex++;\n                            prevInd++;\n                            currentData = this_1.parent.treeGrid.parentData[prevInd];\n                        }\n                    } while (!record['id']);\n                }\n                else if (rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId.toString() === rowItems[i].ganttProperties.taskId.toString()) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    if (parentIndex !== -1) {\n                        if (parentIndex === 0) {\n                            record['position'] = 'above';\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData || (rowData && currentData['ganttProperties'].taskId.toString() !== rowData.ganttProperties.taskId.toString())) {\n                                    if (!currentData) {\n                                        currentData = this_1.parent.treeGrid.parentData[parentIndex];\n                                    }\n                                    record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                                }\n                                else {\n                                    rowIndex++;\n                                    prevInd++;\n                                    currentData = this_1.parent.treeGrid.parentData[prevInd];\n                                }\n                            } while (!record['id']);\n                        }\n                        else {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.treeGrid.parentData[parentIndex - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                    }\n                }\n                else if (rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length === 1) {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                    }\n                    else {\n                        var childIndex = void 0;\n                        for (var k = 0; k < parentItem.childRecords.length; k++) {\n                            if (parentItem.childRecords[i].ganttProperties.taskId.toString() ===\n                                rowItems[i].ganttProperties.taskId.toString()) {\n                                childIndex = k;\n                                break;\n                            }\n                        }\n                        if (!isNullOrUndefined(childIndex)) {\n                            if (childIndex === 0) {\n                                record['position'] = 'above';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex + 1].ganttProperties.taskId], [], true)[0];\n                            }\n                            else {\n                                record['position'] = 'below';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex - 1].ganttProperties.taskId], [], true)[0];\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (rowItems[i].parentItem) {\n                    var parentRecord = void 0;\n                    if (rowItems[i].parentItem.index) {\n                        parentRecord = this_1.parent.flatData[rowItems[i].parentItem.index];\n                    }\n                    else {\n                        parentRecord = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].parentItem.taskId)];\n                    }\n                    if (parentRecord.childRecords.length === 1) {\n                        record['position'] = 'bottom';\n                        record['id'] = 'R' + parentRecord.ganttProperties.taskId;\n                        if (detail === 'deletedIndexes') {\n                            record['position'] = 'child';\n                            record['index'] = parentRecord.index;\n                        }\n                    }\n                    else {\n                        var currentIndex = void 0;\n                        for (var j = 0; j < parentRecord.childRecords.length; j++) {\n                            if (parentRecord.childRecords[j].ganttProperties.taskId.toString() ===\n                                rowItems[i].ganttProperties.taskId.toString()) {\n                                currentIndex = j;\n                                break;\n                            }\n                        }\n                        var previousRecord = parentRecord.childRecords[currentIndex - 1];\n                        if (previousRecord && previousRecord.parentItem && previousRecord.parentUniqueID === parentRecord.uniqueID) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], ['T' + this_1.parent.flatData[this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                            if (detail === 'deletedIndexes') {\n                                record['index'] = this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1;\n                            }\n                        }\n                        else {\n                            var index = void 0;\n                            if (currentIndex !== parentRecord.childRecords.length - 1) {\n                                record['position'] = 'above';\n                                if (currentIndex === 0 && parentRecord.childRecords[1]) {\n                                    index = parentRecord.childRecords[1].index;\n                                }\n                                else if (parentRecord.childRecords[currentIndex - 1]) {\n                                    index = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                                var currentData = this_1.parent.flatData[index];\n                                var recIndex = index;\n                                var rowIndex = i;\n                                do {\n                                    var rowData = rowItems[rowIndex + 1];\n                                    if (!rowData ||\n                                        (rowData && currentData.ganttProperties.taskId.toString() !==\n                                            rowData.ganttProperties.taskId.toString())) {\n                                        if (currentData.parentItem) {\n                                            record['id'] = extend([], ['T' + currentData.ganttProperties.taskId], [], true)[0];\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = extend([], [currentData.index], [], true)[0];\n                                                if (currentIndex === 0 && parentRecord.childRecords[1].ganttProperties.taskId ===\n                                                    currentData.ganttProperties.taskId) {\n                                                    record['index'] = record['index'] - 1;\n                                                }\n                                            }\n                                        }\n                                        else {\n                                            record['id'] = extend([], ['R' + rowItems[i].parentItem.taskId], [], true)[0];\n                                            record['position'] = 'child';\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = rowItems[i].parentItem.index;\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        rowIndex++;\n                                        recIndex++;\n                                        currentData = this_1.parent.flatData[recIndex];\n                                    }\n                                } while (!record['id']);\n                            }\n                            else {\n                                if (currentIndex === parentRecord.childRecords.length - 1) {\n                                    record['position'] = 'below';\n                                }\n                                else {\n                                    record['position'] = 'above';\n                                }\n                                record['id'] = 'T' + parentRecord.childRecords[currentIndex - 1].ganttProperties.taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    var parentData = this_1.parent.treeGrid.parentData.filter(function (parentData) {\n                        return parentData.ganttProperties.taskId === rowItems[i].ganttProperties.taskId;\n                    })[0];\n                    var parentDataIndex = this_1.parent.treeGrid.parentData.indexOf(parentData);\n                    if (parentDataIndex === 0) {\n                        record['position'] = 'above';\n                        var currentData = void 0;\n                        var prevInd = void 0;\n                        for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                            if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId === rowItems[i].ganttProperties.taskId) {\n                                currentData = this_1.parent.treeGrid.parentData[k + 1];\n                                prevInd = k + 1;\n                                break;\n                            }\n                        }\n                        var rowIndex = i;\n                        do {\n                            var rowData = rowItems[rowIndex + 1];\n                            if (!rowData || (rowData && currentData['ganttProperties'].taskId !== rowData.ganttProperties.taskId)) {\n                                record['id'] = 'R' + currentData['ganttProperties'].taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = currentData['index'];\n                                }\n                            }\n                            else {\n                                rowIndex++;\n                                prevInd++;\n                                currentData = this_1.parent.treeGrid.parentData[prevInd];\n                            }\n                        } while (!record['id']);\n                    }\n                    else {\n                        record['position'] = 'below';\n                        record['id'] = 'R' + this_1.parent.treeGrid.parentData[parentDataIndex - 1]['ganttProperties']['taskId'];\n                        if (detail === 'deletedIndexes') {\n                            record['index'] = this_1.parent.treeGrid.parentData[parentDataIndex - 1]['index'];\n                        }\n                    }\n                }\n            }\n            if (detail === 'deletedIndexes') {\n                var parent_1 = this_1.parent.getTaskByUniqueID(record['data'].parentUniqueID);\n                if (this_1.parent.editModule.dialogModule.ganttResources.length === 0 && records[detail].indexOf(record) === -1) {\n                    records[detail].push(record);\n                }\n                else {\n                    for (var j = 0; j < this_1.parent.editModule.dialogModule.ganttResources.length; j++) {\n                        if (this_1.parent.editModule.dialogModule.ganttResources[j][this_1.parent.resourceFields.id] !==\n                            parent_1.ganttProperties.taskId && records[detail].indexOf(record) === -1) {\n                            records[detail].push(record);\n                        }\n                    }\n                }\n            }\n            else {\n                if (!records[detail].some(function (existingRecord) { return existingRecord.data.ganttProperties.taskId === record['data'].ganttProperties.taskId; })) {\n                    records[detail].push(record);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < rowItems.length; i++) {\n            _loop_1(i);\n        }\n    };\n    UndoRedo.prototype.getModuleName = function () {\n        return 'undoRedo';\n    };\n    /**\n     * Destroys the UndoRedo of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    UndoRedo.prototype.destroy = function () {\n        if (!this.parent.enableUndoRedo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule = undefined;\n        }\n    };\n    return UndoRedo;\n}());\nexport { UndoRedo };\n","import * as cons from './../base/css-constants';\nimport { TreeGrid, ContextMenu as TreeGridContextMenu } from '@syncfusion/ej2-treegrid';\nimport { remove, closest, isNullOrUndefined, getValue, extend, addClass } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\n// eslint-disable-next-line\n/**\n * The ContextMenu module is used to handle the context menu items & sub-menu items.\n *\n * @returns {void} .\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent) {\n        var _this = this;\n        this.segmentIndex = -1;\n        this.isCntxtMenuDependencyDelete = false;\n        this.headerContextMenuClick = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuClick', args);\n            }\n        };\n        this.headerContextMenuOpen = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuOpen', args);\n            }\n            else {\n                args.cancel = true;\n            }\n        };\n        this.parent = parent;\n        this.ganttID = parent.element.id;\n        TreeGrid.Inject(TreeGridContextMenu);\n        this.parent.treeGrid.contextMenuClick = this.headerContextMenuClick.bind(this);\n        this.parent.treeGrid.contextMenuOpen = this.headerContextMenuOpen.bind(this);\n        this.addEventListener();\n        this.resetItems();\n    }\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('initiate-contextMenu', this.render, this);\n        this.parent.on('reRender-contextMenu', this.reRenderContextMenu, this);\n        this.parent.on('contextMenuClick', this.contextMenuItemClick, this);\n        this.parent.on('contextMenuOpen', this.contextMenuBeforeOpen, this);\n    };\n    ContextMenu.prototype.reRenderContextMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n            }\n            this.resetItems();\n            this.render();\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.element = this.parent.createElement('ul', {\n            id: this.ganttID + '_contextmenu', className: cons.focusCell\n        });\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.ganttID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            target: target,\n            animationSettings: { effect: 'None' },\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-gantt'\n        });\n        this.contextMenu.appendTo(this.element);\n        this.parent.treeGrid.contextMenuItems = this.headerMenuItems;\n    };\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        this.item = this.getKeyFromId(args.item.id);\n        var position;\n        var data;\n        var taskfields;\n        var parentItem = getValue('parentObj', args.item);\n        var index = -1;\n        args.type = 'Content';\n        args.rowData = this.rowData;\n        this.parent.trigger('contextMenuClick', args);\n        if (parentItem && !isNullOrUndefined(parentItem.id) && this.getKeyFromId(parentItem.id) === 'DeleteDependency') {\n            index = parentItem.items.indexOf(args.item);\n        }\n        if (this.parent.isAdaptive) {\n            if (this.item === 'TaskInformation' || this.item === 'Above' || this.item === 'Below'\n                || this.item === 'Child' || this.item === 'DeleteTask') {\n                if (this.parent.selectionModule && this.parent.selectionSettings.type === 'Multiple') {\n                    this.parent.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (this.item) {\n            case 'TaskInformation':\n                if (!isNullOrUndefined(this.rowData)) {\n                    if (typeof this.rowData.ganttProperties.taskId === 'string') {\n                        this.parent.openEditDialog(this.rowData.ganttProperties.rowUniqueID);\n                    }\n                    else {\n                        this.parent.openEditDialog(Number(this.rowData.ganttProperties.rowUniqueID));\n                    }\n                }\n                break;\n            case 'Above':\n            case 'Below':\n            case 'Child':\n                if (!isNullOrUndefined(this.rowData)) {\n                    position = this.item;\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    if (data[taskfields.endDate]) {\n                        this.parent.setRecordValue(taskfields.endDate, this.rowData.ganttProperties.endDate, data, true);\n                    }\n                    if (!isNullOrUndefined(taskfields.dependency)) {\n                        data[taskfields.dependency] = null;\n                    }\n                    if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                        delete data[taskfields.child];\n                    }\n                    if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                        data[taskfields.parentID] = null;\n                    }\n                    if (this.rowData) {\n                        if (this.parent.viewType === 'ResourceView' && this.rowData.parentItem\n                            && data[this.parent.taskFields.resourceInfo]) {\n                            var parentItem_1 = this.parent.getParentTask(this.rowData.parentItem);\n                            var resourceFieldId_1 = this.parent.resourceFields.id;\n                            var taskResources = this.rowData.taskData[this.parent.taskFields.resourceInfo];\n                            var matchingResource = taskResources.find(function (resource) {\n                                return resource[resourceFieldId_1] === parentItem_1.ganttProperties.taskId;\n                            });\n                            data[this.parent.taskFields.resourceInfo] = matchingResource ? [matchingResource] : [];\n                        }\n                        var rowIndex = this.parent.updatedRecords.indexOf(this.rowData);\n                        this.parent.addRecord(data, position, rowIndex);\n                    }\n                }\n                else if (this.parent.flatData.length === 0) {\n                    this.parent.addRecord();\n                }\n                break;\n            case 'Milestone':\n            case 'ToMilestone':\n                if (!isNullOrUndefined(this.rowData)) {\n                    this.parent.convertToMilestone(this.rowData.ganttProperties.rowUniqueID);\n                }\n                else if (this.parent.flatData.length === 0 && this.item === 'Milestone') {\n                    var data_1 = this.parent.editModule.createNewRecord();\n                    var taskSettings = this.parent.taskFields;\n                    if (this.parent.taskFields['duration']) {\n                        data_1[taskSettings['duration']] = 0;\n                    }\n                    if (this.parent.taskFields['milestone']) {\n                        data_1[taskSettings['milestone']] = true;\n                    }\n                    this.parent.addRecord(data_1);\n                }\n                break;\n            case 'DeleteTask':\n                if ((this.parent.selectionSettings.mode !== 'Cell' && this.parent.selectionModule.selectedRowIndexes.length > 1)\n                    || (this.parent.selectionSettings.mode === 'Cell' && this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                    this.parent.editModule.startDeleteAction();\n                }\n                else {\n                    this.parent.editModule.deleteRecord(this.rowData);\n                }\n                break;\n            case 'ToTask':\n                if (!isNullOrUndefined(this.rowData)) {\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (!isNullOrUndefined(taskfields.duration)) {\n                        var duration = parseInt(data[taskfields.duration], 10) <= 0 ? 1 : data[taskfields.duration];\n                        data[taskfields.duration] = duration;\n                        this.parent.setRecordValue('duration', duration, this.rowData.ganttProperties, true);\n                    }\n                    else {\n                        data[taskfields.startDate] = new Date(this.rowData.taskData[taskfields.startDate]);\n                        var endDate = new Date(this.rowData.taskData[taskfields.startDate]);\n                        endDate.setDate(endDate.getDate() + 1);\n                        data[taskfields.endDate] = endDate;\n                    }\n                    if (!isNullOrUndefined(data[taskfields.milestone])) {\n                        if (data[taskfields.milestone] === true) {\n                            data[taskfields.milestone] = false;\n                        }\n                    }\n                    var taskType = !isNullOrUndefined(this.rowData.ganttProperties.taskType) ? this.rowData.ganttProperties.taskType\n                        : this.parent.taskType;\n                    if (taskType === 'FixedWork' || taskType === 'FixedUnit') {\n                        this.parent.dataOperation.updateWorkWithDuration(this.rowData);\n                        if (!isNullOrUndefined(data[taskfields.work])) {\n                            data[taskfields.work] = this.rowData.ganttProperties.work;\n                        }\n                    }\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    this.parent.updateRecordByID(data);\n                }\n                break;\n            case 'Cancel':\n                this.parent.cancelEdit();\n                break;\n            case 'Save':\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.parent.treeGrid.grid.saveCell();\n                break;\n            case 'Dependency' + index:\n                this.isCntxtMenuDependencyDelete = true;\n                this.parent.connectorLineEditModule.removePredecessorByIndex(this.rowData, index);\n                break;\n            case 'Auto':\n            case 'Manual':\n                this.parent.changeTaskMode(this.rowData);\n                break;\n            case 'Indent':\n                this.parent.indent();\n                break;\n            case 'Outdent':\n                this.parent.outdent();\n                break;\n            case 'Left':\n            case 'Right':\n                this.mergeCall(this.item);\n                break;\n            case 'SplitTask':\n                this.splitTaskCall(args);\n                break;\n        }\n    };\n    ContextMenu.prototype.splitTaskCall = function (args) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(args.element);\n        if (isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit !== 'Hour') {\n            currentClickedDate.setHours(0, 0, 0, 0);\n        }\n        var eventArgs = {\n            rowData: this.rowData,\n            requestType: 'splitTaskbar',\n            splitDate: currentClickedDate,\n            cancel: false,\n            target: this.targetElement\n        };\n        // eslint-disable-next-line\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            _this.parent.chartRowsModule.splitTask(_this.rowData[taskSettings.id], currentClickedDate);\n            _this.parent.chartRowsModule.updateSegment(_this.rowData.ganttProperties.segments, _this.rowData.ganttProperties.taskId);\n        });\n    };\n    ContextMenu.prototype.mergeCall = function (item) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var segments = this.rowData.ganttProperties.segments;\n        var firstSegment = item === 'Right' ? this.segmentIndex : segments[this.segmentIndex - 1].segmentIndex;\n        var secondSegment = item === 'Left' ? this.segmentIndex : segments[this.segmentIndex + 1].segmentIndex;\n        var segmentIndexes = [\n            { 'firstSegmentIndex': firstSegment, 'secondSegmentIndex': secondSegment }\n        ];\n        var eventArgs = {\n            rowData: this.rowData,\n            mergeSegmentIndexes: segmentIndexes,\n            requestType: 'mergeSegment',\n            cancel: false,\n            target: this.targetElement\n        };\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArgs.cancel === false) {\n                _this.parent.chartRowsModule.mergeTask(_this.rowData[taskSettings.id], segmentIndexes);\n            }\n        });\n    };\n    // eslint-disable-next-line\n    ContextMenu.prototype.getClickedDate = function (element) {\n        // context menu click position\n        var ganttElementPositionLeft;\n        // task left position\n        if (this.parent.enableRtl) {\n            var box = this.parent.element.getBoundingClientRect();\n            var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n                document.body.scrollLeft;\n            var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n            ganttElementPositionLeft = box.left + scrollLeft - clientLeft;\n        }\n        else {\n            ganttElementPositionLeft = this.parent.getOffsetRect(this.parent.element).left;\n        }\n        var pageLeft;\n        var currentTaskDifference;\n        if (this.parent.enableRtl) {\n            pageLeft = Math.abs(ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetWidth -\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft);\n            currentTaskDifference = Math.abs(this.clickedPosition - pageLeft);\n        }\n        else {\n            pageLeft = ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetLeft +\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft;\n            currentTaskDifference = this.clickedPosition - pageLeft;\n        }\n        var splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.perDayWidth);\n        var startDate = this.rowData.ganttProperties.startDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n        }\n        var contextMenuClickDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && (this.parent.timelineSettings.bottomTier.unit === 'Minutes' || this.parent.timelineSettings.bottomTier.unit === 'Hour')) {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n            contextMenuClickDate = this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase(), this.rowData, false);\n        }\n        else {\n            contextMenuClickDate =\n                this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, this.rowData.ganttProperties.duration > 1 ?\n                    this.rowData.ganttProperties.durationUnit : (this.parent.timelineSettings.bottomTier.unit !== 'None') ?\n                    this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase() :\n                    this.parent.timelineSettings.topTier.unit.toLocaleLowerCase(), this.rowData, false);\n        }\n        return contextMenuClickDate;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var _this = this;\n        var target = args.event ? args.event.target :\n            !this.parent.focusModule ? this.parent.focusModule.getActiveElement() :\n                this.parent.ganttChartModule.targetElement;\n        // Closed edited cell before opening context menu\n        if ((!isNullOrUndefined(this.parent.editModule) && this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit && target.parentElement.classList.contains('e-row')) || target.parentElement.classList.contains('e-treecolumn-container')) {\n            this.parent.treeGrid.closeEdit();\n        }\n        if (!isNullOrUndefined(args.element) && args.element.id === this.parent.element.id + '_contextmenu') {\n            this.clickedPosition = getValue('event', args).clientX;\n        }\n        var targetElement = closest(target, '.e-gantt-child-taskbar');\n        if (targetElement) {\n            this.targetElement = args.target = targetElement;\n        }\n        args.gridRow = closest(target, '.e-row');\n        args.chartRow = closest(target, '.e-chart-row');\n        var menuElement = closest(target, '.e-gantt');\n        var editForm = closest(target, cons.editForm);\n        if (!editForm && this.parent.editModule && this.parent.editModule.cellEditModule\n            && this.parent.editModule.cellEditModule.isCellEdit && this.parent.editModule.dialogModule.dialogObj\n            && !this.parent.editModule.dialogModule.dialogObj.open) {\n            this.parent.treeGrid.grid.saveCell();\n            this.parent.editModule.cellEditModule.isCellEdit = false;\n        }\n        if (this.parent.readOnly) {\n            this.contextMenu.enableItems(['Add', 'Save', 'Convert', 'Delete Dependency', 'Delete Task', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'], false);\n        }\n        if ((isNullOrUndefined(args.gridRow) && isNullOrUndefined(args.chartRow)) || this.contentMenuItems.length === 0) {\n            if (!isNullOrUndefined(args.parentItem) && !isNullOrUndefined(menuElement) || !isNullOrUndefined(closest(target, '.e-content'))) {\n                args.cancel = false;\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (!args.cancel) {\n            var rowIndex = -1;\n            if (args.gridRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.gridRow.getAttribute('data-rowindex'), 0);\n            }\n            else if (args.chartRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.chartRow.getAttribute('data-rowindex'), 0);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection && !args.parentItem && !isNullOrUndefined(args.chartRow)) {\n                this.parent.selectionModule.selectRow(rowIndex);\n            }\n            if (!args.parentItem) {\n                this.rowData = this.parent.updatedRecords[parseInt(rowIndex.toString(), 10)];\n            }\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                // let target: EventTarget = target;\n                if (!item.separator) {\n                    if ((target.classList.contains('e-gantt-unscheduled-taskbar')) && ((item.text === this.getLocale('splitTask')) || (item.text === this.getLocale('mergeTask')))) {\n                        this.hideItems.push(item.text);\n                    }\n                    else {\n                        this.updateItemStatus(item, target, rowIndex);\n                    }\n                }\n            }\n            args.rowData = this.rowData;\n            args.type = 'Content';\n            args.disableItems = this.disableItems;\n            args.hideItems = this.hideItems;\n            args.hideChildItems = [];\n            if (!isNullOrUndefined(args.rowData) && args.rowData.level === 0 && this.parent.viewType === 'ResourceView') {\n                args.cancel = true;\n                return;\n            }\n            var callBackPromise_1 = new Deferred();\n            this.parent.trigger('contextMenuOpen', args, function (arg) {\n                callBackPromise_1.resolve(arg);\n                _this.hideItems = arg.hideItems;\n                _this.disableItems = arg.disableItems;\n                if (!arg.parentItem && arg.hideItems.length === arg.items.length) {\n                    _this.revertItemStatus();\n                    arg.cancel = true;\n                }\n                if (_this.hideItems.length > 0) {\n                    _this.contextMenu.hideItems(_this.hideItems);\n                }\n                if (_this.disableItems.length > 0) {\n                    _this.contextMenu.enableItems(_this.disableItems, false);\n                }\n                if (args.hideChildItems.length > 0) {\n                    _this.contextMenu.hideItems(args.hideChildItems);\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    ContextMenu.prototype.updateItemStatus = function (item, target, rowIndex) {\n        var key = this.getKeyFromId(item.id);\n        var editForm = closest(target, cons.editForm);\n        var subMenu = [];\n        var taskbarElement = closest(target, '.e-gantt-child-taskbar') ||\n            closest(target, 'e-taskbar-right-resizer') || closest(target, 'e-taskbar-left-resizer');\n        if (editForm) {\n            if (!(key === 'Save' || key === 'Cancel')) {\n                this.hideItems.push(item.text);\n            }\n        }\n        else {\n            switch (key) {\n                case 'TaskInformation':\n                    if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'Add':\n                    if (!this.parent.editSettings.allowAdding || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    break;\n                case 'Save':\n                case 'Cancel':\n                    this.hideItems.push(item.text);\n                    break;\n                case 'Convert':\n                    if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords) {\n                        this.hideItems.push(item.text);\n                    }\n                    else if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.rowData) && !this.rowData.ganttProperties.isMilestone) {\n                            subMenu.push(this.createItemModel(cons.content, 'ToMilestone', this.getLocale('toMilestone')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'ToTask', this.getLocale('toTask')));\n                        }\n                        item.items = subMenu;\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'DeleteDependency':\n                    {\n                        var items = this.getPredecessorsItems();\n                        if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords && !this.parent.allowParentDependency) {\n                            this.hideItems.push(item.text);\n                        }\n                        else if (!this.parent.editSettings.allowDeleting || items.length === 0 || !this.parent.editModule) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        else if (items.length > 0) {\n                            item.items = items;\n                        }\n                        break;\n                    }\n                case 'DeleteTask':\n                    if (!this.parent.editSettings.allowDeleting || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'TaskMode':\n                    if (this.parent.taskMode !== 'Custom') {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (this.rowData.ganttProperties.isAutoSchedule) {\n                            subMenu.push(this.createItemModel(cons.content, 'Manual', this.getLocale('manual')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'Auto', this.getLocale('auto')));\n                        }\n                        item.items = subMenu;\n                    }\n                    break;\n                case 'Indent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var index = this.parent.selectedRowIndex;\n                            var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n                            if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n                                this.parent.viewType === 'ResourceView' ||\n                                this.parent.updatedRecords[parseInt(index.toString(), 10)].level - prevRecord.level === 1) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'Outdent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var ind = this.parent.selectionModule.getSelectedRowIndexes()[0];\n                            var isSelect = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            if (!this.parent.editSettings.allowEditing || ind === -1 || ind === 0 || !isSelect ||\n                                this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[parseInt(ind.toString(), 10)].level === 0) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'SplitTask':\n                    {\n                        var isBottomTierMinute = false;\n                        var isBottomTierHour = false;\n                        var taskSettings = this.parent.taskFields;\n                        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier)) {\n                            isBottomTierMinute = this.parent.timelineSettings.bottomTier.unit === 'Minutes';\n                            isBottomTierHour = this.parent.timelineSettings.bottomTier.unit === 'Hour';\n                        }\n                        if (this.parent.readOnly || !taskbarElement || isNullOrUndefined(taskSettings.segments) ||\n                            this.parent.currentViewData[parseInt(rowIndex.toString(), 10)].hasChildRecords ||\n                            (this.parent.currentViewData[parseInt(rowIndex.toString(), 10)].ganttProperties.duration < 2\n                                && !(isBottomTierMinute || isBottomTierHour))) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        break;\n                    }\n                case 'MergeTask':\n                    if (this.parent.readOnly || !taskbarElement) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        this.mergeItemVisiblity(target, item);\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.mergeItemVisiblity = function (target, item) {\n        var subMenu = [];\n        var taskfields = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(target);\n        this.segmentIndex = this.parent.chartRowsModule.getSegmentIndex(currentClickedDate, this.rowData);\n        var segments = this.rowData.ganttProperties.segments;\n        if (!isNullOrUndefined(segments) && segments.length > 0) {\n            if (isNullOrUndefined(taskfields.segments) && this.segmentIndex === -1) {\n                this.updateItemVisibility(item.text);\n            }\n            else {\n                if (this.segmentIndex === 0) {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                }\n                else if (this.segmentIndex === segments.length - 1) {\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                else {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                item.items = subMenu;\n            }\n        }\n        else {\n            this.hideItems.push(item.text);\n        }\n    };\n    ContextMenu.prototype.updateItemVisibility = function (text) {\n        var isDefaultItem = !isNullOrUndefined(this.parent.contextMenuItems) ? false : true;\n        if (isDefaultItem) {\n            this.hideItems.push(text);\n        }\n        else {\n            this.disableItems.push(text);\n        }\n    };\n    ContextMenu.prototype.contextMenuOpen = function (args) {\n        this.isOpen = true;\n        var firstMenuItem = this.parent['args'] = args.element.querySelectorAll('li:not(.e-menu-hide):not(.e-disabled)')[0];\n        if (!isNullOrUndefined(firstMenuItem)) {\n            addClass([firstMenuItem], 'e-focused');\n        }\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = !isNullOrUndefined(this.parent.contextMenuItems) ?\n            this.parent.contextMenuItems : this.getDefaultItems();\n        for (var _i = 0, menuItems_1 = menuItems; _i < menuItems_1.length; _i++) {\n            var item = menuItems_1[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                this.buildDefaultItems(item);\n            }\n            else if (typeof item !== 'string') {\n                if (this.getDefaultItems().indexOf(item.text) !== -1) {\n                    this.buildDefaultItems(item.text, item.iconCss);\n                }\n                else if (item.target === cons.columnHeader) {\n                    this.headerMenuItems.push(item);\n                }\n                else {\n                    this.contentMenuItems.push(item);\n                }\n            }\n        }\n        return this.contentMenuItems;\n    };\n    ContextMenu.prototype.createItemModel = function (target, item, text, iconCss) {\n        var itemModel = {\n            text: text,\n            id: this.generateID(item),\n            target: target,\n            iconCss: iconCss ? 'e-icons ' + iconCss : null\n        };\n        return itemModel;\n    };\n    ContextMenu.prototype.getLocale = function (text) {\n        var localeText = this.parent.localeObj.getConstant(text);\n        return localeText;\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item, iconCSS) {\n        var contentMenuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n            case 'SortAscending':\n            case 'SortDescending':\n                this.headerMenuItems.push(item);\n                break;\n            case 'TaskInformation':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('taskInformation'), this.getIconCSS(cons.editIcon, iconCSS));\n                break;\n            case 'Indent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('indent'), this.getIconCSS(cons.indentIcon, iconCSS));\n                break;\n            case 'Outdent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('outdent'), this.getIconCSS(cons.outdentIcon, iconCSS));\n                break;\n            case 'Save':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('save'), this.getIconCSS(cons.saveIcon, iconCSS));\n                break;\n            case 'Cancel':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('cancel'), this.getIconCSS(cons.cancelIcon, iconCSS));\n                break;\n            case 'Add':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('add'), this.getIconCSS(cons.addIcon, iconCSS));\n                //Sub item menu\n                contentMenuItem.items = [];\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Above', this.getLocale('above'), this.getIconCSS(cons.addAboveIcon, iconCSS)));\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Below', this.getLocale('below'), this.getIconCSS(cons.addBelowIcon, iconCSS)));\n                if (this.parent.viewType !== 'ResourceView') {\n                    contentMenuItem.items.push(this.createItemModel(cons.content, 'Child', this.getLocale('child')));\n                }\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Milestone', this.getLocale('milestone')));\n                break;\n            case 'DeleteTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteTask'), this.getIconCSS(cons.deleteIcon, iconCSS));\n                break;\n            case 'DeleteDependency':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteDependency'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'Convert':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('convert'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'TaskMode':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('changeScheduleMode'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'SplitTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('splitTask'));\n                break;\n            case 'MergeTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('mergeTask'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n        }\n        if (contentMenuItem) {\n            this.contentMenuItems.push(contentMenuItem);\n        }\n    };\n    ContextMenu.prototype.getIconCSS = function (menuClass, iconString) {\n        return isNullOrUndefined(iconString) ? menuClass : iconString;\n    };\n    ContextMenu.prototype.getPredecessorsItems = function () {\n        this.predecessors = this.parent.predecessorModule.getValidPredecessor(this.rowData);\n        var items = [];\n        var itemModel;\n        var increment = 0;\n        for (var _i = 0, _a = this.predecessors; _i < _a.length; _i++) {\n            var predecessor = _a[_i];\n            var ganttData = this.parent.getRecordByID(predecessor.from);\n            var ganttProp = ganttData.ganttProperties;\n            var text = ganttProp.rowUniqueID + ' - ' + ganttProp.taskName;\n            var id = 'Dependency' + increment++;\n            itemModel = this.createItemModel(cons.content, id, text);\n            items.push(itemModel);\n        }\n        return items;\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'TaskInformation', 'DeleteTask', 'Save', 'Cancel',\n            'SortAscending', 'SortDescending', 'Add',\n            'DeleteDependency', 'Convert', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'\n        ];\n    };\n    /**\n     * To get ContextMenu module name.\n     *\n     * @returns {string} .\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('initiate-contextMenu', this.render);\n        this.parent.off('reRender-contextMenu', this.reRenderContextMenu);\n        this.parent.off('contextMenuClick', this.contextMenuItemClick);\n        this.parent.off('contextMenuOpen', this.contextMenuOpen);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][\"\" + parent] instanceof Menu) {\n            this.revertItemStatus();\n        }\n    };\n    ContextMenu.prototype.revertItemStatus = function () {\n        this.contextMenu.showItems(this.hideItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hideItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.resetItems = function () {\n        this.hideItems = [];\n        this.disableItems = [];\n        this.headerMenuItems = [];\n        this.contentMenuItems = [];\n        this.item = null;\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.ganttID + '_contextMenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        var idPrefix = this.ganttID + '_contextMenu_';\n        if (id.indexOf(idPrefix) > -1) {\n            return id.replace(idPrefix, '');\n        }\n        else {\n            return 'Custom';\n        }\n    };\n    /**\n     * To destroy the contextmenu module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ContextMenu.prototype.destroy = function () {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.removeEventListener();\n        this.contextMenu = null;\n        this.element = null;\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n","import { TreeGrid, ExcelExport as TreeGridExcel } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Gantt Excel Export module\n *\n * @hidden\n */\nvar ExcelExport = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function ExcelExport(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridExcel);\n        this.parent.treeGrid.allowExcelExport = this.parent.allowExcelExport;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ExcelExport.prototype.getModuleName = function () {\n        return 'excelExport';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.beforeExcelExport = function (args) {\n            _this.parent.trigger('beforeExcelExport', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n        };\n        this.parent.treeGrid.excelQueryCellInfo = function (args) {\n            _this.parent.trigger('excelQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelHeaderQueryCellInfo = function (args) {\n            _this.parent.trigger('excelHeaderQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelExportComplete = function (args) {\n            _this.parent.trigger('excelExportComplete', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n        };\n    };\n    return ExcelExport;\n}());\nexport { ExcelExport };\n","import { TreeGrid, ColumnMenu as TreeGridColumnMenu } from '@syncfusion/ej2-treegrid';\n/**\n * Configures columnMenu collection in Gantt.\n *\n * @hidden\n */\nvar ColumnMenu = /** @class */ (function () {\n    function ColumnMenu(parent) {\n        TreeGrid.Inject(TreeGridColumnMenu);\n        this.parent = parent;\n    }\n    /**\n     * @returns {HTMLAllCollection} .\n     * To get column menu collection.\n     */\n    ColumnMenu.prototype.getColumnMenu = function () {\n        return this.parent.treeGrid.columnMenuModule.getColumnMenu();\n    };\n    ColumnMenu.prototype.destroy = function () {\n        // column menu destroy module\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ColumnMenu.prototype.getModuleName = function () {\n        return 'columnMenu';\n    };\n    return ColumnMenu;\n}());\nexport { ColumnMenu };\n","import { TreeGrid, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined, extend, classList, addClass, getValue, closest } from '@syncfusion/ej2-base';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { isCountRequired } from '../base/common';\n/**\n * Gantt Excel Export module\n */\nvar RowDD = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function RowDD(gantt) {\n        this.isTest = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.updateCollection = {};\n        /** @hidden */\n        this.isSharedTask = false;\n        /** @hidden */\n        this.canDrop = true;\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridRowDD);\n        this.parent.treeGrid.allowRowDragAndDrop = this.parent.allowRowDragAndDrop;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    RowDD.prototype.getModuleName = function () {\n        return 'rowDragAndDrop';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowDragStart = this.rowDragStart.bind(this);\n        this.parent.treeGrid.rowDragStartHelper = this.rowDragStartHelper.bind(this);\n        this.parent.treeGrid.rowDrag = this.rowDrag.bind(this);\n        this.parent.treeGrid.rowDrop = this.rowDrop.bind(this);\n    };\n    RowDD.prototype.rowDragStart = function (args) {\n        this.parent.trigger('rowDragStart', args);\n        this.parent.element.style.position = 'relative'; // for positioning the drag element properly\n    };\n    RowDD.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-ganttdrag')[0];\n        var errorelem = dragelem.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            var errorVal = dragelem.querySelector('.errorValue');\n            var content = dragelem.querySelector('.e-rowcell').innerHTML;\n            if (errorVal) {\n                content = errorVal.innerHTML;\n                errorVal.parentNode.removeChild(errorVal);\n            }\n            dragelem.querySelector('.e-rowcell').innerHTML = '';\n            var spanContent = document.createElement('span');\n            spanContent.className = 'errorValue';\n            spanContent.style.paddingLeft = '16px';\n            spanContent.innerHTML = content;\n            dragelem.querySelector('.e-rowcell').appendChild(ele);\n            dragelem.querySelector('.e-rowcell').appendChild(spanContent);\n        }\n    };\n    RowDD.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    RowDD.prototype.rowDrag = function (args) {\n        var cloneElement = this.parent.element.querySelector('.e-cloneproperties');\n        cloneElement.style.display = 'none';\n        var ganttDragElement = cloneElement.cloneNode(true);\n        ganttDragElement.classList.add('e-ganttdrag');\n        ganttDragElement.style.display = '';\n        if (this.parent.element.querySelectorAll('.e-cloneproperties').length <= 1) {\n            this.parent.element.appendChild(ganttDragElement);\n        }\n        else {\n            if (document.getElementsByClassName('e-cloneproperties')[0].querySelectorAll('.e-errorelem').length) {\n                this.addErrorElem();\n            }\n            else {\n                this.removeErrorElem();\n            }\n        }\n        if (this.parent.gridLines === 'Both') {\n            addClass(this.parent.element.querySelectorAll('.e-ganttdrag .e-rowcell'), ['e-bothganttlines']);\n        }\n        var dragElement = this.parent.element.querySelector('.e-ganttdrag');\n        var ganttTop = this.parent.element.getClientRects()[0].top;\n        var ganttLeft = this.parent.element.getClientRects()[0].left;\n        var left;\n        var top;\n        if (this.parent.isAdaptive) {\n            /* eslint-disable-next-line */\n            left = args.originalEvent.event.touches[0].clientX - ganttLeft;\n            /* eslint-disable-next-line */\n            top = args.originalEvent.event.touches[0].clientY - ganttTop;\n        }\n        else {\n            left = getValue('event', args.originalEvent).clientX - ganttLeft;\n            top = getValue('event', args.originalEvent).clientY - ganttTop;\n        }\n        dragElement.style.left = left + 20 + 'px';\n        dragElement.style.top = top + 20 + 'px';\n        this.parent.trigger('rowDrag', args);\n    };\n    RowDD.prototype.rowDragStartHelper = function (args) {\n        this.parent.trigger('rowDragStartHelper', args);\n        if (this.parent.readOnly) {\n            args.cancel = true;\n        }\n        if (this.parent.viewType === 'ResourceView' && getValue('level', args.data[0]) === 0) {\n            args.cancel = true;\n        }\n    };\n    RowDD.prototype.rowDrop = function (args) {\n        // const ganttDragelem: Element = document.querySelector('.e-ganttdrag');\n        // if (ganttDragelem) {\n        //     ganttDragelem.remove();\n        // }\n        var gridRow = closest(args.target, '.e-row');\n        this.parent['oldRecords'] = extend([], [], args.data, true);\n        var dropIndex = gridRow ? parseInt(gridRow.getAttribute('data-rowindex'), 10) : args.dropIndex;\n        args.dropIndex = dropIndex;\n        args.dropRecord = this.parent.updatedRecords[args.dropIndex];\n        this.parent.trigger('rowDrop', args);\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.dropPosition === 'middleSegment') {\n                if (args.dropRecord.level === 1 || args.dropRecord.uniqueID === getValue('parentItem', args.data[0]).uniqueID) {\n                    args.cancel = true; // preventing to drop the record as child to any child records\n                }\n            }\n            if (args.dropPosition !== 'middleSegment') {\n                if (args.dropRecord.level === 0 || getValue('parentItem', args.data[0]).uniqueID === args.dropRecord.parentItem.uniqueID) {\n                    args.cancel = true;\n                }\n            }\n        }\n        if (!args.cancel) {\n            args.requestType = 'beforeDrop';\n            this.parent.trigger('actionBegin', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n            if (!args.cancel) {\n                this.dropRows(args, true); // method to update the data collections based on drop action\n                args.cancel = true;\n            }\n            else {\n                if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.parent.hideMaskRow();\n                }\n                else {\n                    this.parent.hideSpinner();\n                }\n            }\n        }\n    };\n    RowDD.prototype.dropRows = function (args, isByMethod) {\n        if (!this.parent.readOnly) {\n            this.dropPosition = args.dropPosition;\n            if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n                var gObj = this.parent;\n                this.droppedRecord = gObj.updatedRecords[args.dropIndex];\n                if (this.parent.undoRedoModule && (this.parent['isUndoRedoItemPresent']('RowDragAndDrop'))) {\n                    if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        if (this.parent.undoRedoModule['redoEnabled']) {\n                            this.parent.undoRedoModule['disableRedo']();\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        if (!args.target && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n                            this.parent.editModule.taskbarEditModule.taskBarEditAction) {\n                            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = [];\n                        }\n                        else {\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        var datas = [];\n                        var _loop_1 = function (i) {\n                            datas.push(this_1.parent.flatData.filter(function (data) {\n                                return args.data[i]['ganttProperties'].taskId === data.ganttProperties.taskId;\n                            })[0]);\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < args.data.length; i++) {\n                            _loop_1(i);\n                        }\n                        var rowItems = extend([], [], datas, true);\n                        var records = {};\n                        if (args['name']) {\n                            records['action'] = 'RowDragAndDrop';\n                        }\n                        else {\n                            records['action'] = 'TaskbarDragAndDrop';\n                        }\n                        records['beforeDrop'] = [];\n                        var previousDetails = {};\n                        previousDetails['dropRecord'] = extend([], [], [args.dropRecord ? args.dropRecord : this.droppedRecord], true)[0];\n                        previousDetails['data'] = extend([], [], args.data, true);\n                        if (args.dropPosition === 'middleSegment') {\n                            previousDetails['dropPosition'] = 'child';\n                        }\n                        else if (args.dropPosition === 'topSegment') {\n                            previousDetails['dropPosition'] = 'above';\n                        }\n                        else if (args.dropPosition === 'bottomSegment') {\n                            previousDetails['dropPosition'] = 'below';\n                        }\n                        records['afterDrop'] = previousDetails;\n                        this.parent.undoRedoModule['findPosition'](rowItems, records, 'beforeDrop');\n                        this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n                    }\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                    }\n                }\n                var draggedRecord = void 0;\n                var dragRecords = [];\n                var droppedRecord = this.droppedRecord;\n                if (!args.data[0]) {\n                    dragRecords.push(args.data);\n                }\n                else {\n                    dragRecords = args.data;\n                }\n                var count = 0;\n                var dragLength = dragRecords.length;\n                var _loop_2 = function (i) {\n                    this_2.parent.isOnEdit = true;\n                    draggedRecord = dragRecords[i];\n                    this_2.draggedRecord = draggedRecord;\n                    if (this_2.dropPosition !== 'Invalid') {\n                        if (this_2.parent.viewType === 'ResourceView') {\n                            this_2.checkisSharedTask();\n                            if (this_2.draggedRecord.level !== 0) {\n                                this_2.previousParent = this_2.draggedRecord.parentItem.uniqueID;\n                            }\n                        }\n                        if (this_2.isSharedTask) {\n                            return { value: void 0 };\n                        }\n                        if (isByMethod) {\n                            this_2.deleteDragRow();\n                        }\n                        var recordIndex1 = this_2.treeGridData.indexOf(droppedRecord);\n                        if (this_2.dropPosition === 'topSegment') {\n                            this_2.dropAtTop(recordIndex1);\n                        }\n                        if (this_2.dropPosition === 'bottomSegment') {\n                            if (!this_2.isSharedTask) {\n                                if (!droppedRecord.hasChildRecords) {\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + 1, 0, this_2.draggedRecord);\n                                    this_2.parent.ids.splice(recordIndex1 + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var taskId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n                                    }\n                                }\n                                else {\n                                    count = this_2.parent.editModule.getChildCount(droppedRecord, 0);\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord);\n                                    /* eslint-disable-next-line */\n                                    this_2.parent.ids.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var spliceId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + count + 1, 0, spliceId);\n                                    }\n                                }\n                                this_2.parent.setRecordValue('parentItem', this_2.treeGridData[recordIndex1].parentItem, draggedRecord);\n                                this_2.parent.setRecordValue('parentUniqueID', this_2.treeGridData[recordIndex1].parentUniqueID, draggedRecord);\n                                this_2.parent.setRecordValue('level', this_2.treeGridData[recordIndex1].level, draggedRecord);\n                                if (draggedRecord.hasChildRecords) {\n                                    var level = 1;\n                                    this_2.updateChildRecordLevel(draggedRecord, level);\n                                    this_2.updateChildRecord(draggedRecord, recordIndex1 + count + 1);\n                                }\n                                if (droppedRecord.parentItem) {\n                                    var rec = this_2.parent.getParentTask(droppedRecord.parentItem).childRecords;\n                                    var childRecords = rec;\n                                    var droppedRecordIndex = childRecords.indexOf(droppedRecord) + 1;\n                                    childRecords.splice(droppedRecordIndex, 0, draggedRecord);\n                                }\n                            }\n                        }\n                        if (this_2.dropPosition === 'middleSegment') {\n                            this_2.dropMiddle(recordIndex1);\n                            if (droppedRecord.childRecords.length > 0) {\n                                delete droppedRecord.ganttProperties.segments;\n                                delete droppedRecord.taskData[this_2.parent.taskFields.segments];\n                            }\n                        }\n                        if (this_2.treeGridData.length !== 0) {\n                            for (var i_1 = 0; i_1 < this_2.treeGridData.length; i_1++) {\n                                this_2.treeGridData[parseInt(i_1.toString(), 10)].index = i_1;\n                                if (!isNullOrUndefined(this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem)) {\n                                    var updatedParent = getValue('uniqueIDCollection.' + this_2.treeGridData[parseInt(i_1.toString(), 10)].parentUniqueID, this_2.parent.treeGrid);\n                                    this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        }\n                        // eslint-disable-next-line\n                        if (!isNullOrUndefined(draggedRecord.parentItem && this_2.updateParentRecords.indexOf(draggedRecord.parentItem) !== -1)) {\n                            this_2.updateParentRecords.push(draggedRecord.parentItem);\n                        }\n                    }\n                    if (!this_2.parent.enableVirtualization) {\n                        var data_1 = gObj.flatData;\n                        var startIndex = void 0;\n                        var endIndex = void 0;\n                        var ganttData_1 = this_2.parent.dataSource;\n                        var uniqueTaskID_1 = this_2.parent.taskFields.id;\n                        if (draggedRecord.index < droppedRecord.index) {\n                            startIndex = draggedRecord.index;\n                            var _loop_4 = function (i_2) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_2][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > droppedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_2 = 0; i_2 < ganttData_1.length; i_2++) {\n                                var state_2 = _loop_4(i_2);\n                                if (state_2 === \"break\")\n                                    break;\n                            }\n                        }\n                        else {\n                            startIndex = droppedRecord.index;\n                            var _loop_5 = function (i_3) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_3][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > draggedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_3 = 0; i_3 < ganttData_1.length; i_3++) {\n                                var state_3 = _loop_5(i_3);\n                                if (state_3 === \"break\")\n                                    break;\n                            }\n                        }\n                        var _loop_6 = function (i_4) {\n                            if (!isNullOrUndefined(data_1[i_4])) {\n                                data_1[i_4].index = i_4;\n                                if (!isNullOrUndefined(data_1[i_4].parentItem)) {\n                                    var updatedParent = data_1.filter(function (e) {\n                                        return e.uniqueID === data_1[i_4].parentUniqueID;\n                                    })[0];\n                                    data_1[i_4].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        };\n                        for (var i_4 = startIndex; i_4 <= endIndex; i_4++) {\n                            _loop_6(i_4);\n                        }\n                    }\n                    gObj.rowDragAndDropModule.refreshDataSource();\n                };\n                var this_2 = this;\n                for (var i = 0; i < dragLength; i++) {\n                    var state_1 = _loop_2(i);\n                    if (typeof state_1 === \"object\")\n                        return state_1.value;\n                }\n                if (this.dropPosition === 'middleSegment') {\n                    if (droppedRecord.ganttProperties.predecessor) {\n                        var len = droppedRecord.ganttProperties.predecessor.length;\n                        for (var count_1 = 0; count_1 < len; count_1++) {\n                            if (droppedRecord.ganttProperties.predecessor && droppedRecord.ganttProperties.predecessor[count_1]) {\n                                var fromRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].from);\n                                var toRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].to);\n                                var validPredecessor = this.parent.predecessorModule.validateParentPredecessor(fromRecord, toRecord);\n                                if (droppedRecord.ganttProperties.predecessor && (!validPredecessor ||\n                                    !this.parent.allowParentDependency)) {\n                                    this.parent.editModule.removePredecessorOnDelete(droppedRecord);\n                                    droppedRecord.ganttProperties.predecessor.splice(0, 1);\n                                    if (droppedRecord.ganttProperties.predecessorsName) {\n                                        var splittedName = droppedRecord.ganttProperties.predecessorsName.split(',');\n                                        for (var i = 0; i < splittedName.length; i++) {\n                                            if (splittedName[i].indexOf(draggedRecord.ganttProperties.taskId + '') !== -1) {\n                                                splittedName.splice(i, 1);\n                                            }\n                                        }\n                                        var validatedPredecessorNames = splittedName.join();\n                                        droppedRecord.ganttProperties.predecessorsName = validatedPredecessorNames;\n                                        droppedRecord[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                        droppedRecord.taskData[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (droppedRecord.ganttProperties.isMilestone) {\n                        this.parent.setRecordValue('isMilestone', false, droppedRecord.ganttProperties, true);\n                        if (!isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.milestone])) {\n                            if (droppedRecord.taskData[this.parent.taskFields.milestone] === true) {\n                                droppedRecord.taskData[this.parent.taskFields.milestone] = false;\n                            }\n                        }\n                    }\n                }\n                if (this.parent.viewType === 'ResourceView' && !this.isSharedTask) {\n                    var parentUniqueID = void 0;\n                    if (this.dropPosition === 'middleSegment') {\n                        parentUniqueID = this.droppedRecord.uniqueID;\n                    }\n                    else {\n                        parentUniqueID = this.droppedRecord.parentItem ?\n                            this.droppedRecord.parentItem.uniqueID : this.droppedRecord.uniqueID;\n                    }\n                    var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n                    var editedObj = {};\n                    editedObj[this.parent.taskFields.resourceInfo] = [];\n                    editedObj[this.parent.taskFields.resourceInfo].push(droppedParentItem.ganttProperties.taskId);\n                    this.removeExistingResources();\n                    var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n                    var currentTask = this.draggedRecord;\n                    if (isNullOrUndefined(currentTask.ganttProperties.resourceInfo)) {\n                        currentTask.ganttProperties.resourceInfo = [];\n                    }\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        currentTask.ganttProperties.resourceInfo = [];\n                        currentTask.ganttProperties.sharedTaskUniqueIds = [currentTask.ganttProperties.rowUniqueID];\n                    }\n                    else {\n                        currentTask.ganttProperties.resourceInfo.push(tempResourceInfo[0]);\n                    }\n                    this.updateCurrentTask(currentTask);\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        this.deleteSharedResourceTask();\n                    }\n                    else {\n                        this.updateSharedResourceTask();\n                    }\n                }\n                if (this.parent.taskFields.dependency && this.parent.allowParentDependency) {\n                    var isValidPredecessor = true;\n                    var draggedParent = void 0;\n                    var toParent_1;\n                    if (draggedRecord.parentItem) {\n                        draggedParent = this.parent.flatData[this.parent.ids.indexOf(draggedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        draggedParent = draggedRecord;\n                    }\n                    if (droppedRecord.parentItem) {\n                        toParent_1 = this.parent.flatData[this.parent.ids.indexOf(droppedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        toParent_1 = droppedRecord;\n                    }\n                    var validateRecords = void 0;\n                    if (toParent_1.uniqueID === draggedParent.uniqueID || (draggedParent.parentItem &&\n                        toParent_1.uniqueID === this.parent.flatData[this.parent.ids.indexOf(draggedParent.parentItem.taskId)].uniqueID)) {\n                        validateRecords = this.parent.currentViewData.filter(function (data) {\n                            if ((data.ganttProperties.predecessor && data.ganttProperties.predecessor.length > 0)) {\n                                for (var i = 0; i < data.ganttProperties.predecessor.length; i++) {\n                                    return (parseInt(data.ganttProperties.predecessor[i].to, 10) ===\n                                        parseInt(toParent_1.ganttProperties.taskId, 10) ||\n                                        parseInt(data.ganttProperties.predecessor[i].from, 10) ===\n                                            parseInt(toParent_1.ganttProperties.taskId, 10));\n                                }\n                            }\n                            return null;\n                        });\n                        var predName = [];\n                        for (var i = 0; i < validateRecords.length; i++) {\n                            predName = [];\n                            if (validateRecords[i].ganttProperties.predecessor) {\n                                for (var k = 0; k < validateRecords[i].ganttProperties.predecessor.length; k++) {\n                                    if (parseInt(validateRecords[i].ganttProperties.taskId, 10) !==\n                                        parseInt(validateRecords[i].ganttProperties.predecessor[k].from, 10)) {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].from);\n                                    }\n                                    else {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].to);\n                                    }\n                                }\n                            }\n                            var _loop_3 = function (j) {\n                                var name_1 = predName[j].replace(/\\D/g, '');\n                                var toRec = this_3.parent.currentViewData.filter(function (data) {\n                                    return parseInt(data.ganttProperties.taskId, 10) === parseInt(name_1, 10);\n                                });\n                                isValidPredecessor = this_3.parent.predecessorModule.validateParentPredecessor(validateRecords[i], toRec[0]);\n                                if (!isValidPredecessor) {\n                                    this_3.parent.dataOperation['resetDependency'](validateRecords[i]);\n                                    this_3.parent.dataOperation['resetDependency'](toRec[0]);\n                                }\n                            };\n                            var this_3 = this;\n                            for (var j = 0; j < predName.length; j++) {\n                                _loop_3(j);\n                            }\n                        }\n                    }\n                }\n                // method to update the edited parent records\n                for (var j = 0; j < this.updateParentRecords.length; j++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[j]);\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.editModule &&\n                    this.parent.editModule.taskbarEditModule && this.parent.undoRedoModule &&\n                    this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n                    this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop' &&\n                    this.parent.undoRedoModule['currentAction']['beforeDrop'][0].position !== 'child') {\n                    var dropRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].dropRecord.ganttProperties.taskId.toString())];\n                    this.parent.editModule.taskbarEditModule.taskBarEditRecord = dropRec;\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n                    this.parent.predecessorModule.validatePredecessor(dropRec, [], '');\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n                }\n                this.updateParentRecords = [];\n                this.parent.isOnEdit = false;\n            }\n            if (!isNullOrUndefined(this.parent.editModule)) {\n                this.parent.editModule.refreshRecord(args, true);\n            }\n            if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                this.parent.previousFlatData = extend([], [], this.parent.flatData, true);\n            }\n        }\n        this.parent['oldRecords'] = [];\n    };\n    RowDD.prototype.updateCurrentTask = function (currentTask) {\n        this.parent.dataOperation.updateMappingData(currentTask, 'resourceInfo');\n        this.parent.editModule.updateResourceRelatedFields(currentTask, 'resource');\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.parent.editModule.dialogModule.dialogEditValidationFlag = false;\n        this.parent.editModule.dialogModule.validateDuration(currentTask);\n        this.parent.dataOperation.updateWidthLeft(currentTask);\n        this.parent.dataOperation.updateTaskData(currentTask);\n    };\n    RowDD.prototype.deleteSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                if (this.parent.getTaskByUniqueID(this.parent.flatData[i].parentItem.uniqueID).ganttProperties.taskName !== 'Unassigned Task') {\n                    this.removeRecords(this.parent.flatData[i]);\n                }\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype.removeExistingResources = function () {\n        var preParentRecord = this.parent.getTaskByUniqueID(this.previousParent);\n        if (this.draggedRecord.ganttProperties.resourceInfo) {\n            for (var count = 0; count < this.draggedRecord.ganttProperties.resourceInfo.length; count++) {\n                if (this.draggedRecord.ganttProperties.resourceInfo[parseInt(count.toString(), 10)][this.parent.resourceFields.id] ===\n                    preParentRecord.ganttProperties.taskId) {\n                    this.draggedRecord.ganttProperties.resourceInfo.splice(count, 1);\n                    break;\n                }\n            }\n        }\n    };\n    /*update the record for the same task which are shared with other tasks*/\n    RowDD.prototype.updateSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                this.parent.editModule.updateGanttProperties(this.draggedRecord, this.parent.flatData[i]);\n                this.parent.dataOperation.updateTaskData(this.parent.flatData[i]);\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype._getExistingTaskWithID = function (record) {\n        var existingTasks = [];\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + record.ganttProperties.taskId) {\n                existingTasks.push(this.parent.flatData[i]);\n            }\n        }\n        return existingTasks;\n    };\n    /*Method to remove resource from resource Info collection and update reosurce related fields*/\n    RowDD.prototype.removeResourceInfo = function (record) {\n        var droppedParentItem = this.parent.getTaskByUniqueID(this.draggedRecord.parentItem.uniqueID);\n        if (record.ganttProperties.resourceInfo && record.ganttProperties.resourceInfo.length > 1) {\n            var sameIdTasks = this._getExistingTaskWithID(record);\n            var currentTask = void 0;\n            if (sameIdTasks === null) {\n                return;\n            }\n            for (var i = 0; i < sameIdTasks.length; i++) {\n                currentTask = sameIdTasks[i];\n                var resources = currentTask.ganttProperties.resourceInfo;\n                for (var count = 0; count < resources.length; count++) {\n                    if (resources[count][this.parent.resourceFields.id] === droppedParentItem.ganttProperties.taskId) {\n                        resources.splice(count, 1);\n                        this.parent.setRecordValue('resourceInfo', resources, currentTask.ganttProperties, true);\n                        this.updateCurrentTask(currentTask);\n                        if (!isNullOrUndefined(currentTask.parentItem && this.updateParentRecords.indexOf(currentTask.parentItem) !== -1)) {\n                            this.updateParentRecords.push(currentTask.parentItem);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    RowDD.prototype.refreshDataSource = function () {\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var proxy = this.parent;\n        var tempDataSource;\n        var idx;\n        var ganttFields = this.parent.taskFields;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempDataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempDataSource = proxy.dataSource;\n        }\n        if (tempDataSource.length > 0 && (!isNullOrUndefined(droppedRecord) && !droppedRecord.parentItem)) {\n            for (var i = 0; i < Object.keys(tempDataSource).length; i++) {\n                if (!isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    tempDataSource[i][ganttFields.child] === droppedRecord.taskData[ganttFields.child]) {\n                    idx = i;\n                }\n                else if (isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    droppedRecord.taskData[ganttFields.id] === tempDataSource[i][ganttFields.id]) {\n                    idx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx, 0, draggedRecord.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx + 1, 0, draggedRecord.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRecord) && droppedRecord.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPosition = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRecord;\n                this.parent.editModule.updateRealDataSource([draggedRecord], rowPosition);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRecord.parentItem) {\n                var droppedId = this.dropPosition === 'middleSegment' ? this.parent.taskFields.id :\n                    this.parent.taskFields.parentID;\n                draggedRecord[this.parent.taskFields.parentID] = droppedRecord[droppedId];\n                draggedRecord.ganttProperties.parentId = droppedRecord[droppedId];\n                if ((this.parent.viewType === 'ResourceView' && !(this.dropPosition === 'middleSegment')) ||\n                    this.parent.viewType === 'ProjectView') {\n                    draggedRecord.taskData[this.parent.taskFields.parentID] = droppedRecord.taskData[droppedId];\n                }\n            }\n            else {\n                draggedRecord[this.parent.taskFields.parentID] = null;\n                draggedRecord.taskData[this.parent.taskFields.parentID] = null;\n                draggedRecord.ganttProperties.parentId = null;\n            }\n        }\n        if (this.parent.viewType === 'ProjectView' && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n            this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n            this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop') {\n            var dragRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].data[0].ganttProperties.taskId.toString())];\n            this.parent.editModule.taskbarEditModule.taskBarEditRecord = dragRec;\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n            this.parent.predecessorModule.validatePredecessor(dragRec, [], '');\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n        }\n    };\n    RowDD.prototype.dropMiddle = function (recordIndex1) {\n        var gObj = this.parent;\n        var childRecords = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n        var childRecordsLength = (isNullOrUndefined(childRecords) ||\n            childRecords === 0) ? recordIndex1 + 1 :\n            childRecords + recordIndex1 + 1;\n        if (this.dropPosition === 'middleSegment' && !this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            if (this.parent.viewType === 'ResourceView') {\n                var recordId = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n            }\n            this.recordLevel();\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.recordLevel = function () {\n        var gObj = this.parent;\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var childItem = gObj.taskFields.child;\n        if (!droppedRecord.hasChildRecords) {\n            droppedRecord.hasChildRecords = true;\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                    droppedRecord.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRecord);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', droppedRecord.uniqueID, draggedRecord);\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n            if (!isNullOrUndefined(draggedRecord) && !gObj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                droppedRecord.taskData[gObj.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n            }\n            if (!draggedRecord.hasChildRecords) {\n                draggedRecord.level = droppedRecord.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRecord.level = droppedRecord.level + 1;\n                this.parent.setRecordValue('level', this.draggedRecord.level, this.draggedRecord);\n                this.updateChildRecordLevel(draggedRecord, level);\n            }\n            droppedRecord.expanded = true;\n        }\n    };\n    RowDD.prototype.deleteDragRow = function () {\n        this.treeGridData = isCountRequired(this.parent) ? getValue('result', this.parent.treeGrid.dataSource) :\n            this.parent.treeGrid.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        var deletedRow;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.viewType === 'ProjectView') {\n                deletedRow = this.parent.flatData[this.parent.ids.indexOf(this.draggedRecord.ganttProperties.taskId.toString())];\n            }\n            else {\n                if (this.draggedRecord.hasChildRecords) {\n                    deletedRow = this.parent.flatData['R' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n                else {\n                    deletedRow = this.parent.flatData['T' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n            }\n        }\n        else {\n            deletedRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        }\n        this.removeRecords(deletedRow);\n    };\n    //method to check the dropped record has already present in the child collection\n    RowDD.prototype.checkisSharedTask = function () {\n        this.isSharedTask = false;\n        var sharedTask = null;\n        // eslint-disable-next-line\n        var parentUniqueID = this.droppedRecord.level === 0 ? this.droppedRecord.uniqueID : this.droppedRecord.parentItem.uniqueID;\n        var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n        var childTasks = droppedParentItem.childRecords;\n        for (var i = 0; i < childTasks.length; i++) {\n            if ('T' + this.draggedRecord.ganttProperties.taskId === 'T' + childTasks[i].ganttProperties.taskId) {\n                this.isSharedTask = true;\n                sharedTask = childTasks[i];\n            }\n        }\n        if (this.isSharedTask) {\n            this.removeResourceInfo(sharedTask);\n        }\n    };\n    RowDD.prototype.dropAtTop = function (recordIndex1) {\n        var gObj = this.parent;\n        if (!this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(recordIndex1, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(recordIndex1, 0, this.draggedRecord);\n            this.parent.ids.splice(recordIndex1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            this.parent.setRecordValue('parentItem', this.droppedRecord.parentItem, this.draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', this.droppedRecord.parentUniqueID, this.draggedRecord);\n            this.parent.setRecordValue('level', this.droppedRecord.level, this.draggedRecord);\n            if (this.parent.viewType === 'ResourceView') {\n                var id = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(recordIndex1, 0, id);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                var level = 1;\n                this.updateChildRecord(this.draggedRecord, recordIndex1);\n                this.updateChildRecordLevel(this.draggedRecord, level);\n            }\n            if (this.droppedRecord.parentItem) {\n                var rec = this.parent.getParentTask(this.droppedRecord.parentItem).childRecords;\n                var childRecords = rec;\n                var droppedRecordIndex = childRecords.indexOf(this.droppedRecord);\n                childRecords.splice(droppedRecordIndex, 0, this.draggedRecord);\n            }\n            /* eslint-disable-next-line */\n            if (!isNullOrUndefined(this.draggedRecord.parentItem && this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.updateChildRecordLevel = function (record, level) {\n        var length = 0;\n        var currentRecord;\n        level++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRecord.level = record.parentItem ? parentData.level + level : record.level + 1;\n            this.parent.setRecordValue('level', currentRecord.level, currentRecord);\n            if (currentRecord.hasChildRecords) {\n                level--;\n                level = this.updateChildRecordLevel(currentRecord, level);\n            }\n        }\n        return level;\n    };\n    // eslint-disable-next-line\n    RowDD.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRecord;\n        var gObj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            gObj.flatData.splice(count, 0, currentRecord);\n            this.parent.ids.splice(count, 0, currentRecord.ganttProperties.rowUniqueID.toString());\n            if (gObj.taskFields.parentID && gObj.dataSource.length > 0) {\n                this.ganttData.splice(count, 0, currentRecord.taskData);\n            }\n            if (currentRecord.hasChildRecords) {\n                count = this.updateChildRecord(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    RowDD.prototype.removeRecords = function (record) {\n        var gObj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var deletedRow = record;\n        var flatParentData = deletedRow && deletedRow.parentItem ? this.parent.getParentTask(deletedRow.parentItem) : null;\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var childRecords = [];\n                if (flatParentData) {\n                    childRecords = flatParentData.childRecords;\n                }\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    if (this.parent.viewType === 'ResourceView' && childRecords.length === 1) {\n                        //For updating the parent record which has zero parent reords.\n                        this.parent.isOnDelete = true;\n                        childRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        childRecords[0].isDelete = false;\n                    }\n                    childIndex = childRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID && flatParentData.taskData[this.parent.taskFields.child]) {\n                        flatParentData.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.taskId.toString());\n                if (this.parent.viewType === 'ProjectView' || (this.parent.viewType === 'ResourceView' && this.dropPosition !== 'middleSegment')) {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            if (gObj.taskFields.parentID) {\n                if (deletedRow.hasChildRecords && deletedRow.childRecords.length > 0) {\n                    this.removeChildItem(deletedRow);\n                }\n                var idx = void 0;\n                var ganttData = dataSource.length > 0 && this.parent.viewType !== 'ResourceView' ?\n                    dataSource : this.parent.updatedRecords;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                            idx = i;\n                        }\n                    }\n                    else {\n                        if (ganttData[i][this.parent.taskFields.id] === deletedRow.taskData[this.parent.taskFields.id]) {\n                            idx = i;\n                        }\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    var tempIndex = this.treeGridData.indexOf(deletedRow);\n                    this.treeGridData.splice(tempIndex, 1);\n                    this.parent.ids.splice(tempIndex, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(deletedRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(deletedRow), 1);\n                    }\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(idx, 1);\n                    }\n                }\n            }\n            var recordIndex = this.treeGridData.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                this.treeGridData.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIndex, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(deletedRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(recordIndex, deletedRecordCount + 1);\n                }\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                flatParentData.expanded = false;\n                flatParentData.hasChildRecords = false;\n            }\n        }\n    };\n    RowDD.prototype.removeChildItem = function (record) {\n        var currentRecord;\n        var idx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            var ganttData = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                ganttData = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                ganttData = this.parent.dataSource;\n            }\n            for (var j = 0; j < ganttData.length; j++) {\n                if (ganttData[j][this.parent.taskFields.id] === currentRecord.taskData[this.parent.taskFields.id]) {\n                    idx = j;\n                }\n            }\n            if (idx !== -1) {\n                if (ganttData.length > 0) {\n                    ganttData.splice(idx, 1);\n                }\n                var tempIndex = this.treeGridData.indexOf(currentRecord);\n                this.treeGridData.splice(tempIndex, 1);\n                this.parent.ids.splice(tempIndex, 1);\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(idx, 1);\n                }\n            }\n            if (currentRecord.hasChildRecords) {\n                this.removeChildItem(currentRecord);\n            }\n        }\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     *\n     * @param {number[]} fromIndexes .\n     * @param {number} toIndex .\n     * @param {string} position .\n     * @returns {void} .\n     */\n    RowDD.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        if (!this.parent.readOnly) {\n            if (fromIndexes[0] !== toIndex && (position === 'above' || position === 'below' || position === 'child')) {\n                if (position === 'above') {\n                    this.dropPosition = 'topSegment';\n                }\n                if (position === 'below') {\n                    this.dropPosition = 'bottomSegment';\n                }\n                if (position === 'child') {\n                    this.dropPosition = 'middleSegment';\n                }\n                var prevData = void 0;\n                if (this.parent.undoRedoModule) {\n                    prevData = extend([], [], [this.parent.undoRedoModule['currentAction']], true)[0];\n                }\n                var data = [];\n                for (var i = 0; i < fromIndexes.length; i++) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && (prevData['action'] === 'RowDragAndDrop' || prevData['action'] === 'TaskbarDragAndDrop')) {\n                        data[i] = prevData['beforeDrop'][i].data;\n                    }\n                    else {\n                        data[i] = this.parent.flatData[fromIndexes[i]];\n                    }\n                }\n                var isByMethod = true;\n                var args = {\n                    data: data,\n                    dropIndex: toIndex,\n                    dropPosition: this.dropPosition\n                };\n                this.dropRows(args, isByMethod);\n            }\n            else {\n                return;\n            }\n        }\n    };\n    return RowDD;\n}());\nexport { RowDD };\n","import { PdfColor, PdfFontFamily, PdfStringFormat } from '@syncfusion/ej2-pdf-export';\n/**\n * @hidden\n */\nvar PdfGanttTheme = /** @class */ (function () {\n    function PdfGanttTheme(theme) {\n        this.theme = theme;\n        this.ganttStyle = {};\n        this.setTheme(this.ganttStyle, this.theme);\n    }\n    Object.defineProperty(PdfGanttTheme.prototype, \"style\", {\n        get: function () {\n            return this.ganttStyle;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGanttTheme.prototype.setTheme = function (ganttStyle, theme) {\n        this.initStyles(ganttStyle);\n        ganttStyle.columnHeader.fontSize = 9.5;\n        ganttStyle.columnHeader.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.columnHeader.fontColor.gray = 0.2;\n        ganttStyle.columnHeader.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.columnHeader.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.columnHeader.format.lineAlignment = 1; //Centre\n        ganttStyle.columnHeader.format.alignment = 0; //Left\n        ganttStyle.fontFamily = PdfFontFamily.Helvetica;\n        ganttStyle.cell.fontSize = 9.5;\n        ganttStyle.cell.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.cell.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.cell.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.cell.fontColor.gray = 0.2;\n        ganttStyle.cell.format.lineAlignment = 1; // Centre\n        ganttStyle.cell.format.alignment = 0; // Left\n        ganttStyle.footer.fontSize = 9.5;\n        ganttStyle.footer.fontStyle = 0;\n        ganttStyle.footer.format.alignment = 1; //Centre\n        ganttStyle.footer.format.lineAlignment = 1; // Middle\n        ganttStyle.footer.borderColor = new PdfColor(206, 206, 206);\n        ganttStyle.timeline.fontSize = 9.5;\n        ganttStyle.timeline.fontStyle = 0;\n        ganttStyle.timeline.backgroundColor = new PdfColor(252, 252, 252);\n        ganttStyle.timeline.fontColor = new PdfColor(40, 40, 39);\n        ganttStyle.chartGridLineColor = new PdfColor(206, 206, 206);\n        ganttStyle.timeline.borderColor = new PdfColor(206, 206, 206);\n        switch (theme) {\n            case 'Bootstrap':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.progressColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(240, 173, 78);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(240, 173, 78);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(85, 85, 85);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(33, 82, 125);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(117, 56, 201);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(87, 42, 150);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(87, 42, 150);\n                break;\n            case 'Bootstrap 4':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(255, 193, 7);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(255, 193, 7);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(73, 80, 87);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 86, 179);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(33, 37, 41);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(133, 83, 241);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(102, 40, 238);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(102, 40, 238);\n                break;\n            case 'Fabric':\n                ganttStyle.columnHeader.fontColor = new PdfColor(102, 102, 102);\n                ganttStyle.cell.fontColor = new PdfColor(51, 51, 51);\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(216, 59, 1);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(216, 59, 1);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(80, 80, 80);\n                ganttStyle.footer.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 69, 122);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(154, 56, 186);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(109, 24, 136);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(109, 24, 136);\n                break;\n            default:\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(88, 105, 197);\n                ganttStyle.taskbar.progressColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(193, 87, 0);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(193, 87, 0);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(132, 132, 132);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(97, 97, 97);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(63, 81, 181);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(0, 135, 134);\n                break;\n        }\n    };\n    PdfGanttTheme.prototype.initStyles = function (ganttStyle) {\n        ganttStyle.columnHeader = {};\n        ganttStyle.columnHeader.format = new PdfStringFormat();\n        ganttStyle.cell = {};\n        ganttStyle.cell.format = new PdfStringFormat();\n        ganttStyle.timeline = {};\n        ganttStyle.footer = {};\n        ganttStyle.footer.format = new PdfStringFormat();\n        ganttStyle.label = {};\n        ganttStyle.taskbar = {};\n    };\n    return PdfGanttTheme;\n}());\nexport { PdfGanttTheme };\n","/**\n * Dictionary class\n *\n * @private\n * @hidden\n */\nvar TemporaryDictionary = /** @class */ (function () {\n    function TemporaryDictionary() {\n        /**\n         * @hidden\n         * @private\n         */\n        this.mKeys = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.mValues = [];\n    }\n    /**\n     * @returns {number} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.size = function () {\n        return this.mKeys.length;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.add = function (key, value) {\n        if (key === undefined || key === null || value === undefined || value === null) {\n            throw new ReferenceError('Provided key or value is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n            return 1;\n        }\n        else {\n            throw new RangeError('An item with the same key has already been added.');\n        }\n    };\n    /**\n     * @template K\n     * @returns {K[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.keys = function () {\n        return this.mKeys;\n    };\n    /**\n     * @template V\n     * @returns {V[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.values = function () {\n        return this.mValues;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @returns {V} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.getValue = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            return this.mValues[index];\n        }\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.setValue = function (key, value) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n        }\n        else {\n            this.mValues[index] = value;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.remove = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            this.mKeys.splice(index, 1);\n            this.mValues.splice(index, 1);\n            return true;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.containsKey = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.clear = function () {\n        this.mKeys = [];\n        this.mValues = [];\n    };\n    return TemporaryDictionary;\n}());\nexport { TemporaryDictionary };\n","/**\n * PdfBorders.ts class for EJ2-PDF\n */\nimport { PdfPen, PdfDashStyle, PdfColor } from '@syncfusion/ej2-pdf-export';\n/**\n * `PdfBorders` class used represents the cell border of the PDF grid.\n *\n * @hidden\n */\nvar PdfBorders = /** @class */ (function () {\n    // Constructor\n    /**\n     * Create a new instance for `PdfBorders` class.\n     *\n     * @private\n     */\n    function PdfBorders() {\n        var defaultBorderPenLeft = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenLeft.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenRight = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenRight.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenTop = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenTop.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenBottom = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenBottom.dashStyle = PdfDashStyle.Solid;\n        this.leftPen = defaultBorderPenLeft;\n        this.rightPen = defaultBorderPenRight;\n        this.topPen = defaultBorderPenTop;\n        this.bottomPen = defaultBorderPenBottom;\n    }\n    Object.defineProperty(PdfBorders.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `Left`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.leftPen;\n        },\n        set: function (value) {\n            this.leftPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"right\", {\n        /**\n         * Gets or sets the `Right`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.rightPen;\n        },\n        set: function (value) {\n            this.rightPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"top\", {\n        /**\n         * Gets or sets the `Top`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.topPen;\n        },\n        set: function (value) {\n            this.topPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `Bottom`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPen;\n        },\n        set: function (value) {\n            this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"all\", {\n        /**\n         * sets the `All`.\n         *\n         * @param {PdfPen} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPen = this.rightPen = this.topPen = this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"isAll\", {\n        /**\n         * Gets a value indicating whether this instance `is all`.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            return ((this.leftPen === this.rightPen) && (this.leftPen === this.topPen) && (this.leftPen === this.bottomPen));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders, \"default\", {\n        /**\n         * Gets the `default`.\n         *\n         * @returns {PdfBorders} .\n         * @private\n         */\n        get: function () {\n            return new PdfBorders();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfBorders;\n}());\nexport { PdfBorders };\n/** @hidden */\nvar PdfPaddings = /** @class */ (function () {\n    function PdfPaddings(left, right, top, bottom) {\n        /**\n         * The 'left' border padding set.\n         *\n         * @private\n         */\n        this.hasLeftPad = false;\n        /**\n         * The 'right' border padding set.\n         *\n         * @private\n         */\n        this.hasRightPad = false;\n        /**\n         * The 'top' border padding set.\n         *\n         * @private\n         */\n        this.hasTopPad = false;\n        /**\n         * The 'bottom' border padding set.\n         *\n         * @private\n         */\n        this.hasBottomPad = false;\n        if (typeof left === 'undefined') {\n            //5.76 and 0 are taken from ms-word default table margins.\n            this.leftPad = this.rightPad = 5.76;\n            //0.5 is set for top and bottom by default.\n            this.bottomPad = this.topPad = 0.5;\n        }\n        else {\n            this.leftPad = left;\n            this.rightPad = right;\n            this.topPad = top;\n            this.bottomPad = bottom;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        }\n    }\n    Object.defineProperty(PdfPaddings.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `left` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.leftPad;\n        },\n        set: function (value) {\n            this.leftPad = value;\n            this.hasLeftPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"right\", {\n        /**\n         * Gets or sets the `right` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rightPad;\n        },\n        set: function (value) {\n            this.rightPad = value;\n            this.hasRightPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"top\", {\n        /**\n         * Gets or sets the `top` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.topPad;\n        },\n        set: function (value) {\n            this.topPad = value;\n            this.hasTopPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `bottom` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPad;\n        },\n        set: function (value) {\n            this.bottomPad = value;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"all\", {\n        /**\n         * Sets value to all sides `left,right,top and bottom`.s\n         *\n         * @param {number} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPad = this.rightPad = this.topPad = this.bottomPad = value;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfPaddings;\n}());\nexport { PdfPaddings };\n","/**\n * PdfGridStyleBase.ts class for EJ2-PDF\n */\nimport { PdfBorderOverlapStyle } from '@syncfusion/ej2-pdf-export';\nimport { PdfPaddings } from '../index';\nimport { PdfHorizontalOverflowType } from '../../../base/interface';\n/**\n * Base class for the `treegrid style`,\n */\nvar PdfTreeGridStyleBase = /** @class */ (function () {\n    function PdfTreeGridStyleBase() {\n    }\n    return PdfTreeGridStyleBase;\n}());\nexport { PdfTreeGridStyleBase };\n/**\n * `PdfTreeGridStyle` class provides customization of the appearance for the 'PdfGrid'.\n *\n */\nvar PdfTreeGridStyle = /** @class */ (function () {\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGridStyle` class.\n     *\n     * @private\n     */\n    function PdfTreeGridStyle() {\n        this.cellSpacing = 0;\n        this.borderOverlapStyle = PdfBorderOverlapStyle.Overlap;\n        this.allowHorizontalOverflow = false;\n        this.horizontalOverflowType = PdfHorizontalOverflowType.LastPage;\n        this.cellPadding = new PdfPaddings();\n    }\n    return PdfTreeGridStyle;\n}());\nexport { PdfTreeGridStyle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfBorders, TemporaryDictionary } from './index';\nimport { PdfHorizontalOverflowType } from '../../base/interface';\nimport { ElementLayouter, PdfLayoutResult, PdfLayoutFormat, SizeF, PointF, RectangleF, RowLayoutResult, PdfLayoutType, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat } from '@syncfusion/ej2-pdf-export';\nimport { pointToPixel } from '../../base/utils';\n/**\n *\n */\nvar PdfTreeGridLayouter = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayouter, _super);\n    function PdfTreeGridLayouter(baseFormat) {\n        var _this = _super.call(this, baseFormat) || this;\n        _this.columnRanges = [];\n        _this.repeatRowIndex = -1;\n        _this.currentBounds = new RectangleF(0, 0, 0, 0);\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGridLayouter.prototype, \"treegrid\", {\n        get: function () {\n            return this.elements;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridLayouter.prototype.layoutInternal = function (param) {\n        if (isNullOrUndefined(param)) {\n            throw Error('Argument Null Expection');\n        }\n        this.currentPage = param.page;\n        var format = param.format;\n        if (this.currentPage !== null) {\n            this.currentPageBounds = this.currentPage.getClientSize();\n        }\n        this.currentGraphics = this.currentPage.graphics;\n        if (format !== null && format.break === PdfLayoutBreakType.FitColumnsToPage) {\n            /* eslint-disable-next-line */\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), new SizeF(this.treegrid.columns.width, this.currentGraphics.clientSize.height));\n        }\n        else {\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), this.currentGraphics.clientSize);\n        }\n        if (this.treegrid.rows.count !== 0) {\n            this.currentBounds.width = (param.bounds.width > 0) ? param.bounds.width :\n                (this.currentBounds.width - this.treegrid.rows.getRow(0).cells.getCell(0).style.borders.left.width / 2);\n        }\n        else {\n            throw Error('Please add row or header into grid');\n        }\n        this.startLocation = new PointF(param.bounds.x, param.bounds.y);\n        if (param.bounds.height > 0) {\n            this.currentBounds.height = param.bounds.height;\n        }\n        if (!this.treegrid.style.allowHorizontalOverflow && !this.treegrid.isFitToWidth) {\n            this.treegrid.measureColumnsWidth();\n            this.determineColumnDrawRanges();\n        }\n        else {\n            this.treegrid.measureColumnsWidth(this.currentBounds);\n            this.columnRanges.push([0, this.treegrid.columns.count - 1]);\n        }\n        return this.layoutOnPage(param);\n    };\n    /**\n     * `Determines the column draw ranges`.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.determineColumnDrawRanges = function () {\n        var startColumn = 0;\n        var endColumn = 0;\n        var cellWidths = 0;\n        var availableWidth = (this.treegrid['taskbar'].isAutoFit()) ? pointToPixel(this.currentGraphics.clientSize.width) - this.currentBounds.x : this.currentGraphics.clientSize.width - this.currentBounds.x;\n        for (var i = 0; i < this.treegrid.columns.count; i++) {\n            cellWidths += this.treegrid.columns.getColumn(i).width;\n            if (cellWidths >= availableWidth) {\n                var subWidths = 0;\n                for (var j = startColumn; j <= i; j++) {\n                    subWidths += this.treegrid.columns.getColumn(j).width;\n                    if (subWidths > availableWidth) {\n                        break;\n                    }\n                    endColumn = j;\n                }\n                this.columnRanges.push([startColumn, endColumn]);\n                startColumn = endColumn + 1;\n                //endColumn = startColumn;\n                cellWidths = (endColumn <= i) ? this.treegrid.columns.getColumn(i).width : 0;\n            }\n        }\n        this.columnRanges.push([startColumn, this.treegrid.columns.count - 1]);\n    };\n    PdfTreeGridLayouter.prototype.getFormat = function (format) {\n        var f = format;\n        return f;\n    };\n    PdfTreeGridLayouter.prototype.layoutOnPage = function (param) {\n        var format = this.getFormat(param.format);\n        var result = null;\n        var layoutedPages = new TemporaryDictionary();\n        var startPage = param.page;\n        for (var index = 0; index < this.columnRanges.length; index++) {\n            var range = this.columnRanges[index];\n            this.cellStartIndex = range[0];\n            this.cellEndIndex = range[1];\n            var rowsCount = this.treegrid.rows.count;\n            var i = 0;\n            var repeatRow = false;\n            //Draw row by row with the specified cell range.\n            for (var j = 0; j < rowsCount; j++) {\n                var row = this.treegrid.rows.getRow(j);\n                i++;\n                var originalHeight = this.currentBounds.y;\n                if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                    layoutedPages.add(this.currentPage, range);\n                }\n                var rowResult = this.drawRow(row);\n                //if height remains same, it is understood that row is not draw in the page.\n                if (originalHeight === this.currentBounds.y) {\n                    repeatRow = true;\n                    this.repeatRowIndex = this.treegrid.rows.rowCollection.indexOf(row);\n                }\n                else {\n                    repeatRow = false;\n                    this.repeatRowIndex = -1;\n                }\n                while (!rowResult.isFinish && startPage !== null) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        //If there is no space in the current page, add new page and then draw the remaining row.\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        this.checkBounds(format);\n                        rowResult = this.drawRow(row);\n                    }\n                    else if (!this.treegrid.allowRowBreakAcrossPages && i < length) {\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        break;\n                    }\n                    else if (i >= length) {\n                        break;\n                    }\n                }\n                if (!rowResult.isFinish && startPage !== null && format.layout !== PdfLayoutType.OnePage && repeatRow) {\n                    this.startLocation.x = this.currentBounds.x;\n                    this.currentPage = this.getNextPageFormat(format);\n                    if (this.treegrid.enableHeader) {\n                        this.drawHeader();\n                    }\n                    this.startLocation.y = this.currentBounds.y;\n                    if (format.paginateBounds === new RectangleF(0, 0, 0, 0)) {\n                        this.currentBounds.x += this.startLocation.x;\n                    }\n                    if (this.currentBounds.x === PdfBorders.default.left.width / 2) {\n                        this.currentBounds.y += this.startLocation.x;\n                    }\n                    this.drawRow(row);\n                    if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                        layoutedPages.add(this.currentPage, range);\n                    }\n                }\n            }\n            if (this.columnRanges.indexOf(range) < this.columnRanges.length - 1 &&\n                startPage !== null && format.layout !== PdfLayoutType.OnePage) {\n                this.currentPage = this.getNextPageFormat(format);\n                this.checkBounds(format);\n            }\n        }\n        result = this.getLayoutResult();\n        if (this.treegrid.style.allowHorizontalOverflow\n            && this.treegrid.style.horizontalOverflowType === PdfHorizontalOverflowType.NextPage) {\n            this.reArrangePages(layoutedPages);\n        }\n        return result;\n    };\n    PdfTreeGridLayouter.prototype.checkBounds = function (format) {\n        var location = new PointF(PdfBorders.default.right.width / 2, PdfBorders.default.top.width / 2);\n        if (format.paginateBounds === new RectangleF(0, 0, 0, 0) && this.startLocation === location) {\n            this.currentBounds.x += this.startLocation.x;\n            this.currentBounds.y += this.startLocation.y;\n        }\n    };\n    PdfTreeGridLayouter.prototype.drawHeader = function () {\n        this.drawRow(this.treegrid.rows.getRow(0));\n    };\n    PdfTreeGridLayouter.prototype.reArrangePages = function (layoutPages) {\n        var document = this.currentPage.document;\n        var pages = [];\n        var keys = layoutPages.keys();\n        for (var i = 0; i < keys.length; i++) {\n            var page = keys[i];\n            page.section = null;\n            pages.push(page);\n            document.pages.remove(page);\n        }\n        for (var i = 0; i < layoutPages.size(); i++) {\n            var count = (layoutPages.size() / this.columnRanges.length);\n            for (var j = i; j < layoutPages.size(); j += count) {\n                var page = pages[j];\n                if (document.pages.indexOf(page) === -1) {\n                    document.pages.add(page);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfTreeGridLayouter.prototype.getNextPageFormat = function (format) {\n        var section = this.currentPage.section;\n        var nextPage = null;\n        var index = section.indexOf(this.currentPage);\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        this.currentGraphics = nextPage.graphics;\n        this.currentBounds = new RectangleF(new PointF(0, 0), nextPage.getClientSize());\n        return nextPage;\n    };\n    PdfTreeGridLayouter.prototype.getLayoutResult = function () {\n        var bounds = new RectangleF(this.startLocation, new SizeF(this.currentBounds.width, this.currentBounds.y -\n            this.startLocation.y));\n        return new PdfTreeGridLayoutResult(this.currentPage, bounds);\n    };\n    PdfTreeGridLayouter.prototype.checkIfDefaultFormat = function (format) {\n        var defaultFormat = new PdfStringFormat();\n        return (format.alignment === defaultFormat.alignment && format.characterSpacing === defaultFormat.characterSpacing &&\n            format.clipPath === defaultFormat.clipPath && format.firstLineIndent === defaultFormat.firstLineIndent &&\n            format.horizontalScalingFactor === defaultFormat.horizontalScalingFactor &&\n            format.lineAlignment === defaultFormat.lineAlignment\n            && format.lineLimit === defaultFormat.lineLimit && format.lineSpacing === defaultFormat.lineSpacing &&\n            format.measureTrailingSpaces === defaultFormat.measureTrailingSpaces && format.noClip === defaultFormat.noClip &&\n            format.paragraphIndent === defaultFormat.paragraphIndent && format.rightToLeft === defaultFormat.rightToLeft &&\n            format.subSuperScript === defaultFormat.subSuperScript && format.wordSpacing === defaultFormat.wordSpacing &&\n            format.wordWrap === defaultFormat.wordWrap);\n    };\n    PdfTreeGridLayouter.prototype.drawRow = function (row, layoutResult, height) {\n        //.. Check if required space available.\n        //.....If the row conains spans which  falls through more than one page, then draw the row to next page.\n        if (isNullOrUndefined(layoutResult)) {\n            var result = new RowLayoutResult();\n            height = row.rowBreakHeight > 0 ? row.rowBreakHeight : row.height;\n            if (height > this.currentPageBounds.height) {\n                if (this.treegrid.allowRowBreakAcrossPages) {\n                    result.isFinish = true;\n                    this.drawRowWithBreak(result, row, height);\n                }\n                else {\n                    // If AllowRowBreakAcrossPages is not true, draw the row till it fits the page.\n                    result.isFinish = false;\n                    this.drawRow(row, result, height);\n                }\n            }\n            else if (this.currentBounds.y + height > this.currentPageBounds.height ||\n                this.currentBounds.y + height > this.currentBounds.height) {\n                if (this.repeatRowIndex > -1 && this.repeatRowIndex === row.rowIndex) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        result.isFinish = true;\n                        this.drawRowWithBreak(result, row, height);\n                    }\n                    else {\n                        result.isFinish = false;\n                        this.drawRow(row, result, height);\n                    }\n                }\n                else {\n                    result.isFinish = false;\n                }\n            }\n            else {\n                result.isFinish = true;\n                this.drawRow(row, result, height);\n            }\n            return result;\n        }\n        else {\n            var location_1 = new PointF(this.currentBounds.x, this.currentBounds.y);\n            layoutResult.bounds = new RectangleF(location_1, new SizeF(0, 0));\n            var leftAdjustment = 0;\n            height = this.reCalculateHeight(row, height);\n            for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n                var cell = row.cells.getCell(i);\n                var column = this.treegrid.columns.getColumn(i);\n                if (!isNullOrUndefined(cell.value)) {\n                    if (column.isTreeColumn) {\n                        leftAdjustment = (row.level) * 10;\n                    }\n                    var cancelSpans = ((cell.columnSpan > 1) && (i > this.cellEndIndex + 1));\n                    if (!cancelSpans) {\n                        for (var j = 1; j < cell.columnSpan; j++) {\n                            row.cells.getCell(i + j).isCellMergeContinue = true;\n                        }\n                    }\n                    var size = new SizeF(column.width, height);\n                    if (cell.columnSpan > 1) {\n                        size = new SizeF(cell.width, height);\n                        i += cell.columnSpan;\n                    }\n                    if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                        cell.style.format = column.format;\n                    }\n                    cell.draw(this.currentGraphics, new RectangleF(location_1, size), cancelSpans, leftAdjustment);\n                    /* eslint-disable-next-line */\n                    if (row.treegrid.style.allowHorizontalOverflow && (cell.columnSpan > this.cellEndIndex || i + cell.columnSpan > this.cellEndIndex + 1) && this.cellEndIndex < row.cells.count - 1) {\n                        row.rowOverflowIndex = this.cellEndIndex;\n                    }\n                    location_1.x += column.width;\n                    leftAdjustment = 0;\n                }\n            }\n            this.currentBounds.y += height;\n            /* eslint-disable-next-line */\n            layoutResult.bounds = new RectangleF(new PointF(layoutResult.bounds.x, layoutResult.bounds.y), new SizeF(location_1.x, location_1.y));\n            return null;\n        }\n    };\n    /**\n     * @param {RowLayoutResult} result .\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     */\n    PdfTreeGridLayouter.prototype.drawRowWithBreak = function (result, row, height) {\n        var location = new PointF(this.currentBounds.x, this.currentBounds.y);\n        result.bounds = new RectangleF(location, new SizeF(0, 0));\n        var leftAdjustment = 0;\n        this.treegridHeight = this.currentBounds.height;\n        // Calculate the remaining height.\n        row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n        // No need to explicit break if the row height is equal to treegrid height.\n        for (var c = 0; c < row.cells.count; c++) {\n            var cell = row.cells.getCell(c);\n            var cellHeight = cell.measureHeight();\n            if (cellHeight === height && cell.value === null) {\n                row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n            }\n        }\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            var column = this.treegrid.columns.getColumn(i);\n            if (column.isTreeColumn) {\n                leftAdjustment = row.level * 10;\n            }\n            var cell = row.cells.getCell(i);\n            var cancelSpans = ((cell.columnSpan + i > this.cellEndIndex + 1) && (cell.columnSpan > 1));\n            if (!cancelSpans) {\n                for (var j = 1; j < cell.columnSpan; j++) {\n                    row.cells.getCell(i + j).isCellMergeContinue = true;\n                }\n            }\n            var tHeight = this.treegridHeight > 0 ? this.treegridHeight : this.currentBounds.height;\n            var size = new SizeF(column.width, tHeight);\n            if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                cell.style.format = column.format;\n            }\n            cell.draw(this.currentGraphics, new RectangleF(location, size), cancelSpans, leftAdjustment);\n            result.isFinish = (!result.isFinish) ? result.isFinish : cell.finishedDrawingCell;\n            location.x += column.width;\n            leftAdjustment = 0;\n            this.currentBounds.y += this.treegridHeight > 0 ? this.treegridHeight : height;\n            result.bounds = new RectangleF(new PointF(result.bounds.x, result.bounds.y), new SizeF(location.x, location.y));\n        }\n    };\n    /**\n     * `Recalculate row height` for the split cell to be drawn.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.reCalculateHeight = function (row, height) {\n        var newHeight = 0;\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            if (!isNullOrUndefined(row.cells.getCell(i).remainingString) ||\n                row.cells.getCell(i).remainingString === '') {\n                newHeight = Math.max(newHeight, row.cells.getCell(i).measureHeight());\n            }\n        }\n        return Math.max(height, newHeight);\n    };\n    return PdfTreeGridLayouter;\n}(ElementLayouter));\nexport { PdfTreeGridLayouter };\nvar PdfTreeGridLayoutResult = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutResult, _super);\n    /**\n     * Constructor\n     *\n     * @param {PdfPage} page .\n     * @param {RectangleF} bounds .\n     * @private\n     */\n    function PdfTreeGridLayoutResult(page, bounds) {\n        return _super.call(this, page, bounds) || this;\n    }\n    return PdfTreeGridLayoutResult;\n}(PdfLayoutResult));\nexport { PdfTreeGridLayoutResult };\n/**\n * `PdfGridLayoutFormat` class represents a flexible grid that consists of columns and rows.\n */\nvar PdfTreeGridLayoutFormat = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutFormat, _super);\n    /**\n     * Initializes a new instance of the `PdfGridLayoutFormat` class.\n     *\n     * @param {PdfLayoutFormat} baseFormat .\n     * @private\n     */\n    function PdfTreeGridLayoutFormat(baseFormat) {\n        var _this = this;\n        if (typeof baseFormat === 'undefined') {\n            _this = _super.call(this) || this;\n        }\n        else {\n            _this = _super.call(this, baseFormat) || this;\n        }\n        return _this;\n    }\n    return PdfTreeGridLayoutFormat;\n}(PdfLayoutFormat));\nexport { PdfTreeGridLayoutFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfTreeGridColumnCollection, PdfTreeGridHeaderCollection, PdfTreeGridRowCollection } from './pdf-base/index';\nimport { PdfTreeGridStyle, PdfBorders, PdfTreeGridLayouter } from './pdf-base/index';\nimport { PdfLayoutElement, RectangleF, PdfLayoutFormat, PointF, SizeF } from '@syncfusion/ej2-pdf-export';\n/**\n * PdfTreeGrid Class for EJ2-PDF\n */\nvar PdfTreeGrid = /** @class */ (function (_super) {\n    __extends(PdfTreeGrid, _super);\n    function PdfTreeGrid() {\n        var _this = _super.call(this) || this;\n        _this.treeGridSize = new SizeF(0, 0);\n        _this.treeColumnIndex = 0;\n        _this.allowRowBreakAcrossPages = true;\n        _this.enableHeader = true;\n        _this.isFitToWidth = false;\n        _this.columns = new PdfTreeGridColumnCollection(_this);\n        _this.rows = new PdfTreeGridRowCollection(_this);\n        _this.headers = new PdfTreeGridHeaderCollection(_this);\n        _this.style = new PdfTreeGridStyle();\n        _this.rowHeight = 0;\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGrid.prototype, \"size\", {\n        //Properties\n        /**\n         * Gets a value indicating whether the `start cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        // public get raiseBeginCellDraw(): boolean {\n        //     // eslint-disable-next-line\n        //     return (typeof this.beginCellDraw !== 'undefined' && typeof this.beginCellDraw !== null);\n        // }\n        /**\n         * Gets a value indicating whether the `end cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        // public get raiseEndCellDraw(): boolean {\n        //     // eslint-disable-next-line\n        //     return (typeof this.endCellDraw !== 'undefined' && typeof this.endCellDraw !== null);\n        // }\n        get: function () {\n            if ((this.treeGridSize.width === 0 && this.treeGridSize.height === 0)) {\n                this.treeGridSize = this.calculateTreeGridSize();\n            }\n            return this.treeGridSize;\n        },\n        set: function (value) {\n            this.treeGridSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Draws` the element on the page with the specified page, 'RectangleF' class and layout format\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTreeGrid.prototype.draw = function (arg1, arg2, arg3, arg4) {\n        if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2.x, arg2.y);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg1, arg2, arg3, null);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && arg3 instanceof PdfLayoutFormat) {\n            return this.drawHelper(arg1, arg2.x, arg2.y, arg3);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && (arg4 instanceof PdfLayoutFormat || arg4 === null)) {\n            var width = (arg1.graphics.clientSize.width - arg2);\n            var layoutRectangle = new RectangleF(arg2, arg3, width, 0);\n            return this.drawHelper(arg1, layoutRectangle, arg4);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'boolean') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else {\n            return this.drawHelper(arg1, arg2, arg3);\n        }\n    };\n    PdfTreeGrid.prototype.measureColumnsWidth = function (bounds) {\n        if (typeof bounds !== 'undefined') {\n            var widths = this.columns.getDefaultWidths(bounds.width - bounds.x);\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n        else {\n            var widths = [];\n            var cellWidth = 0;\n            var totalWidth = 0;\n            var rowLevel = 0;\n            // if(this.headers.count > 0){\n            //     let colCount: number = this.headers.getHeader(0).cells.count;\n            //     for(let i: number = 0; i < colCount; i++){\n            //         let rowCount: number = this.headers.count;\n            //         for(let j: number = 0; j < rowCount; j++){\n            //             let tempWidth: number = this.headers.getHeader(j).cells.getCell(i).width;\n            //             let rowWidth: number = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) :\n            //                 tempWidth;\n            //             cellWidth = Math.max(cellWidth, rowWidth);\n            //         }\n            //         widths.push(cellWidth);\n            //     }\n            // }\n            var colCount = this.columns.count;\n            for (var i = 0; i < colCount; i++) {\n                var rowCount = this.rows.count;\n                for (var j = 0; j < rowCount; j++) {\n                    var tempWidth = this.rows.getRow(j).cells.getCell(i).width;\n                    var rowWidth = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) : tempWidth;\n                    cellWidth = Math.max(cellWidth, rowWidth);\n                    cellWidth = Math.max(this.columns.getColumn(i).width, cellWidth);\n                    if (this.columns.getColumn(i).isTreeColumn) {\n                        rowLevel = Math.max(rowLevel, this.rows.getRow(j).level);\n                    }\n                }\n                if (this.columns.getColumn(i).isTreeColumn) {\n                    widths.push(cellWidth + (rowLevel * 10));\n                }\n                else {\n                    widths.push(cellWidth);\n                }\n                // eslint-disable-next-line\n                totalWidth += cellWidth;\n                cellWidth = 0;\n            }\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n    };\n    PdfTreeGrid.prototype.calculateTreeGridSize = function () {\n        var height = 0;\n        var width = this.columns.width;\n        for (var i = 0; i < this.headers.count; i++) {\n            var row = this.headers.getHeader(i);\n            height += row.height;\n        }\n        for (var i = 0; i < this.rows.count; i++) {\n            var row = this.rows.getRow(i);\n            height += row.height;\n        }\n        return new SizeF(width, height);\n    };\n    PdfTreeGrid.prototype.drawGrid = function (page, x, y, format) {\n        this.initialWidth = page.graphics.clientSize.width;\n        var layout = new RectangleF(0, 0, page.getClientSize().height, 0);\n        return this.draw(page, layout, format);\n    };\n    PdfTreeGrid.prototype.layout = function (param) {\n        if (this.rows.count !== 0) {\n            var style = (this.rows.getRow(0).cells.count !== 0) ? this.rows.getRow(0).cells.getCell(0).style : null;\n            if (!isNullOrUndefined(style) && style.borders.left.width !== 1) {\n                var x = style.borders.left.width / 2;\n                var y = style.borders.top.width / 2;\n                if (param.bounds.x === PdfBorders.default.right.width / 2 &&\n                    param.bounds.y === PdfBorders.default.right.width / 2) {\n                    var newBound = new RectangleF(new PointF(x, y), new SizeF(this.size.width, this.size.height));\n                    param.bounds = newBound;\n                }\n            }\n        }\n        //  this.setSpan();\n        this.layouter = new PdfTreeGridLayouter(this);\n        var result = this.layouter.layoutInternal(param);\n        return result;\n    };\n    return PdfTreeGrid;\n}(PdfLayoutElement));\nexport { PdfTreeGrid };\n","import { PdfTreeGrid } from '../pdf-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RectangleF, PdfTextAlignment, PdfBorderOverlapStyle, PointF, PdfDashStyle, PdfLineCap, PdfSolidBrush, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { SizeF, PdfFontStyle, PdfBitmap, PdfImage, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfStringLayouter } from '@syncfusion/ej2-pdf-export';\n/**@hidden*/\nvar PdfTreeGridCell = /** @class */ (function () {\n    function PdfTreeGridCell(row) {\n        this.cellWidth = 0;\n        this.cellHeight = 0;\n        /** @private */\n        this.finishedDrawingCell = true;\n        if (isNullOrUndefined(row)) {\n            this.rowSpan = 1;\n            this.columnSpan = 1;\n        }\n        else {\n            this.row = row;\n        }\n        this.style = {};\n    }\n    Object.defineProperty(PdfTreeGridCell.prototype, \"height\", {\n        /**\n         * Gets the `height` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellHeight === 0) {\n                this.cellHeight = this.measureHeight();\n            }\n            return this.cellHeight;\n        },\n        set: function (value) {\n            this.cellHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridCell.prototype, \"width\", {\n        /**\n         * Gets the `width` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellWidth === 0) {\n                this.cellWidth = this.measureWidth();\n            }\n            return Math.round(this.cellWidth);\n        },\n        set: function (value) {\n            this.cellWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridCell.prototype.measureWidth = function () {\n        var width = 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string') {\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable-next-line */\n            var slr = layouter.layout(this.value, font, this.style.format, new SizeF(Number.MAX_VALUE, Number.MAX_VALUE), false, new SizeF(0, 0));\n            width += slr.actualSize.width;\n            width += (this.style.borders.left.width + this.style.borders.right.width) * 2;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.left !== 'undefined' && this.row.treegrid.style.cellPadding.hasLeftPad) {\n            width += this.row.treegrid.style.cellPadding.left;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.right !== 'undefined' && this.row.treegrid.style.cellPadding.hasRightPad) {\n            width += this.row.treegrid.style.cellPadding.right;\n        }\n        width += this.row.treegrid.style.cellSpacing;\n        return width;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    /* eslint-disable */\n    PdfTreeGridCell.prototype.measureHeight = function () {\n        var rowHeight = this.row.treegrid.rowHeight;\n        var height = 0;\n        var width = this.calculateWidth();\n        width -= this.row.treegrid.style.cellPadding.right + this.row.treegrid.style.cellPadding.left;\n        width -= this.style.borders ? this.style.borders.left.width + this.style.borders.right.width : 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var currentValue = this.value;\n            if (!this.finishedDrawingCell) {\n                currentValue = !(isNullOrUndefined(this.remainingString) || this.remainingString === '') ? this.remainingString : this.value;\n            }\n            var font = null;\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable */\n            var slr = layouter.layout(currentValue, font, this.style.format, new SizeF(width - 10, 0), false, new SizeF(0, 0));\n            var value = Math.max(slr.lineHeight, slr.actualSize.height);\n            if (currentValue.length > 80) {\n                height += value + 20;\n            }\n            else {\n                height += value + (slr.size.height / 2);\n            }\n            height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n        }\n        height += this.row.treegrid.style.cellPadding.top + this.row.treegrid.style.cellPadding.bottom;\n        height += this.row.treegrid.style.cellSpacing;\n        return height > rowHeight ? height : rowHeight;\n    };\n    /* eslint-enable */\n    PdfTreeGridCell.prototype.calculateWidth = function () {\n        var cellIndex = this.row.cells.indexOf(this);\n        var columnSpan = this.columnSpan;\n        var width = 0;\n        for (var i = 0; i < columnSpan; i++) {\n            width += this.row.treegrid.columns.getColumn(cellIndex + i) ? this.row.treegrid.columns.getColumn(cellIndex + i).width : 0;\n        }\n        if (this.row.treegrid.columns.getColumn(cellIndex) && this.row.treegrid.columns.getColumn(cellIndex).isTreeColumn) {\n            width -= (this.row.level * 10);\n        }\n        return width;\n    };\n    /**\n     * `Draws` the specified graphics.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @param {boolean} cancelSubsequentSpans .\n     * @param {number} leftAdjustment .\n     * @returns {PdfStringLayoutResult} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.draw = function (graphics, bounds, cancelSubsequentSpans, leftAdjustment) {\n        var result = null;\n        var padding = 10;\n        // if (cancelSubsequentSpans) {\n        //     // Cancel all subsequent cell spans, if no space exists.\n        //     const currentCellIndex: number = this.row.cells.indexOf(this);\n        //     for (let i: number = currentCellIndex + 1; i <= currentCellIndex + this.columnSpan; i++) {\n        //         this.row.cells.getCell(i).isCellMergeContinue = false;\n        //         this.row.cells.getCell(i).isRowMergeContinue = false;\n        //     }\n        //     this.columnSpan = 1;\n        // }\n        // Skip cells which were already covered by span map.\n        // if (this.isCellMergeContinue || this.isRowMergeContinue) {\n        //     if (this.isCellMergeContinue && this.row.treegrid.style.allowHorizontalOverflow) {\n        //         if ((this.row.rowOverflowIndex > 0 && (this.row.cells.indexOf(this) !== this.row.rowOverflowIndex + 1)) ||\n        //             (this.row.rowOverflowIndex === 0 && this.isCellMergeContinue)) {\n        //             return result;\n        //         } else {\n        //             return result;\n        //         }\n        //     }\n        // }\n        //bounds = this.adjustContentLayoutArea(bounds);\n        this.drawCellBackground(graphics, bounds);\n        var textPen = null;\n        var textBrush = new PdfSolidBrush(this.style.fontColor);\n        var font = null;\n        if (this.row.isParentRow) {\n            var fontStyle = PdfFontStyle.Bold;\n            if (this.style.fontStyle) {\n                fontStyle = this.style.fontStyle;\n            }\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, fontStyle);\n        }\n        else {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n        }\n        if (this.row.treegrid.ganttStyle.font) {\n            font = this.row.treegrid.ganttStyle.font;\n        }\n        var innerLayoutArea = bounds;\n        if (!this.isHeaderCell) {\n            /* eslint-disable-next-line */\n            innerLayoutArea.x = innerLayoutArea.x;\n            /* eslint-disable-next-line */\n            innerLayoutArea.width = innerLayoutArea.width;\n        }\n        if (innerLayoutArea.height >= graphics.clientSize.height) {\n            // To break row to next page\n            if (this.row.treegrid.allowRowBreakAcrossPages) {\n                innerLayoutArea.height -= innerLayoutArea.y;\n                bounds.height -= bounds.y;\n            }\n            else {\n                innerLayoutArea.height = graphics.clientSize.height;\n                bounds.height = graphics.clientSize.height;\n            }\n        }\n        innerLayoutArea = this.adjustContentLayoutArea(innerLayoutArea);\n        if (this.image && this.value) {\n            var imageBounds = void 0;\n            if (this.image.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.image.width, this.image.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.image, imageBounds.x, imageBounds.y - 5, imageBounds.width, imageBounds.height);\n            var temp = null;\n            // font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            var customisedFont = void 0;\n            var fontStyles = this.fontStyle;\n            if (!fontStyles) {\n                fontStyles = this.style;\n            }\n            var newFont = new PdfStandardFont(fontStyles.fontFamily, fontStyles.fontSize, fontStyles.fontStyle);\n            if (fontStyles.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = textBrush;\n            if (this.row.treegrid.ganttStyle.cell.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.row.treegrid.ganttStyle.cell.fontBrush);\n            }\n            if (this.row.treegrid.ganttStyle.cell.format.alignment && !this.isHeaderCell) {\n                this.style.format.alignment = this.row.treegrid.ganttStyle.cell.format.alignment;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment) + (!isNullOrUndefined(this.image) ? this.image.width : 0), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var temp = null;\n            var customisedFont = void 0;\n            var newFont = new PdfStandardFont(this.style.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.style.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = textBrush;\n            if (this.row.treegrid.ganttStyle.cell.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.row.treegrid.ganttStyle.cell.fontBrush);\n            }\n            if (this.row.treegrid.ganttStyle.cell.format.alignment && !this.isHeaderCell) {\n                this.style.format.alignment = this.row.treegrid.ganttStyle.cell.format.alignment;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y - 3, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (this.value instanceof PdfImage || this.value instanceof PdfBitmap) {\n            var imageBounds = void 0;\n            if (this.value.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.value.width, innerLayoutArea.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.value, imageBounds.x, imageBounds.y - 10, imageBounds.width, imageBounds.height);\n        }\n        else if (this.value instanceof PdfTextWebLink) {\n            this.value.draw(graphics.currentPage, innerLayoutArea);\n        }\n        if (this.style.borders !== null) {\n            this.drawCellBorder(graphics, bounds);\n        }\n        return result;\n    };\n    /**\n     * Draw the `cell background`.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBackground = function (graphics, bounds) {\n        var backgroundBrush = new PdfSolidBrush(this.style.backgroundColor);\n        if (backgroundBrush !== null) {\n            graphics.save();\n            graphics.drawRectangle(backgroundBrush, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n        }\n        // if (this.style.backgroundImage !== null) {\n        //     let image: PdfImage = this.getBackgroundImage();\n        //     graphics.drawImage(this.style.backgroundImage, bounds.x, bounds.y, bounds.width, bounds.height);\n        // }\n    };\n    /**\n     * `Adjusts the text layout area`.\n     *\n     * @param {RectangleF} bounds .\n     * @returns {RectangleF} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.adjustContentLayoutArea = function (bounds) {\n        //Add Padding value to its Cell Bounds\n        var returnBounds = new RectangleF(new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height));\n        var cellPadding = this.style.padding;\n        if (this.value instanceof PdfTreeGrid) {\n            var size = this.value.size;\n            if (this.style.format.alignment === PdfTextAlignment.Center) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width) / 2;\n                returnBounds.y += cellPadding.top + (returnBounds.height - size.height) / 2;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Left) {\n                returnBounds.x += cellPadding.left;\n                returnBounds.y += cellPadding.top;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Right) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width);\n                returnBounds.y += cellPadding.top;\n            }\n        }\n        else {\n            returnBounds.x += cellPadding.left;\n            returnBounds.y += cellPadding.top;\n        }\n        return returnBounds;\n    };\n    /**\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBorder = function (graphics, bounds) {\n        if (this.row.treegrid.style.borderOverlapStyle === PdfBorderOverlapStyle.Inside) {\n            bounds.x += this.style.borders.left.width;\n            bounds.y += this.style.borders.top.width;\n            bounds.width -= this.style.borders.right.width;\n            bounds.height -= this.style.borders.bottom.width;\n        }\n        if (this.style.borders.isAll && this.isHeaderCell) {\n            graphics.drawRectangle(this.style.borders.left, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n            return;\n        }\n        else {\n            var p1 = new PointF(bounds.x, bounds.y + bounds.height);\n            var p2 = new PointF(bounds.x, bounds.y);\n            var pen = this.style.borders.left;\n            pen.lineCap = (this.style.borders.left.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            pen = this.style.borders.right;\n            if ((bounds.x + bounds.width) > (graphics.clientSize.width - (pen.width / 2))) {\n                p1 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y);\n                p2 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y + bounds.height);\n            }\n            pen.lineCap = (this.style.borders.right.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y);\n            pen = this.style.borders.top;\n            pen.lineCap = (this.style.borders.top.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            p2 = new PointF(bounds.x, bounds.y + bounds.height);\n            pen = this.style.borders.bottom;\n            if (bounds.y + bounds.height > graphics.clientSize.height - pen.width / 2) {\n                p1 = new PointF(bounds.x + bounds.width, graphics.clientSize.height - pen.width / 2);\n                p2 = new PointF(bounds.x, graphics.clientSize.height - pen.width / 2);\n            }\n            pen.lineCap = (this.style.borders.bottom.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n        }\n    };\n    return PdfTreeGridCell;\n}());\nexport { PdfTreeGridCell };\n/**\n * `PdfTreeGridCellCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridCell' objects.\n *\n * @private\n */\nvar PdfTreeGridCellCollection = /** @class */ (function () {\n    //Constructor\n    /**\n     * Initializes a new instance of the `PdfGridCellCollection` class with the row.\n     *\n     * @param { PdfTreeGridRow} row .\n     * @private\n     */\n    function PdfTreeGridCellCollection(row) {\n        this.treegridRow = row;\n        this.cells = [];\n    }\n    //Properties\n    /**\n     * Gets the current `cell`.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridCell} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.getCell = function (index) {\n        if (index < 0 || index >= this.count) {\n            throw new Error('IndexOutOfRangeException');\n        }\n        return this.cells[index];\n    };\n    Object.defineProperty(PdfTreeGridCellCollection.prototype, \"count\", {\n        /**\n         * Gets the cells `count`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.cells.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` this instance.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {PdfTreeGridCell | void} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.add = function (cell) {\n        if (typeof cell === 'undefined') {\n            var tempcell = new PdfTreeGridCell();\n            this.add(tempcell);\n            return cell;\n        }\n        else {\n            cell.row = this.treegridRow;\n            this.cells.push(cell);\n        }\n    };\n    /**\n     * Returns the `index of` a particular cell in the collection.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.indexOf = function (cell) {\n        return this.cells.indexOf(cell);\n    };\n    return PdfTreeGridCellCollection;\n}());\nexport { PdfTreeGridCellCollection };\n/**\n *\n */\nvar PdfTreeGridRow = /** @class */ (function () {\n    function PdfTreeGridRow(treegrid) {\n        this.treegridRowOverflowIndex = 0;\n        this.rowHeight = 0;\n        this.rowWidth = 0;\n        /* eslint-disable-next-line */\n        this._isParentRow = false;\n        this.intendLevel = 0;\n        this.pdfTreeGrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRow.prototype, \"cells\", {\n        get: function () {\n            if (isNullOrUndefined(this.treegridCells)) {\n                this.treegridCells = new PdfTreeGridCellCollection(this);\n            }\n            return this.treegridCells;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"isParentRow\", {\n        get: function () {\n            return this._isParentRow;\n        },\n        set: function (value) {\n            this._isParentRow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"treegrid\", {\n        get: function () {\n            return this.pdfTreeGrid;\n        },\n        set: function (value) {\n            this.pdfTreeGrid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowBreakHeight\", {\n        /**\n         * `Height` of the row yet to be drawn after split.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (typeof this.treegridRowBreakHeight === 'undefined') {\n                this.treegridRowBreakHeight = 0;\n            }\n            return this.treegridRowBreakHeight;\n        },\n        set: function (value) {\n            this.treegridRowBreakHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowOverflowIndex\", {\n        /**\n         * `over flow index` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.treegridRowOverflowIndex;\n        },\n        set: function (value) {\n            this.treegridRowOverflowIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"level\", {\n        get: function () {\n            return this.intendLevel;\n        },\n        set: function (value) {\n            this.intendLevel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"height\", {\n        /**\n         * Gets or sets the `height` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowHeight === 0) {\n                this.rowHeight = this.measureHeight();\n            }\n            return this.rowHeight;\n        },\n        set: function (value) {\n            this.rowHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"width\", {\n        /**\n         * Gets or sets the `width` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowWidth === 0) {\n                this.rowWidth = this.measureWidth();\n            }\n            return this.rowWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowIndex\", {\n        get: function () {\n            return this.treegrid.rows.rowCollection.indexOf(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRow.prototype.measureWidth = function () {\n        var columns = this.treegrid.columns.columns;\n        var totalWidth = 0;\n        for (var i = 0; i < columns.length; i++) {\n            var column = columns[i];\n            totalWidth += column.width;\n        }\n        return totalWidth;\n    };\n    PdfTreeGridRow.prototype.measureHeight = function () {\n        var rowHeight = (this.cells.count !== 0 &&\n            !isNullOrUndefined(this.cells.getCell(0).height)) ? this.cells.getCell(0).height : 33;\n        for (var i = 0; i < this.cells.count; i++) {\n            var cell = this.cells.getCell(i);\n            if (cell.columnSpan === 1 || cell.rowSpan === 1) {\n                rowHeight = Math.max(rowHeight, cell.height);\n            }\n            else {\n                rowHeight = Math.min(rowHeight, cell.height);\n            }\n            cell.height = rowHeight;\n        }\n        return rowHeight;\n    };\n    return PdfTreeGridRow;\n}());\nexport { PdfTreeGridRow };\n/**\n * `PdfTreeGridRowCollection` class provides access to an ordered, strongly typed collection of 'PdfTreeGridRow' objects.\n *\n * @private\n */\nvar PdfTreeGridRowCollection = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridRowCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridRowCollection(treegrid) {\n        this.rows = [];\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"count\", {\n        //Properties\n        /**\n         * Gets the number of header in the `PdfTreeGrid`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"rowCollection\", {\n        //Implementation\n        /**\n         * Return the row collection of the `treegrid`.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        get: function () {\n            return this.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRowCollection.prototype.addRow = function (row) {\n        if (typeof row === 'undefined') {\n            var row_1 = new PdfTreeGridRow(this.treegrid);\n            this.addRow(row_1);\n            return row_1;\n        }\n        else {\n            if (row.cells.count === 0) {\n                for (var i = 0; i < this.treegrid.columns.count; i++) {\n                    row.cells.add(new PdfTreeGridCell());\n                }\n            }\n            this.rows.push(row);\n        }\n    };\n    /**\n     * Return the row by index.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridRowCollection.prototype.getRow = function (index) {\n        return this.rows[index];\n    };\n    return PdfTreeGridRowCollection;\n}());\nexport { PdfTreeGridRowCollection };\n/**\n * `PdfTreeGridHeaderCollection` class provides customization of the settings for the header.\n *\n * @private\n */\nvar PdfTreeGridHeaderCollection = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridHeaderCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridHeaderCollection(treegrid) {\n        /**\n         * The array to store the `rows` of the grid header.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        this.rows = [];\n        this.treegrid = treegrid;\n        this.rows = [];\n    }\n    //Properties\n    /**\n     * Gets a 'PdfTreeGridRow' object that represents the `header` row in a 'PdfGridHeaderCollection' control.[Read-Only].\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.getHeader = function (index) {\n        return (this.rows[index]);\n    };\n    Object.defineProperty(PdfTreeGridHeaderCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of header` in the 'PdfGrid'.[Read-Only]\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` the specified row.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.add = function (row) {\n        this.rows.push(row);\n    };\n    PdfTreeGridHeaderCollection.prototype.indexOf = function (row) {\n        return this.rows.indexOf(row);\n    };\n    return PdfTreeGridHeaderCollection;\n}());\nexport { PdfTreeGridHeaderCollection };\nvar PdfTreeGridColumn = /** @class */ (function () {\n    function PdfTreeGridColumn(treegrid) {\n        this.columnWidth = 0;\n        this.treeColumnIndex = false;\n        this._headerText = '';\n        this._field = '';\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"headerText\", {\n        get: function () {\n            return this._headerText;\n        },\n        set: function (value) {\n            this._headerText = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"field\", {\n        get: function () {\n            return this._field;\n        },\n        set: function (value) {\n            this._field = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"width\", {\n        get: function () {\n            return this.columnWidth;\n        },\n        set: function (value) {\n            this.columnWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"isTreeColumn\", {\n        get: function () {\n            return this.treeColumnIndex;\n        },\n        set: function (value) {\n            this.treeColumnIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"format\", {\n        /**\n         * Gets or sets the information about the text `formatting`.\n         *\n         * @returns {PdfStringFormat} .\n         * @private\n         */\n        get: function () {\n            if (isNullOrUndefined(this.stringFormat)) {\n                this.stringFormat = new PdfStringFormat(); //GetDefaultFormat();\n            }\n            return this.stringFormat;\n        },\n        set: function (value) {\n            this.stringFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTreeGridColumn;\n}());\nexport { PdfTreeGridColumn };\n/**\n * `PdfTreeGridColumnCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridColumn' objects.\n *\n * @private\n */\nvar PdfTreeGridColumnCollection = /** @class */ (function () {\n    //properties\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfTreeGridColumnCollection` class with the parent grid.\n     *\n     * @param { PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridColumnCollection(treegrid) {\n        /**\n         * @private\n         */\n        this.internalColumns = [];\n        /**\n         * @private\n         */\n        this.columnWidth = 0;\n        this.treegrid = treegrid;\n        this.internalColumns = [];\n    }\n    //Implementation\n    /**\n     * `Add` a new column to the 'PdfGrid'.\n     *\n     * @param {number} count .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.add = function (count) {\n        // public add(column : PdfGridColumn) : void\n        // public add(arg : number|PdfGridColumn) : void {\n        // if (typeof arg === 'number') {\n        for (var i = 0; i < count; i++) {\n            this.internalColumns.push(new PdfTreeGridColumn(this.treegrid));\n            for (var index = 0; index < this.treegrid.rows.count; index++) {\n                var row = this.treegrid.rows.getRow(index);\n                var cell = new PdfTreeGridCell();\n                cell.value = '';\n                row.cells.add(cell);\n            }\n        }\n        // } else {\n        //     let column : PdfGridColumn = new PdfGridColumn(this.grid);\n        //     this.columns.push(column);\n        //     return column;\n        // }\n    };\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of columns` in the 'PdfGrid'.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"width\", {\n        /**\n         * Gets the `widths`.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.columnWidth === 0) {\n                this.columnWidth = this.measureColumnsWidth();\n            }\n            return this.columnWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"columns\", {\n        /**\n         * Gets the `array of PdfGridColumn`.[Read-Only]\n         *\n         * @returns {PdfTreeGridColumn[]} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the `PdfTreeGridColumn` from the specified index.[Read-Only]\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridColumn} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getColumn = function (index) {\n        if (index >= 0 && index <= this.columns.length) {\n            return this.columns[index];\n        }\n        else {\n            throw Error('can not get the column from the index: ' + index);\n        }\n    };\n    //Implementation\n    /**\n     * `Calculates the column widths`.\n     *\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.measureColumnsWidth = function () {\n        var totalWidth = 0;\n        this.treegrid.measureColumnsWidth();\n        for (var i = 0, count = this.internalColumns.length; i < count; i++) {\n            totalWidth += this.internalColumns[i].width;\n        }\n        return totalWidth;\n    };\n    /**\n     * Gets the `widths of the columns`.\n     *\n     * @param {number} totalWidth .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getDefaultWidths = function (totalWidth) {\n        var widths = [];\n        var subFactor = this.count;\n        for (var i = 0; i < this.count; i++) {\n            widths[i] = this.internalColumns[i].width;\n            if (this.internalColumns[i].width > 0) {\n                totalWidth -= this.internalColumns[i].width;\n                subFactor--;\n            }\n            else {\n                widths[i] = 0;\n            }\n        }\n        for (var i = 0; i < this.count; i++) {\n            var width = totalWidth / subFactor;\n            if (widths[i] <= 0) {\n                widths[i] = width;\n            }\n        }\n        return widths;\n    };\n    return PdfTreeGridColumnCollection;\n}());\nexport { PdfTreeGridColumnCollection };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfFontFamily, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfPageCountField, PdfPageNumberField } from '@syncfusion/ej2-pdf-export';\nimport { PdfPageTemplateElement, RectangleF, PdfCompositeField, PointF } from '@syncfusion/ej2-pdf-export';\nimport { PdfVerticalAlignment, PdfTextAlignment, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { PdfFontStyle, PdfColor, PdfPen, PdfSolidBrush, SizeF, PdfBitmap } from '@syncfusion/ej2-pdf-export';\nimport { PdfBorders, PdfPaddings } from './pdf-base/index';\nimport { isNullOrUndefined, Internationalization, getValue, extend } from '@syncfusion/ej2-base';\nimport { getForeignData, ValueFormatter } from '@syncfusion/ej2-grids';\nimport { pixelToPoint, isScheduledTask } from '../base/utils';\n/**\n * @hidden\n * `ExportHelper` for `PdfExport` & `ExcelExport`\n */\nvar ExportHelper = /** @class */ (function () {\n    function ExportHelper(parent) {\n        this.totalColumnWidth = 0;\n        this.beforeSinglePageExport = {};\n        this.baselineHeight = 8;\n        this.parent = parent;\n    }\n    ExportHelper.prototype.processToFit = function () {\n        this.beforeSinglePageExport['zoomingProjectStartDate'] = this.parent.zoomingProjectStartDate;\n        this.beforeSinglePageExport['zoomingProjectEndDate'] = this.parent.zoomingProjectEndDate;\n        this.beforeSinglePageExport['cloneProjectStartDate'] = this.parent.cloneProjectStartDate;\n        this.beforeSinglePageExport['cloneProjectEndDate'] = this.parent.cloneProjectEndDate;\n        this.beforeSinglePageExport['customTimelineSettings'] = extend({}, this.parent.timelineModule.customTimelineSettings, null, true);\n        this.beforeSinglePageExport['isTimelineRoundOff'] = this.parent.isTimelineRoundOff;\n        this.beforeSinglePageExport['topTier'] = this.parent.timelineModule.topTier;\n        this.beforeSinglePageExport['topTierCellWidth'] = this.parent.timelineModule.topTierCellWidth;\n        this.beforeSinglePageExport['topTierCollection'] = this.parent.timelineModule.topTierCollection;\n        this.beforeSinglePageExport['bottomTier'] = this.parent.timelineModule.bottomTier;\n        this.beforeSinglePageExport['bottomTierCellWidth'] = this.parent.timelineModule.bottomTierCellWidth;\n        this.beforeSinglePageExport['bottomTierCollection'] = this.parent.timelineModule.bottomTierCollection;\n        this.beforeSinglePageExport['totalTimelineWidth'] = this.parent.timelineModule.totalTimelineWidth;\n        this.beforeSinglePageExport['timelineStartDate'] = this.parent.timelineModule.timelineStartDate;\n        this.beforeSinglePageExport['timelineEndDate'] = this.parent.timelineModule.timelineEndDate;\n        this.beforeSinglePageExport['timelineRoundOffEndDate'] = this.parent.timelineModule.timelineRoundOffEndDate;\n        this.beforeSinglePageExport['perDayWidth'] = this.parent.perDayWidth;\n        this.beforeSinglePageExport['updatedConnectorLineCollection'] = extend([], this.parent.updatedConnectorLineCollection, null, true);\n        this.parent.timelineModule.isZoomToFit = true;\n        this.parent.timelineModule.isZooming = false;\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartsideWidth;\n        var gridWidth;\n        if (this.exportProps.fitToWidthSettings.gridWidth) {\n            gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n        }\n        if (this.exportProps.fitToWidthSettings.chartWidth) {\n            chartsideWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n        }\n        else {\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                chartsideWidth = 100 - gridWidth;\n            }\n            else {\n                chartsideWidth = 70;\n            }\n        }\n        var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * chartsideWidth) / 100;\n        var chartWidth = pdfwidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.parent.timelineModule['calculateNumberOfTimelineCells'](newTimeline);\n        var scrollHeight = this.parent.pdfExportModule['pdfPageDimensions'].height; //17 is horizontal scrollbar width\n        var emptySpace = scrollHeight <= 0 ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        this.parent.timelineModule['changeTimelineSettings'](newTimeline);\n        this.parent.timelineModule.isZoomToFit = false;\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * @param {IGanttData[]} data .\n     * @param {PdfGantt} gantt .\n     * @param {PdfExportProperties} props .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.processGridExport = function (data, gantt, props) {\n        this.flatData = data;\n        this.gantt = gantt;\n        this.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n        this.exportProps = props;\n        this.rowIndex = 0;\n        this.colIndex = 0;\n        this.columns = this.parent.treeGrid.columns;\n        this.gantt.treeColumnIndex = this.parent.treeColumnIndex;\n        this.gantt.rowHeight = pixelToPoint(this.parent.rowHeight);\n        this.gantt.style.cellPadding.left = 0;\n        this.gantt.style.cellPadding.right = 0;\n        this.ganttStyle = this.gantt.ganttStyle;\n        this.gantt.borderColor = this.ganttStyle.chartGridLineColor;\n        this.parent.pdfExportModule.isPdfExport = true;\n        if (this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            this.processToFit();\n        }\n        this.processHeaderContent();\n        this.processGanttContent();\n        this.processTimeline();\n        this.processTaskbar();\n        this.processPredecessor();\n        this.parent.pdfExportModule.isPdfExport = false;\n    };\n    ExportHelper.prototype.processHeaderContent = function () {\n        var _this = this;\n        this.rowIndex++;\n        this.row = this.gantt.rows.addRow();\n        var index = 0;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processColumnHeader(column, index);\n                index++;\n            }\n        });\n    };\n    ExportHelper.prototype.processColumnHeader = function (column, index) {\n        this.gantt.columns.add(1);\n        var pdfColumn = this.gantt.columns.getColumn(index);\n        if (this.parent.treeColumnIndex === index) {\n            pdfColumn.isTreeColumn = true;\n        }\n        var width = parseInt(column.width, 10);\n        pdfColumn.width = pixelToPoint(width);\n        this.totalColumnWidth += pdfColumn.width;\n        pdfColumn.headerText = column.headerText;\n        pdfColumn.field = column.field;\n        var cell = this.row.cells.getCell(index);\n        cell.value = column.headerText;\n        cell.isHeaderCell = true;\n        if (this.ganttStyle && this.ganttStyle.columnHeader &&\n            !isNullOrUndefined(this.ganttStyle.columnHeader.fontBrush)) {\n            cell.style.fontBrush = new PdfColor(this.ganttStyle.columnHeader.fontBrush);\n        }\n        var treeGridHeaderHeight = this.parent.timelineModule.isSingleTier ? 45 : 60;\n        this.copyStyles(this.ganttStyle.columnHeader, cell, false);\n        this.row.height = pixelToPoint(treeGridHeaderHeight);\n        if (column.headerTextAlign) {\n            cell.style.format.alignment = PdfTextAlignment[column.headerTextAlign];\n        }\n        var template = {\n            image: null,\n            value: null,\n            fontStyle: { fontBrush: null }\n        };\n        cell.fontStyle = {\n            fontSize: 9\n        };\n        var args = {\n            cell: cell,\n            style: cell.style,\n            value: cell.value,\n            column: column,\n            image: null,\n            headerTemplate: template\n        };\n        if (this.parent.pdfColumnHeaderQueryCellInfo) {\n            this.parent.trigger('pdfColumnHeaderQueryCellInfo', args);\n        }\n        if (args.headerTemplate.image && args.headerTemplate.value) {\n            args.image = new PdfBitmap(args.headerTemplate.image[0].base64);\n            args.image.height = args.headerTemplate.image[0].height || args.image.height;\n            args.image.width = args.headerTemplate.image[0].width || args.image.width;\n            cell.image = args.image;\n            cell.value = args.headerTemplate.value;\n            cell.fontStyle.fontSize = args.headerTemplate.fontStyle.fontSize;\n            cell.fontStyle.fontFamily = args.headerTemplate.fontStyle.fontFamily;\n            cell.fontStyle.fontBrush = args.headerTemplate.fontStyle.fontColor;\n        }\n        else {\n            cell.value = args.value;\n        }\n    };\n    ExportHelper.prototype.isColumnVisible = function (column) {\n        var visibleColumn = column.visible || this.exportProps.includeHiddenColumn;\n        return (visibleColumn);\n    };\n    ExportHelper.prototype.processGanttContent = function () {\n        var _this = this;\n        if (this.flatData.length === 0) {\n            this.renderEmptyGantt();\n        }\n        else {\n            var flatData = this.flatData;\n            flatData.forEach(function (data) {\n                _this.row = _this.gantt.rows.addRow();\n                if (data.hasChildRecords) {\n                    _this.gantt.rows.getRow(_this.rowIndex).isParentRow = true;\n                    _this.processRecordRow(data);\n                }\n                else {\n                    _this.processRecordRow(data);\n                }\n                _this.rowIndex++;\n            });\n        }\n    };\n    /**\n     * Method for processing the timeline details\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTimeline = function () {\n        if (this.parent.enableTimelineVirtualization) {\n            this.parent.timelineModule.pdfExportTopTierCollection = [];\n            this.parent.timelineModule.pdfExportBottomTierCollection = [];\n            this.parent.timelineModule.createTimelineSeries();\n        }\n        var timelineSettings = this.parent.timelineModule;\n        this.gantt.chartHeader.topTierHeight = this.gantt.chartHeader.bottomTierHeight\n            = (this.parent.timelineModule.isSingleTier ? 45 : 60 / 2);\n        this.gantt.chartHeader.topTierCellWidth = timelineSettings.topTierCellWidth;\n        this.gantt.chartHeader.bottomTierCellWidth = timelineSettings.bottomTierCellWidth;\n        this.gantt.chartHeader.topTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportTopTierCollection : timelineSettings.topTierCollection, true);\n        this.gantt.chartHeader.bottomTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportBottomTierCollection : timelineSettings.bottomTierCollection, true);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth &&\n            this.parent.enableTimelineVirtualization) {\n            var tier = timelineSettings.topTier === 'None' ? 'bottomTier' : 'topTier';\n            this.gantt.chartHeader.width = timelineSettings['calculateWidthBetweenTwoDate'](tier, timelineSettings.timelineStartDate, timelineSettings.timelineEndDate);\n        }\n        else {\n            this.gantt.chartHeader.width = this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth :\n                timelineSettings.totalTimelineWidth;\n        }\n        this.gantt.chartHeader.height = !isNullOrUndefined(this.gantt.rows.getRow(0).height) ? this.gantt.rows.getRow(0).height : 65;\n        this.gantt.timelineStartDate = new Date(timelineSettings.timelineStartDate.getTime());\n    };\n    /**\n     * Method for create the predecessor collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processPredecessor = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.exportProps.showPredecessorLines) || this.exportProps.showPredecessorLines) {\n            this.parent.pdfExportModule.isPdfExport = true;\n            this.parent.predecessorModule.createConnectorLinesCollection();\n            this.parent.updatedConnectorLineCollection.forEach(function (data) {\n                var predecessor = _this.gantt.predecessor.add();\n                predecessor.parentLeft = data.parentLeft;\n                predecessor.childLeft = data.childLeft;\n                predecessor.parentWidth = data.parentWidth;\n                predecessor.childWidth = data.childWidth;\n                predecessor.parentIndex = data.parentIndex;\n                predecessor.childIndex = data.childIndex;\n                predecessor.rowHeight = data.rowHeight;\n                predecessor.type = data.type;\n                predecessor.milestoneParent = data.milestoneParent;\n                predecessor.milestoneChild = data.milestoneChild;\n                predecessor.parentEndPoint = data.parentEndPoint;\n                predecessor.lineWidth = _this.parent.connectorLineWidth > 5 ? pixelToPoint(5) : pixelToPoint(_this.parent.connectorLineWidth);\n                if (data.isCritical) {\n                    predecessor.connectorLineColor = _this.ganttStyle.criticalConnectorLineColor;\n                }\n                else {\n                    predecessor.connectorLineColor = _this.ganttStyle.connectorLineColor;\n                }\n                _this.gantt.predecessorCollection.push(predecessor);\n            });\n            this.parent.pdfExportModule.isPdfExport = false;\n        }\n    };\n    ExportHelper.prototype.processRecordRow = function (data) {\n        var _this = this;\n        this.colIndex = 0;\n        this.row.level = data.level;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processRecordCell(data, column, _this.row);\n                _this.colIndex++;\n            }\n        });\n    };\n    ExportHelper.prototype.processRecordCell = function (data, column, row) {\n        var cell = row.cells.getCell(this.colIndex);\n        var taskFields = this.parent.taskFields;\n        var ganttProps = data.ganttProperties;\n        if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n            cell.value = data[column.field];\n        }\n        else if (column.field === taskFields.duration) {\n            cell.value = this.parent.getDurationString(ganttProps.duration, ganttProps.durationUnit);\n        }\n        else if (column.field === taskFields.resourceInfo) {\n            cell.value = ganttProps.resourceNames;\n        }\n        else if (column.field === taskFields.work) {\n            cell.value = this.parent.getWorkString(ganttProps.work, ganttProps.workUnit);\n        }\n        else {\n            cell.value = !isNullOrUndefined(data[column.field]) ? data[column.field].toString() : '';\n        }\n        var cellValueString = !isNullOrUndefined(cell.value) ? cell.value.toString() : '';\n        var cellValue = cellValueString;\n        var value = !isNullOrUndefined(cellValue) ? cellValue : '';\n        cell.isHeaderCell = false;\n        cell.style.padding = new PdfPaddings();\n        this.copyStyles(this.ganttStyle.cell, cell, row.isParentRow);\n        if (column['index'] !== this.parent.treeColumnIndex) {\n            cell.style.format.alignment = PdfTextAlignment[column.textAlign];\n        }\n        else {\n            cell.style.format.paragraphIndent = cell.row.level * 10;\n        }\n        var args = {\n            data: data,\n            value: value,\n            column: column,\n            style: cell.style,\n            cell: cell\n        };\n        args.value = this.exportValueFormatter.formatCellValue(args);\n        if (this.parent.pdfQueryCellInfo) {\n            this.parent.trigger('pdfQueryCellInfo', args);\n            if (args.style.backgroundColor) {\n                cell.style.backgroundColor = args.style.backgroundColor;\n            }\n            if (args.style.borderColor) {\n                cell.style.borderColor = args.style.borderColor;\n            }\n            if (args.style.fontBrush) {\n                cell.style.fontBrush = args.style.fontBrush;\n            }\n            if (args.style.fontColor) {\n                cell.style.fontColor = args.style.fontColor;\n            }\n            if (args.style.fontFamily) {\n                var font = args.style.fontFamily;\n                var fontFamily = this.getFontFamily(font);\n                cell.style.fontFamily = fontFamily;\n            }\n            else {\n                cell.style.fontFamily = this.ganttStyle.fontFamily;\n            }\n            if (args.style.fontSize) {\n                cell.style.fontSize = args.style.fontSize;\n            }\n            if (args.style.fontStyle) {\n                var style = args.style.fontStyle;\n                var fontStyle = this.getFontStyle(style);\n                cell.style.fontStyle = fontStyle;\n            }\n            else {\n                cell.style.fontStyle = this.ganttStyle.footer.fontStyle;\n            }\n            if (args.style.format) {\n                cell.style.format = args.style.format;\n            }\n            if (args.style.padding) {\n                cell.style.padding = args.style.padding;\n            }\n        }\n        if (!isNullOrUndefined(args.image) && !isNullOrUndefined(args.image.base64)) {\n            var dimension = extend({}, args.image, null, true);\n            args.image = new PdfBitmap(args.image.base64);\n            args.image.height = dimension['height'] ? dimension['height'] : args.image.height;\n            args.image.width = dimension['width'] ? dimension['width'] : args.image.width;\n            cell.image = args.image;\n        }\n        cell.value = args.value;\n        if (!isNullOrUndefined(args.hyperLink) && (!isNullOrUndefined(args.hyperLink.displayText) ||\n            !isNullOrUndefined(args.hyperLink.target))) {\n            cell.value = this.setHyperLink(args);\n        }\n    };\n    ExportHelper.prototype.setHyperLink = function (args) {\n        // create the Text Web Link\n        var textLink = new PdfTextWebLink();\n        // set the hyperlink\n        textLink.url = args.hyperLink.target;\n        // set the link text\n        textLink.text = args.hyperLink.displayText || args.hyperLink.target;\n        // set the font\n        textLink.font = new PdfStandardFont(PdfFontFamily.Helvetica, 9.75);\n        // set the brush and pen for the text color\n        textLink.brush = new PdfSolidBrush(new PdfColor(51, 102, 187));\n        return textLink;\n    };\n    /**\n     * Method for create the taskbar collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTaskbar = function () {\n        var _this = this;\n        var flatData = this.flatData;\n        flatData.forEach(function (data) {\n            var taskbar = _this.gantt.taskbar.add();\n            var ganttProp = data.ganttProperties;\n            taskbar.left = ganttProp.left;\n            taskbar.width = ganttProp.width;\n            if (taskbar.left < 0) {\n                taskbar.width = taskbar.width + taskbar.left;\n                taskbar.left = 0;\n            }\n            taskbar.progress = ganttProp.progress;\n            taskbar.isScheduledTask = isScheduledTask(ganttProp);\n            if (isScheduledTask) {\n                if (isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'startDate';\n                }\n                else if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'endDate';\n                }\n                else {\n                    taskbar.unscheduledTaskBy = 'duration';\n                    taskbar.unscheduleStarteDate = _this.parent.dateValidationModule.getValidStartDate(data.ganttProperties);\n                    taskbar.unscheduleEndDate = _this.parent.dateValidationModule.getValidEndDate(data.ganttProperties);\n                }\n            }\n            // else {\n            //     taskbar.unscheduleStarteDate = null;\n            //     taskbar.unscheduleEndDate = null;\n            // }\n            taskbar.startDate = ganttProp.startDate;\n            taskbar.endDate = ganttProp.endDate;\n            taskbar.height = _this.parent.chartRowsModule.taskBarHeight;\n            // if (this.parent.renderBaseline) {\n            //     let height: number;\n            //     if ((taskbar.height + this.baselineHeight) <= this.parent.rowHeight) {\n            //         height = taskbar.height;\n            //     } else {\n            //         height = taskbar.height - (this.baselineHeight + 1);\n            //     }\n            //     taskbar.height = height;\n            // }\n            taskbar.indicators = ganttProp.indicators;\n            taskbar.autoStartDate = ganttProp.autoStartDate;\n            taskbar.autoEndDate = ganttProp.autoEndDate;\n            taskbar.isAutoSchedule = ganttProp.isAutoSchedule;\n            taskbar.autoWidth = ganttProp.autoWidth;\n            taskbar.autoLeft = ganttProp.autoLeft;\n            taskbar.segment = ganttProp.segments;\n            taskbar.isSpliterTask = (isNullOrUndefined(ganttProp.segments) || ganttProp.segments.length === 0) ? false : true;\n            if (taskbar.isSpliterTask) {\n                taskbar.segmentCollection = taskbar.segment.map(function (obj) { return (__assign({}, obj)); });\n            }\n            taskbar.baselineTop = _this.parent.chartRowsModule.baselineTop;\n            taskbar.isMilestone = ganttProp.isMilestone;\n            taskbar.baselineStartDate = ganttProp.baselineStartDate;\n            taskbar.baselineEndDate = ganttProp.baselineEndDate;\n            taskbar.baselineLeft = ganttProp.baselineLeft;\n            taskbar.baselineWidth = ganttProp.baselineWidth;\n            if (taskbar.baselineLeft < 0) {\n                taskbar.baselineWidth = taskbar.baselineWidth + taskbar.baselineLeft;\n                taskbar.baselineLeft = 0;\n            }\n            taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.milestoneColor);\n            taskbar.isParentTask = data.hasChildRecords;\n            if (ganttProp.isMilestone) {\n                taskbar.height = ganttProp.width;\n            }\n            if (data[_this.parent.labelSettings.leftLabel]) {\n                taskbar.leftTaskLabel.value = data[_this.parent.labelSettings.leftLabel].toString();\n            }\n            if (data[_this.parent.labelSettings.rightLabel]) {\n                taskbar.rightTaskLabel.value = data[_this.parent.labelSettings.rightLabel].toString();\n            }\n            if (!isNullOrUndefined(data[_this.parent.labelSettings.taskLabel])) {\n                taskbar.taskLabel = data[_this.parent.labelSettings.taskLabel].toString();\n            }\n            var reduceLeft = ganttProp.isMilestone ? Math.floor(_this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n            taskbar.rightTaskLabel.left = ganttProp.left + ganttProp.width + reduceLeft; // right label left value\n            taskbar.fontFamily = _this.ganttStyle.fontFamily;\n            taskbar.progressWidth = ganttProp.progressWidth;\n            taskbar.labelColor = new PdfColor(_this.ganttStyle.label.fontColor);\n            taskbar.progressFontColor = new PdfColor(_this.ganttStyle.taskbar.progressFontColor);\n            if (taskbar.isParentTask) {\n                taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskColor);\n                taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskBorderColor);\n                taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.parentProgressColor);\n            }\n            else {\n                if (data.isCritical) {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.criticalProgressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskBorderColor);\n                    taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                }\n                else {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.taskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.progressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.taskBorderColor);\n                }\n            }\n            taskbar.manualParentBorder = new PdfColor(_this.ganttStyle.taskbar.manualParentBorder);\n            taskbar.manualChildBorder = new PdfColor(_this.ganttStyle.taskbar.manualChildBorder);\n            taskbar.manuallineColor = new PdfColor(_this.ganttStyle.taskbar.manualLineColor);\n            taskbar.unscheduledTaskBarColor = new PdfColor(_this.ganttStyle.taskbar.unscheduledTaskBarColor);\n            taskbar.manualParentBackground = new PdfColor(_this.ganttStyle.taskbar.manualParentBackground);\n            taskbar.manualParentProgress = new PdfColor(_this.ganttStyle.taskbar.manualParentProgress);\n            taskbar.manualChildBackground = new PdfColor(_this.ganttStyle.taskbar.manualChildBackground);\n            taskbar.manualChildProgress = new PdfColor(_this.ganttStyle.taskbar.manualChildProgress);\n            taskbar.splitLineBackground = new PdfColor(_this.ganttStyle.taskbar.splitLineBackground);\n            taskbar.baselineColor = new PdfColor(_this.ganttStyle.taskbar.baselineColor);\n            taskbar.baselineBorderColor = new PdfColor(_this.ganttStyle.taskbar.baselineBorderColor);\n            taskbar.gridLineColor = new PdfColor(_this.ganttStyle.chartGridLineColor);\n            var labelTemplateStyle = {};\n            labelTemplateStyle.leftLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.rightLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.taskLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            taskbar.labelSettings = labelTemplateStyle;\n            var taskbarTemplate = {\n                value: null,\n                image: null,\n                fontStyle: { fontBrush: null }\n            };\n            taskbar.taskbarTemplate = taskbarTemplate;\n            _this.gantt.taskbarCollection.push(taskbar);\n            var taskStyle = {};\n            taskStyle.progressFontColor = taskbar.progressFontColor;\n            taskStyle.taskColor = taskbar.taskColor;\n            taskStyle.taskBorderColor = taskbar.taskBorderColor;\n            taskStyle.progressColor = taskbar.progressColor;\n            taskStyle.milestoneColor = taskbar.milestoneColor;\n            taskStyle.baselineColor = taskbar.baselineColor;\n            taskStyle.baselineBorderColor = taskbar.baselineBorderColor;\n            var args = {\n                taskbar: taskStyle,\n                data: data,\n                indicators: data.ganttProperties.indicators,\n                labelSettings: labelTemplateStyle,\n                taskbarTemplate: taskbarTemplate\n            };\n            if (_this.parent.pdfQueryTaskbarInfo) {\n                var segmentCollection = [];\n                args.taskbar.taskSegmentStyles = null;\n                if (args.data.ganttProperties.segments) {\n                    for (var i = 0; i < args.data.ganttProperties.segments.length; i++) {\n                        var segmentTaskbar = {\n                            taskColor: args.taskbar.taskColor,\n                            taskBorderColor: args.taskbar.taskBorderColor,\n                            progressColor: args.taskbar.progressColor\n                        };\n                        segmentCollection.push(segmentTaskbar);\n                    }\n                    args.taskbar.taskSegmentStyles = segmentCollection;\n                }\n                _this.parent.trigger('pdfQueryTaskbarInfo', args);\n                taskbar.taskSegmentStyles = args.taskbar.taskSegmentStyles;\n                taskbar.progressFontColor = args.taskbar.progressFontColor;\n                taskbar.taskColor = args.taskbar.taskColor;\n                taskbar.taskBorderColor = args.taskbar.taskBorderColor;\n                taskbar.progressColor = args.taskbar.progressColor;\n                taskbar.milestoneColor = args.taskbar.milestoneColor;\n                taskbar.baselineColor = args.taskbar.baselineColor;\n                taskbar.baselineBorderColor = args.taskbar.baselineBorderColor;\n                taskbar.indicators = args.indicators;\n                taskbar.labelSettings.leftLabel.value = args.labelSettings.leftLabel.value;\n                var leftImages = args.labelSettings.leftLabel.image;\n                taskbar.labelSettings.rightLabel.value = args.labelSettings.rightLabel.value;\n                var rightImage = args.labelSettings.rightLabel.image;\n                if (!isNullOrUndefined(args.labelSettings.taskLabel.value)) {\n                    taskbar.taskLabel = args.labelSettings.taskLabel.value;\n                }\n                if (!isNullOrUndefined(args.labelSettings.leftLabel.image) && Array.isArray(args.labelSettings.leftLabel.image[0].base64)\n                    && args.labelSettings.leftLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.leftLabel.image[0].base64.length;\n                    taskbar.labelSettings.leftLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.leftLabel.image.push({\n                            base64: leftImages[0].base64[i],\n                            width: leftImages[0].width,\n                            height: leftImages[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.leftLabel.image)) {\n                    taskbar.labelSettings.leftLabel.image = args.labelSettings.leftLabel.image;\n                }\n                if (!isNullOrUndefined(args.labelSettings.rightLabel.image) && Array.isArray(args.labelSettings.rightLabel.image[0].base64)\n                    && args.labelSettings.rightLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.rightLabel.image[0].base64.length;\n                    taskbar.labelSettings.rightLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.rightLabel.image.push({\n                            base64: rightImage[0].base64[i],\n                            width: rightImage[0].width,\n                            height: rightImage[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.rightLabel.image)) {\n                    taskbar.labelSettings.rightLabel.image = args.labelSettings.rightLabel.image;\n                }\n                /* eslint-disable-next-line */\n                var applyTemplate = function (target, source) {\n                    target.progressFontColor = source.taskbar.progressFontColor;\n                    target.taskColor = new PdfColor(source.taskbar.taskColor);\n                    target.taskBorderColor = source.taskbar.taskBorderColor;\n                    target.progressColor = source.taskbar.progressColor;\n                    target.milestoneColor = source.taskbar.milestoneColor;\n                    if (!isNullOrUndefined(source.taskbarTemplate.image) && !isNullOrUndefined(source.taskbarTemplate.image[0].base64)) {\n                        var width = source.taskbarTemplate.image[0].width;\n                        var milestoneHeight = taskbar.isMilestone ? ((source.taskbarTemplate.image[0].height <\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7)) ? source.taskbarTemplate.image[0].height :\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2) : (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2;\n                        var taskbarHeight = !isNullOrUndefined(source.taskbarTemplate.image[0].height) ?\n                            ((source.taskbarTemplate.image[0].height < taskbar.height) ?\n                                source.taskbarTemplate.image[0].height : taskbar.height - 2) : taskbar.height - 2;\n                        var height = taskbar.isMilestone ? milestoneHeight : taskbarHeight;\n                        target.taskbarTemplate.image = source.taskbarTemplate.image;\n                        target.taskbarTemplate.image[0].width = width;\n                        target.taskbarTemplate.image[0].height = height;\n                    }\n                    if (!isNullOrUndefined(source.taskbarTemplate.value)) {\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.fontStyle.fontColor = source.taskbarTemplate.fontStyle.fontColor;\n                        target.taskbarTemplate.fontStyle.fontSize = source.taskbarTemplate.fontStyle.fontSize;\n                        target.taskbarTemplate.fontStyle.fontFamily = source.taskbarTemplate.fontStyle.fontFamily;\n                        target.taskbarTemplate.fontStyle.fontStyle = source.taskbarTemplate.fontStyle.fontStyle;\n                        target.taskbarTemplate.fontStyle.fontBrush = source.taskbarTemplate.fontStyle.fontBrush;\n                    }\n                };\n                if (!args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.ganttProperties.duration === 0) {\n                    applyTemplate(taskbar, args);\n                }\n            }\n        });\n    };\n    /**\n     * set text alignment of each columns in exporting grid\n     *\n     * @param {string} textAlign .\n     * @param {PdfStringFormat} format .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getHorizontalAlignment = function (textAlign, format) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n        }\n        switch (textAlign) {\n            case 'Right':\n                format.alignment = PdfTextAlignment.Right;\n                break;\n            case 'Center':\n                format.alignment = PdfTextAlignment.Center;\n                break;\n            case 'Justify':\n                format.alignment = PdfTextAlignment.Justify;\n                break;\n            case 'Left':\n                format.alignment = PdfTextAlignment.Left;\n                break;\n        }\n        return format;\n    };\n    /**\n     * set vertical alignment of each columns in exporting grid\n     *\n     * @param {string} verticalAlign .\n     * @param {PdfStringFormat} format .\n     * @param {string} textAlign .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getVerticalAlignment = function (verticalAlign, format, textAlign) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n            format = this.getHorizontalAlignment(textAlign, format);\n        }\n        switch (verticalAlign) {\n            case 'Bottom':\n                format.lineAlignment = PdfVerticalAlignment.Bottom;\n                break;\n            case 'Middle':\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                break;\n            case 'Top':\n                format.lineAlignment = PdfVerticalAlignment.Top;\n                break;\n        }\n        return format;\n    };\n    ExportHelper.prototype.getFontFamily = function (fontFamily) {\n        switch (fontFamily) {\n            case 'TimesRoman':\n                return 2;\n            case 'Courier':\n                return 1;\n            case 'Symbol':\n                return 3;\n            case 'ZapfDingbats':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getFontStyle = function (fontStyle) {\n        switch (fontStyle) {\n            case 'Strikeout':\n                return 8;\n            case 'Underline':\n                return 4;\n            case 'Italic':\n                return 2;\n            case 'Bold':\n                return 1;\n            default:\n                return 0;\n        }\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportHelper.prototype.getFont = function (content) {\n        if (content.font) {\n            return content.font;\n        }\n        var defaultFontFamily = this.exportProps.ganttStyle && this.exportProps.ganttStyle.fontFamily ?\n            this.exportProps.ganttStyle.fontFamily : PdfFontFamily.TimesRoman;\n        var fontSize = (!isNullOrUndefined(content.style.fontSize)) ? (content.style.fontSize * 0.75) : 9.75;\n        var fontFamily = (!isNullOrUndefined(content.style.fontFamily)) ?\n            (this.getFontFamily(content.style.fontFamily)) : defaultFontFamily;\n        var fontStyle = PdfFontStyle.Regular;\n        // if (!isNullOrUndefined(content.style.bold) && content.style.bold) {\n        //     fontStyle |= PdfFontStyle.Bold;\n        // }\n        // if (!isNullOrUndefined(content.style.italic) && content.style.italic) {\n        //     fontStyle |= PdfFontStyle.Italic;\n        // }\n        // if (!isNullOrUndefined(content.style.underline) && content.style.underline) {\n        //     fontStyle |= PdfFontStyle.Underline;\n        // }\n        // if (!isNullOrUndefined(content.style.strikeout) && content.style.strikeout) {\n        //     fontStyle |= PdfFontStyle.Strikeout;\n        // }\n        return new PdfStandardFont(fontFamily, fontSize, fontStyle);\n    };\n    ExportHelper.prototype.renderEmptyGantt = function () {\n        var row = this.gantt.rows.addRow();\n        if (row.cells.count === 0) {\n            row.cells.add();\n        }\n        row.cells.getCell(0).isHeaderCell = false;\n        row.height = pixelToPoint(this.parent.rowHeight);\n        this.copyStyles(this.ganttStyle.columnHeader, row.cells.getCell(0), row.isParentRow);\n        var count = this.columns.length;\n        row.cells.getCell(0).value = this.parent.localeObj.getConstant('emptyRecord');\n        this.mergeCells(1, 0, count);\n    };\n    ExportHelper.prototype.mergeCells = function (rowIndex, colIndex, lastColIndex) {\n        this.gantt.rows.getRow(rowIndex).cells.getCell(colIndex).columnSpan = lastColIndex;\n    };\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.copyStyles = function (style, cell, isParentRow) {\n        cell.style.fontColor = new PdfColor(style.fontColor);\n        cell.style.backgroundColor = new PdfColor(style.backgroundColor);\n        cell.style.borderColor = new PdfColor(style.borderColor);\n        cell.style.fontSize = style.fontSize;\n        cell.style.fontStyle = style.fontStyle;\n        /* eslint-disable-next-line */\n        cell.style.format = Object.assign(new PdfStringFormat(), style.format);\n        cell.style.borders = new PdfBorders();\n        cell.style.borders.all = new PdfPen(cell.style.borderColor);\n        cell.style.padding = new PdfPaddings();\n        var padding = 0;\n        if (cell.isHeaderCell) {\n            padding = this.parent.timelineModule.isSingleTier ? 45 / 2 : 60 / 2;\n        }\n        else {\n            padding = this.parent.rowHeight / 2;\n        }\n        cell.style.padding.top = (padding - style.fontSize > 0) ? padding - style.fontSize : padding;\n        cell.style.padding.bottom = (padding - style.fontSize > 0) ? padding - style.fontSize : 0;\n        cell.style.padding.left = 10;\n        cell.style.padding.right = 10;\n        if (style.padding) {\n            cell.style.padding = style.padding;\n        }\n        if (style.borders) {\n            cell.style.borders = style.borders;\n        }\n    };\n    /**\n     * @param {PdfDocument} pdfDoc .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.initializePdf = function (pdfDoc) {\n        this.pdfDoc = pdfDoc;\n        var widths = [];\n        var treeColumnIndex = 0;\n        var tWidth = (this.pdfDoc.pageSettings.width - 82);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            var gridWidth = void 0;\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n            }\n            else {\n                if (this.exportProps.fitToWidthSettings.chartWidth) {\n                    var chartWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n                    gridWidth = 100 - chartWidth;\n                }\n                else {\n                    gridWidth = 30;\n                }\n            }\n            var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * gridWidth) / 100;\n            var perColumnWidth = pdfwidth / this.gantt.columns.columns.length;\n            for (var i = 0; i < this.gantt.columns.columns.length; i++) {\n                this.gantt.columns.getColumn(i).width = perColumnWidth;\n            }\n        }\n        /* eslint-disable-next-line */\n        var PdfPage = this.parent.pdfExportModule.pdfPage;\n        if (this.totalColumnWidth > (this.pdfDoc.pageSettings.width - 82) && this.totalColumnWidth < PdfPage.getClientSize().width) {\n            this.gantt.style.allowHorizontalOverflow = true;\n        }\n        else if ((tWidth / this.columns.length) < widths[treeColumnIndex]) {\n            this.gantt.columns.getColumn(treeColumnIndex).width = widths[treeColumnIndex];\n        }\n        if (this.exportProps.enableFooter || isNullOrUndefined(this.exportProps.enableFooter)) {\n            //code for draw the footer content\n            var pageSize_1 = this.parent.pdfExportModule.getPageSize(this.exportProps.pageSize);\n            var bounds = new RectangleF(0, 0, pageSize_1.width, 35);\n            var pen = new PdfPen(this.ganttStyle.footer.borderColor);\n            var footer = new PdfPageTemplateElement(bounds);\n            var footerBrush = new PdfSolidBrush(this.ganttStyle.footer.backgroundColor);\n            footer.graphics.drawRectangle(pen, footerBrush, 0, 0, pageSize_1.width, 35);\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.ganttStyle.fontFamily, this.ganttStyle.footer.fontSize, this.ganttStyle.footer.fontStyle);\n            if (this.ganttStyle.font) {\n                font = this.ganttStyle.font;\n            }\n            var brush = new PdfSolidBrush(this.ganttStyle.footer.fontColor);\n            var pageNumber = new PdfPageNumberField(font);\n            var count = new PdfPageCountField(font, brush);\n            var compositeField = new PdfCompositeField(font, brush, 'Page {0}', pageNumber, count);\n            compositeField.stringFormat = this.ganttStyle.footer.format;\n            compositeField.bounds = bounds;\n            compositeField.draw(footer.graphics, new PointF(0, 0));\n            pdfDoc.template.bottom = footer;\n        }\n        /* eslint-disable-next-line */\n        var pageSize = PdfPage.size;\n        var clientSize = !isNullOrUndefined(pageSize) ? pageSize : this.pdfDoc.pageSettings.size;\n        // code for draw header content\n        if (!isNullOrUndefined(this.exportProps.header)) {\n            var headerProp = this.exportProps.header;\n            var position = new PointF(0, headerProp.fromTop);\n            var size = new SizeF((clientSize.width * 1.1), ((headerProp && headerProp.height) ? headerProp.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            pdfDoc.template.top = this.drawPageTemplate(new PdfPageTemplateElement(bounds), headerProp);\n        }\n        // code for customization of footer\n        if (!this.exportProps.enableFooter && !isNullOrUndefined(this.exportProps.footer)) {\n            var footer = this.exportProps.footer;\n            var position = new PointF(0, ((clientSize.width - 80) - ((footer && footer.fromBottom) ?\n                footer.fromBottom * 0.75 : 0)));\n            var size = new SizeF((clientSize.width * 1.1), ((footer && footer.height) ? footer.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            this.pdfDoc.template.bottom = this.drawPageTemplate(new PdfPageTemplateElement(bounds), footer);\n        }\n    };\n    ExportHelper.prototype.drawPageTemplate = function (template, element) {\n        for (var _i = 0, _a = element.contents; _i < _a.length; _i++) {\n            var content = _a[_i];\n            switch (content.type) {\n                case 'Text':\n                    if (content.value === '' || content.value === undefined || content.value === null || typeof content.value !== 'string') {\n                        throw new Error('please enter the valid input value in text content...');\n                    }\n                    this.drawText(template, content);\n                    break;\n                case 'PageNumber':\n                    this.drawPageNumber(template, content);\n                    break;\n                case 'Image':\n                    if (content.src === undefined || content.src === null || content.src === '') {\n                        throw new Error('please enter the valid base64 string in image content...');\n                    }\n                    this.drawImage(template, content);\n                    break;\n                case 'Line':\n                    this.drawLine(template, content);\n                    break;\n                default:\n                    throw new Error('Please set valid content type...');\n            }\n        }\n        return template;\n    };\n    // code for draw text\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawText = function (pageTemplate, content) {\n        var font = this.getFont(content);\n        if (this.ganttStyle.font) {\n            font = this.ganttStyle.font;\n        }\n        var brush = this.getBrushFromContent(content);\n        var pen = null;\n        if (!isNullOrUndefined(content.style.textPenColor)) {\n            var penColor = this.hexToRgb(content.style.textPenColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        if (brush === null && pen === null) {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var value = content.value.toString();\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var format = new PdfStringFormat();\n        if (!isNullOrUndefined(content.style.stringFormat)) {\n            format.alignment = content.style.stringFormat.alignment;\n        }\n        var result = this.setContentFormat(content, format);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, result.size.width, result.size.height, result.format);\n        }\n        else {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, format);\n        }\n    };\n    // code for draw pagenumber\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawPageNumber = function (documentHeader, content) {\n        var font = this.getFont(content);\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        else {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var pageNumber = new PdfPageNumberField(font, brush);\n        pageNumber.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n        var compositeField;\n        var format;\n        if (!isNullOrUndefined(content.format)) {\n            var total = '$total';\n            var current = '$current';\n            if (content.format.indexOf(total) !== -1 && content.format.indexOf(current) !== -1) {\n                var pageCount = new PdfPageCountField(font);\n                pageCount.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n                if (content.format.indexOf(total) > content.format.indexOf(current)) {\n                    format = content.format.replace(current, '0');\n                    format = format.replace(total, '1');\n                }\n                else {\n                    format = content.format.replace(current, '1');\n                    format = format.replace(total, '0');\n                }\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber, pageCount);\n            }\n            else if (content.format.indexOf(current) !== -1 && content.format.indexOf(total) === -1) {\n                format = content.format.replace(current, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n            }\n            else {\n                var pageCount = new PdfPageCountField(font);\n                format = content.format.replace(total, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageCount);\n            }\n        }\n        else {\n            format = '{0}';\n            compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n        }\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var result = this.setContentFormat(content, compositeField.stringFormat);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            compositeField.stringFormat = result.format;\n            compositeField.bounds = new RectangleF(x, y, result.size.width, result.size.height);\n        }\n        compositeField.draw(documentHeader.graphics, x, y);\n    };\n    // code for draw image\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawImage = function (documentHeader, content) {\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var width = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.width)) ?\n            (content.size.width * 0.50) : undefined;\n        var height = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.height)) ?\n            (content.size.height * 0.75) : undefined;\n        var image = new PdfBitmap(content.src);\n        if (!isNullOrUndefined(width)) {\n            documentHeader.graphics.drawImage(image, x, y, width, height);\n        }\n        else {\n            documentHeader.graphics.drawImage(image, x, y);\n        }\n    };\n    // code for draw line\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawLine = function (documentHeader, content) {\n        var x1 = content.points.x1 * 0.75;\n        var y1 = content.points.y1 * 0.75;\n        var x2 = content.points.x2 * 0.75;\n        var y2 = content.points.y2 * 0.75;\n        var pen = this.getPenFromContent(content);\n        if (!isNullOrUndefined(content.style)) {\n            if (!isNullOrUndefined(content.style.penSize) && typeof content.style.penSize === 'number') {\n                pen.width = content.style.penSize * 0.75;\n            }\n            pen.dashStyle = this.getDashStyle(content.style.dashStyle);\n        }\n        documentHeader.graphics.drawLine(pen, x1, y1, x2, y2);\n    };\n    ExportHelper.prototype.getPenFromContent = function (content) {\n        var pen = new PdfPen(new PdfColor(0, 0, 0));\n        if (!isNullOrUndefined(content.style) && content.style !== null && !isNullOrUndefined(content.style.penColor)) {\n            var penColor = this.hexToRgb(content.style.penColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        return pen;\n    };\n    ExportHelper.prototype.getDashStyle = function (dashStyle) {\n        switch (dashStyle) {\n            case 'Dash':\n                return 1;\n            case 'Dot':\n                return 2;\n            case 'DashDot':\n                return 3;\n            case 'DashDotDot':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getBrushFromContent = function (content) {\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            /* tslint:disable-next-line:max-line-length */\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        return brush;\n    };\n    ExportHelper.prototype.hexToRgb = function (hex) {\n        if (hex === null || hex === '' || hex.length !== 7) {\n            throw new Error('please set valid hex value for color...');\n        }\n        hex = hex.substring(1);\n        var bigint = parseInt(hex, 16);\n        var r = (bigint >> 16) & 255;\n        var g = (bigint >> 8) & 255;\n        var b = bigint & 255;\n        return { r: r, g: g, b: b };\n    };\n    ExportHelper.prototype.setContentFormat = function (content, format) {\n        var width = (content.size) ? content.size.width * 0.75 : this.pdfDoc.pageSettings.size.width;\n        var height = (content.size) ? content.size.height * 0.75 : (!isNullOrUndefined(this.exportProps.footer) ?\n            this.exportProps.footer.height * 0.50 : 0);\n        format = new PdfStringFormat(PdfTextAlignment.Left, PdfVerticalAlignment.Middle);\n        if (!isNullOrUndefined(content.style.hAlign)) {\n            switch (content.style.hAlign) {\n                case 'Right':\n                    format.alignment = PdfTextAlignment.Right;\n                    break;\n                case 'Center':\n                    format.alignment = PdfTextAlignment.Center;\n                    break;\n                case 'Justify':\n                    format.alignment = PdfTextAlignment.Justify;\n                    break;\n                default:\n                    format.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if (!isNullOrUndefined(content.style.vAlign)) {\n            format = this.getVerticalAlignment(content.style.vAlign, format);\n        }\n        return { format: format, size: new SizeF(width, height) };\n    };\n    ExportHelper.prototype.getPageNumberStyle = function (pageNumberType) {\n        switch (pageNumberType) {\n            case 'LowerLatin':\n                return 2;\n            case 'LowerRoman':\n                return 3;\n            case 'UpperLatin':\n                return 4;\n            case 'UpperRoman':\n                return 5;\n            default:\n                return 1;\n        }\n    };\n    return ExportHelper;\n}());\nexport { ExportHelper };\n/**\n * @hidden\n * `ExportValueFormatter` for `PdfExport` & `ExcelExport`\n */\nvar ExportValueFormatter = /** @class */ (function () {\n    function ExportValueFormatter(culture) {\n        this.valueFormatter = new ValueFormatter(culture);\n        this.internationalization = new Internationalization(culture);\n    }\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportValueFormatter.prototype.returnFormattedValue = function (args, customFormat) {\n        if (!isNullOrUndefined(args.value) && args.value) {\n            return this.valueFormatter.getFormatFunction(customFormat)(args.value);\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * @private\n     */\n    /* eslint-disable-next-line  */\n    ExportValueFormatter.prototype.formatCellValue = function (args) {\n        if (args.isForeignKey) {\n            args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0]);\n        }\n        if (args.column.type === 'number' && args.column.format !== undefined && args.column.format !== '') {\n            return args.value ? this.internationalization.getNumberFormat({ format: args.column.format })(args.value) : '';\n        }\n        else if (args.column.type === 'boolean') {\n            return args.value ? 'true' : 'false';\n        }\n        else if ((args.column.type === 'date' || args.column.type === 'datetime' || args.column.type === 'time') && args.column.format !== undefined) {\n            if (typeof args.value === 'string') {\n                args.value = new Date(args.value);\n            }\n            if (typeof args.column.format === 'string') {\n                var format = void 0;\n                if (args.column.type === 'date') {\n                    format = { type: 'date', format: args.column.format };\n                }\n                else if (args.column.type === 'time') {\n                    format = { type: 'time', format: args.column.format };\n                }\n                else {\n                    format = { type: 'dateTime', format: args.column.format };\n                }\n                return this.returnFormattedValue(args, format);\n            }\n            else {\n                if (args.column.format instanceof Object && args.column.format.type === undefined) {\n                    return (args.value.toString());\n                }\n                else {\n                    var customFormat = void 0;\n                    if (args.column.type === 'date') {\n                        /* eslint-disable-next-line max-len */\n                        customFormat = { type: args.column.format.type, format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else if (args.column.type === 'time') {\n                        customFormat = { type: 'time', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else {\n                        customFormat = { type: 'dateTime', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    return this.returnFormattedValue(args, customFormat);\n                }\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(args.column.type) && !isNullOrUndefined(args.value)) || !isNullOrUndefined(args.value)) {\n                return (args.value).toString();\n            }\n            else {\n                return '';\n            }\n        }\n    };\n    return ExportValueFormatter;\n}());\nexport { ExportValueFormatter };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfColor, PdfStringLayouter, PdfPen, PdfSolidBrush, RectangleF, SizeF, PdfStandardFont, PdfFontStyle, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, PdfDashStyle, PdfPath, PdfBitmap, PdfBrushes, PdfLinearGradientBrush } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttTaskbarCollection = /** @class */ (function () {\n    function PdfGanttTaskbarCollection(parent) {\n        /** Defines the task baselineHeight . */\n        this.baselineHeight = 8;\n        this.segment = [];\n        this.segmentCollection = [];\n        /**\n         * @private\n         */\n        this.leftTaskLabel = {};\n        /**\n         * @private\n         */\n        this.rightTaskLabel = {};\n        this.startPage = -1;\n        this.endPage = -1;\n        this.parent = parent;\n    }\n    PdfGanttTaskbarCollection.prototype.add = function () {\n        return new PdfGanttTaskbarCollection(this.parent);\n    };\n    /**\n     * @param {PdfPage} page .\n     * @returns {PdfPage} .\n     * Get the next PDF page\n     */\n    PdfGanttTaskbarCollection.prototype.GetNextPage = function (page) {\n        var section = page.section;\n        var index = section.indexOf(page);\n        var nextPage = null;\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        return nextPage;\n    };\n    PdfGanttTaskbarCollection.prototype.isAutoFit = function () {\n        return ((this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) ||\n            this.parent.timelineModule.isZoomedToFit) ? true : false;\n    };\n    /**\n     * Draw the taskbar, chart back ground\n     *\n     * @private\n     */\n    /* eslint-disable */\n    PdfGanttTaskbarCollection.prototype.drawTaskbar = function (page, startPoint, detail, cumulativeWidth, rowHeight, taskbar, lineWidth) {\n        var _this = this;\n        var taskGraphics = page.graphics;\n        var isNextPage = false;\n        var pageSize = page.getClientSize();\n        var yPoint = startPoint.y + rowHeight;\n        //code for while current pdf page is exceed\n        if (yPoint > pageSize.height) {\n            page = this.GetNextPage(page);\n            page['contentWidth'] = (this.isAutoFit()) ? pointToPixel(detail.endPoint - detail.startPoint) : detail.endPoint - detail.startPoint;\n            taskGraphics = page.graphics;\n            startPoint.y = 0;\n            if (this.parent.pdfExportModule.gantt.enableHeader) {\n                this.parent.pdfExportModule.gantt.chartHeader.drawPageTimeline(page, startPoint, detail);\n                startPoint.y = pixelToPoint(this.parent.timelineModule.isSingleTier ? 45 : 60);\n            }\n            isNextPage = true;\n            var graphics = page.graphics;\n            var pen = new PdfPen(new PdfColor(206, 206, 206));\n            if (page['contentWidth'] && (this.parent.gridLines === \"Both\" || this.parent.gridLines === \"Horizontal\")) {\n                graphics.drawRectangle(pen, startPoint.x, startPoint.y, this.isAutoFit() && this.parent.timelineModule.bottomTier !== \"Day\" ? page['contentWidth'] + 0.5 : lineWidth, rowHeight);\n            }\n        }\n        this.drawLeftLabel(page, startPoint, detail, cumulativeWidth, taskbar);\n        //Draw Taskbar\n        var font = new PdfStandardFont(this.fontFamily, 9, PdfFontStyle.Regular);\n        var fontColor = null;\n        var fontBrush = new PdfSolidBrush(this.progressFontColor);\n        var customizedFont;\n        var customizedFontBrush;\n        var customizedFontColor;\n        customizedFont = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontFamily && taskbar.taskbarTemplate.fontStyle.fontSize\n            ? new PdfStandardFont(taskbar.taskbarTemplate.fontStyle.fontFamily, taskbar.taskbarTemplate.fontStyle.fontSize, taskbar.taskbarTemplate.fontStyle.fontStyle)\n            : font;\n        customizedFontBrush = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontColor\n            ? new PdfSolidBrush(taskbar.taskbarTemplate.fontStyle.fontColor)\n            : fontBrush;\n        customizedFontColor = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontBrush\n            ? new PdfPen(taskbar.taskbarTemplate.fontStyle.fontBrush)\n            : fontColor;\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var taskLabelFont;\n        var taskLabelFontBrush;\n        var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontSize) {\n            var taskFont = new PdfStandardFont(taskbar.labelSettings.taskLabel.fontStyle.fontFamily, taskbar.labelSettings.taskLabel.fontStyle.fontSize, taskbar.labelSettings.taskLabel.fontStyle.fontStyle);\n            taskLabelFont = taskFont;\n        }\n        else if (ganttStyle && ganttStyle.label && ganttStyle.label.fontBrush) {\n            taskLabelFontBrush = new PdfSolidBrush(ganttStyle.label.fontBrush);\n        }\n        else {\n            taskLabelFont = font;\n        }\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontColor) {\n            taskLabelFontBrush = new PdfSolidBrush(taskbar.labelSettings.taskLabel.fontStyle.fontColor);\n        }\n        else {\n            taskLabelFontBrush = fontBrush;\n        }\n        var progressFormat = new PdfStringFormat();\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        progressFormat.alignment = PdfTextAlignment.Right;\n        var isLabelString = false;\n        var updatedWidth;\n        if (!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z0-9]/.test(this.taskLabel))) {\n            if (this.taskLabel === '0' || this.taskLabel === '0%') {\n                updatedWidth = this.width;\n                progressFormat.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if ((!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z]/.test(this.taskLabel))) || (!isNullOrUndefined(taskbar.taskbarTemplate.value))) {\n            isLabelString = true;\n            progressFormat.alignment = PdfTextAlignment.Left;\n        }\n        var pageIndex = -1;\n        var baselinePen = new PdfPen(taskbar.baselineBorderColor);\n        var baselineBrush = new PdfSolidBrush(taskbar.baselineColor);\n        var template = taskbar.taskbarTemplate;\n        var renderedBaseline = false;\n        if (!taskbar.isMilestone) {\n            var taskbarPen_1 = new PdfPen(taskbar.taskBorderColor);\n            var taskBrush_1 = new PdfSolidBrush(taskbar.taskColor);\n            var manualParentBorderPen = new PdfPen(taskbar.manualParentBorder);\n            var manualChildBorderPen = new PdfPen(taskbar.manualChildBorder);\n            var manualTaskbarPen = new PdfPen(taskbar.manuallineColor);\n            var manualParentPen = new PdfPen(taskbar.manualParentProgress);\n            var manualline = new PdfPen(taskbar.manuallineColor);\n            var manuallineBrush = new PdfSolidBrush(taskbar.manuallineColor);\n            var splitline = new PdfPen(taskbar.splitLineBackground);\n            var manualBrush = new PdfSolidBrush(taskbar.manualParentBackground);\n            var manualChildBrush = new PdfSolidBrush(taskbar.manualChildBackground);\n            var manualChildProgressBrush = new PdfSolidBrush(taskbar.manualChildProgress);\n            var manualProgressBrush = new PdfSolidBrush(taskbar.manualParentProgress);\n            var progressPen_1 = new PdfPen(taskbar.progressColor);\n            var progressBrush_1 = new PdfSolidBrush(taskbar.progressColor);\n            var adjustHeightforTaskbar = pixelToPoint((this.parent.rowHeight - this.height) / 2.0);\n            var adjustHeightforBaseline = pixelToPoint((this.parent.rowHeight - this.height) / 4.5);\n            var adjustHeight_1 = this.parent.renderBaseline ? adjustHeightforBaseline : adjustHeightforTaskbar;\n            pageIndex = page.section.indexOf(page);\n            var startDate = isNullOrUndefined(this.unscheduleStarteDate) ? this.startDate : this.unscheduleStarteDate;\n            var endDate = isNullOrUndefined(this.unscheduleEndDate) ? this.endDate : this.unscheduleEndDate;\n            var imageSize_1 = 10;\n            //Task start and end date both are in the range of header split up start and end date\n            if (detail.startDate <= startDate && endDate <= detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, startPoint.y + adjustHeight_1, (taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                            var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                        });\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.save();\n                        var path = new PdfPath();\n                        path.addEllipse(0, 0, 5, 5);\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                        taskGraphics.restore();\n                        var path1 = new PdfPath();\n                        path1.addEllipse(0, 0, 5, 5);\n                        taskGraphics.save();\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1);\n                        taskGraphics.restore();\n                        manualline.dashStyle = PdfDashStyle.Solid;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                        else {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                    }\n                    else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width / 2.0;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + (taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0, (taskbar.taskbarTemplate.image[0].width) / 2.0, (taskbar.taskbarTemplate.image[0].height) / 2.0);\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                if (taskbar.taskbarTemplate.value) {\n                                    if (isLabelString) {\n                                        updatedWidth = this.width;\n                                    }\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat) : '';\n                            }\n                        }\n                    }\n                    if (this.isScheduledTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) && !isNullOrUndefined(this.taskLabel)) {\n                                if (this.taskLabel !== '0' && this.taskLabel !== '0%') {\n                                    updatedWidth = this.progressWidth;\n                                }\n                                if (isLabelString) {\n                                    updatedWidth = this.width;\n                                }\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                                else {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                    }\n                    else if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                            var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                        });\n                    }\n                }\n                this.isCompleted = true;\n                this.startPage = pageIndex;\n                this.endPage = pageIndex;\n            }\n            //Task start date is in the range of header split up start and end date\n            else if (detail.startDate <= startDate && detail.endDate >= startDate && (endDate >= detail.endDate)) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                var width = this.width;\n                var renderWidth_1 = 0;\n                var progressWidth = 0;\n                var splitRenderwidth_1 = 0;\n                this.width = this.width - (detail.totalWidth - (this.left - cumulativeWidth));\n                renderWidth_1 = (detail.totalWidth - (this.left - cumulativeWidth));\n                progressWidth = (detail.totalWidth - (this.left - cumulativeWidth));\n                if (width < renderWidth_1) {\n                    renderWidth_1 = width;\n                }\n                splitRenderwidth_1 = renderWidth_1;\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, startPoint.y + adjustHeight_1, (renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    taskGraphics.save();\n                    var path = new PdfPath();\n                    path.addEllipse(0, 0, 5, 5);\n                    if (this.isAutoFit()) {\n                        taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    else {\n                        taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                    taskGraphics.restore();\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((renderWidth_1) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                    else {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(renderWidth_1) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.restore();\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        var pervwidth_1 = 0;\n                        var valueChangeBlocker_1 = true;\n                        var lineWidth_1 = 0;\n                        taskbar.segment.map(function (item) {\n                            lineWidth_1 = item.left + item.width;\n                        });\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((lineWidth_1) + (this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(lineWidth_1) + pixelToPoint(this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                            var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (taskbar.taskbarTemplate.image[0].width), (taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left) + imageWidth, startPoint.y + adjustHeight_1, (data.width), (taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            pervwidth_1 = data.left + data.width;\n                            if (renderWidth_1 >= pervwidth_1) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                            }\n                            else {\n                                if (renderWidth_1 >= (pervwidth_1 - data.width)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                                }\n                                else {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = ((splitRenderwidth_1 - data.left));\n                                }\n                                if (renderWidth_1 >= (pervwidth_1)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                }\n                                else {\n                                    if (valueChangeBlocker_1) {\n                                        _this.segmentCollection[parseInt(index.toString(), 10)].width = pervwidth_1 - renderWidth_1;\n                                        valueChangeBlocker_1 = false;\n                                    }\n                                }\n                            }\n                            splitRenderwidth_1 = splitRenderwidth_1 + data.width + data.left;\n                        });\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 0.5), (taskbar.taskbarTemplate.image[0].width / 2.0), (taskbar.taskbarTemplate.image[0].height / 2.0));\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    this.stringLeft = pixelToPoint(this.left);\n                                    var result_1 = this.getWidth(taskbar.taskbarTemplate.value, detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_1.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result_1.remainder)) {\n                                        this.remainString = result_1.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                            }\n                        }\n                        if (taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                            var progressBoundsWidth = 0;\n                            if (this.progressWidth <= renderWidth_1) {\n                                progressBoundsWidth = this.progressWidth;\n                            }\n                            else {\n                                progressBoundsWidth = renderWidth_1;\n                            }\n                            if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                                else {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                            }\n                            this.progressWidth -= progressBoundsWidth;\n                            if (this.parent.labelSettings.taskLabel && !isNullOrUndefined(this.taskLabel)) {\n                                updatedWidth = progressBoundsWidth;\n                                if (isLabelString) {\n                                    updatedWidth = renderWidth_1;\n                                }\n                                this.stringLeft = this.left;\n                                if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var result_2 = this.getWidth(this.taskLabel.toString(), detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_2.lines[0].text, taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result_2.remainder)) {\n                                        this.remainString = result_2.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                                else {\n                                    if (this.isAutoFit()) {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                    else {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                            var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (_this.segmentCollection[parseInt(index.toString(), 10)].width === 0) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = 0;\n                            }\n                            else {\n                                if (data.width - _this.segmentCollection[parseInt(index.toString(), 10)].width < data.progressWidth && data.width !== _this.segmentCollection[index].width) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = data.progressWidth - (data.width - _this.segmentCollection[index].width);\n                                }\n                            }\n                        });\n                    }\n                }\n                this.left = 0;\n                this.isCompleted = false;\n                this.startPage = pageIndex;\n            }\n            //Task end date is in the range of header split up start and end date\n            else if (endDate <= detail.endDate && detail.startDate <= endDate && !this.isCompleted) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                    taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                    taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                    if (template.value || template.image) {\n                        var imageWidth = void 0;\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                            imageWidth = taskbar.taskbarTemplate.image[0].width;\n                            var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                            taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                        }\n                        else {\n                            imageWidth = 0;\n                        }\n                        !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var path1 = new PdfPath();\n                    path1.addEllipse(0, 0, 5, 5); // Circle with radius 5\n                    taskGraphics.save(); // Save the current graphics state  \n                    var lineStartX = startPoint.x + pixelToPoint(this.left + 0.5); // Calculate the endpoint of the line\n                    var lineEndX = pixelToPoint(taskbar.width) + lineStartX - 5;\n                    var lineY = startPoint.y + adjustHeight_1;\n                    taskGraphics.drawLine(manualline, lineStartX, lineY, lineEndX, lineY); // Draw the line first     \n                    taskGraphics.translateTransform(lineEndX, lineY - 2); // Now move the origin to the line's end point to draw the circle        \n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1); // Draw the circle at the end of the line  \n                    taskGraphics.restore(); // Restore the graphics state\n                    manualline.dashStyle = PdfDashStyle.Solid; // Ensure the line has a solid style\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (taskbar.isSpliterTask) {\n                    splitline.dashStyle = PdfDashStyle.Dot;\n                    taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                    taskbar.segmentCollection.map(function (data, index) {\n                        var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                        var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                        if (data.width !== 0) {\n                            taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                            if (template.value || template.image) {\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                            }\n                        }\n                    });\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    if (!isNullOrUndefined(this.remainString)) {\n                        var result = this.getWidth(this.remainString, taskbar.width - taskbar.left, 15);\n                        taskGraphics.drawString(result.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left), (startPoint.y + adjustHeight_1), result.actualSize.width, pixelToPoint(this.height), progressFormat);\n                    }\n                }\n                if (this.isScheduledTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    if (!isNullOrUndefined(this.taskLabel)) {\n                        updatedWidth = this.progressWidth;\n                        if (isLabelString) {\n                            updatedWidth = this.width;\n                        }\n                        if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                if (!isNullOrUndefined(this.remainString)) {\n                                    var result_3 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_3.lines[0].text, font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        if (!isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = this.progressWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            taskGraphics.drawString(this.taskLabel.toString(), font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                else if (taskbar.isSpliterTask) {\n                    taskbar.segmentCollection.map(function (data, index) {\n                        var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                        var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                        taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                    });\n                }\n                this.isCompleted = true;\n                this.endPage = pageIndex;\n            }\n            //Header splitup start and end date with in the task start and end date.\n            //So the task is takes entire width of page.\n            else if (startDate < detail.startDate && endDate > detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                    taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left) + pixelToPoint(detail.totalWidth) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                    taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth) / 2, pixelToPoint(taskbar.height));\n                    if (template.value || template.image) {\n                        var imageWidth = void 0;\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                            imageWidth = taskbar.taskbarTemplate.image[0].width;\n                            var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                            taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                        }\n                        else {\n                            imageWidth = 0;\n                        }\n                        !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : 0;\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    taskGraphics.restore();\n                    var progressBoundsWidth = 0;\n                    if (this.progressWidth <= detail.totalWidth) {\n                        progressBoundsWidth = this.progressWidth;\n                    }\n                    else {\n                        progressBoundsWidth = detail.totalWidth;\n                    }\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                    }\n                    this.progressWidth -= progressBoundsWidth;\n                    taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    taskGraphics.drawLine(manualline, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), startPoint.y + adjustHeight_1);\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                        if (!isNullOrUndefined(this.remainString)) {\n                            var result_4 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                            taskGraphics.drawString(result_4.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, (startPoint.y + adjustHeight_1), pixelToPoint(detail.totalWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                    if (this.isScheduledTask && !taskbar.isParentTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= detail.totalWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = detail.totalWidth;\n                        }\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (!isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = progressBoundsWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                this.isCompleted = false;\n                this.width -= detail.totalWidth;\n            }\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                if (detail.startDate <= taskbar.baselineStartDate && taskbar.baselineEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.baselineStartDate && detail.endDate >= taskbar.baselineStartDate && (taskbar.baselineEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var width = this.baselineWidth;\n                    var renderWidth = 0;\n                    renderWidth = (detail.totalWidth - (taskbar.baselineLeft - cumulativeWidth));\n                    if (width < renderWidth) {\n                        renderWidth = width;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    taskbar.baselineWidth = taskbar.baselineWidth - renderWidth;\n                    this.baselineLeft = 0;\n                    this.isCompletedBaseline = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.baselineEndDate <= detail.endDate && detail.startDate <= taskbar.baselineEndDate && !this.isCompletedBaseline) {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.baselineStartDate < detail.startDate && taskbar.baselineEndDate > detail.endDate) {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = false;\n                    this.baselineWidth -= detail.totalWidth;\n                }\n            }\n            if (!this.isAutoSchedule && taskbar.isParentTask) {\n                if (detail.startDate <= taskbar.autoStartDate && taskbar.autoEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                        }\n                    }\n                    this.isCompletedAutotask = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.autoStartDate && detail.endDate >= taskbar.autoStartDate && (taskbar.autoEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var renderWidth = 0;\n                    var progressWidth = 0;\n                    renderWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    progressWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressWidth), pixelToPoint(12));\n                        }\n                        taskbar.autoWidth = taskbar.autoWidth - renderWidth;\n                        taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                    }\n                    this.autoLeft = 0;\n                    this.isCompletedAutotask = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.autoEndDate <= detail.endDate && detail.startDate <= taskbar.autoEndDate && !this.isCompletedAutotask) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        taskGraphics.drawRectangle(manualBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        taskGraphics.restore();\n                        taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                    }\n                    this.isCompletedAutotask = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.autoStartDate < detail.startDate && taskbar.autoEndDate > detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= detail.totalWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = detail.totalWidth;\n                        }\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, (progressBoundsWidth), pixelToPoint(12));\n                        }\n                        else {\n                            if (taskbar.progressWidth !== 0) {\n                                taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressBoundsWidth), pixelToPoint(12));\n                            }\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                    }\n                    this.isCompletedAutotask = false;\n                    this.autoWidth -= detail.totalWidth;\n                }\n            }\n            if (!isNullOrUndefined(taskbar.indicators) && taskbar.indicators.length > 0) {\n                taskbar.indicators.map(function (items, index) {\n                    var currendate = _this.parent.dateValidationModule.getDateFromFormat(items.date, true);\n                    if (detail.startDate <= currendate && currendate <= detail.endDate) {\n                        var leftValue = _this.parent.chartRowsModule.getIndicatorleft(items.date);\n                        if (!isNullOrUndefined(items.base64)) {\n                            var image = new PdfBitmap(items.base64);\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawImage(image, (startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 10) - _this.parent.perDayWidth / 2, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                var state = taskGraphics.save();\n                                taskGraphics.setClip(new RectangleF(startPoint.x, startPoint.y, page['contentWidth'], rowHeight));\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, (startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1) - _this.parent.perDayWidth / 2, startPoint.y + adjustHeight_1, null);\n                                taskGraphics.restore(state);\n                            }\n                            else {\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 10, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                var state = taskGraphics.save();\n                                taskGraphics.setClip(new RectangleF(startPoint.x, startPoint.y, page['contentWidth'], rowHeight));\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1, startPoint.y + adjustHeight_1, null);\n                                taskGraphics.restore(state);\n                            }\n                        }\n                    }\n                });\n            }\n        }\n        else {\n            this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar, false);\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar, true);\n            }\n        }\n        this.drawRightLabel(page, startPoint, detail, cumulativeWidth);\n        return isNextPage;\n    };\n    /* eslint-enable */\n    /**\n     * @param {IGanttStyle} ganttStyle .\n     * @returns {PdfFont}\n     * Customizes the font based on the Gantt style.\n     */\n    PdfGanttTaskbarCollection.prototype.getPdfFont = function (ganttStyle) {\n        var font;\n        if (ganttStyle && ganttStyle.label && (ganttStyle.label.fontSize || ganttStyle.label.fontStyle ||\n            ganttStyle.label.fontFamily)) {\n            var fontSize = ganttStyle.label.fontSize ? ganttStyle.label.fontSize : 9;\n            var fontFamilyValue = ganttStyle.label.fontFamily;\n            var fontFamily = ganttStyle.label.fontFamily ?\n                fontFamilyValue : this.fontFamily;\n            var fontStyleValue = ganttStyle.label.fontStyle;\n            var fontStyle = ganttStyle.label.fontStyle ?\n                this.parent.pdfExportModule.helper['getFontStyle'](fontStyleValue) : PdfFontStyle.Regular;\n            font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n        }\n        return font;\n    };\n    /* eslint-enable */\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @returns {void}\n     * Draw task right side label\n     */\n    PdfGanttTaskbarCollection.prototype.drawRightLabel = function (page, startPoint, detail, cumulativeWidth) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.rightTaskLabel.value)) {\n            if (this.rightTaskLabel.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    left = (this.rightTaskLabel.left);\n                }\n                else {\n                    left = pixelToPoint(this.rightTaskLabel.left);\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(this.rightTaskLabel.value) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidth(this.rightTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                var customizedFont = void 0;\n                var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n                    || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n                    !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n                    customizedFont = this.getPdfFont(ganttStyle);\n                }\n                if (!isNullOrUndefined(customizedFont)) {\n                    font = customizedFont;\n                }\n                var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                    !isNullOrUndefined(ganttStyle.label.padding)) {\n                    padding = ganttStyle.label.padding;\n                }\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft + padding.left, startPoint.y + adjustHeight + padding.top);\n                var size = new SizeF((page['contentWidth'] - actualLeft) - (padding.left + padding.right), result.actualSize.height - (padding.top + padding.bottom));\n                var labelBounds = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Left;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && !isNullOrUndefined(ganttStyle.label.format) &&\n                    !isNullOrUndefined(ganttStyle.label.format.alignment)) {\n                    labelFormat.alignment = ganttStyle.label.format.alignment;\n                }\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var ganttStyle_1 = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                    var fontBrush = new PdfSolidBrush((ganttStyle_1 && ganttStyle_1.label && ganttStyle_1.label.fontBrush) ?\n                        ganttStyle_1.label.fontBrush : this.labelColor);\n                    /* eslint-disable-next-line */\n                    var labelBrush = null;\n                    if (!isNullOrUndefined(ganttStyle_1) && !isNullOrUndefined(ganttStyle_1.label) &&\n                        !isNullOrUndefined(ganttStyle_1.label.backgroundColor)) {\n                        labelBrush = new PdfSolidBrush(ganttStyle_1.label.backgroundColor);\n                    }\n                    var lablePen = null;\n                    if (!isNullOrUndefined(ganttStyle_1) && !isNullOrUndefined(ganttStyle_1.label) &&\n                        !isNullOrUndefined(ganttStyle_1.label.borderColor)) {\n                        lablePen = new PdfPen(ganttStyle_1.label.borderColor);\n                    }\n                    var strSize = font.measureString(result.lines[0].text);\n                    graphics.drawRectangle(lablePen, labelBrush, labelBounds.x - 3, labelBounds.y, strSize.width + 6, strSize.height);\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, labelBounds.x, labelBounds.y, size.width, size.height, labelFormat);\n                    if (result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        this.rightTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n                this.previousWidthofRightImage = 0;\n                this.previousWidthofRightValue = 0;\n                for (var i = 0; i < this.labelSettings.rightLabel.image.length; i++) {\n                    this.drawRigthlabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.image[i]);\n                    if (this.labelSettings.rightLabel.value) {\n                        var value = this.labelSettings.rightLabel.value.split(',');\n                        if (value) {\n                            this.rightTaskLabel.isCompleted = false;\n                            this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (this.labelSettings.rightLabel.value) {\n                this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRigthlabelImage = function (page, startPoint, detail, cumulativeWidth, rightImage) {\n        var left;\n        var graphics = page.graphics;\n        var labelBounds;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel) && !isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = this.rightTaskLabel.left + +this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    var value = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                        value = this.labelSettings.rightLabel.value.split(',');\n                    }\n                    if (this.labelSettings.rightLabel.image.length > 1 && value.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(this.labelSettings.rightLabel) && !this.rightTaskLabel.isCompleted) {\n                var result = new SizeF(rightImage.width, rightImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.width, result.height);\n                labelBounds = new RectangleF(point, size);\n                var image = new PdfBitmap(rightImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, labelBounds.x, labelBounds.y, result.width, result.height);\n                    if (this.labelSettings.rightLabel.value !== null) {\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRightLabelValue = function (page, startPoint, detail, cumulativeWidth, rightString) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = this.rightTaskLabel.left + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = this.rightTaskLabel.left + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(rightString) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.actualSize.width, result.actualSize.height);\n                var labelBound = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Right;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.rightLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize, this.labelSettings.rightLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.rightLabel.fontStyle.fontColor ? new PdfSolidBrush(this.labelSettings.rightLabel.fontStyle.fontColor) : fontBrush;\n                    /* eslint-disable-next-line */\n                    graphics.drawString(rightString, newFont, fontColor, newFontBrush, labelBound.x, labelBound.y, result.actualSize.width, result.actualSize.height, labelFormat);\n                    if (!isNullOrUndefined(result.remainder) && result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @param {PdfGanttTaskbarCollection} taskbar .\n     * @returns {void}\n     * Draw task left task label\n     */\n    PdfGanttTaskbarCollection.prototype.drawLeftLabel = function (page, startPoint, detail, cumulativeWidth, taskbar) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(this.leftTaskLabel.value)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidth(this.leftTaskLabel.value, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                if (this.isAutoFit()) {\n                    left = (labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                left = this.leftTaskLabel.left;\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = taskbar.left - taskbar.autoLeft;\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - cumulativeWidth + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - cumulativeWidth + startPoint.x - leftValue;\n                    }\n                }\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = pixelToPoint(taskbar.left) - pixelToPoint(taskbar.autoLeft);\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x - leftValue;\n                    }\n                }\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(this.leftTaskLabel.value)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidth(this.leftTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                var customizedFont = void 0;\n                var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n                    || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n                    !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n                    customizedFont = this.getPdfFont(ganttStyle);\n                }\n                if (!isNullOrUndefined(customizedFont)) {\n                    font = customizedFont;\n                }\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                    !isNullOrUndefined(ganttStyle.label.padding)) {\n                    padding = ganttStyle.label.padding;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft + padding.left, startPoint.y + adjustHeight + padding.top);\n                var rightLabelSize = new SizeF(result.actualSize.width - (padding.left + padding.right), result.actualSize.height - (padding.top + padding.bottom));\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    /* eslint-disable-next-line */\n                    var fontBrush = new PdfSolidBrush((ganttStyle && ganttStyle.label && ganttStyle.label.fontBrush) ?\n                        ganttStyle.label.fontBrush : this.labelColor);\n                    /* eslint-disable-next-line */\n                    var labelBrush = null;\n                    if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                        !isNullOrUndefined(ganttStyle.label.backgroundColor)) {\n                        labelBrush = new PdfSolidBrush(ganttStyle.label.backgroundColor);\n                    }\n                    var lablePen = null;\n                    if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                        !isNullOrUndefined(ganttStyle.label.borderColor)) {\n                        lablePen = new PdfPen(ganttStyle.label.borderColor);\n                    }\n                    var strSize = font.measureString(result.lines[0].text);\n                    graphics.drawRectangle(lablePen, labelBrush, rightLabelBounds.x - 3, rightLabelBounds.y, strSize.width + 6, strSize.height);\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    if (result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n                this.previousWidthofLeftImage = 0;\n                this.previousWidthofLeftValue = 0;\n                this.totalLeftWidth = 0;\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    var value = void 0;\n                    var result = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                        value = this.labelSettings.leftLabel.value.split(',');\n                        result = this.getWidth(value[i], Number.MAX_VALUE, 15);\n                    }\n                    var totalstringWidth = !isNullOrUndefined(result) ? result.actualSize.width : 0;\n                    this.totalLeftWidth += this.labelSettings.leftLabel.image[i].width + totalstringWidth;\n                }\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    this.drawLeftLabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.image[i]);\n                    if (this.labelSettings.leftLabel.value) {\n                        var value = this.labelSettings.leftLabel.value.split(',');\n                        if (value) {\n                            this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelImage = function (page, startPoint, detail, cumulativeWidth, leftLabelImage) {\n        var graphics = page.graphics;\n        var left;\n        var labelLeft = 0;\n        labelLeft = this.left;\n        if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = labelLeft - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                else {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = pixelToPoint(labelLeft) - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = pixelToPoint(labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                if (this.labelSettings.leftLabel.image.length > 1) {\n                    left = this.leftTaskLabel.left + this.previousWidthofLeftValue;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(leftLabelImage)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.width, result.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var image = new PdfBitmap(leftLabelImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, rightLabelBounds.x, rightLabelBounds.y, result.width, result.height);\n                    this.totalLeftWidth = this.totalLeftWidth - result.width;\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelValue = function (page, startPoint, detail, cumulativeWidth, leftLabelValue) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(leftLabelValue)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    var isLeftImageExist = !isNullOrUndefined(this.labelSettings.leftLabel.image) ? true : false;\n                    var imageLength = isLeftImageExist ? this.labelSettings.leftLabel.image.length : 0;\n                    if (value.length === 1 && isLeftImageExist && imageLength === 1) {\n                        left = this.leftTaskLabel.left + this.previousWidthofLeftImage;\n                        this.labelSettings.left = left;\n                        var result_5 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_5.actualSize.width;\n                    }\n                    else if (value.length > 1 && isLeftImageExist && imageLength > 1) {\n                        var totalWidth = (this.previousWidthofLeftValue !== 0) ? this.previousWidthofLeftValue\n                            + this.previousWidthofLeftImage : this.previousWidthofLeftImage;\n                        left = this.leftTaskLabel.left + totalWidth;\n                        this.labelSettings.left = left;\n                        var result_6 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_6.actualSize.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.actualSize.width;\n                    }\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (value.length === 1) {\n                    left = this.leftTaskLabel.left + this.previousWidthofLeftImage;\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else if (value.length > 1) {\n                    var totalWidth = (this.previousWidthofLeftValue !== 0) ?\n                        this.previousWidthofLeftValue + this.previousWidthofLeftImage\n                        : this.previousWidthofLeftImage;\n                    left = this.leftTaskLabel.left + totalWidth;\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(leftLabelValue)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.actualSize.width, result.actualSize.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.leftLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize, this.labelSettings.leftLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.leftLabel.fontStyle.fontColor ?\n                        new PdfSolidBrush(this.labelSettings.leftLabel.fontStyle.fontColor) : fontBrush;\n                    graphics.drawString(leftLabelValue, newFont, fontColor, newFontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    var value = this.labelSettings.leftLabel.value.split(',');\n                    if ((!isNullOrUndefined(result.remainder)) && result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else if (!isNullOrUndefined(this.labelSettings.leftLabel.image) &&\n                        this.labelSettings.leftLabel.image.length === 1 && value.length === 1) {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.getWidth = function (value, width, height) {\n        var font;\n        font = new PdfStandardFont(this.fontFamily, 9);\n        var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n        if (ganttStyle && ganttStyle.label && ganttStyle.label.fontSize) {\n            font = new PdfStandardFont(this.fontFamily, ganttStyle.label.fontSize);\n            height = font.height;\n        }\n        if (!isNullOrUndefined(ganttStyle) && ganttStyle.font) {\n            font = ganttStyle.font;\n            height = font.height;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofLeftLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.leftLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofrightLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.rightLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    /**\n     * @param {PdfGraphics} taskGraphics .\n     * @param {PointF} startPoint .\n     * @param {number} cumulativeWidth .\n     * @param {number} adjustHeight .\n     * @returns {void}\n     * Draw Unscheduled Task\n     */\n    PdfGanttTaskbarCollection.prototype.drawUnscheduledTask = function (taskGraphics, startPoint, cumulativeWidth, adjustHeight) {\n        var taskBrush = new PdfSolidBrush(this.taskColor);\n        if (this.isAutoFit()) {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n        else {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @param {PdfGanttTaskbarCollection} taskbar .\n     * @param {boolean} isBaseline .\n     * @returns {void}\n    Draw milestone task\n     */\n    PdfGanttTaskbarCollection.prototype.drawMilestone = function (page, startPoint, detail, cumulativeWidth, taskbar, isBaseline) {\n        if (detail.startDate <= this.startDate && this.startDate <= detail.endDate) {\n            var taskGraphics = page.graphics;\n            var pageIndex = page.section.indexOf(page);\n            this.taskStartPoint = __assign({}, startPoint);\n            var milestonePen = new PdfPen(this.milestoneColor);\n            var adjustHeightforBaselineMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 3.0));\n            var adjustHeightforMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 2.0));\n            var adjustHeight = this.parent.renderBaseline ? adjustHeightforBaselineMilesone : adjustHeightforMilesone;\n            var milestoneBrush = new PdfSolidBrush(this.milestoneColor);\n            var baselinePen = new PdfPen(this.baselineBorderColor);\n            var baselineBrush = new PdfSolidBrush(this.baselineColor);\n            taskGraphics.save(); //saving graphics state\n            var height = Math.floor(this.parent.chartRowsModule.taskBarHeight * 0.8);\n            if (!isBaseline) {\n                if (this.isAutoFit()) {\n                    taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n                else {\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n            }\n            if (isBaseline) {\n                if (this.isAutoFit()) {\n                    taskGraphics.translateTransform(startPoint.x + (taskbar.baselineLeft - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n                else {\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n            }\n            taskGraphics.rotateTransform(45); //apply rotation\n            if (this.parent.renderBaseline && this.baselineStartDate && this.baselineEndDate && isBaseline) {\n                taskGraphics.drawRectangle(baselinePen, baselineBrush, 2, 2, pixelToPoint(height), pixelToPoint(height));\n            }\n            if (!isBaseline) {\n                taskGraphics.drawRectangle(milestonePen, milestoneBrush, 0, 0, pixelToPoint(height), pixelToPoint(height));\n            }\n            taskGraphics.restore(); //restoring graphics state\n            if (this.isAutoFit()) {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + (this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        ((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    var width = taskbar.taskbarTemplate.image[0].width / 2.0;\n                    var height_1 = taskbar.taskbarTemplate.image[0].height / 2.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        (((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), width, height_1);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + pixelToPoint(this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint(((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height - 2));\n                }\n            }\n            this.endPage = this.startPage = pageIndex;\n        }\n    };\n    return PdfGanttTaskbarCollection;\n}());\nexport { PdfGanttTaskbarCollection };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, PdfBrushes, RectangleF } from '@syncfusion/ej2-pdf-export';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\n/**\n */\nvar PdfTimeline = /** @class */ (function () {\n    function PdfTimeline(gantt) {\n        this.holidayCompleted = false;\n        this.fitHolidayCompleted = false;\n        this.timelineWidth = 0;\n        this.lastWidth = 0;\n        this.width = 0;\n        this.gantt = gantt;\n        this.parent = gantt.parent;\n        this.topTierPoint = new PointF();\n        this.bottomTierPoint = new PointF();\n        this.topTierIndex = 0;\n        this.bottomTierIndex = 0;\n        this.prevTopTierIndex = 0;\n        this.prevBottomTierIndex = 0;\n    }\n    /**\n     * @private\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @returns {void}\n     */\n    PdfTimeline.prototype.drawTimeline = function (page, startPoint, detail) {\n        this.detailsTimeline = detail;\n        var remainWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n            pointToPixel(Math.floor(detail.totalWidth)) : Math.round(detail.totalWidth);\n        var renderWidth = 0;\n        this.topTierPoint.x = startPoint.x;\n        this.topTierPoint.y = startPoint.y;\n        this.prevTopTierIndex = this.topTierIndex;\n        this.prevBottomTierIndex = this.bottomTierIndex;\n        while (remainWidth > 0) {\n            var pHeader = this.topTier[this.topTierIndex];\n            if (this.topTier.length > this.topTierIndex) {\n                var isCompleted = false;\n                if (!this.topTier[this.topTierIndex].isFinished) {\n                    if (remainWidth >= pHeader.width) {\n                        renderWidth = pHeader.width;\n                        pHeader.isFinished = true;\n                        pHeader.completedWidth = renderWidth;\n                        isCompleted = true;\n                    }\n                    else {\n                        renderWidth = remainWidth;\n                        isCompleted = false;\n                        pHeader.isFinished = false;\n                        pHeader.width = pHeader.width - remainWidth;\n                        pHeader.completedWidth = renderWidth;\n                    }\n                }\n                //Primary header Event Arguments\n                var reWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? renderWidth : pixelToPoint(renderWidth);\n                /* eslint-disable-next-line */\n                this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, reWidth, pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                    this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                this.topTierPoint.x += reWidth;\n                remainWidth -= renderWidth;\n                if (isCompleted) {\n                    this.topTierIndex++;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        remainWidth = Math.round(detail.totalWidth);\n        var height = this.parent.timelineModule.isSingleTier ? 0 : this.topTierHeight;\n        this.bottomTierPoint = new PointF(startPoint.x, pixelToPoint(startPoint.y + height));\n        while (remainWidth > 0) {\n            var secondHeader = this.bottomTier[this.bottomTierIndex];\n            if (this.bottomTier.length > this.bottomTierIndex) {\n                var isCompleted = true;\n                var width = secondHeader.width;\n                if (remainWidth < width) {\n                    width = remainWidth;\n                    /* eslint-disable-next-line */\n                    isCompleted = false;\n                    secondHeader.completedWidth = width;\n                }\n                //Secondary header Event Arguments\n                this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? width : pixelToPoint(width), secondHeader.value, false, secondHeader.startDate);\n                this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                    this.bottomTierPoint.x + width : this.bottomTierPoint.x + pixelToPoint(width);\n                remainWidth -= width;\n                secondHeader.completedWidth = width;\n                // if (isCompleted) {\n                this.bottomTierIndex++;\n                // }\n                if (remainWidth > 0 && remainWidth < width) {\n                    remainWidth = secondHeader.width - 1;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        this.timelineWidth = this.lastWidth;\n    };\n    /**\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails}  detail .\n     * @returns {void} .\n     * Draw the specific gantt chart side header when the taskbar exceeds the page\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.drawPageTimeline = function (page, startPoint, detail) {\n        this.topTierPoint = extend({}, {}, startPoint, true);\n        for (var index = this.prevTopTierIndex; index <= this.topTierIndex; index++) {\n            if (this.topTier.length > index) {\n                var pHeader = this.topTier[index];\n                if (pHeader.completedWidth > 0) {\n                    //Primary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pHeader.completedWidth : pixelToPoint(pHeader.completedWidth), pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                        this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                    this.topTierPoint.x += (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        pHeader.completedWidth : pixelToPoint(pHeader.completedWidth);\n                }\n            }\n        }\n        this.bottomTierPoint.x = startPoint.x;\n        this.bottomTierPoint.y = pixelToPoint(startPoint.y + this.topTierHeight);\n        for (var index = this.prevBottomTierIndex; index <= this.bottomTierIndex; index++) {\n            if (this.bottomTier.length > index) {\n                var secondHeader = this.bottomTier[index];\n                if (secondHeader.completedWidth > 0) {\n                    //Secondary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? secondHeader.width : pixelToPoint(secondHeader.width), secondHeader.value, false, secondHeader.startDate);\n                    this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        this.bottomTierPoint.x + secondHeader.width : this.bottomTierPoint.x + pixelToPoint(secondHeader.width);\n                }\n            }\n        }\n    };\n    /**\n     * Method to trigger pdf query timelinecell event\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.triggerQueryTimelinecell = function (page, x, y, height, width, value, isTopTier, currentDate) {\n        var _this = this;\n        var days = new Date(currentDate).getDay();\n        var graphics = page.graphics;\n        var timelineStyle = {};\n        var ganttStyle = this.gantt.ganttStyle;\n        timelineStyle.borderColor = new PdfColor(ganttStyle.timeline.borderColor);\n        timelineStyle.fontColor = new PdfColor(ganttStyle.timeline.fontColor);\n        timelineStyle.fontSize = ganttStyle.timeline.fontSize;\n        timelineStyle.fontStyle = ganttStyle.timeline.fontStyle;\n        timelineStyle.backgroundColor = new PdfColor(ganttStyle.timeline.backgroundColor);\n        if (ganttStyle.timeline.padding) {\n            timelineStyle.padding = ganttStyle.timeline.padding;\n        }\n        var format = new PdfStringFormat();\n        if (isNullOrUndefined(ganttStyle.timeline.format)) {\n            if (isTopTier) {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Left;\n            }\n            else {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Center;\n                format.wordWrap = PdfWordWrapType.Character;\n            }\n        }\n        else {\n            format = ganttStyle.timeline.format;\n        }\n        timelineStyle.format = format;\n        var eventArgs = {\n            timelineCell: timelineStyle,\n            value: value\n        };\n        if (this.parent.pdfQueryTimelineCellInfo) {\n            this.parent.trigger('pdfQueryTimelineCellInfo', eventArgs);\n        }\n        var e = eventArgs.timelineCell;\n        var rectPen;\n        var rectBrush = new PdfSolidBrush(eventArgs.timelineCell.backgroundColor);\n        var nonWorkingDays = this.parent.nonWorkingDayIndex;\n        if (this.parent.highlightWeekends && nonWorkingDays.indexOf(days) !== -1 && (this.parent.timelineModule.bottomTier === 'Day' || this.parent.timelineModule.bottomTier === 'None' && this.parent.timelineModule.topTier === 'Day')) {\n            rectBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n        }\n        this.parent.holidays.map(function (item) {\n            var fromDate = new Date(item.from);\n            var toDate = new Date(item.to);\n            var timelinedate = new Date(currentDate);\n            if (fromDate <= timelinedate && toDate >= timelinedate && (_this.parent.timelineModule.bottomTier === 'Day' || (_this.parent.timelineModule.bottomTier === 'None' && _this.parent.timelineModule.topTier === 'Day'))) {\n                rectBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n                if (fromDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayWidth = x;\n                }\n                if (toDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayLabel = item.label;\n                    var changeDate = new Date(item.to);\n                    changeDate.setDate(changeDate.getDate() + 1);\n                    var day = _this.parent.dataOperation.getTaskWidth(fromDate, changeDate);\n                    _this.holidayNumberOfDays = day / width;\n                    _this.holidayCompleted = true;\n                }\n            }\n            else if (_this.parent.timelineModule.bottomTier !== 'Day') {\n                if (_this.detailsTimeline.startDate <= fromDate && _this.detailsTimeline.endDate >= fromDate) {\n                    _this.parent.timelineModule.bottomTierCollection.map(function (items) {\n                        if (items.startDate <= fromDate && items.endDate >= fromDate) {\n                            if (items.startDate === currentDate) {\n                                _this.fitHolidayCompleted = true;\n                                _this.fromDataHoliday = item.from;\n                                _this.holidayLabel = item.label;\n                            }\n                        }\n                    });\n                }\n            }\n        });\n        var rectPen1 = new PdfPen(eventArgs.timelineCell.borderColor);\n        if (!this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            this.lastWidth = x + width;\n        }\n        graphics.drawRectangle(rectPen1, rectBrush, x, y, width, pixelToPoint(height));\n        if (!isTopTier && (this.parent.gridLines === 'Both' || this.parent.gridLines === 'Vertical')) {\n            rectPen = new PdfPen(ganttStyle.chartGridLineColor);\n        }\n        else {\n            rectPen = null;\n        }\n        graphics.drawRectangle(rectPen, rectBrush, x, y + pixelToPoint(height), width, page.getClientSize().height);\n        if (this.holidayCompleted) {\n            var state_1 = graphics.save();\n            var font1 = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n            if (ganttStyle.font) {\n                font1 = ganttStyle.font;\n            }\n            var fontHieght = font1.height;\n            var fontSize = font1.size;\n            graphics.translateTransform(this.holidayWidth + width - ((fontSize / 2) * this.holidayNumberOfDays) -\n                fontHieght + (fontHieght / 2) + (width * this.holidayNumberOfDays) / 2, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(page.getClientSize().height / 2), -40);\n            graphics.drawString(this.holidayLabel, font1, null, PdfBrushes.Black, 10, 10, null);\n            graphics.restore(state_1);\n            this.holidayCompleted = false;\n        }\n        if (this.fitHolidayCompleted) {\n            var holidayBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n            var font1 = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n            if (ganttStyle.font) {\n                font1 = ganttStyle.font;\n            }\n            var fontSize = font1.size;\n            graphics.drawRectangle(null, holidayBrush, x + (width / 2) - fontSize, y +\n                pixelToPoint(height), fontSize, page.getClientSize().height);\n            var state_2 = graphics.save();\n            graphics.translateTransform(x + width + (width / 2) - fontSize, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(page.getClientSize().height / 2), -40);\n            graphics.drawString(this.holidayLabel, font1, null, PdfBrushes.Black, 10, 10, null);\n            graphics.restore(state_2);\n            this.fitHolidayCompleted = false;\n        }\n        var font = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n        if (ganttStyle.font) {\n            font = ganttStyle.font;\n        }\n        var textBrush = new PdfSolidBrush(!isNullOrUndefined(ganttStyle.timeline.fontBrush)\n            ? ganttStyle.timeline.fontBrush : eventArgs.timelineCell.fontColor);\n        var pLeft = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.left : 0;\n        var pTop = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.top : 0;\n        /* eslint-disable-next-line */\n        var state = graphics.save();\n        graphics.setClip(new RectangleF(x, y, width, pixelToPoint(height)));\n        if (isTopTier) {\n            x = x + pLeft + 4;\n        }\n        else {\n            x = x + pLeft;\n        }\n        graphics.drawString(eventArgs.value, font, null, textBrush, x, y + pTop, pixelToPoint(width), pixelToPoint(height), e.format);\n        graphics.restore(state);\n    };\n    return PdfTimeline;\n}());\nexport { PdfTimeline };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfPage, PdfPen, PdfSolidBrush, RectangleF, SizeF } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttPredecessor = /** @class */ (function () {\n    function PdfGanttPredecessor(parent, pdfGantt) {\n        this.parent = parent;\n        this.pdfGantt = pdfGantt;\n    }\n    /**\n     * @returns {PdfGanttPredecessor} .\n     * @hidden\n     */\n    PdfGanttPredecessor.prototype.add = function () {\n        return new PdfGanttPredecessor(this.parent);\n    };\n    PdfGanttPredecessor.prototype.findindex = function (num) {\n        var dataindex;\n        if (!this.parent.enableVirtualization) {\n            this.parent.currentViewData.map(function (data, index) { if (data.index === num) {\n                dataindex = index;\n            } });\n            return dataindex;\n        }\n        else {\n            this.parent.flatData.map(function (data, index) { if (data.index === num) {\n                dataindex = index;\n            } });\n            return dataindex;\n        }\n    };\n    /**\n     * Calculate the predecesor line point and draw the predecessor\n     *\n     * @param {PdfGantt} pdfGantt .\n     * @returns {void}\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawPredecessor = function (pdfGantt) {\n        this.pdfGantt = pdfGantt;\n        var pages = pdfGantt.result.page.section.getPages();\n        var parentTask = pdfGantt.taskbarCollection[this.findindex(this.parentIndex)];\n        var childTask = pdfGantt.taskbarCollection[this.findindex(this.childIndex)];\n        var startPage = new PdfPage();\n        var endPage = new PdfPage();\n        var predecessorType = '';\n        var parentPageData;\n        var childPageData;\n        var parentY = 0;\n        var childY = 0;\n        switch (this.type) {\n            case 'FS':\n                if (childTask.startPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType1';\n                        }\n                        else {\n                            predecessorType = 'FSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType3';\n                        }\n                        else {\n                            predecessorType = 'FSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SF':\n                if (childTask.endPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType1';\n                        }\n                        else {\n                            predecessorType = 'SFType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType3';\n                        }\n                        else {\n                            predecessorType = 'SFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'FF':\n                if (childTask.endPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.endPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType1';\n                        }\n                        else {\n                            predecessorType = 'FFType2';\n                        }\n                    }\n                    else {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType3';\n                        }\n                        else {\n                            predecessorType = 'FFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SS':\n                if (childTask.startPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.startPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType1';\n                        }\n                        else {\n                            predecessorType = 'SSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType3';\n                        }\n                        else {\n                            predecessorType = 'SSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n        }\n        var midPointManualparent = Math.round((this.parent.rowHeight - 15) / 2.0);\n        var midPointforTaskbar = Math.round((this.parent.rowHeight - 1) / 2.0);\n        var midPointforBaseline = Math.round((this.parent.rowHeight - 10) / 2.0);\n        var midPoint = this.parent.renderBaseline ? midPointforBaseline :\n            ((!parentTask.isAutoSchedule && parentTask.isParentTask) || (!childTask.isAutoSchedule && childTask.isParentTask)) ?\n                midPointManualparent : midPointforTaskbar;\n        midPoint = pixelToPoint(midPoint);\n        /* eslint-disable-next-line */\n        var point1, point2, point3, point4, point5, point6;\n        point1 = point2 = point3 = point4 = point5 = point6 = new PointF();\n        var parentTaskpoint = __assign({}, parentTask.taskStartPoint);\n        var childTaskpoint = __assign({}, childTask.taskStartPoint);\n        parentY = parentTaskpoint.y + parentPageData.startPoint.y;\n        childY = childTaskpoint.y + childPageData.startPoint.y;\n        var ffpoint1;\n        var sspoint1;\n        var ffpoint3;\n        var ffpoint4;\n        var sspoint4;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            ffpoint1 = new PointF((this.parentLeft + this.parentWidth), parentY + midPoint);\n            sspoint1 = new PointF((this.parentLeft) - 1, parentY + midPoint);\n            ffpoint3 = new PointF((this.childLeft - 20), childY + midPoint);\n            ffpoint4 = new PointF((this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n            sspoint4 = new PointF((this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n        }\n        else {\n            ffpoint1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth), parentY + midPoint);\n            sspoint1 = new PointF(pixelToPoint(this.parentLeft) - 1, parentY + midPoint);\n            ffpoint3 = new PointF(pixelToPoint(this.childLeft - 20), childY + midPoint);\n            ffpoint4 = new PointF(pixelToPoint(this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n            sspoint4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n        }\n        switch (predecessorType) {\n            case 'FSType1':\n            case 'FSType3':\n                point1 = ffpoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                }\n                point3 = ffpoint3;\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FSType2':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, childY + 2);\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point4 = new PointF((this.childLeft - 20), childY + 2);\n                }\n                else {\n                    point4 = new PointF(pixelToPoint(this.childLeft - 20), childY + 2);\n                }\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FSType4':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, parentY + 2);\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point4 = new PointF((this.childLeft - 20), parentY + 2);\n                }\n                else {\n                    point4 = new PointF(pixelToPoint(this.childLeft - 20), parentY + 2);\n                }\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FFType1':\n            case 'FFType3':\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FFType2':\n            case 'FFType4':\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF((this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType1':\n            case 'SSType3':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType2':\n            case 'SSType4':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType1':\n            case 'SFType3':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType2':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF((this.childLeft + this.childWidth + 20), childY + 2);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), childY + 2);\n                }\n                point3 = new PointF(point2.x, childY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'SFType4':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF((this.childLeft + this.childWidth + 20), parentY + 2);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + 2);\n                }\n                point3 = new PointF(point2.x, parentY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n        }\n    };\n    /**\n     * Method to draw the predecessor lines with calculated connector points\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfGanttPredecessor.prototype.connectLines = function (startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6) {\n        this.drawLine(startPage, point1, point2);\n        this.drawLine(startPage, point2, point3);\n        this.drawLine(startPage, point3, point4);\n        if (!isNullOrUndefined(point5) && !isNullOrUndefined(point6)) {\n            this.drawLine(startPage, point4, point5);\n            this.drawLine(startPage, point5, point6);\n        }\n        this.drawArrow(endPage, childTask, midPoint);\n    };\n    /**\n     * Method to check the predecessor line  occurs within the page\n     *\n     * @param {RectangleF} rect .\n     * @param {number} x .\n     * @param {number} y .\n     * @returns {boolean} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.contains = function (rect, x, y) {\n        return rect.x <= x &&\n            x < rect.x + rect.width &&\n            rect.y <= y &&\n            y < rect.y + rect.height;\n    };\n    /**\n     * Find the PDF page index of given point\n     *\n     * @param {PointF} point .\n     * @returns {number} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.findPageIndex = function (point) {\n        var pageIndex = -1;\n        for (var index = 0; index < this.pdfGantt.pdfPageDetail.length; index++) {\n            var pageData = this.pdfGantt.pdfPageDetail[index];\n            var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n            if (this.contains(pageRect, point.x, point.y)) {\n                pageIndex = index;\n                break;\n            }\n        }\n        return pageIndex;\n    };\n    /**\n     * Draw predecessor line\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {PointF} endPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawLine = function (page, startPoint, endPoint) {\n        var pdfPages = this.pdfGantt.result.page.section.getPages();\n        var graphics = page.graphics;\n        var newEndPoint = __assign({}, endPoint);\n        var newStartPoint = __assign({}, endPoint);\n        var checkStartPoint = __assign({}, endPoint);\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        var endPointCheck = this.contains(pageRect, endPoint.x, endPoint.y);\n        var pageIndex = -1;\n        startPoint = new PointF(startPoint.x, startPoint.y);\n        endPoint = new PointF(endPoint.x, endPoint.y);\n        if (!startPointCheck && !endPointCheck || endPointCheck && !startPointCheck) {\n            pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                newStartPoint = startPoint;\n                newEndPoint = endPoint;\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        else if (!endPointCheck && startPointCheck) {\n            var pageRectLeft = pageRect.x;\n            var pageRectRight = pageRect.x + pageRect.width;\n            var pageRectBottom = pageRect.y + pageRect.height;\n            var pageRectTop = pageRect.y;\n            if (pageRectLeft > endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectLeft - 1;\n                newStartPoint.x = pageRectLeft - 1;\n            }\n            else if (pageRectRight < endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectRight;\n                newStartPoint.x = pageRectRight;\n                checkStartPoint.x += 1;\n            }\n            else if (pageRectBottom < endPoint.y) {\n                checkStartPoint.y = endPoint.y = pageRectBottom;\n                newStartPoint.y = pageRectBottom;\n                checkStartPoint.y += 1;\n                if (this.pdfGantt.enableHeader) {\n                    newStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            else if (pageRectTop > endPoint.y) {\n                newStartPoint.y = checkStartPoint.y = pageRectTop - 1;\n                endPoint.y = pageRectTop;\n                if (this.pdfGantt.enableHeader) {\n                    checkStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                    endPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            pageIndex = this.findPageIndex(checkStartPoint);\n            if (pageIndex !== -1) {\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        if (startPointCheck) {\n            startPoint = new PointF(startPoint.x, startPoint.y);\n            endPoint = new PointF(endPoint.x, endPoint.y);\n            startPoint.x = startPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            startPoint.y = startPoint.y - pageData.startPoint.y;\n            endPoint.x = endPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            endPoint.y = endPoint.y - pageData.startPoint.y;\n            var brush = new PdfSolidBrush(this.connectorLineColor);\n            var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n            graphics.drawLine(predecessorPen, startPoint, endPoint);\n        }\n    };\n    /**\n     * Draw predecessor arrow\n     *\n     * @param {PdfPage} page .\n     * @param {PdfGanttTaskbarCollection} childTask .\n     * @param {number} midPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawArrow = function (page, childTask, midPoint) {\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        /* eslint-disable-next-line */\n        var pageRect = new RectangleF(new PointF(pageData.startPoint.x, pageData.startPoint.y), new SizeF(pageData.width, pageData.height));\n        var startPoint = new PointF();\n        var pdfPages = page.section.getPages();\n        var width = 6 + this.lineWidth;\n        var point2;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF((this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF((this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF(pixelToPoint(this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF(pixelToPoint(this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        if (!startPointCheck) {\n            var pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                page = pdfPages[pageIndex + this.pdfGantt.chartPageIndex];\n            }\n        }\n        var graphics = page.graphics;\n        startPoint.x = startPoint.x - pageData.startPoint.x + pageData.pageStartX;\n        startPoint.y = startPoint.y - pageData.startPoint.y;\n        var point1 = new PointF(startPoint.x, startPoint.y + midPoint);\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - (width), point1.y - (width));\n            }\n            else {\n                point2 = new PointF(point1.x + (width), point1.y - (width));\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n            else {\n                point2 = new PointF(point1.x + pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n        }\n        var brush = new PdfSolidBrush(this.connectorLineColor);\n        var point3;\n        var predecessorPen;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            point3 = new PointF(point2.x, point2.y + (2 * width));\n            predecessorPen = new PdfPen(brush, (this.lineWidth));\n        }\n        else {\n            point3 = new PointF(point2.x, point2.y + pixelToPoint(2 * width));\n            predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n        }\n        graphics.drawLine(predecessorPen, point1, point2);\n        graphics.drawLine(predecessorPen, point2, point3);\n        graphics.drawLine(predecessorPen, point3, point1);\n    };\n    return PdfGanttPredecessor;\n}());\nexport { PdfGanttPredecessor };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfFontFamily, PdfStringFormat, PdfTextAlignment, PdfDashStyle, PdfBrushes } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(parent) {\n        this.parent = parent;\n    }\n    EventMarker.prototype.drawEventMarker = function (page, startPoint, cumulativeWidth, detail, eventMarker, cumulativeHeight) {\n        var taskGraphics = page.graphics;\n        var pageSize = page.getClientSize();\n        var font = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        /* eslint-disable-next-line */\n        var strSize;\n        if (!isNullOrUndefined(eventMarker.label)) {\n            strSize = font.measureString(eventMarker.label);\n        }\n        var triangle = 8;\n        var eventLine = new PdfPen(new PdfColor(0, 0, 0));\n        eventLine.dashStyle = PdfDashStyle.Dash;\n        if (detail.startDate <= eventMarker.date && eventMarker.date <= detail.endDate) {\n            var enventFormat = new PdfStringFormat();\n            enventFormat.alignment = PdfTextAlignment.Center;\n            var eventBrush = new PdfSolidBrush(new PdfColor(253, 191, 100));\n            var left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(eventMarker.date, true), false, true);\n            var diff = 10;\n            if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + (left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + (left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, eventBrush, startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x +\n                        (left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n                }\n            }\n            else {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, eventBrush, startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n                }\n            }\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfGanttTaskbarCollection } from './pdf-taskbar';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PointF, PdfPen, PdfColor } from '@syncfusion/ej2-pdf-export';\nimport { PdfTreeGrid } from './pdf-treegrid';\nimport { PdfTimeline } from './pdf-timeline';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { PdfGanttPredecessor } from './pdf-connector-line';\nimport { EventMarker } from './pdf-event-marker';\n/**\n *\n */\nvar PdfGantt = /** @class */ (function (_super) {\n    __extends(PdfGantt, _super);\n    function PdfGantt(parent) {\n        var _this = _super.call(this) || this;\n        _this.exportProps = {};\n        _this.changeCloneProjectDates = false;\n        _this.parent = parent;\n        _this.chartHeader = new PdfTimeline(_this);\n        _this.eventMarker = new EventMarker(parent);\n        _this.predecessor = new PdfGanttPredecessor(parent, _this);\n        _this.headerDetails = [];\n        _this.pdfPageDetail = [];\n        _this.taskbarCollection = [];\n        _this.predecessorCollection = [];\n        return _this;\n    }\n    Object.defineProperty(PdfGantt.prototype, \"taskbar\", {\n        get: function () {\n            if (isNullOrUndefined(this.taskbars)) {\n                this.taskbars = new PdfGanttTaskbarCollection(this.parent);\n            }\n            return this.taskbars;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGantt.prototype.drawChart = function (result) {\n        this.result = result;\n        this.totalPages = this.result.page.section.count;\n        this.perColumnPages = this.totalPages / this.layouter.columnRanges.length;\n        this.calculateRange();\n        this.drawGantttChart();\n        this.drawPageBorder();\n    };\n    //Calcualte the header range for each pdf page based on schedule start and end date.\n    PdfGantt.prototype.calculateRange = function () {\n        var lastColumnRange = this.layouter.columnRanges[this.layouter.columnRanges.length - 1];\n        var totalColumnWidth = 0;\n        var isPageFinished = true;\n        var pageWidth = 0;\n        var remainWidth = 0;\n        var point = 0;\n        var headerWidth = pixelToPoint(this.chartHeader.width);\n        var timelineSettings = this.parent.timelineModule;\n        for (var index = lastColumnRange[0]; index <= lastColumnRange[1]; index++) {\n            totalColumnWidth += this.layouter.treegrid.columns.getColumn(index).width;\n        }\n        totalColumnWidth += 0.5;\n        if (totalColumnWidth + 100 < this.result.page.getClientSize().width) {\n            remainWidth = this.result.page.getClientSize().width - totalColumnWidth;\n            this.chartPageIndex = this.startPageIndex = this.totalPages - this.perColumnPages;\n            isPageFinished = false;\n            this.startPoint = new PointF(totalColumnWidth, 0);\n        }\n        else {\n            this.result.page.section.add();\n            this.chartPageIndex = this.startPageIndex = this.totalPages;\n            isPageFinished = true;\n            this.startPoint = new PointF(point, 0);\n        }\n        while (Math.round(point) < Math.round(headerWidth)) {\n            if (isPageFinished) {\n                pageWidth = this.result.page.getClientSize().width;\n            }\n            else {\n                pageWidth = remainWidth;\n                isPageFinished = true;\n            }\n            var detail = {};\n            var range = [];\n            var convertedWidth = pixelToPoint(this.chartHeader.bottomTierCellWidth);\n            var width = 0;\n            if (this.chartHeader.bottomTierCellWidth !== 0) {\n                width = (Math.floor(pageWidth / convertedWidth) * convertedWidth);\n            }\n            range[0] = point;\n            if (headerWidth - point <= width) {\n                range[1] = headerWidth;\n                detail.totalWidth = pointToPixel(headerWidth - point);\n            }\n            else {\n                range[1] = point + width;\n                detail.totalWidth = pointToPixel(width);\n            }\n            detail.startPoint = range[0];\n            detail.endPoint = range[1];\n            if (this.parent.cloneProjectStartDate.getHours() === 0 && this.parent.cloneProjectStartDate.getMinutes() === 0\n                && this.parent.cloneProjectStartDate.getSeconds() === 0) {\n                this.changeCloneProjectDates = true;\n                this.parent.cloneProjectStartDate.setHours(8);\n            }\n            var timelineStartDate = this.parent.dataOperation.getDateFromFormat(this.parent.timelineModule.timelineStartDate);\n            var count = isNullOrUndefined(timelineSettings.customTimelineSettings.bottomTier.count) ?\n                timelineSettings.customTimelineSettings.topTier.count : timelineSettings.customTimelineSettings.bottomTier.count;\n            var scheduleType = timelineSettings.customTimelineSettings.bottomTier.unit === 'None' ?\n                timelineSettings.customTimelineSettings.topTier.unit : timelineSettings.customTimelineSettings.bottomTier.unit;\n            switch (scheduleType) {\n                case 'Minutes':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + sDays * count);\n                        detail.startDate.setSeconds(detail.startDate.getSeconds() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setMinutes(detail.endDate.getMinutes() + eDays * count);\n                        break;\n                    }\n                case 'Hour':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays1 = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setHours(detail.startDate.getHours() + sDays1 * count);\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays1 = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setHours(detail.endDate.getHours() + eDays1 * count);\n                        break;\n                    }\n                case 'Day':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays = (Math.round(detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth)));\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays * count);\n                        var endDays = Math.round(((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth))) - 1;\n                        var startdate = detail.startDate;\n                        startdate.setHours(0, 0, 0, 0);\n                        var secondsToAdd = this.parent.workingTimeRanges[0].to * 1000;\n                        detail.endDate = new Date(startdate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays * count);\n                        detail.endDate.setTime(detail.endDate.getTime() + secondsToAdd);\n                        break;\n                    }\n                case 'Week':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays1 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 7);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays1 * count);\n                        var endDays1 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 7 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays1 * count);\n                        break;\n                    }\n                case 'Month':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays2 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 31);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays2 * count);\n                        var endDays2 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 31 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays2 * count);\n                        break;\n                    }\n                case 'Year':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays3 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 365);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays3 * count);\n                        var endDays3 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 365 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays3 * count);\n                        break;\n                    }\n            }\n            this.headerDetails.push(detail);\n            point += width;\n        }\n    };\n    PdfGantt.prototype.drawPageBorder = function () {\n        var pages = this.result.page.section.getPages();\n        for (var index = 0; index < pages.length; index++) {\n            var page = pages[index];\n            var graphics = page.graphics;\n            var pageSize = page.getClientSize();\n            var pen = new PdfPen(new PdfColor(this.ganttStyle.chartGridLineColor));\n            graphics.drawRectangle(pen, 0, 0, pageSize.width, pageSize.height);\n        }\n    };\n    //Draw the gantt chart side\n    PdfGantt.prototype.drawGantttChart = function () {\n        var _this = this;\n        var taskbarPoint = this.startPoint;\n        var pagePoint = new PointF();\n        var pageStartX = 0;\n        var cumulativeWidth = 0;\n        var cumulativeHeight = 0;\n        var pageData;\n        this.headerDetails.forEach(function (detail, index) {\n            var page = _this.result.page.section.getPages()[_this.startPageIndex];\n            page['contentWidth'] = (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pointToPixel(_this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint) : _this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint;\n            _this.chartHeader.drawTimeline(page, _this.startPoint, detail);\n            taskbarPoint.y = taskbarPoint.y + pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            pageStartX = taskbarPoint.x;\n            cumulativeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].startIndex = _this.startPageIndex;\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].pageStartPoint = taskbarPoint;\n            _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight);\n            });\n            for (var i = 0; i < _this.taskbarCollection.length; i++) {\n                var task = _this.taskbarCollection[i];\n                var rowHeight = _this.rows.getRow(i + 1).height;\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                var graphics = pdfPage.graphics;\n                var pen = new PdfPen(new PdfColor(_this.ganttStyle.chartGridLineColor));\n                var lineWidth = void 0;\n                if (page['contentWidth'] && (_this.parent.gridLines === 'Both' || _this.parent.gridLines === 'Horizontal')) {\n                    lineWidth = _this.chartHeader.timelineWidth;\n                    graphics.drawRectangle(pen, pageStartX, taskbarPoint.y, page['contentWidth'] + 0.5, rowHeight);\n                }\n                var isNextPage = task.drawTaskbar(pdfPage, taskbarPoint, detail, cumulativeWidth, rowHeight, _this.taskbarCollection[parseInt(i.toString(), 10)], lineWidth);\n                if (isNextPage) {\n                    if (_this.enableHeader) {\n                        taskbarPoint.y = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                    }\n                    _this.startPageIndex++;\n                    pageData = {};\n                    pageData.height = cumulativeHeight;\n                    pageData.pageStartX = pageStartX;\n                    pageData.startPoint = __assign({}, pagePoint);\n                    if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    else {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    _this.pdfPageDetail.push(pageData);\n                    pagePoint.y += pageData.height;\n                    if (_this.enableHeader) {\n                        cumulativeHeight = _this.chartHeader.height;\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                        cumulativeHeight = 0;\n                    }\n                }\n                taskbarPoint.y += rowHeight;\n                cumulativeHeight += rowHeight;\n                _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                    var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                    _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight);\n                });\n            }\n            _this.headerDetails[index].endIndex = _this.startPageIndex;\n            cumulativeWidth += detail.totalWidth;\n            pageData = {};\n            pageData.height = cumulativeHeight;\n            pageData.pageStartX = pageStartX;\n            pageData.startPoint = __assign({}, pagePoint);\n            if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                pageData.width = (detail.totalWidth);\n            }\n            else {\n                pageData.width = pixelToPoint(detail.totalWidth);\n            }\n            _this.pdfPageDetail.push(pageData);\n            pagePoint.x += pageData.width;\n            pagePoint.y = 0;\n            if (_this.enableHeader) {\n                cumulativeHeight = _this.chartHeader.height;\n            }\n            else {\n                taskbarPoint.y = 0;\n            }\n            if (_this.headerDetails.indexOf(detail) !== _this.headerDetails.length - 1) {\n                _this.result.page.section.add();\n                _this.startPageIndex = _this.result.page.section.count - 1;\n                taskbarPoint = _this.startPoint = new PointF(0, 0);\n            }\n        });\n        // Draw predecessor line.\n        for (var i = 0; i < this.predecessorCollection.length; i++) {\n            var predecessor = this.predecessorCollection[i];\n            predecessor.drawPredecessor(this);\n        }\n    };\n    return PdfGantt;\n}(PdfTreeGrid));\nexport { PdfGantt };\n","import { PdfGanttTheme } from './../export/pdf-base/pdf-style/gantt-theme';\nimport { PdfTreeGridLayoutFormat } from './../export/pdf-base/index';\nimport { isNullOrUndefined, getValue, extend } from '@syncfusion/ej2-base';\nimport { ExportHelper } from '../export/export-helper';\nimport { PdfDocument, PdfPageSettings, PdfPageOrientation, SizeF, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfGantt } from '../export/pdf-gantt';\n/**\n *\n * @hidden\n */\nvar PdfExport = /** @class */ (function () {\n    /**\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function PdfExport(parent) {\n        this.isPdfExport = false;\n        this.parent = parent;\n        this.helper = new ExportHelper(this.parent);\n        this.pdfDocument = undefined;\n    }\n    /**\n     * @returns {string} .\n     */\n    PdfExport.prototype.getModuleName = function () {\n        return 'pdfExport';\n    };\n    /**\n     * To destroy Pdf export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    PdfExport.prototype.initGantt = function () {\n        this.pdfDocument = undefined;\n        this.gantt = new PdfGantt(this.parent);\n        // this.gantt.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n    };\n    /**\n     * @param {PdfExportProperties} pdfExportProperties .\n     * @param {boolean} isMultipleExport .\n     * @param {object} pdfDoc .\n     * @param {boolean} isBlob .\n     * @returns {Promise<Object>} .\n     */\n    PdfExport.prototype.export = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        var _this = this;\n        this.isBlob = isBlob;\n        var args = {\n            requestType: 'beforePdfExport',\n            ganttObject: this.parent,\n            cancel: false\n        };\n        this.parent.trigger('beforePdfExport', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        if (getValue('cancel', args)) {\n            /* eslint-disable-next-line */\n            return new Promise(function (resolve, reject) {\n                return resolve();\n            });\n        }\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.exportWithData(pdfDoc, resolve, pdfExportProperties, isMultipleExport);\n        });\n    };\n    PdfExport.prototype.exportWithData = function (pdfDoc, resolve, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var data = [];\n        if (isNullOrUndefined(pdfExportProperties)) {\n            pdfExportProperties = {};\n        }\n        if (pdfExportProperties.fitToWidthSettings && pdfExportProperties.fitToWidthSettings.isFitToWidth) {\n            if (pdfExportProperties.exportType === 'CurrentViewData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.currentViewData, null, true);\n            }\n            else if (pdfExportProperties.exportType === 'AllData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.flatData, null, true);\n            }\n            else {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.updatedRecords, null, true);\n            }\n            this.helper.beforeSinglePageExport['cloneCurrentViewData'] = extend([], this.parent.currentViewData, null, true);\n            data = this.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            if (!isNullOrUndefined(pdfExportProperties.exportType)) {\n                if (pdfExportProperties.exportType === 'CurrentViewData') {\n                    data = this.parent.currentViewData;\n                }\n                else {\n                    data = this.parent.flatData;\n                }\n            }\n            else {\n                data = this.parent.updatedRecords;\n            }\n        }\n        this.initGantt();\n        if (!isNullOrUndefined(pdfDoc)) {\n            this.pdfDocument = pdfDoc;\n        }\n        else {\n            this.pdfDocument = new PdfDocument();\n        }\n        this.processExport(data, pdfExportProperties, isMultipleExport).then(function () {\n            _this.parent.trigger('pdfExportComplete', _this.isBlob ? { promise: _this.blobPromise } : {});\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n            resolve(_this.pdfDocument);\n        });\n    };\n    PdfExport.prototype.processExport = function (data, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var section = this.pdfDocument.sections.add();\n        this.processSectionExportProperties(section, pdfExportProperties);\n        this.pdfPage = section.pages.add();\n        this.pdfPageDimensions = this.pdfPage.getClientSize();\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.helper.processGridExport(data, _this.gantt, pdfExportProperties);\n            _this.helper.initializePdf(_this.pdfDocument);\n            resolve();\n        }).then(function () {\n            var format = new PdfTreeGridLayoutFormat();\n            format.break = PdfLayoutBreakType.FitElement;\n            var layouter = _this.gantt.drawGrid(_this.pdfPage, 0, 0, format);\n            _this.gantt.drawChart(layouter);\n            if (_this.helper.exportProps && _this.helper.exportProps.fitToWidthSettings &&\n                _this.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n                _this.parent.zoomingProjectStartDate = _this.helper.beforeSinglePageExport['zoomingProjectStartDate'];\n                _this.parent.zoomingProjectEndDate = _this.helper.beforeSinglePageExport['zoomingProjectEndDate'];\n                _this.parent.cloneProjectStartDate = _this.helper.beforeSinglePageExport['cloneProjectStartDate'];\n                _this.parent.cloneProjectEndDate = _this.helper.beforeSinglePageExport['cloneProjectEndDate'];\n                _this.parent.timelineModule.customTimelineSettings = _this.helper.beforeSinglePageExport['customTimelineSettings'];\n                _this.parent.isTimelineRoundOff = _this.helper.beforeSinglePageExport['isTimelineRoundOff'];\n                _this.parent.timelineModule.topTier = _this.helper.beforeSinglePageExport['topTier'];\n                _this.parent.timelineModule.topTierCellWidth = _this.helper.beforeSinglePageExport['topTierCellWidth'];\n                _this.parent.timelineModule.topTierCollection = _this.helper.beforeSinglePageExport['topTierCollection'];\n                _this.parent.timelineModule.bottomTier = _this.helper.beforeSinglePageExport['bottomTier'];\n                _this.parent.timelineModule.bottomTierCellWidth = _this.helper.beforeSinglePageExport['bottomTierCellWidth'];\n                _this.parent.timelineModule.bottomTierCollection = _this.helper.beforeSinglePageExport['bottomTierCollection'];\n                _this.parent.timelineModule.totalTimelineWidth = _this.helper.beforeSinglePageExport['totalTimelineWidth'];\n                _this.parent.timelineModule.timelineStartDate = _this.helper.beforeSinglePageExport['timelineStartDate'];\n                _this.parent.timelineModule.timelineEndDate = _this.helper.beforeSinglePageExport['timelineEndDate'];\n                _this.parent.timelineModule.timelineRoundOffEndDate = _this.helper.beforeSinglePageExport['timelineRoundOffEndDate'];\n                _this.parent.perDayWidth = _this.helper.beforeSinglePageExport['perDayWidth'];\n                _this.parent.updatedConnectorLineCollection = _this.helper.beforeSinglePageExport['updatedConnectorLineCollection'];\n            }\n            if (_this.gantt.changeCloneProjectDates) {\n                _this.parent.cloneProjectStartDate.setHours(0);\n                _this.gantt.changeCloneProjectDates = false;\n            }\n            if (!isMultipleExport) {\n                if (!_this.isBlob) {\n                    // save the PDF\n                    if (!isNullOrUndefined(pdfExportProperties) && pdfExportProperties.fileName) {\n                        _this.pdfDocument.save(pdfExportProperties.fileName);\n                    }\n                    else {\n                        _this.pdfDocument.save('Export.pdf');\n                    }\n                }\n                else {\n                    _this.blobPromise = _this.pdfDocument.save();\n                }\n                _this.pdfDocument.destroy();\n            }\n            return _this.pdfDocument;\n        });\n    };\n    PdfExport.prototype.processSectionExportProperties = function (section, pdfExportProperties) {\n        //To set section page size and page orientation.\n        if (!isNullOrUndefined(pdfExportProperties)) {\n            var pdfPageSettings = new PdfPageSettings();\n            if (!isNullOrUndefined(pdfExportProperties.pageOrientation) && pdfExportProperties.pageOrientation === 'Portrait') {\n                pdfPageSettings.orientation = PdfPageOrientation.Portrait;\n            }\n            else {\n                pdfPageSettings.orientation = PdfPageOrientation.Landscape;\n            }\n            if (!isNullOrUndefined(pdfExportProperties.pageSize)) {\n                pdfPageSettings.size = this.getPageSize(pdfExportProperties.pageSize);\n            }\n            section.setPageSettings(pdfPageSettings);\n            if (!isNullOrUndefined(pdfExportProperties.ganttStyle)) {\n                var defaultGanttTheme = new PdfGanttTheme(pdfExportProperties.theme).style;\n                this.gantt.ganttStyle = extend({}, defaultGanttTheme, pdfExportProperties.ganttStyle, true);\n            }\n            else {\n                this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n            }\n        }\n        else {\n            this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n        }\n    };\n    PdfExport.prototype.getPageSize = function (pageSize) {\n        switch (pageSize) {\n            case 'Letter':\n                return new SizeF(612, 792);\n            case 'Note':\n                return new SizeF(540, 720);\n            case 'Legal':\n                return new SizeF(612, 1008);\n            case 'A0':\n                return new SizeF(2380, 3368);\n            case 'A1':\n                return new SizeF(1684, 2380);\n            case 'A2':\n                return new SizeF(1190, 1684);\n            case 'A3':\n                return new SizeF(842, 1190);\n            case 'A5':\n                return new SizeF(421, 595);\n            case 'A6':\n                return new SizeF(297, 421);\n            case 'A7':\n                return new SizeF(210, 297);\n            case 'A8':\n                return new SizeF(148, 210);\n            case 'A9':\n                return new SizeF(105, 148);\n            // case 'A10':\n            //     return new SizeF(74, 105);\n            case 'B0':\n                return new SizeF(2836, 4008);\n            case 'B1':\n                return new SizeF(2004, 2836);\n            case 'B2':\n                return new SizeF(1418, 2004);\n            case 'B3':\n                return new SizeF(1002, 1418);\n            case 'B4':\n                return new SizeF(709, 1002);\n            case 'B5':\n                return new SizeF(501, 709);\n            case 'Archa':\n                return new SizeF(648, 864);\n            case 'Archb':\n                return new SizeF(864, 1296);\n            case 'Archc':\n                return new SizeF(1296, 1728);\n            case 'Archd':\n                return new SizeF(1728, 2592);\n            case 'Arche':\n                return new SizeF(2592, 3456);\n            case 'Flsa':\n                return new SizeF(612, 936);\n            case 'HalfLetter':\n                return new SizeF(396, 612);\n            case 'Letter11x17':\n                return new SizeF(792, 1224);\n            case 'Ledger':\n                return new SizeF(1224, 792);\n            default:\n                return new SizeF(595, 842);\n        }\n    };\n    return PdfExport;\n}());\nexport { PdfExport };\n","import { TreeGrid, VirtualScroll as TreeGridVirtualScroll } from '@syncfusion/ej2-treegrid';\n/**\n * Gantt Virtual Scroll module will handle Virtualization\n *\n * @hidden\n */\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        this.parent = parent;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'virtualScroll';\n    };\n    /**\n     * Bind virtual-scroll related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.enableVirtualization = this.parent.enableVirtualization;\n        TreeGrid.Inject(TreeGridVirtualScroll);\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    VirtualScroll.prototype.getTopPosition = function () {\n        var virtualTable = this.parent.ganttChartModule.scrollElement.querySelector('.e-virtualtable');\n        var translates = virtualTable.style.transform.split(',');\n        var top;\n        if (translates.length > 1) {\n            top = translates[1].trim().split(')')[0];\n        }\n        else {\n            var transformString = virtualTable.style.transform;\n            top = transformString.substring(transformString.lastIndexOf('(') + 1, transformString.lastIndexOf(')'));\n        }\n        return parseFloat(top);\n    };\n    /**\n     * To destroy the virtual scroll module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    VirtualScroll.prototype.destroy = function () {\n        // destroy module\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","import * as index from './index';\nindex.Gantt.Inject(index.Filter, index.Selection, index.Sort, index.Reorder, index.Resize, index.Edit, index.DayMarkers, index.Toolbar, index.ContextMenu, index.ExcelExport, index.RowDD, index.ColumnMenu, index.PdfExport, index.VirtualScroll, index.CriticalPath, index.UndoRedo);\nexport * from './index';\n"],"names":["parentsUntil","elem","selector","isID","parent","id","classList","contains","parentElement","isScheduledTask","ganttProp","isNullOrUndefined","startDate","endDate","duration","isCountRequired","dataSource","DataManager","getSwapKey","obj","temp","_i","_a","Object","keys","length","key","isRemoteData","adaptor","ODataAdaptor","ODataV4Adaptor","WebApiAdaptor","WebMethodAdaptor","CacheAdaptor","RemoteSaveAdaptor","UrlAdaptor","getTaskData","records","isNotExtend","eventArgs","result","i","data","parseInt","toString","extend","taskData","timezone","updateDates","push","record","ganttProperties","taskFields","dateValidationModule","remove","baselineEndDate","baselineStartDate","formatString","str","args","regx","RegExp","replace","getIndex","value","key1","collection","key2","index","getValue","pixelToPoint","pointToPixel","getUid","uid","DateProcessor","this","fromSegments","mondayTimeRangeLength","tuesdayTimeRangeLength","wednesdayTimeRangeLength","thursdayTimeRangeLength","fridayTimeRangeLength","saturdayTimeRangeLength","sundayTimeRangeLength","prototype","isValidateNonWorkDays","isAutoSchedule","includeWeekend","totalHolidayDates","checkStartDate","date","validateAsMilestone","isLoad","currentDay","Date","getTime","dayStartTime","dayEndTime","cloneStartDate","hour","getSecondsInDecimal","isMilestone","setTime","setDate","getDate","workingRange","workingTimeRanges","weekWorkingTime","to","from","tStartDate","autoCalculateDateScheduling","treeGrid","loadChildOnDemand","hasChildMapping","holidayLength","autoEndDate","startTime","tempDate","getNextWorkingDay","count","holidayFrom","getDateFromFormat","holidayTo","setHours","checkEndDate","editModule","taskbarEditModule","taskBarEditRecord","defaultStartTime","defaultEndTime","cloneEndDate","taskfields","tempCheckDate","getPreviousWorkingDay","tempHoliday","setMinutes","getMilliseconds","checkBaselineStartDate","cloneDate","checkBaselineEndDate","autoStartDate","calculateStartDate","ganttData","tempStartDate","getStartDate","durationUnit","setRecordValue","dataOperation","updateMappingData","calculateEndDate","tempEndDate","compareDates","calculateDuration","segments","totalDuration","getEndDate","offsetDuration","tDuration","sumOfDuration","milestone","getDuration","col","columnByField","columnMapping","cellEditModule","isCellEdit","edit","read","dialog","dialogModule","textBox","querySelector","element","ej2_instances","dataBind","getNonworkingTime","sDate","eDate","isCheckTimeZone","weekendCount","getWeekendCount","totalHours","getNumberOfSeconds","holidaysCount","getHolidaysCount","totWorkDays","nonWorkHours","getNonWorkingSecondsOnDate","nonWorkingSeconds","secondsPerDay","workDays","fromDuration","newStartDate","newEndDate","timeDiff","getHours","isOnHolidayOrWeekEnd","currentDaySeconds","totSeconds","durationValue","durationHours","getTimeDifference","undefined","getFormatedDate","parseFloat","getDurationAsSeconds","toLocaleLowerCase","secondDuration","tempStart","calculateSecondDuration","setSeconds","getSeconds","fromValidation","tempEnd","fromEndDate","num","Number","isInteger","deciNumber","split","getProjectStartDate","cloneProjectStartDate","projectStartDate","flatData","minStartDate","getValidStartDate","isAuto","autoDuration","ganttTask","getTaskByUniqueID","uniqueID","allowUnscheduledTasks","parentItem","parentTask","getParentTask","getValidEndDate","getWorkingTime","day","currentRange","totalSeconds","nonWorkingHours","nonWorkingTimeRanges","startHour","endHour","sdSeconds","edSeconds","assignStartTime","toLowerCase","assignEndTime","isWorking","interval","mondayDefaultStartTime","tuesdayDefaultStartTime","wednesdayDefaultStartTime","thursdayDefaultStartTime","fridayDefaultStartTime","saturdayDefaultStartTime","sundayDefaultStartTime","mondayDefaultEndTime","tuesdayDefaultEndTime","wednesdayDefaultEndTime","thursdayDefaultEndTime","fridayDefaultEndTime","saturdayDefaultEndTime","sundayDefaultEndTime","calculateWeekWorkTime","seconds","j","getSecondsPerDay","dayWorkingTime","dayOfWeek","timeRange","dayWorkingTime_1","_b","weekWorkingTime_1","weekDay","seconds_1","_c","_d","dayDefaultStartTime","seconds_2","getDurationValue","isFromDialog","values","match","trim","unit","durationUnitEditText","indexOf","dayIndex","getDay","nonWorkingDayIndex","holidays","currentHoliday","getHolidayDates","holidayDates","checkWeekEnd","startnonWorkingTimeRange","endnonWorkingTimeRange","sHour","eHour","startRangeIndex","endRangeIndex","totNonWrkSecs","startOnHoliday","endOnHoliday","val","getMonth","getFullYear","previousIndex","getNonWorkingDayIndex","weekDayLength","workWeek","slice","min","sec","updateDateWithTimeZone","uTZ","uDate","sTZ","getTimezoneOffset","eTZ","standardTZ","tzDiff","getMinutes","offset","localOffset","convertedDate","toLocaleString","timeZone","isNaN","error","reverse","fromOffset","toOffset","fromLocalOffset","toLocalOffset","convert","toConvert","updatedDate","dateObject","globalize","parseDate","format","getDateFormat","type","date1","date2","getDurationString","toFixed","plural","localeObj","getConstant","getWorkString","work","workUnit","calculateProjectDatesForValidatedTasks","editArgs","_this","projectEndDate","maxEndDate","sortedStartDate","sort","a","b","sortedEndDate","cloneProjectEndDate","calculateProjectDates","enablePersistence","timelineModule","isZooming","currentViewData","taskRange","addDateToList","sortDates","dates","isZoomToFit","filterModule","filteredResult","forEach","task","renderBaseline","indicators","item","eventMarkers","marker","holiday","setValue","prevProjectStartDate","splitTasksDuration","bottomTier","Math","ceil","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","TaskProcessor","_super","call","customSegmentProperties","isBaseline","recordIndex","taskIds","hierarchyData","addEventListener","on","checkDataBinding","bind","isChange","updatedRecords","dataArray","ids","predecessorsCollection","parentData","processTimeline","renderGantt","initDataSource","ganttdata","cloneDataSource","map","chartRowsModule","updateSegment","taskId","enableValidation","validateTimelineProp","queryManager","query","Query","requiresCount","dataManager","executeQuery","then","e","catch","trigger","constructDataSource","mappingData","executeLocal","group","parentID","rootData","groupData","child","items","apply","dataReorder","taskIdMapping","parentIdMapping","hierarchicalData","tempData","setProperties","segmentId","segmentCollection","segmentData","viewType","resources","unassignedTasks","constructResourceViewDataSource","resourceName","resourceFields","name","prepareDataSource","this_1","resourceData","resourceInfo","resourceIdMapping","isResourceString","resource","prepareRecordCollection","initialLoadData","dataMap","reduce","set","Map","calculateSharedTaskUniqueIds","dependency","predecessorModule","ensurePredecessorCollection","this_2","getTaskIds","sharedRecords_1","ids_1","filter","level","rowUniqueID","sharedTaskUniqueIds","this_3","x","createRecord","updateTaskLeftWidth","setTaskIds","childData","parentProp","updateWorkWithDuration","parentWork","floor","calculateAutoDuration","updateAutoWidthLeft","allowParentDependency","resetDependency","updateWidthLeft","updateTaskData","addCustomFieldValue","ganttRecord","columns","ganttColumns","field","taskSettings","progress","notes","predecessors","autoSchedule","taskMode","manual","predecessor","undoRedoModule","addTaskData","setResourceInfo","updateResourceName","calculateScheduledValues","toLocaleDateString","predecessorsName","cssClass","getCloneParent","parentUniqId","hasChildRecords","collapseAllParentTasks","updateExpandStateMappingValue","calculateWidth","calculateLeft","getProgressWidth","width","calculateBaselineLeft","calculateBaselineWidth","childRecords","uniqueId","setSegmentsInfo","sortSegmentsData","onLoad","ganttSegments","remainingDuration","predefinedProperties","segment","cleanedObject","extraProperties","String","left","segmentIndex","timelineSettings","prevSegmentDate","setSegmentTaskData","mergedObject","assign","segmenttaskData","resourceOneDayWork","resourcesLength","resourceUnit","actualOneDayWork","durationInDay","getDurationInDay","isOnEdit","childCompletedWorks","taskType","cloneParent","expanded","reUpdateResources","json","offline","tempData_1","segmentDataCollection","updatableValue","expandStateMapping","expandState","mappingValue","setValidatedDates","updateDurationValue","isMileStone","durationMapping","validateDurationUnitMapping","validateWorkUnitMapping","taskTypeMapping","tType","validateTaskTypeMapping","calculateDateFromStartDate","calculateDateFromEndDate","updateDurationWithWork","totalResourceOneDayWork","updatedDuration","getWorkInHour","updateUnitWithWork","ganttResources","taskBarEditAction","totalUnitInPercentage","individualUnit","isTreeGridRendered","parentWidth","percent","getTaskWidth","getTaskbarHeight","rowHeight","taskBarHeight","taskbarHeight","parentRec","getTaskLeft","calculateAutoLeft","calculateAutoWidth","tierMode","customTimelineSettings","topTier","zoomOrTimeline","countValue","isValid","modifiedsDate","perDayWidth","isValid_1","k","dateDiff","test","isInDst","totalWidth","sOffset","eOffset","getDSTTransitions","year","findNthWeekday","month","n","UTC","getUTCDay","convertToTimezone","Intl","DateTimeFormat","minute","second","hour12","dstStartDate","dstEndDate","dstStart","dstEnd","hasDSTTransition","january","july","isFromTimelineVirtulization","isTimeSet","leftValueForStartDate","ganttChartModule","scrollObject","enableTimelineVirtualization","scrollLeft","getTimelineLeft","timelineStartDate","leftValue","hasDST","transitions","systemTimeZone","newTimelineStartDate","newDate","setStartDate","timelineStartTime","dstStartTime","isBeforeOrAtDSTStart","timelineUnitSize","unitHour","getSplitTaskWidth","getSplitTaskLeft","segmentTaskStartDate","stDate","segmentStartTime","fieldName","resourceSettings","resourcesId","resourcesName","resName","join","updateTaskDataResource","setRecordDate","setRecordDuration","segmentTaskData","isEdit","contextMenuModule","preTaskResources","isAdded","data_1","mapping","isDynamicData","setDataSource","createData","isArray","dataMapping","taskName","parentId","resourceIdCollection","isAddNewResource","resourceIDMapping","resourceUnitMapping","resourceGroup","resource_1","resourceIds_1","includes","ganttDataResource","updateResourceUnit","length_1","taskMapping","resourceLength","stringResourceName","taskResources","flatCollection","rootCollection","shift","splice","tempDuration","reUpdateGanttData","updateGanttData","_isInStartDateRange","isInRange","_isInEndDateRange","updateOverlappingValues","resourceTask","currentTask","tasks","ranges","workTimelineRanges","setSortedChildTasks","updateOverlappingIndex","cStartDate","cEndDate","range","tEndDate","rangeObj_1","mergeRangeCollections","calculateRangeLeftWidth","eOverlapIndex","isSplit","finalRange","currentTopRange","cCompareRange","sortedRanges","sortBy","splitRangeCollection","rangeCollection","fromField","toField","isSingleTier","getRangeWithWeek","getRangeWithDay","splitArray","splitRangeForDayMode","fromString","end","rangeObject","nStart","nEndDate","nextAvailDuration","round","splitRangeForWeekMode","start","isInSplit","rangeObj","isStartNotHolidayOrWeekend","isTempEndDateNotHolidayOrWeekend","isDifferentDates","resolvedOptions","shouldProcessUpdateWidth","Boolean","isLastChild","updateParentItems","reUpdateGanttDataPosition","pdfExportModule","isPdfExport","helper","exportProps","fitToWidthSettings","isFitToWidth","beforeSinglePageExport","totalSegmentsProgressWidth","progressResizer","incrementSegments","showProgress","progressWidth","pStartDate","setProgress","autoWidth","getParentProgress","childGanttRecord","progressValues","totalProgress","recordProp","isUnscheduledTask","parantData","filledProperty","properties_1","prop","isFromManual","isParent","deleteUpdate","isParentUnschecule","childData_1","previousStartDate","previousEndDate","childRecords_1","childLength","milestoneCount","countOfScheduled_1","countOfUnScheduled_1","some","childRecord","isUnscheduled","propertyWithValue","isChildBoth","this_4","isOnDelete","isDelete","propertyWithValue_1","ganttRec","rec","numericValue","taskCount","parentProgress","taskbarEditedArgs","action","leftLabelContainer","rightLabelContainer","taskBarMainContainer","taskLabel","childProgressBarInnerDiv","baselineBar","chartRow","childProgressResizer","traceChildTaskBar","manualParentTaskBar","label","dependencyViewContainer","connectorPointLeft","content","rangeContainer","ChartScroll","previousCount","isSetScrollLeft","previousScroll","top","scrollElement","addEventListeners","gridScrollHandler","EventHandler","add","onScroll","grid","updateShimmer","removeShimmer","transformChange","removeEventListeners","off","scrollTop","isFromTreeGrid","updateContent","ganttElement","currentCount","offsetWidth","deleteTableElements","createTimelineSeries","gridLines","dayMarkersModule","renderEventMarkers","nonworkingDayRender","renderWeekends","renderHolidays","updateChartElementStyles","chartTimelineContainer","tLeft","resultantWidth","wholeTimelineWidth","enableRtl","isBackwardScrolled","tableContainer","getElementsByClassName","innerHTML","outerHTML","translateXValue","dependencyViewer","connectorLineModule","taskTable","style","right","updateTopPosition","contentScrollTop","virtualScrollModule","enableVirtualization","getTopPosition","holidayContainer","weekendContainer","eventMarkersContainer","formatUnit","chartVerticalLineContainer","setTimeout","hideMaskRow","allowTaskbarOverlap","showOverAllocation","tr","ganttChartTableBody","childNodes","display","isExpandAll","isCollapseAll","getRowByIndex","height","getRows","contentHeight","children","virtualRender","adjustTable","showMaskRow","updateSpinner","showSpinner","window","clearTimeout","isScrolling","hideSpinner","scrollArgs","notify","previousScrollTop","scrollDirection","previousScrollLeft","totalTimelineWidth","updateWidthAndHeight","svgObject","setAttribute","isToolBarClick","isVirtualScroll","showIndicator","enableVirtualMaskRow","loadingIndicator","indicatorType","abs","requestType","setHeight","setWidth","setScrollTop","setScrollLeft","leftSign","destroy","VirtualContentRenderer","renderWrapper","wrapper","createElement","className","styles","appendChild","virtualTrack","chartBodyContent","appendChildElements","getContent","virtualTable","document","transform","treegridVirtualHeight","translateYValue","GanttChart","isExpandCollapseFromChart","debounceTimeoutNext","debounceTimeout","isGanttElement","previousPinchDistance","currentToolbarIndex","isPinching","rangeViewContainer","cls.rangeContainer","renderChartContainer","renderChartElements","renderInitialContents","renderChartContents","wireEvents","chartElement","chartPane","renderTimelineContainer","renderBodyContainers","renderOverAllocationContainer","filterSettings","renderRangeContainer","isFromOnPropertyChange","updateProjectDates","isTimelineRoundOff","renderChartRows","connectorLineIds","updatedConnectorLineCollection","createConnectorLinesCollection","renderConnectorLines","node","criticalModule","criticalPathModule","enableCriticalPath","criticalPathCollection","criticalConnectorLine","detailPredecessorCollection","predecessorCollectionTaskIds","processZoomToFit","recordLength","renderRange","getTopValue","currentRecord","getExpandedRecords","nestedParent","getRecordByID","getRangeHeight","topValue","rowIndex","enableMultiTaskbar","offsetTop","sameIDElement","parentDiv","leftDiv","cls.rangeChildContainer","rightDiv","borderLeftWidth","borderRightWidth","chartBodyContainer","cls.chartScrollElement","toolbarHeight","toolbarModule","offsetHeight","ganttHeight","emptyHeight","contentElement","scrollHeight","isZoomedToFit","clientWidth","setVirtualHeight","updateGridLineContainerHeight","updateLastRowBottomWidth","wrapper1","navigator","userAgent","expandedRecords","lastExpandedRow","lastExpandedRowIndex","lastRow","table","querySelectorAll","removeClass","clientHeight","addClass","removeEventListener","isDestroyed","ganttChartMouseDown","cancel","TouchEvent","touches","initPinchDistance","calculatePinchDistance","allowTaskbarDragAndDrop","editSettings","allowTaskbarEditing","editAction","getRecordByTaskBar","target","closest","which","tabIndex","isTaskbarEdited","button","allowEditing","endEdit","touch1","touch2","dx","clientX","dy","clientY","sqrt","ganttChartMouseClick","autoFocusTasks","scrollToTarget","ganttChartMouseUp","resizeCheck","Check","falseline","removeFalseLine","isOnTaskbarElement","cls.taskBarMainContainer","isAdaptive","chartExpandCollapseRequest","row","dateObjLeft","updateScrollLeft","scrollWidth","mouseUp","allowRowDragAndDrop","ganttDragElemet","documentMouseUp","showActiveElement","focusedElement","onTaskbarClick","taskbarElement","getRecordByTarget","ganttChartLeave","ganttChartMove","currentPinchDistance","processZooming","pageX","getOffsetRect","connectorLineEditModule","updateConnectorLineEditElement","contextClick","allowFiltering","closeFilterOnContextClick","srcElement","mouseMoveHandler","onMouseMove","originalEvent","rowData","rowElement","columnElement","cellIndex","column","indicator","tooltipModule","getPredecessorTooltipData","getMarkerTooltipData","dataset","doubleClickHandler","recordDoubleClick","getAttribute","getChartRows","getElementById","gridRow","collapseGanttRow","expandGanttRow","reRenderConnectorLines","arg","collapsedGanttRow","expandCollapseChartRows","idField_1","gridRec","getCurrentViewRecords","collapseRow","renderMultiTaskbar","updateContentHeight","expandedGanttRow","idField_2","expandRow","isExpandCollapseLevelMethod","refreshRecords","isChild","displayType","targetElement","t","chartRows","rows","expandCollapseAll","expandAll","collapseAll","treeGridContentHeight","expandAtLevel","collapseAtLevel","isIE11Pointer","Browser","isPointer","mouseDown","touchStartEvent","touchEndEvent","mouseMove","touchMoveEvent","onWheelZoom","click","body","unWireEvents","ctrlKey","preventDefault","zoomIn1_1","deltaY","isTouchpad_1","verticalScrollDelta","getIndexByTaskBar","updateElement","next","currentColumn","isTab","isInEditedState","getNextElement","saveCell","editCell","onTabAction","enableHeaderFocus","toolbarItems","$target","focusModule","setActiveElement","focusedRowIndex","nextElement","colIndex","toolbar","itemIndex","isUpdated","tempNextElement","childrenIndex","nextElementIndex","isEditableElement","manageFocus","allowNextRowEdit","columnName","getNextRowElement","getChildElement","editedColumn","nextElementSibling","fmodule","currentInfo","elementToFocus","matrix","current","previousElementSibling","labelSettings","rightLabel","leftLabel","matches","validateNextElement","rowRecord","isChartRow","currentItem","expandedRecordIndex","nextRecord","nextRowIndex","elementByClass","hasChildNodes","childElement","focus","isChartElement","keyAction","getElementsByTagName","blur","cls.chartRow","__assign","s","arguments","Timeline","ganttObj","isZoomIn","topTierCollection","bottomTierCollection","pdfExportTopTierCollection","pdfExportBottomTierCollection","restrictRender","performedTimeSpanAction","initProperties","timelineEndDate","currentZoomingLevel","roundOffDays","processTimelineProperty","timelineWidthCalculation","refreshTimeline","processTimelineUnit","timelineContainer","refreshTimelineByTimeSpan","updateChartByNewTimeline","refreshChartByTimeline","currentScrollLeft","isReact","updateUndoRedo","zoomingProjectStartDate","zoomingProjectEndDate","checkCurrentZoomingLevel","currentLevel","getZoomLevel","updateToolbar","zoomingLevels","findIndex","tempLevel","newTimeline","timeline","changeTimelineSettings","previousTimeline","previousZoomingLevel","find","enableItems","controlId","skipProperty","property","tier","calculateWidthBetweenTwoDate","clientWidthDifference","zoomingLevel","firstValue","secondValue","totalDays","chartWidth","sortedCollectons","roundOffDateToZoom","numberOfCells","calculateNumberOfTimelineCells","emptySpace","bottomTierCellWidthCalc","mode","zoomLevel","convertedMilliSeconds","daysInMonth","daysInYear","isStartDate","roundOffTime","numberOfDays","directProperty","innerProperty","tierUnits","extendFunction","timelineViewMode","previousIsSingleTier","validateCount","validateFormat","weekStartDay","calculateZoomingLevelsPerDayWidth","collections","getPerDayWidth","getCurrentZoomingLevel","currentZoomCollection","checkSameCountLevels","getZoomingLevels","sameUnitLevels","closestUnit_1","getClosestUnit","sortedUnitLevels","checkCollectionsWidth","closetUnit","isCont","bottomTierUnits","checkSameLevels","zoomLevels","sortedZoomLevels","updateTimelineHeaderHeight","dateByLeftValue","milliSecondsPerPixel","td","div","thead","virtualTableDiv","virtualTrackDiv","loopCount","trTemplate","createTimelineTemplate","timelineVirtualizationStyles","trackWidth","contentVirtualTrack","position","virtualTableStylesT","virtualTableStylesB","virtualTrackStylesT","virtualTrackStylesB","difference","tierCount","timeDifference","timelineRoundOffEndDate","validateBottomTierCount","tierFormat","cloneObj","propertyCollection","tempObj","formatDateHeader","dayFormat","dateString","formatDate","locale","customFormat","formatter","parentTr","increment","newTime","isFirstCell","parentTh","scheduleDateCollection","WidthForVirtualTable","timelineCell","getHeaterTemplateString","calculateQuarterEndDate","getIncrement","dubStartDate","dubStartHour","tierCollection","weekendEndDate","updateTimelineAfterZooming","resized","totWidth","contentWidth","widthDiff","getTimelineRoundOffEndDate","firstDay","lastDay","dayIntervel","checkDate","diffCount","isWeekendHeaderCell","calculateTotalHours","totalHour","scheduleWeeks","isLast","template","timelineTemplate","templateCompiler","thWidth","incrementValue","dubNewDate","newDateOffset","dubNewDateOffset","incrementHour","perMinuteWidth","bottomTierSettings","bottomTierCountIsOneAndUnitIsHour","value_1","topTierCellWidth","bottomTierCellWidth","cellWidth","isWeekendCell","textClassName","getTemplateID","weekendClass","th","weekendBackground","title","showTooltip","textContent","append","isWeekend","bottomTierCount","topTierCount","roundOffStartDate","last","updateScheduleDatesByToolBar","span","updateTimeLineOnEditing","tempArray","filteredStartDateRecord","pdc","filteredEndDateRecord","DataUtil","aggregates","minEndDate","max","validStartDate","validEndDate","maxStartLeft","maxEndLeft","validStartLeft","validEndLeft","isChanged","taskbarModule","performTimeSpanAction","isFrom","timeSpanActionEvent","ProjectEndDate","eventType","Column","options","allowReordering","allowResizing","allowSorting","merge","GanttTreeGrid","isPersist","queryCellInfo","headerCellInfo","rowDataBound","columnMenuOpen","filPopOptions","filOptions","filterMenuElement","columnMenuClick","objectEqualityChecker","old","isEqual","excludeKeys","modifiedRecords","TreeGrid","allowSelection","allowKeyboard","enableHtmlSanitizer","enableImmutableMode","treeGridColumns","isLocaleChanged","previousGanttColumns","validateGanttColumns","createContainer","updateScrollTop","renderReactTemplate","args_1","portal","renderTemplates","treeGridElement","tempHeader","treeGridPane","renderTreeGrid","composeProperties","bindEvents","registeredTemplate","appendTo","portals","enableAdaptiveUI","idMapping","showColumnMenu","enableCollapseAll","columnMenuItems","childMapping","treeColumnIndex","searchSettings","fields","getContentDiv","getHeaderDiv","getScrollbarWidth","outer","visibility","overflow","msOverflowStyle","inner","scrollbarWidth","parentNode","removeChild","ensureScrollBar","headerDiv","isMobile","cssText","dataBound","collapsing","collapsed","expanding","actionBegin","actionComplete","treeActionComplete","created","actionFailure","beforeDataBound","dataStateChange","selectionModule","selectionSettings","persistSelection","getSelectedRowIndexes","treeDataBound","refreshToolbarItems","prevCurrentView","collapsingArgs","createExpandCollapseArgs","expandingArgs","collapsedArgs","expandedArgs","updateKeyConfigSettings","recordOne","updatedArgs","sortSettings","deleteObject","currentEditRow","initiateCellEdit","isCancelled","addDeleteRecord","selectedRowIndex","selectedIndexes","selectedRowIndexes","selectRows","selectRow","selectedRecords","getSelectedRecords","selectedTaskId","deletedRecord","indexvalue_1","currentSelection","addedRecord","initiateEditAction","updateDragDropRecords","keyboardModule","keyConfigs","delete","insert","upArrow","downArrow","ctrlHome","ctrlEnd","enter","tab","shiftTab","ctrlShiftUpArrow","ctrlShiftDownArrow","ctrlUpArrow","ctrlDownArrow","scrollHandler","treeGridClickHandler","isOpen","contextMenu","close","customColumns","tasksMapping","headerText","editType","bindTreeGridColumnProperties","createTreeGridColumn","composeUniqueIDColumn","isDefined","previousColumn","prevcolumn","disableHtmlEncode","clipMode","composeIDColumn","params","renderWorkingDayCell","renderDayCell","valueAccessor","durationValueAccessor","composeProgressColumn","dependencyValueAccessor","ui","flValInput","dropInstance","AutoComplete","changeLocale","text","placeholder","popupHeight","write","filteredValue","fltrObj","filterByColumn","operator","changeDelocale","composeResourceColumn","showInlineNotes","contentTemp","initializeCSPTemplate","colName","workValueAccessor","taskTypeValueAccessor","modeValueAccessor","splitString_1","splitvalue","FF","FS","SS","SF","splitString_2","value_2","resourceValueAccessor","getResourceIds","taskIDName","isProjectView","lengthDataSource","isPrimaryKey","idValueAccessor","visible","newGanttColumn","treeGridColumn","ganttColumn","GanttColumn","value_3","splitString_3","resourceNames","newScrollTop","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","DayWorkingTime","Property","ChildProperty","AddDialogFieldSettings","EditDialogFieldSettings","EditSettings","EventMarker","FilterSettings","Collection","Predicate","SearchSettings","Holiday","LabelSettings","SelectionSettings","SplitterSettings","TaskFields","TimelineTierSettings","TimelineSettings","Complex","TooltipSettings","SortDescriptor","SortSettings","ResourceFields","LoadingIndicator","WeekWorkingTime","ChartRows","milestoneHeight","milesStoneRadius","baselineTop","baselineHeight","touchLeftConnectorpoint","touchRightConnectorpoint","dropSplit","refreshedTr","refreshedData","taskBaselineTemplateNode","handleTouchMove","event","handleTouchEnd","initPublicProp","createChartTable","initiateTemplates","prevDate","contentModule","refreshGanttRows","cls.taskTable","attrs","cellspacing","colgroup","initChartHelperPrivateVariable","initializeChartTemplate","createTaskbarTemplate","isGanttChartRendered","getIndicatorNode","templateString","getIndicatorleft","iconClass","createDivElement","getChildTaskbarNode","rootElement","direction","childTaskbarNode","templateData","childTaskbarTemplateFunction","labelString","taskbarInnerDiv","progressDiv","cls.childProgressBarInnerDiv","getBorderRadius","tempDiv","taskLabelTemplateFunction","taskLabelTemplateNode","getTaskLabel","SanitizeHtmlHelper","sanitize","isTemplate","splitTaskbar","cls.traceChildTaskBar","getSplitProgressResizerNode","templateElement","innerText","childLabel","marginLeft","marginRight","textAlign","splitTasks","progressBarVisible","generateSpiltTaskAriaLabel","getSplitTaskbarLeftResizerNode","getSplitTaskBorderRadius","cls.taskLabel","getSplitTaskbarRightResizerNode","lResizerLeft","rResizerLeft","getSegmentIndex","splitStartDate","mergeTask","segmentIndexes","mergeArrayLength","mergeData","details","getUndoActions","previousFlatData","firstSegmentIndex","arrayLength","firstSegment","secondSegment","secondSegmentIndex","insertIndex","segmentFields","modifiedSegments","refreshChartAfterSegment","filterData","segmentsArray","segmentObj","updatedRecordsDateByPredecessor","removePreviousConnectorLines","refreshEditedRecordConnectorLine","isInPredecessorValidation","editedRecords","modifiedTaskData","triggerQueryTaskbarInfoByIndex","clearSelection","splitTask","splitDates","splitDate","splitRecord","segmentDuration","splitSegmentedTaskbar","constructSegments","checkClickState","endDateState","segmentEndDate","mode_1","timeIncrement","diff","calculateLeftValue","taskbarHeightValue","defaultTaskbarHeight","getMilestoneNode","milestoneNode","milestoneTemplateFunction","getTaskBaselineNode","baselineLeft","baselineWidth","baselineColor","updateTaskBaselineNode","getMilestoneBaselineNode","baselineMilestoneHeight","milestoneMarginTop","getLeftLabelNode","leftLabelNode","generateTaskLabelAriaLabel","leftLabelTemplateNode","leftTaskLabelTemplateFunction","getLableText","paddingLeft","paddingRight","labelDiv","leftLabelHeight","taskBarMarginTop","spanElem","cls.label","getRightLabelNode","rightLabelNode","rightLabelTemplateNode","rightTaskLabelTemplateFunction","getManualTaskbar","childEle","cls.manualParentTaskBar","autoLeft","milestoneTemplate","getParentTaskbarNode","parentTaskbarNode","parentTaskbarTemplateFunction","tHeight","getExpandClass","progressBarInnerDiv","parentTaskLabelNode","labelElement","parentLabel","getTableTrNode","activecls","treeGridModule","isSelected","getRowClassName","getExpandDisplayProp","parentTaskbarTemplate","taskbarTemplate","templateName","cls.leftLabelContainer","taskNameWidth","taskbarContainer","manualParent","getUnscheduledTaskClass","cls.rightLabelContainer","getRightLabelLeft","childTaskbarLeftResizer","childTaskbarRightResizer","childTaskbarProgressResizer","getLeftPointNode","marginTop","mileStoneLeftValue","pointerLeft","connectorPointWidth","mileStoneLeft","pointerTop","connectorPointMargin","canAdd","cls.connectorPointLeft","getRightPointNode","pointerRight","resultString","getResourceName","getFieldValue","getExpandStatus","rowClass","length_2","taskBarMarginTopValue","milestoneHeightValue","trs","collapsedResourceRecord","oldKeys","oldRowElements","getPrimaryKeyFieldNames","oldIndex","modifiedRecIndex","isFromRenderBaseline","tRow","getGanttChartRow","dupChartBody","tempTemplateData","maintainSelectedRecords","replaceChildren","Element","initialChartRowElements","triggerQueryTaskbarInfo","updateOverlapped","parentTrNode","taskbarContainerNode","generateAriaLabel","connectorLineLeftNode","connectorLineRightNode","parentTaskbarTemplateNode","taskbarContainerNode1","appendChildTaskbars","manualTaskbar","connectorLineRightNode_1","milestoneTemplateNode","collapseParent","appendIndicators","setAriaRowIndex","visualData","queryTaskbarInfo","trElement","segmentLength","segmentElement","taskIndicatorNode","taskIndicatorTextNode","indicatorIndex","tooltip","taskbarCollection","scheduledTask","childTaskbarProgressResizeNode","childTaskbarRightResizeNode","childTaskbarLeftResizeNode","childTaskbarTemplateNode","length_3","segmentConnector","i_1","customizeTaskbars","segmentRowElement","taskbarType","classCollections","getClassName","milestoneColor","getComputedStyle","backgroundColor","cls.baselineBar","childTask","progressTask","taskbarBgColor","taskbarBorderColor","outlineColor","progressBarBgColor","taskLabelColor","color","rightLabelColor","leftLabelColor","taskbarArgs","updateQueryTaskbarInfoArgs","triggerTaskbarElement","currentData","taskbarElements","getRowByID","segmentElements","segmentedTasks","i_2","taskbarElement_1","taskBarElement","borderTopColor","classCollection","compile","eOverlapped","rowIDs","rowCounts","rowuniqueid","verticalAlign","rowDragAndDropModule","draggedRecordMarginTop","refreshRow","isValidateRange","isUndoRedo","selectedItem","replaceChild","replaceWith","dataId","setRowData","nextEditableElement","getRowObjectFromUID","getDataRows","updateResourceTaskbarElement","cloneElement","mainTaskbar","zIndex","cloneChildElement","cloneNode","defaultValue","nameConstant","startDateConstant","endDateConstant","durationConstant","taskNameVal","startDateVal","endDateVal","durationVal","generateBaselineAriaLabel","Dependency","gantt","parentRecord","parentIds","parentPredecessors","validatedParentIds","storeId","isChildRecordValidated","dateValidateModule","predecessorTasks","ensurePredecessorCollectionHelper","predecessorVal","preValues","predecessorItem","preValue","offsetUnits","offsetUnit","tempOffsetUnits","getOffsetDurationUnit","checkIsParent","calculatePredecessor","getPredecessorStringValue","updateUnscheduledDependency","prdList","predId","predData","updateRecordByID","fromId","boolValue","getRootParent","parentUniqueID","validateParentPredecessor","fromRecord","toRecord","predecessorValue","offsetValue","predecessorText","parentRecords","el","firstPart","predecessorName","isGUId","isAlpha","regex","elSplit","pop","substring","lastIndex","lastIndexOf","lastPart","match_1","processedResult","prefixMatch","indexFS","spliceLength","isExist","toUpperCase","tempOffset","isDrawn","isOwnParent","fromData","toData","creatCollection","checkColloction","fdata","temp1","currentValue","multiple","durationUnitLabels","updatePredecessors","updatePredecessorHelper","successorGanttRecord","connectorsCollection","connectorCount","connector","predecessorCollection","traverseParents","totLength","validatePredecessorDates","validateRecord","updateChildItems","recordId","updateParentPredecessor","enablePredecessorValidation","parentGanttRecord","currentTaskId_1","previousIds","validateManualTasksOnLinking","validateChildGanttRecord","editedTaskBarItem","childRecordProperty","currentTaskId_2","childPredecessor","getPredecessorDate","maxStartDate","validatedPredecessor","getRecord","getValidatedStartDate","ganttProperty","parentRecordProperty","returnStartDate","updateDateByOffset","resultDate","ganttRecords","deletedTaskDetails","addPredecessorsCollection","predecessorsLength","predecessorCount","updateConnectorLineObject","connectorObj","createConnectorLineObject","isCritical","connectorLineId","validatePredecessor","previousValue","validationOn","taskBarModule","successor","currentTaskId_3","successors","isValidationEnabled","isValidatedParentTaskID","rootParent","ganttProp_1","childRec","updateOffsetOnTaskbarEdit","isFirstCall","taskIdsForView","JSON","parse","stringify","idAsString","concat","validUpdate","validatedChildItems","previousData","previousRecords","calcEndDate","isRightMove","durationDiff","currentStartDate","getUpdatableChildRecords","calculateDateByRoundOffDuration","childLists","getValidPredecessor","validPredecessor","recPredecessor","ConnectorLine","connectorLinePath","arrowPath","taskLineValue","cls.dependencyViewContainer","pointerEvents","renderer","SvgRenderer","createSvg","getconnectorLineGap","milestoneChild","lineColor","connectorLineBackground","lineStroke","connectorLineWidth","createConnectorLineTooltipTable","getTaskbarMidpoint","parentGanttData","childGanttData","parentIndex","childIndex","parentIndexInCurrentView","childIndexInCurrentView","parentLeft","childLeft","childWidth","childId","milestoneParent","parentEndPoint","childEndPoint","connectorLinesCollection","connectorLine","ariaConnector","getConnectorLineTemplate","innerChild","ariaString","insertBefore","lastChild","getParentPosition","getHeightValue","getInnerElementWidthSSType2","getInnerElementLeftSSType2","getInnerChildWidthSSType2","calculateAdjustments","adjustY1","adjustX","adjustY2","adjustZ","setInnerChildWidthSSType2","setInnerElementWidthSSType2","setInnerElementLeftSSType2","isMilestoneParent","isVirtual","getPosition","rowPositionHeight","isMilestoneValue","modifiedValue","heightValue","borderTopWidth","addTop","parentOverlapTopValue","childOverlapTopValue","fromRecordIsParent","toRecordIsParent","fromRecordIsManual","toRecordIsManual","rowHeight1","adjustments","connectorId","groupObject","createGroup","class","connectorPath","drawPath","fill","stroke-width","arrowlinePath","x1","x2","y1","y2","x3","x4","y3","y4","point1","adjustedX","point2","arrowX","topPosition","lineHeight","midPointParent","midPoint","isParentIndex","isChildIndex","lastRowIndex","tooltipTable","cellpadding","tooltipBody","getConnectorLineTooltipInnerTd","fromTaskName","fromPredecessorText","toTaskName","toPredecessorText","innerTd","fromName","toName","finish","isObjectType","isObject","pre","lineId","removeConnectorLineById","Splitter","isSplitterResized","renderSplitter","splitterPosition","calculateSplitterPosition","splitterSettings","splitterElement","splitterObject","SplitterLayout","ganttWidth","separatorSize","paneSettings","resizable","size","getSpliterPositionInPercentage","minimum","orientation","resizeStart","leftPane","pane","rightPane","splitterPreviousPositionGrid","splitterPreviousPositionChart","callBackPromise","Deferred","resizeStartArgs","resolve","resizing","resizeStop","splitterResizedArgs","splitterLeftPane","ariaValueNow","splitter","view","columnIndex","getTotalColumnWidthByIndex","widthAsString","intValue","updateSplitterPosition","triggerCustomResizedEvent","pane1","pane2","separator","paneSize","Tooltip","createTooltip","toolTipObj","TooltipComponent","openDelay","animation","open","effect","delay","afterOpen","updateTooltipPosition","showTipPointer","beforeRender","tooltipBeforeRender","afterClose","tooltipCloseHandler","isStringTemplate","argsData","getTooltipContent","tooltipSettings","taskbar","taskbarTemplateNode","tooltipTemplate","baseLineTemplateNode","baseline","baselineTemplate","dependencyLineTemplateNode","predecessorTooltipData","callBackPromise_1","argData","currentTarget","tooltipMouseEvent","parentWithZoomStyle","postion","getPointorPosition","containerPosition","topEnd","leftEnd","tooltipPositionX","tooltipPositionY","y","innerHeight","posX","posY","documentElement","elementType","taskNameValue","milestoneStartDate","sDateValue","sDate_1","startDateValue","endDateValue","progressValue","startDate_1","endDate_1","duration_1","progress_1","baselineStartDateValue_1","baselineEndDateValue_1","markerTooltipElement","markerTooltipElementValue_1","markerLabel_1","fromNameValue_1","fromIdValue_1","toNameValue_1","toIdValue_1","toId","linkTextValue_1","linkText","offsetStringValue_1","offsetString","titleValue_1","timlineTitleValue_1","autoStartDateValue","autoEndDateValue","durationUnitValue","manualStartDateValue","manualEndDateValue","autoStartDate_1","autoEndDate_1","durationValue_1","manualStartDate_1","manualEndDate_1","autoStartValue","autoEndValue","dateValue","autoStart_1","autoEnd_1","date_1","markerTooltipId","predeceesorParent","fromTask","toTask","linkType","getPredecessorTextValue","propName","tooltipFunction","templateID","FocusModule","activeElement","previousActiveElement","getActiveElement","isPreviousActiveElement","onKeyPress","ele","focussedElement","sortModule","hidePopUp","getCellSelectedRecords","currentSelectingRecord","searchElement","upDownKeyNavigate","HTMLElement","expandCollapseKey","textValue","tempValue","dialogObj","stopPropagation","addRecord","newRowPosition","allowAdding","openAddDialog","openToolbarEditDialog","touchEdit","getSelectedRowCellIndexes","startDeleteAction","selectedId","selectCellIndex","scrollToTask","top_1","undo","redo","ganttRow","firstRowIndex","selectRowsByRange","keyEvent","selectingRowIndex","selectedCellItem","currentCellIndex","cellIndexes","cellInfo","selectCell","selectedRowIndex_1","expandByIndex","collapseByIndex","Gantt","isRowSelected","singleTier","triggeredColumnName","totalUndoAction","isExpandPerformed","oldRecords","updateDuration","isConvertedMilestone","isOnAdded","isFromEventMarker","isConnectorLineUpdate","staticSelectedRowIndex","needsID","eventMarkerColloction","mergePersistGanttData","getModuleName","preRender","getCurrentDayStartTime","getCurrentDayEndTime","getStartTime","getEndTime","endTime","getNonWorkingRange","nonWorkingTimeRange","sundayNonWorkingTimeRanges","mondayNonWorkingTimeRanges","tuesdayNonWorkingTimeRanges","wednesdayNonWorkingTimeRanges","thursdayNonWorkingTimeRanges","fridayNonWorkingTimeRanges","saturdayNonWorkingTimeRanges","getWorkingRange","sundayWorkingTimeRanges","mondayWorkingTimeRanges","tuesdayWorkingTimeRanges","wednesdayWorkingTimeRanges","thursdayWorkingTimeRanges","fridayWorkingTimeRanges","saturdayWorkingTimeRanges","sundaySeconds","mondaySeconds","tuesdaySeconds","wednesdaySeconds","thursdaySeconds","fridaySeconds","saturdaySeconds","Internationalization","isDevice","UpdateOffsetOnTaskbarEdit","L10n","getDefaultLocale","mondayNonWorkingHours","tuesdayNonWorkingHours","wednesdayNonWorkingHours","thursdayNonWorkingHours","fridayNonWorkingHours","saturdayNonWorkingHours","sundayNonWorkingHours","durationUnitTexts","days","hours","minutes","isMileStoneEdited","validationDialogElement","currentEditedArgs","dialogValidateMode","respectLink","removeLink","preserveLinkWithEditing","splitterModule","keyConfig","home","saveRequest","escape","addRow","addRowDialog","editRowDialog","focusTask","indentLevel","outdentLevel","focusSearch","selectAll","resourceFieldsMapping","isUndoRedoItemPresent","undoRedoActions","dateFormat","getDatePattern","skeleton","getDefaultTZOffset","janMonth","julMonth","resourceNameMapping","validateDimentionValue","calculateDimensions","settingsHeight","settingsWidth","elementStyleHeight","elementStyleWidth","render","isVue","vueInstance","createSpinner","renderToolbar","actionFailures","clear","checkModule","moduleName","settings","injectedModules","failureCases","modules","lettersRegex","allPropertiesNull","isPrimary","markers","allowDeleting","showDeleteConfirmDialog","allowExcelExport","dragAndDrop","enableUndoRedo","dayMarkers","highlightWeekends","enableContextMenu","allowPdfExport","failureEventArgs_1","err","isTablePresent","contentMaskTable","maskTable","headerMaskTable","ganttHeader","scrollLeftValue","ganttContent","renderBackGround","createMaskTable","renderHeaderBackground","backgroundLines","containerWidth","getBoundingClientRect","firstChild","shimmerContainerHeight","header","createEmptyTimeLineTable","removeProperty","createEmptyMaskTable","timelineHeight","tbody","duplicateRow","topBottomHeader","applyTimelineMaskRow","maskRow","maskCells","maskCell","innerMaskCells","htmlInner","columnLoop","applyMaskRow","renderChartVerticalLines","removeCriticalPathStyles","ganttChartElement","KeyboardEvents","keyActionHandler","eventName","windowResize","keyDownHandler","unwireEvents","altKey","keyCode","updateRowHeightInConnectorLine","updateContainerHeight","firstMenuItem","columnMenuModule","updateCurrentViewData","getRecordFromFlatdata","updatedRecord","_WeekStartDay","updateTimescaleView","displayHalfValue","displayQuarterValue","updateTreeColumns","gridColumns","getColumns","gridColumn","isUndefined","scrollContainer","searchString","properties","matchedObject","treeColumn","timelineContainer_1","createGanttPopUpElement","renderComplete","getCurrentRecords","showCriticalPath","onPropertyChanged","newProp","oldProp","isRefresh","refreshColumns","module","getActualProperties","renderChartGridLines","enableToggle","updateSearchTextBox","processDialogFields","reUpdateDimention","reUpdateEditModules","selectRowByIndex","closeGanttActions","enable","contextMenuItems","updateOverAllocationCotainer","refresh","getPersistData","keyEntity","ignoreOnPersist","ignoreOnColumn","currentObject","ignoreInArrays","addOnPersist","ignoreInColumn","nonworkingContainer","resetTemplates","requiredModules","member","sortColumn","isMultiSort","mergeColumns","storedColumn","setFrozenCount","splitFrozenCount","isFrozenGrid","clearSorting","verticalLines","chartRowsTD","getContentHeight","currentProp","getHeaderContent","headerTable","thElements","thLength","leftPos","containerDiv","divElement","emptyRecord","criticalPath","changeScheduleMode","subTasksStartDate","subTasksEndDate","scheduleStartDate","scheduleEndDate","auto","resourceID","generalTab","customTab","writeNotes","addDialogTitle","editDialogTitle","update","search","zoomIn","zoomOut","zoomToFit","excelExport","csvExport","pdfExport","nextTimeSpan","prevTimeSpan","saveButton","taskBeforePredecessorFS","taskAfterPredecessorFS","taskBeforePredecessorSS","taskAfterPredecessorSS","taskBeforePredecessorFF","taskAfterPredecessorFF","taskBeforePredecessorSF","taskAfterPredecessorSF","okText","confirmDelete","taskLink","lag","enterValue","taskInformation","deleteTask","deleteDependency","save","above","below","toMilestone","leftTaskLabel","rightTaskLabel","confirmPredecessorDelete","unassignedTask","indent","outdent","removeSortColumn","actionBeginTask","scrollToDate","updateChartScrollOffset","parent_1","get","parent_2","filterOperator","filterValue","predicate","matchCase","ignoreAccent","excelExportProperties","isMultipleExport","workbook","isBlob","excelExportModule","pdfExportProperties","pdfDoc","export","clearFiltering","removeFilteredColsByField","isCustomManual","currentEditedRowData","nonWorkingDays","isDisabled","previousTimeSpan","timeSpan","browserZoomLevel","outerWidth","innerWidth","reorderColumns","fromFName","toFName","isStart","isTaskData","makeCloneData","task_1","currentAction","oldRecord","cloneData","prevValue","clonedValue","isObjectArray","closeEdit","hide","dialogClose","setSplitterPosition","tempSplitterSettings","contructExpandCollapseArgs","ind","expandByID","collapseByID","rowPosition","addRowPosition","addRowIndex","dropChildRecord","updateTaskId","currentId","newId","getRedoActions","clearUndoCollection","clearRedoCollection","getCriticalTasks","fitToProject","reorderRows","fromIndexes","toIndex","updateRecordByIndex","addPredecessor","predecessorString","removePredecessor","updatePredecessor","openEditDialog","gridRows","popup","keyVal","box","pageYOffset","pageXOffset","clientTop","clientLeft","updateDataSource","getGridColumns","getColumnByField","getGanttColumns","showColumn","showBy","showColumns","hideColumn","hideBy","hideColumns","cancelEdit","isToggle","selectCells","rowCellIndexes","deleteRecord","taskDetail","isEnable","updateDataArgs","customData","convertToMilestone","changeTaskMode","updateTaskScheduleModes","initiateUpdateAction","renderReactTemplates","clearTemplate","Event","NotifyPropertyChanges","Component","PdfHorizontalOverflowType","CellEdit","isResourceCellEdited","bindTreeGridProperties","cellEdit","ensureEditCell","Inject","Edit","readOnly","parentReference_1","openNotesEditor","isNOU","updatedEditFields","editedObj","editedArgs","editedValue","endEditAction","taskNameEdited","startDateEdited","endDateEdited","durationEdited","resourceEdited","progressEdited","baselineEdited","dependencyEdited","notedEdited","workEdited","taskmodeEdited","initiateSaveAction","typeEdited","updateEditedRecord","ganttProb","validateEndDateWithSegments","compareDatesFromRecord","revertCellEdit","updateResourceRelatedFields","durationString","currentDuration","updateSegmentProgress","baseLineStartDate","baseLineEndDate","editedResourceId","editedResouceLength","previousResource","editedResources","newIndex","previousResourceLength","isResourceUpdate","cellEditArgs","workValue","EditTooltip","taskbarEdit","opensOn","mouseTrail","windowCollision","offsetLeft","editing","scrollY","toolTipHeight","showHideTaskbarEditTooltip","bool","updateTooltip","connectorSecondAction","connectorSecondElement","taskBarEditElement","taskWidth","getTooltipText","offsetY","offsetX","tooltipString","instance","editRecord","templateNode","TaskbarEdit","previousLeftValue","isMouseDragged","dependencyCancel","isDragged","editElement","elementOffsetLeft","elementOffsetTop","elementOffsetWidth","elementOffsetHeight","currentItemTop","currentItemPrevTop","isClonedElement","updatePosition","tooltipValue","editTooltip","mouseDownHandler","mouseUpHandler","mouseLeaveHandler","mouseMoveAction","mouseClickHandler","connectorSecondRecord","highlightedSecondElement","finalPredecessor","drawPredecessor","roundOffDuration","dragMouseLeave","previousItemProperty","tapPointOnFocus","canDrag","getElementByPosition","updateTaskBarEditElement","enableSelectMultiTouch","validateConnectorPoint","taskBarEditingAction","showHideActivePredecessors","multipleSelectionEnabled","showHideTaskBarEditingElements","show","applyActiveColor","chartContent","$tr","$taskbar","$connectorElement","predecessorIndex","renderPredecessorDeleteConfirmDialog","cloneTaskBar","realTaskbarElement","getTaskBarAction","index_1","ganttprop","parentleft","resizeElement","setProperty","currentindex","resizeTable","resizetableBody","createTable","taskbarPosition","tableBody","cloneTaskbarElement","taskbarResizer","currentIndex","updateMouseDownProperties","prevZIndex","secondElement","fadeConnectorLine","isShowProgressResizer","isShowConnectorPoints","progressElement","cls.childProgressResizer","connectorElement","record_2","leftConnector","rightConnector","mouseDownElement","getCoordinate","zoom1","zoom","pageY","mouseDownX","mouseDownY","dragMoveY","isMouseDragCheck","mouseMoveX","mouseMoveY","previousItem","removeFirstBorder","canremove","removeLastBorder","islastRowIndex","isEmptyRow","removetopOrBottomBorder","border","addRemoveClasses","topOrBottomBorder","gridElement","removeChildBorder","borderElem","cells","len","addErrorElem","dragelem","paddingTop","removeErrorElem","errorelem","ensurePosition","draggedRecords","draggedRecord","ganttRowElement","currentElement","xValue","yValue","elementFromPoint","draggedTreeGridRowElement","draggedTreeGridRowHeight","chartRowElement_1","droppedTreeGridRowElement","tObj","rowTop","toolHeight","positionOffSet","firstElementChild","divide","topRowSegment","middleRowSegment","bottomRowSegment","posy","isTopSegment","isMiddleRowSegment","isBottomRowSegment","droppedTreeGridRecord","isMouseClick","editingFields","updateMouseMoveProperties","oldData","mainElement","resizeGripper","currentWidth","performProgressResize","enableLeftResizing","enableRightResizing","enableDragging","updateConnectorLineSecondProperties","triggerDependencyEvent","drawFalseLine","parentClientRect","coordinates","pos","reduceHeight","currentSegmentIndex","setItemPosition","updateEditedItem","taskBarEditedAction","isConnectorLineEdit","mouseX","mouseY","timerCount","startScrollTimer","stopScrollTimer","scrollTimer","setInterval","sign","timelineWidth","clearInterval","differenceWidth","previousMouseMove","previousSegment","nextSegment","validateProgressWidth","totalTaskWidth","startIndex","endIndex","diffrenceWidth","prevProgress","widthValue","progressBorderRadius","enableSplitTaskLeftResize","updateEditPosition","segment_1","segment_2","segment_3","updateIsMilestone","segmentWidth","updatedValues","getProgressPercent","getRoundOffStartLeft","getDateByLeft","updateSplitLeftResize","getRoundOffEndLeft","tempdate","updateSplitRightResizing","updateChildDrag","setSplitTaskDrag","segmentOffsetDuration","segmentOffset","segmentDate","isRoundOff","totalLeft","remainingContribution","remainingLeft","positionValue","inHour","inMinutes","remainDays","remainDaysInDecimal","rightResizer","segmentedTaskBarContainer","traceChildProgressBar","taskBarRightResizer","traceParentTaskBar","traceParentProgressBar","traceConnectorPointRight","segmentConnectorPointRight","manualParentTaskbar","resizeLine","segment_4","borderBottomRightRadius","borderTopRightRadius","width_1","progressElements","width_2","resizeValue","mouseDragged","cancelTaskbarEditActionInMouseLeave","resMouseY","taskbarEdited","reUpdatePreviousRecords","fixedWidth","totalProgressWidth","tempWidth","draggedRecIndex","flatRecordCol","droppedRecord","droppedTarget","droppedParentRecordIndex","draggedParentRecordIndex","fromIndex","dropIndex","dropPosition","dropRecord","droppedRecordIndex","updateParentProgress","segment_5","eDate_1","parentwidth","progresswidth","angle","atan2","PI","falseLine","transformOrigin","isRemoveConnectorPointDisplay","isBigger","zoomedPageY","fromItem","toItem","isValidLink","validatePredecessorRelation","predecessorArray","newPredecessorString","tooltipElement","e_1","changedTouches","DialogEdit","isFromDialogPredecessor","isTriggered","taskFieldColumn","customFieldColumn","processedId","updatedAddFields","dialogEditValidationFlag","isValidData","isResourceTabUpdated","beforeOpenArgs","types","getPredecessorType","editedRecord","inputs","booleanedit","CheckBox","dropdownedit","DropDownList","datepickeredit","DatePicker","datetimepickeredit","DateTimePicker","maskededit","MaskedTextBox","numericedit","NumericTextBox","stringedit","TextBox","defaultedit","dblClickHandler","editDialogFields","getDefaultDialogFields","validateDialogFields","addDialogFields","dialogFields","newDialogFields","emptyCustomColumn","fieldItem","getGeneralColumnFields","getCustomColumnFields","valueOf","composeAddRecord","isFromAddDialog","createDialog","getMinimumStartDate","minDate","getNewTaskId","gObj","selectedRowId","numericOrString","isFromEditDialog","dialogModel","dialogMaxWidth","animationSettings","isModal","allowDragging","showCloseIcon","X","Y","closeOnEscape","beforeClose","closedBy","nodeName","dialogElement","generalTabElement","tabObj","select","maxHeight","buttons","buttonModel","buttonClick","createTab","CustomformObj","formObj","storeValidTab","validate","storeDependencyTab","firstOccuringTab","dependencyTab","storeResourceTab","resourceTab","initiateDialogSave","resetValues","destroyDialogInnerElements","tabModel","destroyCustomField","inputElement","controlObj","getObject","getEditFields","tabElement","tabItems","dialogSettings","dialogField","tabItem","getFieldsModel","getSegmentsModel","getPredecessorModel","getResourcesModel","getNotesModel","renderTabItems","selected","tabSelectedEvent","overflowMode","Tab","Dialog","actionCompleteArgs","validationRules","changeFormObj","actionCompleteArg","storeColumn","getFilteredDialogFields","validateColumn","firstFieldType","customFieldColumns","taskFieldColumns","validationRulesArray","customColumn","createFormObj","taskColumn","targetArray","columnValue","form","rules","FormValidator","validationComplete","customPlacement","nameAttribute","valErrorPlacement","getElemTable","tooltipContent","errorMessage","existingTooltip","tooltipContainer","labelId","tooltipLabel","errorMessageElement","arrow","status","selectedContent","hasEditedBatchCell","hasEditedOrAddedRow","batchSave","isValidateColumn","responsiveTabContent","resourceSelection","enableToolbarItems","dialogContent","dialogContentHeight","toolbar_1","fieldsModel","createInputModel","common","floatLabelType","checkboxModel","change","validateScheduleFields","numeric","datePickerObj","strictMode","firstDayOfWeek","dateTimePickerObj","ID","Value","dropDownListObj","targetId","cellValue","strViewType","container","path","customFn","required","minLength","validateSegmentFields","validateScheduleValuesByCurrentField","updateScheduleFields","ganttField","ganttId","taskField","picker","numericTextBox","validateDuration","updatedStartDate","validateStartDate","validateEndDate","segmentInputModel","prefixIcon","tooltipText","align","datePickerModel","columnFields","inputTextModel","getGridColumnByField","updateSegmentField","inputValue","gridModel","selectedSegment","inputModel","foreignKeyField","foreignKeyValue","checkboxOnly","checkboxMode","toolbarSettings","createFormElement","createInputElement","isCustomTab","renderGeneralTab","disabled","renderPredecessorTab","renderResourceTab","renderCustomTab","renderNotesTab","renderSegmentsTab","segmentGridActionBegin","gridData","taskIdField_1","newId_1","getDialogTabIndex","tabName","indexValue","setInjected","allProperty","Grid","toolbarCollection","columnCollection","additionalParams","Filter","Sort","Page","Group","Aggregate","ColumnChooser","ColumnMenu","ContextMenu","Resize","Reorder","DetailRow","RowDD","Search","Selection","VirtualScroll","Print","PdfExport","ExcelExport","GridToolbar","itemName","preData","ForeignKey","columnCollections","updateColumns","gridObj","addFields","itemModel","getId","renderInputElements","templateFields","scriptElement","templateContent","isCheckIsDisabled","stringOrNumber","isParentValid","dependencyColumn","taskNameCollection","predecessorEditCollection","updatePredecessorDropDownData","predecessorLength","preTableCollection","gridActionComplete","gridActionBegin","ComboBox","idCollection","allowCustom","idInput","itemData","autofill","existingColumns","newColumns","columnMap","newColumn","isEdit_1","gridData_1","updateResourceCollection","resourceTreeGridId","resourceTreeGrid","tempRecords","selectedItems","rowResource","rowResourceLength","resourceDataLength","rowSelected","currentResources","rowDeselected","toolbars","TreeGridFilter","TreeGridSort","TreeGridPage","TreeGridEdit","TreeGridAggregate","TreeGridResize","TreeGridReorder","TreeGridRowDD","TreeGridSelection","TreeGridToolbar","isColumnMenu","treeGridObj","resourceColumn","RichTextEditor","Image","Table","EmojiPicker","FileManager","FormatPainter","RTEToolbar","MarkdownEditor","Link","HtmlEditor","QuickToolbar","Count","notesColumn","enabled","checked","inputObj","preTaskIds","currentFlatData","tempObject","preDataCollection","validSuccessorTasks","fromId_1","idIndex","isIdInclude","item_1","arraysMatch","typeText","indexes","id_1","rowItems_1","updateGeneralTab","updatePredecessorTab","updateNotesTab","updateResourceTab","updateCustomTab","updateSegmentsData","disableUndo","newRecords","parentRecordIndex","compareObjects","prevSegments","currentSegments","every","obj1","obj2","updateSegmentTaskData","segmentForm","generalForm","isCustom","tasksData","valueString","HTMLInputElement","updateScheduleProperties","validateUpdateValues","getMatchingPrefix","idArray","parts","preElement","newValues","splitString","name_1","resourceElement","notesElement","rte","getText","getHtml","customElement","ConnectorLineEdit","validationPredecessor","confirmPredecessorDialog","validatedId","validatedOffsetIds","isPublicDependencyDelete","initPredecessorValidationDialog","getConnectorLineHoverElement","highlightConnectorLineElements","isOnLine","isArrow","isCriticalLine","isCriticalArrow","connectorLineElement","removeHighlight","addHighlight","pathElement","getEditedConnectorLineString","lineArray","editedConnectorLineString","lineIndex","lineString","idFromPredecessor","preArray","preIdArray","strArray","predecessorValidation","visitedIdArray","state_1","currentIdArray","predecessorIdArray","flag","state_2","checkParentRelation","checkArray","countFlag","state_3","currentIdIndex","tempPredecessorString","stringValue","editingData","state_4","renderValidationDialog","validationDialog","validationDialogClose","validationDialogOkButton","validationDialogCancelButton","currentArgs","validateMode","applyPredecessorOption","checkChildRecords","updateEditedTask","editEventArgs","connectedTaskId_1","taskId_1","processPredecessors","compareArrays","arr1","arr2","record_1","calculateOffset","isIdInclude_1","removePredecessors","keys1","keys2","isRecursive","prevPredecessor","validPredecessor_1","cumulativePredecessorChanges","pred","isNegativeOffset","preIndex","parentPreIndex","validPredecessor_2","matchingObjects","objectToCompare","preLength","parentPredecessor","openValidationDialog","contentTemplate","validationDialogTemplate","topContentText","contentdiv","parenttaskData","violationType","recordName","recordNewStartDate","recordArgs","topContent","innerTable","validateTypes","violatedParent","ganttTaskData","violateType","endDateOlny","startDateOlny","addRemovePredecessor","prevData","newPredecessor","prevPredecessor_1","this_5","this_6","removePredecessorByIndex","confirmOkDeleteButton","confirmCloseDialog","confirmDialog","isFromDeleteMethod","targetedRecords","isNewRecordAdded","isValidatedEditedRecord","createArray","canReset","updateParentRecords","isaddtoBottom","taskbarMoved","predecessorUpdated","isBreakLoop","renderDeleteConfirmDialog","updateDefaultColumnEditors","customEditorColumns","updateIDColumnEditParams","updateProgessColumnEditParams","updateResourceColumnEditor","updateTaskTypeColumnEditor","editParam","decimals","validateDecimalOnType","showSpinButton","updateEditParams","getResourceEditor","editor","editObject","MultiSelect","CheckBoxSelection","showDropDownIcon","delimiterChar","getTaskTypeEditor","ganttPropByMapping","scheduleFieldNames","isScheduleValueUpdated","ganttPropKey","totDuration","sdate","edate","seg","validateScheduleValues","previousdata","fieldNames","validateScheduleByTwoValues","isTaskbarMoved","isMoved","prevStart","prevEnd","prevDuration","prevDurationUnit","isPredecessorUpdated","isCheckPredecessor","isValidatePredecessor","updateGanttProperties","updateData","childRecordIndex","validateObject","newArgs","validateTaskEvent","editedEventArgs","resetValidateArgs","validateChildPredecessors","updateParentChildRecord","updateParentItemOnEditing","childCount","milesStoneCount","resetEditProperties","isRefreshChart","isRefreshGrid","prevTask","originalData","copyTaskData","existing","newValue","updateScheduleDatesOnEditing","currentBaselineStart","currentBaselineEnd","currentProgress","unModifiedData","eventArg","ganttProps","updatedData","changedRecords","crud","dataAdaptor","batchUrl","saveChanges","dmSuccess","dmFailure","saveSuccess","updateEditedFields","eLength","_aLength","updateEditedRecordFields","deleteRecords","updateSharedTask","updateResoures","isTreeGridRefresh","updateRowIndex","prevResource","currentResource","updateRecord","flatRecords","currentLength","previousLength","prevResourceID","addNewRecord","record1","prevLength","taskID","removeChildRecord","checkWithUnassignedTask","unassignTaskObj","beforeEditStatus","cAddedRecord","addRecordAsBottom","recordIndex1","updateTreeGridUniqueID","addRecordAsChild","deletedRow","flatParentData","deleteChildRecords","uniqueIDIndex","deleteRecordIDs","removeFromDataSource","flatRecordIndex","idx","deletedRecordCount","getChildCount","childRecordsLength","spliceIndex","deletedIndexes","draggedParent","saveFailed","confirmDeleteOkButton","closeConfirmDialog","deleteSelectedItems","deleteResourceRecords","resourceParent","deleteRow","totalRecords","variableType","updateTargetedRecords","taskDetailArray","rowItems","deleteItems","canDeletePredecessor","removePredecessorOnDelete","delereArgs","deletedRecordCollection","updatedRecordCollection","initiateDeleteAction","toRecordPredcessor","updatePredecessorValues","fromRecordPredcessor","predcessorArray","cId","nId","cIndex","nIndex","thisRecord","currentGanttRecord","updatePredecessorOnUpdateId","removeData","dataCollection","modifiedRecord","updatedData_1","deletedRecords","query_1","deleteCrud","deleteSuccess","isUnassignedTask","isCollapsed","prevRecordIndex","flatIndex","treeGridParentIndex","dataIndex","refreshRecordInImmutableMode","updateUnAssignedResources_1","isDuplicate","newTaskId","prepareNewlyAddedData","newTaskIDmd","taskModel","updateNewlyAddedDataBeforeAjax","pIndex","backUpAndPushNewlyAddedRecord","addRowSelectedItem","newRecord","getVisibleChildRecordCount","updatePredecessorOnIndentOutdent","parentRecordTaskData","updatedPredecessor","predecessorCollections","prdcList","temppredecessorCollection","currentItemIndex","updatedCollectionIndex","recordCollectionUpdate","dataChildCount","newlyAddedRecordBackup","constructTaskAddedEventArgs","newTaskData","addSuccess","dragged","treeIndex","uniqueTaskID","originalIndex","renderModule","cellRender","cell","RowModifier","updateRealDataSource","addDataInRealDataSource","updateClientDataFromServer","serverReturnedValue","addedRecords","addNewUndoCollection","tempArray_1","addedRec","tempTaskID","cAddedRecord_1","validateTaskPosition","addData","addIndex","removeAddedRecord","_resetProperties","data_2","updatedData_2","prevID","idsIndex","updateNewRecord","data_3","canDelete","isPresent","id_2","refreshNewlyAddedRecord","createNewRecord","tempRecord","taskSettingsFields","AddRecord","rowCount","objCollection","undoRedoModule_1","handleResourceUpdate","targetData","flatRecordsIndex","currentViewDataIndex","getPrevRecordIndex","prevRecord","selectedRecord","indentOutdentRow","thisParent","actionArgs","actionArg","reArrangeRows","isByMethod","draggedRec","dragRecords","droppedRec","dLength","deleteDragRow","treeGridData","updateChildRecordLevel","updateChildRecord","dropMiddle","newParentIndex","refreshDataSource","refreshRecord","isDrag","queryValue","indentSuccess","indentFailure","indentOutdentSuccess","indx","proxy","rowPos","dragRecord","delRow","removeRecords","updateIndentedChildRecords","indentedRecord","createParentItem","recordLevel","levl","currentRec","flatParent","removeChildItem","gridIndx","recordIdx","childItem","columnDragStart","columnDrag","columnDrop","updateCustomFilters","initiateFiltering","updateModel","getCustomFilterUi","filterUI","getDurationFilter","getDateTimePickerFilter","getDatePickerFilter","dropDateInstance","timeValue","getCustomDateFormat","textBoxInstance","durationObj","intVal","dayVal","datePickerElement","dateTimePickerElement","filterAfterOpen","updateFilterMenuPosition","filterObj","filterValues","instanceObj","setPosition","li","ul","parentNodeTop","parentNodeLeft","gridPos","gridPosTop","gridPosLeft","isNonBodyTag","HTMLDocument","liPos","scrollX","getColumnHeaderByField","getFilterMenuPostion","TreeGrdSort","sortByColumn","isSelectionFromChart","isFromChart","multipleIndexes","openPopup","popUpClickHandler","rowSelecting","rowDeselecting","cellSelecting","cellSelected","cellDeselecting","cellDeselected","isCtrlPressed","isMultiCtrlRequest","isShiftPressed","isMultiShiftRequest","actualTarget","foreignKeyData","addRemoveClass","prevRowIndex","previousSelection","isInteracted","isContains","rowIndexes","cellselectingArgs","isPreventFocus","condition","selectedRow","preventFocus","selectedClass","selectedRows","selectedIndexes_1","cellDetails","cellSelectedRecords","getSelectedRows","highlightSelectedRows","fromChart","shiftKey","rIndex","addRowsToSelection","getselectedrowsIndex","request","persist","selectedRecordLen","removeAttribute","showPopup","setCssInGridPopUp","$popUpElemet","spanElement","elements","Toolbar","predefinedItems","propertyChanged","headerModule","offsetParent","preItems_1","itemStr","localeName","searchLocalText","createToolbar","addReactToolbarPortals","getItems","NavToolbar","clicked","toolbarClickHandler","cancelItem","updateItem","getSearchBarElement","showClearButton","wireEvent","textbox","onclick","keyUpHandler","focusHandler","blurHandler","unWireEvent","searchIndex","searchItem","toolbarItems_1","getItemObject","getItem","itemObject","gID","adaptiveSearchbar","disableItems","previousGanttRecord","toolbarDefaultItems","isResouceParent","hasData","isDeleteSelected","selectedRecordsCount","hideItem","items_1","NonWorkingDay","weekendWidthUpdated","createNonworkingContainer","getHolidaysElement","fromDate","toDate","viewportHeight","holidayDiv","spanTop","getWeekendElements","nonWorkingIndex","isFirstExecution","dubDate","sDateOffset","dubDateOffset","isHourTimeline","weekendDiv","updateHolidayLabelHeight","gantttable","labels","removeContainers","getEventMarkersElements","removeContainer","eventMarkerElement","rightArrow","eventMarkerCollection","DayMarkers","eventMarkerRender","refreshMarkers","updateHeight","CriticalPath","validatedids","resourceCollectionIds","criticalTasks","modelIds","dateDifference","checkBeyondEnddate_1","totalPredecessorsCollection","totalPredecessorsCollectionId","taskBeyondEnddate","predecessorTaskBeyondEnddate","collectionTaskId","fromDataObject","criticalPathIds","slack","currentRecords","endTask","toPredecessor","fromPredecessor","individualPredecessorLength","taskid","enddate","collectionLength","indexEnddate","z","fromdata","todateID","fromDataPredecessor","slackCalculation","finalCriticalPath","pathIndex","modelRecordIds","fromDateArray","fromTaskIdIndex","indexFromTaskId","indexToTaskId","totaskId","prevTaskEnddate","offsetInMillSec","ffslack","fromDateArray1","fromIdFlatData","toIdFlatData","getSlackDuration","updateCriticalTasks","resourceIndex","noSlackValue","toID","criticalData","taskClass","parentTaskbarElement","currentdata","checking","checkint","taskIdString","checkintString","UndoRedo","isUndoRedoPerformed","getRedoCollection","getUndoCollection","redoEnabled","previousSortedColumns","isFromUndoRedo","canUpdateIndex","sortedColumnsLength","undoAction","updateAction_1","previousActions","previousDetails","findPosition","columnsArray","fromColumn","toColumn","char","isShowDeleteConfirmDialog","deleteRec","redoAction","updateAction","createUndoCollection","undoRedoStepsCount","disableRedo","detail","recIndex","previousRecord","prevInd","parentDataIndex","existingRecord","isCntxtMenuDependencyDelete","headerContextMenuClick","headerContextMenuOpen","ganttID","TreeGridContextMenu","contextMenuClick","contextMenuOpen","resetItems","reRenderContextMenu","contextMenuItemClick","contextMenuBeforeOpen","Menu","getMenuItems","beforeOpen","onOpen","onClose","contextMenuOnClose","headerMenuItems","getKeyFromId","parentItem_1","resourceFieldId_1","matchingResource","mergeCall","splitTaskCall","currentClickedDate","getClickedDate","mergeSegmentIndexes","ganttElementPositionLeft","pageLeft","currentTaskDifference","clickedPosition","splitTaskDuration","contextMenuClickDate","menuElement","contentMenuItems","getLocale","updateItemStatus","hideItems","hideChildItems","revertItemStatus","editForm","subMenu","updateItemVisibility","createItemModel","cons.content","getPredecessorsItems","isSelect","isBottomTierMinute","isBottomTierHour","mergeItemVisiblity","menuItems_1","getDefaultItems","buildDefaultItems","iconCss","generateID","iconCSS","contentMenuItem","getIconCSS","menuClass","iconString","showItems","idPrefix","TreeGridExcel","beforeExcelExport","excelQueryCellInfo","excelHeaderQueryCellInfo","excelExportComplete","TreeGridColumnMenu","getColumnMenu","isTest","updateCollection","isSharedTask","canDrop","rowDragStart","rowDragStartHelper","rowDrag","rowDrop","errorVal","spanContent","ganttDragElement","dragElement","ganttTop","getClientRects","ganttLeft","dropRows","datas","dragLength","checkisSharedTask","previousParent","dropAtTop","spliceId","updatedParent","ganttData_1","uniqueTaskID_1","i_3","i_4","count_1","splittedName","validatedPredecessorNames","droppedParentItem","removeExistingResources","tempResourceInfo","updateCurrentTask","deleteSharedResourceTask","updateSharedResourceTask","toParent_1","isValidPredecessor","validateRecords","predName","toRec","dropRec","preParentRecord","_getExistingTaskWithID","existingTasks","removeResourceInfo","sameIdTasks","tempDataSource","ganttFields","droppedId","dragRec","sharedTask","childTasks","tempIndex","PdfGanttTheme","theme","ganttStyle","setTheme","enumerable","configurable","initStyles","columnHeader","fontSize","fontColor","PdfColor","gray","borderColor","lineAlignment","alignment","fontFamily","PdfFontFamily","Helvetica","footer","fontStyle","chartGridLineColor","taskColor","progressColor","criticalTaskColor","criticalProgressColor","baselineBorderColor","criticalConnectorLineColor","criticalTaskBorderColor","parentTaskColor","parentProgressColor","taskBorderColor","parentTaskBorderColor","connectorLineColor","progressFontColor","splitLineBackground","unscheduledTaskBarColor","manualParentBackground","manualParentProgress","manualChildBackground","manualChildProgress","manualLineColor","manualParentBorder","manualChildBorder","PdfStringFormat","TemporaryDictionary","mKeys","mValues","ReferenceError","RangeError","containsKey","PdfBorders","defaultBorderPenLeft","PdfPen","dashStyle","PdfDashStyle","Solid","defaultBorderPenRight","defaultBorderPenTop","defaultBorderPenBottom","leftPen","rightPen","topPen","bottomPen","PdfPaddings","bottom","hasLeftPad","hasRightPad","hasTopPad","hasBottomPad","leftPad","rightPad","bottomPad","topPad","PdfTreeGridStyleBase","PdfTreeGridStyle","cellSpacing","borderOverlapStyle","PdfBorderOverlapStyle","Overlap","allowHorizontalOverflow","horizontalOverflowType","LastPage","cellPadding","PdfTreeGridLayouter","baseFormat","columnRanges","repeatRowIndex","currentBounds","RectangleF","layoutInternal","param","Error","currentPage","page","currentPageBounds","getClientSize","currentGraphics","graphics","break","PdfLayoutBreakType","FitColumnsToPage","PointF","bounds","SizeF","treegrid","clientSize","getRow","getCell","borders","startLocation","measureColumnsWidth","determineColumnDrawRanges","layoutOnPage","startColumn","endColumn","cellWidths","availableWidth","isAutoFit","getColumn","subWidths","getFormat","layoutedPages","startPage","cellStartIndex","cellEndIndex","rowsCount","repeatRow","originalHeight","rowResult","drawRow","rowCollection","isFinish","allowRowBreakAcrossPages","getNextPageFormat","enableHeader","drawHeader","checkBounds","layout","PdfLayoutType","OnePage","paginateBounds","default","getLayoutResult","NextPage","reArrangePages","location","layoutPages","pages","section","nextPage","getPages","PdfTreeGridLayoutResult","checkIfDefaultFormat","defaultFormat","characterSpacing","clipPath","firstLineIndent","horizontalScalingFactor","lineLimit","lineSpacing","measureTrailingSpaces","noClip","paragraphIndent","rightToLeft","subSuperScript","wordSpacing","wordWrap","layoutResult","RowLayoutResult","rowBreakHeight","drawRowWithBreak","location_1","leftAdjustment","reCalculateHeight","isTreeColumn","cancelSpans","columnSpan","isCellMergeContinue","draw","rowOverflowIndex","treegridHeight","measureHeight","finishedDrawingCell","newHeight","remainingString","ElementLayouter","PdfLayoutResult","PdfTreeGridLayoutFormat","PdfLayoutFormat","PdfTreeGrid","treeGridSize","PdfTreeGridColumnCollection","PdfTreeGridRowCollection","headers","PdfTreeGridHeaderCollection","calculateTreeGridSize","arg1","arg2","arg3","arg4","drawHelper","layoutRectangle","widths","getDefaultWidths","rowLevel","colCount","rowWidth","initialWidth","getHeader","drawGrid","newBound","layouter","PdfLayoutElement","PdfTreeGridCell","cellHeight","rowSpan","measureWidth","PdfStringLayouter","font","PdfStandardFont","isParentRow","PdfFontStyle","Bold","MAX_VALUE","actualSize","slr","cancelSubsequentSpans","drawCellBackground","textBrush","PdfSolidBrush","innerLayoutArea","isHeaderCell","adjustContentLayoutArea","image","imageBounds","drawImage","customisedFont","fontStyles","newFont","customisedBrush","fontBrush","drawString","stringLayoutResult","PdfImage","PdfBitmap","PdfTextWebLink","drawCellBorder","backgroundBrush","drawRectangle","restore","returnBounds","padding","PdfTextAlignment","Center","Left","Right","Inside","isAll","p1","p2","pen","lineCap","PdfLineCap","Square","drawLine","PdfTreeGridCellCollection","treegridRow","tempcell","PdfTreeGridRow","treegridRowOverflowIndex","_isParentRow","intendLevel","pdfTreeGrid","treegridCells","treegridRowBreakHeight","row_1","PdfTreeGridColumn","columnWidth","_headerText","_field","stringFormat","internalColumns","subFactor","ExportHelper","totalColumnWidth","processToFit","chartsideWidth","gridWidth","processGridExport","props","exportValueFormatter","ExportValueFormatter","processHeaderContent","processGanttContent","processTaskbar","processPredecessor","isColumnVisible","processColumnHeader","pdfColumn","treeGridHeaderHeight","copyStyles","headerTextAlign","headerTemplate","pdfColumnHeaderQueryCellInfo","base64","includeHiddenColumn","renderEmptyGantt","processRecordRow","chartHeader","topTierHeight","bottomTierHeight","showPredecessorLines","lineWidth","processRecordCell","formatCellValue","pdfQueryCellInfo","getFontFamily","getFontStyle","dimension","hyperLink","displayText","setHyperLink","textLink","url","brush","unscheduledTaskBy","unscheduleStarteDate","unscheduleEndDate","isSpliterTask","isParentTask","reduceLeft","labelColor","manuallineColor","gridLineColor","labelTemplateStyle","taskStyle","pdfQueryTaskbarInfo","taskSegmentStyles","segmentTaskbar","leftImages","rightImage","baseCount","applyTemplate","source","getHorizontalAlignment","Justify","getVerticalAlignment","PdfVerticalAlignment","Bottom","Middle","Top","getFont","defaultFontFamily","TimesRoman","Regular","mergeCells","lastColIndex","all","initializePdf","tWidth","pageSettings","perColumnWidth","PdfPage","pdfPage","enableFooter","pageSize_1","getPageSize","pageSize","PdfPageTemplateElement","footerBrush","pageNumber","PdfPageNumberField","PdfPageCountField","compositeField","PdfCompositeField","headerProp","fromTop","drawPageTemplate","fromBottom","contents","drawText","drawPageNumber","src","pageTemplate","getBrushFromContent","textPenColor","penColor","hexToRgb","g","setContentFormat","documentHeader","textBrushColor","brushColor","numberStyle","getPageNumberStyle","pageNumberType","total","pageCount","points","getPenFromContent","penSize","getDashStyle","hex","bigint","hAlign","vAlign","culture","valueFormatter","ValueFormatter","internationalization","returnFormattedValue","getFormatFunction","isForeignKey","getForeignData","getNumberFormat","PdfGanttTaskbarCollection","endPage","GetNextPage","drawTaskbar","startPoint","cumulativeWidth","taskGraphics","isNextPage","endPoint","drawPageTimeline","drawLeftLabel","customizedFont","customizedFontBrush","customizedFontColor","taskLabelFont","taskLabelFontBrush","progressFormat","updatedWidth","isLabelString","pageIndex","baselinePen","baselineBrush","drawMilestone","taskbarPen_1","taskBrush_1","manualParentBorderPen","manualChildBorderPen","manualTaskbarPen","manualline","manuallineBrush","splitline","manualBrush","manualChildBrush","manualChildProgressBrush","manualProgressBrush","progressPen_1","progressBrush_1","adjustHeightforTaskbar","adjustHeightforBaseline","adjustHeight_1","isStartPoint","taskStartPoint","Dot","segmenttaskbarPen","segmenttaskBrush","imageWidth","PdfPath","addEllipse","translateTransform","path1","setTransparency","segmentprogressPen","segmentprogressBrush","drawUnscheduledTask","brush1","brush2","PdfLinearGradientBrush","isCompleted","renderWidth_1","splitRenderwidth_1","pervwidth_1","valueChangeBlocker_1","lineWidth_1","stringLeft","result_1","getWidth","lines","remainder","remainString","progressBoundsWidth","result_2","lineStartX","lineEndX","lineY","result_3","result_4","isCompletedBaseline","renderWidth","isCompletedAutotask","currendate","state","setClip","PdfBrushes","Black","drawRightLabel","getPdfFont","fontFamilyValue","fontStyleValue","drawRightLabelValue","previousWidthofRightImage","previousWidthofRightValue","drawRigthlabelImage","isLeftCalculated","actualLeft","adjustHeight","point","labelBounds","labelFormat","ganttStyle_1","labelBrush","lablePen","strSize","measureString","rightString","getWidthofrightLabel","labelBound","newFontBrush","drawLeftLabelValue","previousWidthofLeftImage","previousWidthofLeftValue","totalLeftWidth","totalstringWidth","drawLeftLabelImage","labelLeft","rightLabelpoint","rightLabelSize","rightLabelBounds","rightLabelFormat","leftLabelImage","leftLabelValue","getWidthofLeftLabel","isLeftImageExist","imageLength","result_5","result_6","PdfWordWrapType","Character","taskBrush","milestonePen","adjustHeightforBaselineMilesone","adjustHeightforMilesone","milestoneBrush","rotateTransform","height_1","PdfTimeline","holidayCompleted","fitHolidayCompleted","lastWidth","topTierPoint","bottomTierPoint","topTierIndex","bottomTierIndex","prevTopTierIndex","prevBottomTierIndex","drawTimeline","detailsTimeline","remainWidth","pHeader","isFinished","completedWidth","reWidth","triggerQueryTimelinecell","secondHeader","isTopTier","currentDate","timelineStyle","pdfQueryTimelineCellInfo","rectPen","rectBrush","timelinedate","holidayWidth","holidayLabel","changeDate","holidayNumberOfDays","fromDataHoliday","rectPen1","font1","fontHieght","holidayBrush","pLeft","pTop","PdfGanttPredecessor","pdfGantt","findindex","dataindex","parentPageData","childPageData","predecessorType","parentY","childY","pdfPageDetail","chartPageIndex","midPointManualparent","midPointforTaskbar","midPointforBaseline","point3","point4","point5","point6","parentTaskpoint","childTaskpoint","ffpoint1","sspoint1","ffpoint3","ffpoint4","sspoint4","connectLines","drawArrow","rect","findPageIndex","pageData","pageRect","pdfPages","newEndPoint","newStartPoint","checkStartPoint","startPointCheck","endPointCheck","pageRectLeft","pageRectRight","pageRectBottom","pageRectTop","pageStartX","predecessorPen","drawEventMarker","eventMarker","cumulativeHeight","eventLine","Dash","enventFormat","eventBrush","PdfGantt","changeCloneProjectDates","headerDetails","taskbars","drawChart","totalPages","perColumnPages","calculateRange","drawGantttChart","drawPageBorder","lastColumnRange","isPageFinished","pageWidth","headerWidth","startPageIndex","convertedWidth","sDays","eDays","sDays1","eDays1","startDays","endDays","startdate","secondsToAdd","startDays1","endDays1","startDays2","endDays2","startDays3","endDays3","taskbarPoint","pagePoint","pageStartPoint","timelimeHeight","pdfDocument","initGantt","ganttObject","Promise","reject","exportWithData","exportType","PdfDocument","processExport","promise","blobPromise","sections","processSectionExportProperties","pdfPageDimensions","FitElement","fileName","pdfPageSettings","PdfPageSettings","pageOrientation","PdfPageOrientation","Landscape","Portrait","setPageSettings","defaultGanttTheme","TreeGridVirtualScroll","translates","transformString","index.Filter","index.Selection","index.Sort","index.Reorder","index.Resize","index.Edit","index.DayMarkers","index.Toolbar","index.ContextMenu","index.ExcelExport","index.RowDD","index.ColumnMenu","index.PdfExport","index.VirtualScroll","index.CriticalPath","index.UndoRedo"],"mappings":"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"}